(function()
{
	// Adds mockup shapes
	Sidebar.prototype.addAWSPalette = function()
	{
		this.addAWSAnalyticsPalette();
		this.addAWSApplicationServicesPalette();
		this.addAWSComputePalette();
		this.addAWSDatabasePalette();
		this.addAWSDeveloperToolsPalette();
		this.addAWSEnterpriseApplicationsPalette();
		this.addAWSGameDevelopmentPalette();
		this.addAWSGeneralPalette();
		this.addAWSInternetOfThingsPalette();
		this.addAWSManagementToolsPalette();
		this.addAWSMobileServicesPalette();
		this.addAWSNetworkingPalette();
		this.addAWSOnDemandWorkforcePalette();
		this.addAWSSDKPalette();
		this.addAWSSecurityAndIdentityPalette();
		this.addAWSStorageAndContentDeliveryPalette();
		this.addAWSGroupPalette();
	};
	
	Sidebar.prototype.addAWSAnalyticsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.analytics';
		var dt = 'aws group amazon web service analytics';
		
		this.addPaletteFunctions('aws2Analytics', 'AWS / Analytics', false,
		[
		 this.createVertexTemplateEntry(s + 'analytics.data_pipeline;strokeColor=none;',
				 60, 72, '', 'Data Pipeline', null, null, this.getTagsForStencil(gn, 'data pipeline', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.elasticsearch;strokeColor=none;',
				 60, 72, '', 'ElasticSearch', null, null, this.getTagsForStencil(gn, 'elasticsearch', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.emr;strokeColor=none;',
				 60, 72, '', 'EMR', null, null, this.getTagsForStencil(gn, 'emr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_cluster;strokeColor=none;',
				 49, 55, '', 'EMR Cluster', null, null, this.getTagsForStencil(gn, 'emr cluster', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_engine;strokeColor=none;',
				 74, 53, '', 'EMR Engine', null, null, this.getTagsForStencil(gn, 'emr engine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_hdfs_cluster;strokeColor=none;',
				 54, 56, '', 'EMR HDFS Cluster', null, null, this.getTagsForStencil(gn, 'emr hdfs cluster', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_mapr_m3_engine;strokeColor=none;',
				 74, 53, '', 'EMR MapR M3 Engine', null, null, this.getTagsForStencil(gn, 'emr mapr m3 engine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_mapr_m5_engine;strokeColor=none;',
				 74, 53, '', 'EMR MapR M5 Engine', null, null, this.getTagsForStencil(gn, 'emr mapr m5 engine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.emr_mapr_m7_engine;strokeColor=none;',
				 74, 53, '', 'EMR MapR M7 Engine', null, null, this.getTagsForStencil(gn, 'emr mapr m7 engine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.kinesis;strokeColor=none;',
				 59, 72, '', 'Kinesis', null, null, this.getTagsForStencil(gn, 'kinesis', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.kinesis_analytics;strokeColor=none;',
				 66, 67, '', 'Kinesis Analytics', null, null, this.getTagsForStencil(gn, 'kinesis analytics', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.kinesis_enabledapp;strokeColor=none;',
				 58, 60, '', 'Kinesis EnabledApp', null, null, this.getTagsForStencil(gn, 'kinesis enabledapp enabled app', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.kinesis_firehose;strokeColor=none;',
				 53, 56, '', 'Kinesis Firehose', null, null, this.getTagsForStencil(gn, 'kinesis firehose', dt).join(' ')),

		 this.createVertexTemplateEntry(s + 'analytics.kinesis_streams;strokeColor=none;',
				 53, 56, '', 'Kinesis Streams', null, null, this.getTagsForStencil(gn, 'kinesis streams', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.machine_learning;strokeColor=none;',
				 60, 72, '', 'Machine Learning', null, null, this.getTagsForStencil(gn, 'machine learning', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'analytics.quicksight;strokeColor=none;',
				 60, 66, '', 'QuickSight', null, null, this.getTagsForStencil(gn, 'quicksight', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSApplicationServicesPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.applicationServices';
		var dt = 'aws group amazon web service application services';
		
		this.addPaletteFunctions('aws2Application Services', 'AWS / Application Services', false,
		[
		 this.createVertexTemplateEntry(s + 'app_services.api_gateway;strokeColor=none;',
				 60, 72, '', 'API Gateway', null, null, this.getTagsForStencil(gn, 'api gateway', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.appstream;strokeColor=none;',
				 59, 72, '', 'AppStream', null, null, this.getTagsForStencil(gn, 'appstream', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.cloudsearch;strokeColor=none;',
				 59, 72, '', 'CloudSearch', null, null, this.getTagsForStencil(gn, 'cloudsearch', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.cloudsearch_sdf_metadata;strokeColor=none;',
				 52, 56, '', 'CloudSearch SDF Metadata', null, null, this.getTagsForStencil(gn, 'cloudsearch sdf metadata', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.elastic_transcoder;strokeColor=none;',
				 59, 72, '', 'Elastic Transcoder', null, null, this.getTagsForStencil(gn, 'elastic transcoder', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.ses;strokeColor=none;',
				 61, 72, '', 'SES', null, null, this.getTagsForStencil(gn, 'ses', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.email;strokeColor=none;',
				 73, 54, '', 'SES Email', null, null, this.getTagsForStencil(gn, 'ses email', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.sqs;strokeColor=none;',
				 59, 72, '', 'SQS', null, null, this.getTagsForStencil(gn, 'sqs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.sqs_message;strokeColor=none;',
				 37, 42, '', 'SQS Message', null, null, this.getTagsForStencil(gn, 'sqs message', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.sqs_queue;strokeColor=none;',
				 65, 42, '', 'SQS Queue', null, null, this.getTagsForStencil(gn, 'sqs queue', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.swf;strokeColor=none;',
				 59, 72, '', 'SWF', null, null, this.getTagsForStencil(gn, 'swf', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.swf_decider;strokeColor=none;',
				 55, 57, '', 'SWF Decider', null, null, this.getTagsForStencil(gn, 'swf decider', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_services.swf_worker;strokeColor=none;',
				 53, 56, '', 'SWF Worker', null, null, this.getTagsForStencil(gn, 'swf worker', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSComputePalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.compute_and_networking.";
		var gn = 'mxgraph.aws.compute';
		var dt = 'aws group amazon web service compute';
		
		this.addPaletteFunctions('aws2Compute', 'AWS / Compute', false,
		[
		 this.createVertexTemplateEntry(s + 'auto_scaling;strokeColor=none;',
				 59, 57, '', 'Auto Scaling', null, null, this.getTagsForStencil(gn, 'auto scaling', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2;strokeColor=none;',
				 59, 72, '', 'EC2', null, null, this.getTagsForStencil(gn, 'ec2', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_ami;strokeColor=none;',
				 53, 56, '', 'EC2 AMI', null, null, this.getTagsForStencil(gn, 'ec2 ami', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_cloudwatch;strokeColor=none;',
				 53, 56, '', 'EC2 CloudWatch', null, null, this.getTagsForStencil(gn, 'ec2 cloudwatch', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_db_on_instance;strokeColor=none;',
				 52, 56, '', 'EC2 DB On Instance', null, null, this.getTagsForStencil(gn, 'ec2 db on instance database', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_elastic_ip;strokeColor=none;',
				 67, 22, '', 'EC2 Elastic IP', null, null, this.getTagsForStencil(gn, 'ec2 elastic ip', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_instance;strokeColor=none;',
				 52, 56, '', 'EC2 Instance', null, null, this.getTagsForStencil(gn, 'ec2 instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_instances;strokeColor=none;',
				 50, 57, '', 'EC2 Instances', null, null, this.getTagsForStencil(gn, 'ec2 instances', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_optimized_instance;strokeColor=none;',
				 53, 56, '', 'EC2 Optimized Instance', null, null, this.getTagsForStencil(gn, 'ec2 optimized instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_spot_instance;strokeColor=none;',
				 53, 57, '', 'EC2 Spot Instance', null, null, this.getTagsForStencil(gn, 'ec2 spot instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_container_registry;strokeColor=none;',
				 61, 63, '', 'EC2 Container Registry', null, null, this.getTagsForStencil(gn, 'ec2 container registry', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ec2_container_service;strokeColor=none;',
				 61, 63, '', 'EC2 Container Service', null, null, this.getTagsForStencil(gn, 'ec2 container service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'elastic_beanstalk;strokeColor=none;',
				 59, 82, '', 'Elastic Beanstalk', null, null, this.getTagsForStencil(gn, 'elastic beanstalk', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'elastic_beanstalk_application;strokeColor=none;',
				 31, 57, '', 'Elastic Beanstalk Application', null, null, this.getTagsForStencil(gn, 'elastic beanstalk application', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'elastic_beanstalk_deployment;strokeColor=none;',
				 50, 66, '', 'Elastic Beanstalk Deployment', null, null, this.getTagsForStencil(gn, 'elastic beanstalk deployment', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'elastic_load_balancing_2;strokeColor=none;',
				 56, 58, '', 'Elastic Load Balancing', null, null, this.getTagsForStencil(gn, 'elastic load balancing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'lambda;strokeColor=none;',
				 59, 72, '', 'Lambda', null, null, this.getTagsForStencil(gn, 'lambda', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSDatabasePalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.database';
		var dt = 'aws group amazon web service database';
		
		this.addPaletteFunctions('aws2Database', 'AWS / Database', false,
		[
		 this.createVertexTemplateEntry(s + 'database.database_migration_service;strokeColor=none;',
				 64, 72, '', 'Database Migration Service', null, null, this.getTagsForStencil(gn, 'database migration service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb;strokeColor=none;',
				 59, 72, '', 'DynamoDB', null, null, this.getTagsForStencil(gn, 'dynamodb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_attribute;strokeColor=none;',
				 54, 56, '', 'DynamoDB Attribute', null, null, this.getTagsForStencil(gn, 'dynamodb attribute', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_attributes;strokeColor=none;',
				 52, 56, '', 'DynamoDB Attributes', null, null, this.getTagsForStencil(gn, 'dynamodb attributes', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_global_secondary_indexes;strokeColor=none;',
				 53, 56, '', 'DynamoDB Global Secondary Index', null, null, this.getTagsForStencil(gn, 'dynamodb global secondary indexes', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_item;strokeColor=none;',
				 55, 56, '', 'DynamoDB Item', null, null, this.getTagsForStencil(gn, 'dynamodb item', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_items;strokeColor=none;',
				 52, 57, '', 'DynamoDB Items', null, null, this.getTagsForStencil(gn, 'dynamodb items', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.dynamodb_table;strokeColor=none;',
				 60, 56, '', 'DynamoDB Table', null, null, this.getTagsForStencil(gn, 'dynamodb table', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.elasticcache_memcache;strokeColor=none;',
				 52, 55, '', 'ElasticCache MemCache', null, null, this.getTagsForStencil(gn, 'elasticcache memcache', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.elasticcache;strokeColor=none;',
				 59, 72, '', 'ElasticCache', null, null, this.getTagsForStencil(gn, 'elasticcache', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.elasticcache_node;strokeColor=none;',
				 52, 55, '', 'ElasticCache Node', null, null, this.getTagsForStencil(gn, 'elasticcache node', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.elasticcache_redis;strokeColor=none;',
				 52, 55, '', 'ElasticCache Redis', null, null, this.getTagsForStencil(gn, 'elasticcache redis', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds;strokeColor=none;',
				 63, 72, '', 'RDS', null, null, this.getTagsForStencil(gn, 'rds', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_db_instance;strokeColor=none;',
				 43, 56, '', 'RDS DB Instance', null, null, this.getTagsForStencil(gn, 'rds db instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_instance_read_replica;strokeColor=none;',
				 43, 56, '', 'RDS Instance Read Replica', null, null, this.getTagsForStencil(gn, 'rds instance read replica', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_instance_standby;strokeColor=none;',
				 43, 56, '', 'RDS Instance Standby', null, null, this.getTagsForStencil(gn, 'rds instance standby', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_ms_sql_instance;strokeColor=none;',
				 52, 55, '', 'RDS MS SQL Instance', null, null, this.getTagsForStencil(gn, 'rds ms sql instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_ms_sql_instance_2;strokeColor=none;',
				 52, 56, '', 'RDS MS SQL Instance', null, null, this.getTagsForStencil(gn, 'rds ms sql instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_mysql_db_instance;strokeColor=none;',
				 52, 55, '', 'RDS MySQL Instance', null, null, this.getTagsForStencil(gn, 'rds mysql db instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_mysql_db_instance_2;strokeColor=none;',
				 52, 56, '', 'RDS MySQL Instance', null, null, this.getTagsForStencil(gn, 'rds mysql db instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_oracle_db_instance;strokeColor=none;',
				 52, 55, '', 'RDS Oracle Instance', null, null, this.getTagsForStencil(gn, 'rds oracle db instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_oracle_db_instance_2;strokeColor=none;',
				 52, 56, '', 'RDS Oracle Instance', null, null, this.getTagsForStencil(gn, 'rds oracle db instance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_replica_sets_with_piop;strokeColor=none;',
				 53, 55, '', 'RDS PIOP', null, null, this.getTagsForStencil(gn, 'rds piop', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_postgresql;strokeColor=none;',
				 52, 55, '', 'RDS PostgreSQL', null, null, this.getTagsForStencil(gn, 'rds postgresql', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_mastersql;strokeColor=none;',
				 52, 56, '', 'RDS SQL Master', null, null, this.getTagsForStencil(gn, 'rds sql master', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.rds_slavesql;strokeColor=none;',
				 52, 56, '', 'RDS SQL Slave', null, null, this.getTagsForStencil(gn, 'rds sql slave', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.redshift;strokeColor=none;',
				 60, 66, '', 'Redshift', null, null, this.getTagsForStencil(gn, 'redshift', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.redshift_dense_compute_node;strokeColor=none;',
				 49, 55, '', 'Redshift Dense Compute Node', null, null, this.getTagsForStencil(gn, 'redshift dense compute node', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'database.redshift_dense_storage_node;strokeColor=none;',
				 49, 55, '', 'Redshift Dense Storage Node', null, null, this.getTagsForStencil(gn, 'redshift dense storage node', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSDeveloperToolsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.developerTools';
		var dt = 'aws group amazon web service developer tools';
		
		this.addPaletteFunctions('aws2Developer Tools', 'AWS / Developer Tools', false,
		[
		 this.createVertexTemplateEntry(s + 'developer_tools.code_commit;strokeColor=none;',
				 68, 82, '', 'Code Commit', null, null, this.getTagsForStencil(gn, 'code commit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.codedeploy;strokeColor=none;',
				 59, 72, '', 'Code Deploy', null, null, this.getTagsForStencil(gn, 'codedeploy', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'developer_tools.code_pipeline;strokeColor=none;',
				 60, 72, '', 'Code Pipeline', null, null, this.getTagsForStencil(gn, 'code pipeline', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSEnterpriseApplicationsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.enterpriseApplications';
		var dt = 'aws group amazon web service enterprise applications';
		
		this.addPaletteFunctions('aws2Enterprise Applications', 'AWS / Enterprise Applications', false,
		[
		 this.createVertexTemplateEntry(s + 'enterprise_applications.workdocs;strokeColor=none;',
				 74, 85, '', 'WorkDocs', null, null, this.getTagsForStencil(gn, 'workdocs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'enterprise_applications.workmail;strokeColor=none;',
				 74, 85, '', 'WorkMail', null, null, this.getTagsForStencil(gn, 'workmail', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'enterprise_applications.workspaces;strokeColor=none;',
				 74, 85, '', 'WorkSpaces', null, null, this.getTagsForStencil(gn, 'workspaces', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSGameDevelopmentPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.gameDevelopment';
		var dt = 'aws amazon web service game development';
		
		this.addPaletteFunctions('aws2Game Development', 'AWS / Game Development', false,
		[
		 this.createVertexTemplateEntry(s + 'game_development.gamelift;strokeColor=none;',
				 62, 75, '', 'GameLift', null, null, this.getTagsForStencil(gn, 'game lift', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSGeneralPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.general';
		var dt = 'aws amazon web service general';
		
		this.addPaletteFunctions('aws2General', 'AWS / General', false,
		[
		 this.createVertexTemplateEntry(s + 'non-service_specific.client;strokeColor=none;',
				 57, 57, '', 'Client', null, null, this.getTagsForStencil(gn, 'client', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.cloud;strokeColor=none;',
				 70, 46, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.corporate_data_center;strokeColor=none;',
				 42, 57, '', 'Corporate Data Center', null, null, this.getTagsForStencil(gn, 'corporate data center', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.disk;strokeColor=none;',
				 57, 57, '', 'Disk', null, null, this.getTagsForStencil(gn, 'disk', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.forums;strokeColor=none;',
				 76, 73, '', 'Forums', null, null, this.getTagsForStencil(gn, 'forums', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.generic_database;strokeColor=none;',
				 44, 57, '', 'Generic Database', null, null, this.getTagsForStencil(gn, 'generic database', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.internet;strokeColor=none;',
				 70, 46, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.management_console;strokeColor=none;',
				 57, 57, '', 'Management Console', null, null, this.getTagsForStencil(gn, 'management console', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.mobile_client;strokeColor=none;',
				 37, 57, '', 'Mobile Client', null, null, this.getTagsForStencil(gn, 'mobile client', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.multimedia;strokeColor=none;',
				 59, 57, '', 'Multimedia', null, null, this.getTagsForStencil(gn, 'multimedia', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.tape_storage;strokeColor=none;',
				 68, 38, '', 'Tape Storage', null, null, this.getTagsForStencil(gn, 'tape storage', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.traditional_server;strokeColor=none;',
				 41, 56, '', 'Traditional Server', null, null, this.getTagsForStencil(gn, 'traditional server', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.user;strokeColor=none;',
				 41, 56, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.users;strokeColor=none;',
				 58, 56, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'non-service_specific.virtual_private_cloud;strokeColor=none;',
				 70, 46, '', 'Virtual Private Cloud', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSInternetOfThingsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.internet_of_things.";
		var gn = 'mxgraph.aws.internetOfThings';
		var dt = 'aws group amazon web service internet of things iot';
		
		this.addPaletteFunctions('aws2Internet of Things', 'AWS / Internet of Things', false,
		[
		 this.createVertexTemplateEntry(s + 'action;strokeColor=none;',
				 55, 57, '', 'Action', null, null, this.getTagsForStencil(gn, 'action', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'actuator;strokeColor=none;',
				 68, 80, '', 'Actuator', null, null, this.getTagsForStencil(gn, 'actuator', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aws-iot;strokeColor=none;',
				 60, 72, '', 'AWS IOT', null, null, this.getTagsForStencil(gn, 'aws iot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bank;strokeColor=none;',
				 71, 71, '', 'Bank', null, null, this.getTagsForStencil(gn, 'bank', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bicycle;strokeColor=none;',
				 71, 71, '', 'Bicycle', null, null, this.getTagsForStencil(gn, 'bicycle', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'camera;strokeColor=none;',
				 71, 71, '', 'Camera', null, null, this.getTagsForStencil(gn, 'camera', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'car;strokeColor=none;',
				 71, 71, '', 'Car', null, null, this.getTagsForStencil(gn, 'car', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'cart;strokeColor=none;',
				 71, 71, '', 'Cart', null, null, this.getTagsForStencil(gn, 'cart', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'certificate;strokeColor=none;',
				 56, 77, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'coffee_pot;strokeColor=none;',
				 71, 71, '', 'Coffee Pot', null, null, this.getTagsForStencil(gn, 'coffee pot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'desired_state;strokeColor=none;',
				 53, 57, '', 'Desired State', null, null, this.getTagsForStencil(gn, 'desired_state', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'door_lock;strokeColor=none;',
				 71, 71, '', 'Door Lock', null, null, this.getTagsForStencil(gn, 'door lock', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'factory;strokeColor=none;',
				 71, 71, '', 'Factory', null, null, this.getTagsForStencil(gn, 'factory', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'generic_iot_thing;strokeColor=none;',
				 71, 71, '', 'Generic IOT Thing', null, null, this.getTagsForStencil(gn, 'generic iot thing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'hardware_board;strokeColor=none;',
				 75, 87, '', 'Hardware Board', null, null, this.getTagsForStencil(gn, 'hardware_board', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'house;strokeColor=none;',
				 71, 71, '', 'House', null, null, this.getTagsForStencil(gn, 'house', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'http_protocol;strokeColor=none;',
				 56, 59, '', 'HTTP Protocol', null, null, this.getTagsForStencil(gn, 'http protocol', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'http2_protocol;strokeColor=none;',
				 56, 59, '', 'HTTP2 Protocol', null, null, this.getTagsForStencil(gn, 'http2 protocol', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'lightbulb;strokeColor=none;',
				 71, 71, '', 'Lightbulb', null, null, this.getTagsForStencil(gn, 'lightbulb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'medical_emergency;strokeColor=none;',
				 71, 71, '', 'Medical Emergency', null, null, this.getTagsForStencil(gn, 'medical_emergency', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mqtt_protocol;strokeColor=none;',
				 56, 59, '', 'MQTT Protocol', null, null, this.getTagsForStencil(gn, 'mqtt protocol', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'police_emergency;strokeColor=none;',
				 71, 71, '', 'Police Emergency', null, null, this.getTagsForStencil(gn, 'police_emergency', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'policy;strokeColor=none;',
				 49, 79, '', 'Policy', null, null, this.getTagsForStencil(gn, 'policy', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'reported_state;strokeColor=none;',
				 53, 57, '', 'Reported State', null, null, this.getTagsForStencil(gn, 'reported_state', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'rule;strokeColor=none;',
				 44, 87, '', 'Rule', null, null, this.getTagsForStencil(gn, 'rule', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sensor;strokeColor=none;',
				 68, 80, '', 'Sensor', null, null, this.getTagsForStencil(gn, 'sensor', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'servo;strokeColor=none;',
				 75, 53, '', 'Servo', null, null, this.getTagsForStencil(gn, 'servo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'shadow;strokeColor=none;',
				 75, 80, '', 'Shadow', null, null, this.getTagsForStencil(gn, 'shadow', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'simulator;strokeColor=none;',
				 67, 70, '', 'Simulator', null, null, this.getTagsForStencil(gn, 'simulator', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'thermostat;strokeColor=none;',
				 71, 71, '', 'Thermostat', null, null, this.getTagsForStencil(gn, 'thermostat', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'topic;strokeColor=none;',
				 44, 59, '', 'Topic', null, null, this.getTagsForStencil(gn, 'topic', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'travel;strokeColor=none;',
				 71, 71, '', 'Travel', null, null, this.getTagsForStencil(gn, 'travel', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'utility;strokeColor=none;',
				 71, 71, '', 'Utility', null, null, this.getTagsForStencil(gn, 'utility', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'windfarm;strokeColor=none;',
				 71, 71, '', 'Windfarm', null, null, this.getTagsForStencil(gn, 'windfarm', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSManagementToolsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.managementTools';
		var dt = 'aws group amazon web service management tools';
		
		this.addPaletteFunctions('aws2Management Tools', 'AWS / Management Tools', false,
		[
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudformation;strokeColor=none;',
				 59, 72, '', 'CloudFormation', null, null, this.getTagsForStencil(gn, 'cloudformation', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudformation_stack;strokeColor=none;',
				 64, 49, '', 'CloudFormation Stack', null, null, this.getTagsForStencil(gn, 'cloudformation stack', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudformation_template;strokeColor=none;',
				 48, 56, '', 'CloudFormation Template', null, null, this.getTagsForStencil(gn, 'cloudformation template', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudtrail;strokeColor=none;',
				 59, 72, '', 'CloudTrail', null, null, this.getTagsForStencil(gn, 'cloudtrail', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudwatch;strokeColor=none;',
				 63, 72, '', 'CloudWatch', null, null, this.getTagsForStencil(gn, 'cloudwatch', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.cloudwatch_alarm;strokeColor=none;',
				 48, 58, '', 'CloudWatch Alarm', null, null, this.getTagsForStencil(gn, 'cloudwatch alarm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'administration_and_security.config;strokeColor=none;',
				 59, 72, '', 'Config', null, null, this.getTagsForStencil(gn, 'config', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks;strokeColor=none;',
				 59, 72, '', 'OpsWorks', null, null, this.getTagsForStencil(gn, 'opsworks', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_apps;strokeColor=none;',
				 72, 72, '', 'OpsWorks Apps', null, null, this.getTagsForStencil(gn, 'opsworks apps', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_deployments;strokeColor=none;',
				 72, 68, '', 'OpsWorks Deployments', null, null, this.getTagsForStencil(gn, 'opsworks deployments', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_instances;strokeColor=none;',
				 72, 72, '', 'OpsWorks Instances', null, null, this.getTagsForStencil(gn, 'opsworks instances', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_layers;strokeColor=none;',
				 72, 72, '', 'OpsWorks Layers', null, null, this.getTagsForStencil(gn, 'opsworks layers', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_monitoring;strokeColor=none;',
				 72, 60, '', 'OpsWorks Monitoring', null, null, this.getTagsForStencil(gn, 'opsworks monitoring', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_permissions;strokeColor=none;',
				 59, 72, '', 'OpsWorks Permissions', null, null, this.getTagsForStencil(gn, 'opsworks permissions', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_resources;strokeColor=none;',
				 59, 72, '', 'OpsWorks Resources', null, null, this.getTagsForStencil(gn, 'opsworks resources', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.opsworks_stack;strokeColor=none;',
				 60, 70, '', 'OpsWorks Stack', null, null, this.getTagsForStencil(gn, 'opsworks stack', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'management_tools.service_catalog;strokeColor=none;',
				 60, 70, '', 'Service Catalog', null, null, this.getTagsForStencil(gn, 'service catalog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'administration_and_security.trusted_advisor;strokeColor=none;',
				 60, 72, '', 'Trusted Advisor', null, null, this.getTagsForStencil(gn, 'trusted advisor', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSMobileServicesPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.mobileServices';
		var dt = 'aws group amazon web service mobile services';
		
		this.addPaletteFunctions('aws2Mobile Services', 'AWS / Mobile Services', false,
		[
		 this.createVertexTemplateEntry(s + 'mobile_services.aws_mobile_hub;strokeColor=none;',
				 83, 86, '', 'AWS Mobile Hub', null, null, this.getTagsForStencil(gn, 'aws mobile hub', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.cognito;strokeColor=none;',
				 59, 72, '', 'Cognito', null, null, this.getTagsForStencil(gn, 'cognito', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.device_farm;strokeColor=none;',
				 68, 82, '', 'Device Farm', null, null, this.getTagsForStencil(gn, 'device farm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.mobile_analytics;strokeColor=none;',
				 70, 72, '', 'Mobile Analytics', null, null, this.getTagsForStencil(gn, 'mobile analytics', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.sns;strokeColor=none;',
				 69, 69, '', 'SNS', null, null, this.getTagsForStencil(gn, 'sns', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.sns_email_notification;strokeColor=none;',
				 90, 56, '', 'SNS Email Notification', null, null, this.getTagsForStencil(gn, 'sns email notification', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.sns_http_notification;strokeColor=none;',
				 90, 56, '', 'SNS HTTP Notification', null, null, this.getTagsForStencil(gn, 'sns http notification', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mobile_services.sns_topic;strokeColor=none;',
				 90, 56, '', 'SNS Topic', null, null, this.getTagsForStencil(gn, 'sns topic', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSNetworkingPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.networking';
		var dt = 'aws group amazon web service networking';
		
		this.addPaletteFunctions('aws2Networking', 'AWS / Networking', false,
		[
		 this.createVertexTemplateEntry(s + 'compute_and_networking.aws_direct_connect;strokeColor=none;',
				 59, 72, '', 'Direct Connect', null, null, this.getTagsForStencil(gn, 'direct connect', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.route_53;strokeColor=none;',
				 59, 72, '', 'Route 53', null, null, this.getTagsForStencil(gn, 'route 53', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.route_53_hosted_zone;strokeColor=none;',
				 58, 56, '', 'Route 53 Hosted Zone', null, null, this.getTagsForStencil(gn, 'route 53 hosted zone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.route_53_route_table;strokeColor=none;',
				 66, 61, '', 'Route 53 Table', null, null, this.getTagsForStencil(gn, 'route 53 table', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.vpc;strokeColor=none;',
				 59, 72, '', 'VPC', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networking.vpc_customer_gateway;strokeColor=none;',
				 61, 64, '', 'VPC Customer Gateway', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud customer gateway', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networking.vpc_endpoints;strokeColor=none;',
				 61, 64, '', 'VPC Endpoints', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud endpoints', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networking.vpc_flowlogs;strokeColor=none;',
				 61, 64, '', 'VPC Flowlogs', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud flowlogs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.vpc_internet_gateway;strokeColor=none;',
				 55, 57, '', 'VPC Internet Gateway', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud internet gateway', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.vpc_peering;strokeColor=none;',
				 55, 57, '', 'VPC Peering', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud peering', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networking.vpc_router;strokeColor=none;',
				 61, 64, '', 'VPC Router', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud router', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.vpc_vpn_connection;strokeColor=none;',
				 52, 41, '', 'VPC VPN Connection', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud vpn connection', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'compute_and_networking.vpc_vpn_gateway;strokeColor=none;',
				 55, 57, '', 'VPC VPN Gateway', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud vpn gateway', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networking.vpcnat_gateway;strokeColor=none;',
				 61, 64, '', 'VPCNAT Gateway', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud vpcnat gateway', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSOnDemandWorkforcePalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.on-demand_workforce';
		var dt = 'aws group amazon web service on demand workforce';
		
		this.addPaletteFunctions('aws2On-Demand Workforce', 'AWS / On-Demand Workforce', false,
		[
		 this.createVertexTemplateEntry(s + 'on-demand_workforce.mechanical_turk;strokeColor=none;',
				 60, 72, '', 'Mechanical Turk', null, null, this.getTagsForStencil(gn, 'mechanical turk', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'on-demand_workforce.mechanical_turk_assignment_task;strokeColor=none;',
				 41, 56, '', 'Mechanical Turk Assignment Task', null, null, this.getTagsForStencil(gn, 'mechanical turk assignment task', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'on-demand_workforce.mechanical_turk_human_intelligence_tasks;strokeColor=none;',
				 46, 50, '', 'Mechanical Turk Human Intelligence Task (HIT)', null, null, this.getTagsForStencil(gn, 'mechanical turk human intelligence task hit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'on-demand_workforce.mechanical_turk_requester;strokeColor=none;',
				 49, 57, '', 'Mechanical Turk Requester', null, null, this.getTagsForStencil(gn, 'mechanical turk requester', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'on-demand_workforce.mechanical_turk_workers;strokeColor=none;',
				 59, 57, '', 'Mechanical Turk Workers', null, null, this.getTagsForStencil(gn, 'mechanical turk workers', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSSDKPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.sdks';
		var dt = 'aws group amazon web service sdk softvare development kit';
		
		this.addPaletteFunctions('aws2SDKs', 'AWS / SDKs', false,
		[
		 this.createVertexTemplateEntry(s + 'sdks.android;strokeColor=none;',
				 62, 72, '', 'Android', null, null, this.getTagsForStencil(gn, 'android', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.cli;strokeColor=none;',
				 62, 72, '', 'CLI', null, null, this.getTagsForStencil(gn, 'cli', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.aws_toolkit_for_eclipse;strokeColor=none;',
				 62, 72, '', 'Toolkit for Eclipse', null, null, this.getTagsForStencil(gn, 'toolkit eclipse', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.aws_toolkit_for_visual_studio;strokeColor=none;',
				 62, 72, '', 'Toolkit for Visual Studio', null, null, this.getTagsForStencil(gn, 'toolkit visual studio', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.tools_for_windows_powershell;strokeColor=none;',
				 62, 72, '', 'Tools for Windows PowerShell', null, null, this.getTagsForStencil(gn, 'tools windows powershell', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.ios;strokeColor=none;',
				 62, 72, '', 'iOS', null, null, this.getTagsForStencil(gn, 'ios', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.java;strokeColor=none;',
				 62, 72, '', 'Java', null, null, this.getTagsForStencil(gn, 'java', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.javascript;strokeColor=none;',
				 62, 72, '', 'JavaScript', null, null, this.getTagsForStencil(gn, 'javascript', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.net;strokeColor=none;',
				 62, 72, '', 'Net', null, null, this.getTagsForStencil(gn, 'net', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.nodejs;strokeColor=none;',
				 62, 72, '', 'NodeJS', null, null, this.getTagsForStencil(gn, 'nodejs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.php;strokeColor=none;',
				 62, 72, '', 'PHP', null, null, this.getTagsForStencil(gn, 'php', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.python;strokeColor=none;',
				 62, 72, '', 'Python', null, null, this.getTagsForStencil(gn, 'python', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.ruby;strokeColor=none;',
				 62, 72, '', 'Ruby', null, null, this.getTagsForStencil(gn, 'ruby', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sdks.xamarin;strokeColor=none;',
				 62, 72, '', 'Xamarin', null, null, this.getTagsForStencil(gn, 'xamarin', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSSecurityAndIdentityPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.securityAndIdentity';
		var dt = 'aws group amazon web service security identity';
		
		this.addPaletteFunctions('aws2Security and Identity', 'AWS / Security and Identity', false,
		[
		 this.createVertexTemplateEntry(s + 'security_and_identity.acm;strokeColor=none;',
				 68, 55, '', 'ACM', null, null, this.getTagsForStencil(gn, 'acm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.acm_certificate_manager;strokeColor=none;',
				 65, 56, '', 'ACM Certificate Manager', null, null, this.getTagsForStencil(gn, 'acm certificate manager', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.service_catalog;strokeColor=none;',
				 68, 82, '', 'Inspector', null, null, this.getTagsForStencil(gn, 'service catalog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.cloud_hsm;strokeColor=none;',
				 60, 72, '', 'Cloud HSM', null, null, this.getTagsForStencil(gn, 'cloud hsm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.directory_service;strokeColor=none;',
				 60, 72, '', 'Directory Service', null, null, this.getTagsForStencil(gn, 'directory service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam;strokeColor=none;',
				 37, 72, '', 'IAM', null, null, this.getTagsForStencil(gn, 'iam', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_add-on;strokeColor=none;',
				 44, 24, '', 'IAM Add-on', null, null, this.getTagsForStencil(gn, 'iam addon add on', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_sts;strokeColor=none;',
				 54, 31, '', 'IAM Security Token Service', null, null, this.getTagsForStencil(gn, 'iam sts security token service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_security_token_service;strokeColor=none;',
				 40, 55, '', 'IAM Security Token Service', null, null, this.getTagsForStencil(gn, 'iam sts security token service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_data_encryption_key;strokeColor=none;',
				 40, 53, '', 'IAM Data Encryption Key', null, null, this.getTagsForStencil(gn, 'iam data encryption key', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_encrypted_data;strokeColor=none;',
				 38, 49, '', 'IAM Encrypted Data', null, null, this.getTagsForStencil(gn, 'iam encrypted data', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_credentials;strokeColor=none;',
				 53, 39, '', 'IAM Long Term Security Credential', null, null, this.getTagsForStencil(gn, 'iam long term security credential', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_mfa_token;strokeColor=none;',
				 53, 53, '', 'IAM MFA Token', null, null, this.getTagsForStencil(gn, 'iam mfa token', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_permissions;strokeColor=none;',
				 42, 57, '', 'IAM Permissions', null, null, this.getTagsForStencil(gn, 'iam permissions', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_roles;strokeColor=none;',
				 84, 72, '', 'IAM Role', null, null, this.getTagsForStencil(gn, 'iam role', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deployment_and_management.iam_short_term_credentials;strokeColor=none;',
				 61, 49, '', 'IAM Temporary Security Credential', null, null, this.getTagsForStencil(gn, 'iam temporary security credential', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.key_management_service;strokeColor=none;',
				 68, 82, '', 'Key Management Service', null, null, this.getTagsForStencil(gn, 'key management service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'security_and_identity.webapp_firewall;strokeColor=none;',
				 68, 82, '', 'WebApp Firewall', null, null, this.getTagsForStencil(gn, 'webapp firewall', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSStorageAndContentDeliveryPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws2.";
		var gn = 'mxgraph.aws.storageAndContentDelivery';
		var dt = 'aws group amazon web service storage content delivery';
		
		this.addPaletteFunctions('aws2Storage and Content Delivery', 'AWS / Storage and Content Delivery', false,
		[
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.cloudfront;strokeColor=none;',
				 59, 72, '', 'CloudFront', null, null, this.getTagsForStencil(gn, 'cloudfront', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.cloudfront_download_distribution;strokeColor=none;',
				 55, 57, '', 'CloudFront Download Distribution', null, null, this.getTagsForStencil(gn, 'cloudfront download distribution', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.cloudfront_edge_location;strokeColor=none;',
				 55, 57, '', 'CloudFront Edge Location', null, null, this.getTagsForStencil(gn, 'cloudfront edge location', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.cloudfront_streaming_distribution;strokeColor=none;',
				 55, 57, '', 'CloudFront Streaming Distribution', null, null, this.getTagsForStencil(gn, 'cloudfront streaming distribution', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.efs;strokeColor=none;',
				 60, 72, '', 'EFS', null, null, this.getTagsForStencil(gn, 'efs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.ebs;strokeColor=none;',
				 46, 66, '', 'Elastic Block Store', null, null, this.getTagsForStencil(gn, 'ebs elastic block store', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.glacier;strokeColor=none;',
				 59, 71, '', 'Glacier', null, null, this.getTagsForStencil(gn, 'glacier', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.glacier_archive;strokeColor=none;',
				 56, 66, '', 'Glacier Archive', null, null, this.getTagsForStencil(gn, 'glacier archive', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.glacier_vault;strokeColor=none;',
				 46, 66, '', 'Glacier Vault', null, null, this.getTagsForStencil(gn, 'glacier vault', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.aws_import_export;strokeColor=none;',
				 57, 56, '', 'Import Export', null, null, this.getTagsForStencil(gn, 'aws import export', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.snowball;strokeColor=none;',
				 68, 82, '', 'Import Export Snowball', null, null, this.getTagsForStencil(gn, 'snowball', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.s3;strokeColor=none;',
				 59, 72, '', 'S3', null, null, this.getTagsForStencil(gn, 's3', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.s3_bucket;strokeColor=none;',
				 54, 56, '', 'S3 Bucket', null, null, this.getTagsForStencil(gn, 's3 bucket', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.s3_bucket_with_objects;strokeColor=none;',
				 55, 56, '', 'S3 Bucket with Objects', null, null, this.getTagsForStencil(gn, 's3 bucket with objects', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.s3_objects;strokeColor=none;',
				 37, 40, '', 'S3 Objects', null, null, this.getTagsForStencil(gn, 's3 objects', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.ebs_snapshot;strokeColor=none;',
				 53, 65, '', 'Snapshot', null, null, this.getTagsForStencil(gn, 'snapshot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.aws_storage_gateway;strokeColor=none;',
				 59, 72, '', 'Storage Gateway', null, null, this.getTagsForStencil(gn, 'storage gateway', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.storage_gateway_cached_volumn;strokeColor=none;',
				 52, 66, '', 'Storage Gateway Cached Volume', null, null, this.getTagsForStencil(gn, 'storage gateway cached volume', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.storage_gateway_non-cached_volumn;strokeColor=none;',
				 52, 66, '', 'Storage Gateway Non-Cached Volume', null, null, this.getTagsForStencil(gn, 'storage gateway non cached volume', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.storage_gateway_virtual_tape_library;strokeColor=none;',
				 52, 66, '', 'Storage Gateway Virtual Tape Library', null, null, this.getTagsForStencil(gn, 'storage gateway virtual tape library', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'storage_and_content_delivery.ebs_volume;strokeColor=none;',
				 46, 66, '', 'Volume', null, null, this.getTagsForStencil(gn, 'volume', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWSGroupPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws.groups.";
		var gn = 'mxgraph.aws.groups';
		var dt = 'aws group amazon web service ';
		
		this.addPaletteFunctions('aws2Groups', 'AWS / Groups', false,
		[
			this.createVertexTemplateEntry(s + 'auto_scaling_group;fillColor=none;strokeColor=#000000;gradientColor=none;', 
					200, 200, '', 'Auto Scaling Group', null, null, this.getTagsForStencil(gn, 'auto_scaling_group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'availability_zone;strokeColor=#f69721;fillColor=none;gradientColor=none;', 
					200, 200, '', 'Availability Zone', null, null, this.getTagsForStencil(gn, 'availability_zone', dt).join(' ')),
					
			this.addEntry(dt + 'cloud', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 30, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(10, 0, 70, 40), s + 'aws_cloud_icon;strokeColor=none;fillColor=#F69721;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 230, 'AWS Cloud');
			}),
									
			this.addEntry(dt + 'corporate data center', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 40), s + 'corporate_data_center_icon;strokeColor=none;fillColor=#6D6F70;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Corporate Data Center');
			}),
													
			this.addEntry(dt + 'ec2 instance content', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 40, 40), s + 'rrect;strokeColor=none;fillColor=#F69721;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'EC2 Instance Contents');
			}),
															
			this.addEntry(dt + 'EC2 Spot Fleet', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 30, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 43, 40), s + 'ec2_spot_instance;strokeColor=none;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 230, 'EC2 Spot Fleet');
			}),

			this.addEntry(dt + 'elastic beanstalk container', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 40, 40), s + 'elastic_beanstalk_container_icon;strokeColor=none;fillColor=#2A6A35;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Elastic Beanstalk Container');
			}),
																	
			this.createVertexTemplateEntry(s + 'region;strokeColor=#000000;fillColor=none;gradientColor=none;', 
					200, 200, '', 'Region', null, null, this.getTagsForStencil(gn, 'region', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;', 
					200, 200, '', 'Security Group', null, null, this.getTagsForStencil(gn, 'security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;fillColor=#F2F2F2;strokeColor=#000000;gradientColor=none;', 
					200, 200, '', 'Server Contents', null, null, this.getTagsForStencil(gn, 'server content', dt).join(' ')),

			this.addEntry(dt + 'virtual private cloud', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 30, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(10, 0, 70, 40), s + 'virtual_private_cloud_icon;strokeColor=none;fillColor=#282560;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 230, 'Virtual Private Cloud');
			}),
										
			this.addEntry(dt + 'virtual private cloud subnet vpc', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 30, 200, 200), s + 'rrect;fillColor=none;strokeColor=#000000;gradientColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 40, 40), s + 'vpc_subnet_icon;strokeColor=none;fillColor=#282560;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 230, 'VPC Subnet');
			})
		]);
	};
	
})();

(function()
{
	// Adds mockup shapes
	Sidebar.prototype.addAWS3Palette = function()
	{
		this.addAWS3AnalyticsPalette();
		this.addAWS3ApplicationServicesPalette();
		this.addAWS3ArtificialIntelligencePalette();
		this.addAWS3BusinessProductivityPalette();
		this.addAWS3ComputePalette();
		this.addAWS3DatabasePalette();
		this.addAWS3DesktopAndAppStreamingPalette();
		this.addAWS3DeveloperToolsPalette();
		this.addAWS3GameDevelopmentPalette();
		this.addAWS3GeneralPalette();
		this.addAWS3GroupsPalette();
		this.addAWS3InternetOfThingsPalette();
		this.addAWS3ManagementToolsPalette();
		this.addAWS3MessagingPalette();
		this.addAWS3MigrationPalette();
		this.addAWS3MobileServicesPalette();
		this.addAWS3NetworkAndContentDeliveryPalette();
		this.addAWS3OnDemandWorkforcePalette();
		this.addAWS3SDKPalette();
		this.addAWS3SecurityIdentityAndCompliancePalette();
		this.addAWS3StoragePalette();
	};
	
	Sidebar.prototype.addAWS3AnalyticsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service analytics';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Analytics', 'AWS / Analytics', false,
		[
			 this.createVertexTemplateEntry(n + 'athena;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 51, '', 'Athena', null, null, this.getTagsForStencil(gn, 'athena', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudsearch;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudSearch', null, null, this.getTagsForStencil(gn, 'cloudsearch cloud search', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elasticsearch_service;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 54, '', 'ElasticSearch Service', null, null, this.getTagsForStencil(gn, 'elasticsearch elastic search service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 54, '', 'EMR', null, null, this.getTagsForStencil(gn, 'emr', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kinesis;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 54, '', 'Kinesis', null, null, this.getTagsForStencil(gn, 'kinesis', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'quicksight;fillColor=#00B7F4;gradientColor=none;',
					 s * 40, s * 40, '', 'QuickSight', null, null, this.getTagsForStencil(gn, 'quicksight quick sight', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'redshift;fillColor=#2E73B8;gradientColor=none;',
					 s * 45, s * 50, '', 'Redshift', null, null, this.getTagsForStencil(gn, 'redshift', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'data_pipeline;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 54, '', 'Data Pipeline', null, null, this.getTagsForStencil(gn, 'data pipeline', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'search_documents;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Search Documents', null, null, this.getTagsForStencil(gn, 'search documents', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr_cluster;fillColor=#F58534;gradientColor=none;',
					 s * 37, s * 42, '', 'Cluster', null, null, this.getTagsForStencil(gn, 'emr cluster', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr_engine;fillColor=#F58534;gradientColor=none;',
					 s * 55, s * 40, '', 'EMR engine', null, null, this.getTagsForStencil(gn, 'emr engine', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr_engine_mapr_m3;fillColor=#F58534;gradientColor=none;',
					 s * 55, s * 40, '', 'EMR engine MapR M3', null, null, this.getTagsForStencil(gn, 'emr engine MapR M3', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr_engine_mapr_m5;fillColor=#F58534;gradientColor=none;',
					 s * 55, s * 40, '', 'EMR engine MapR M5', null, null, this.getTagsForStencil(gn, 'emr engine MapR M5', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'emr_engine_mapr_m7;fillColor=#F58534;gradientColor=none;',
					 s * 55, s * 40, '', 'EMR engine MapR M7', null, null, this.getTagsForStencil(gn, 'emr engine MapR M7', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'hdfs_cluster;fillColor=#F58534;gradientColor=none;',
					 s * 41, s * 42, '', 'HDFS Cluster', null, null, this.getTagsForStencil(gn, 'hdfs Cluster', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kinesis_analytics;fillColor=#F58534;gradientColor=none;',
					 s * 49, s * 50, '', 'Kinesis Analytics', null, null, this.getTagsForStencil(gn, 'kinesis analytics', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kinesis_enabled_app;fillColor=#F58534;gradientColor=none;',
					 s * 43, s * 45, '', 'Kinesis-enabled app', null, null, this.getTagsForStencil(gn, 'kinesis enabled app', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kinesis_firehose;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 43, '', 'Kinesis Firehose', null, null, this.getTagsForStencil(gn, 'kinesis firehose', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kinesis_streams;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Kinesis Streams', null, null, this.getTagsForStencil(gn, 'kinesis streams', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'dense_compute_node;fillColor=#2E73B8;gradientColor=none;',
					 s * 37, s * 42, '', 'Dense Compute Node', null, null, this.getTagsForStencil(gn, 'dense compute node', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'dense_storage_node;fillColor=#2E73B8;gradientColor=none;',
					 s * 37, s * 42, '', 'Dense Storage Node', null, null, this.getTagsForStencil(gn, 'dense storage node', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3ApplicationServicesPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service app application services';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Application Services', 'AWS / Application Services', false,
		[
			 this.createVertexTemplateEntry(n + 'elastic_transcoder;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'Elastic Transcoder', null, null, this.getTagsForStencil(gn, 'elastic transcoder', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'api_gateway;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'API Gateway', null, null, this.getTagsForStencil(gn, 'api gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'appstream;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'AppStream', null, null, this.getTagsForStencil(gn, 'appstream', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'step_functions;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'Step Functions', null, null, this.getTagsForStencil(gn, 'step functions', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'swf;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'SWF', null, null, this.getTagsForStencil(gn, 'swf', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'decider;fillColor=#D9A741;gradientColor=none;',
					 s * 41, s * 43, '', 'Decider', null, null, this.getTagsForStencil(gn, 'decider', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'worker;fillColor=#D9A741;gradientColor=none;',
					 s * 40, s * 42, '', 'Worker', null, null, this.getTagsForStencil(gn, 'worker', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3ArtificialIntelligencePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service ai artificial intelligence';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Artificial Intelligence', 'AWS / Artificial Intelligence', false,
		[
			 this.createVertexTemplateEntry(n + 'lex;fillColor=#2E73B8;gradientColor=none;',
					 s * 51, s * 54, '', 'Lex', null, null, this.getTagsForStencil(gn, 'lex', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'machine_learning;fillColor=#2E73B8;gradientColor=none;',
					 s * 51, s * 62, '', 'Machine Learning', null, null, this.getTagsForStencil(gn, 'machine learning', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'polly;fillColor=#2E73B8;gradientColor=none;',
					 s * 51, s * 62, '', 'Polly', null, null, this.getTagsForStencil(gn, 'polly', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rekognition;fillColor=#2E73B8;gradientColor=none;',
					 s * 51, s * 62, '', 'Rekognition', null, null, this.getTagsForStencil(gn, 'rekognition', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3BusinessProductivityPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service business productivity';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Business Productivity', 'AWS / Business Productivity', false,
		[
			 this.createVertexTemplateEntry(n + 'workmail;fillColor=#D16A28;gradientColor=#F58435;gradientDirection=north;',
					 s * 55, s * 63, '', 'WorkMail', null, null, this.getTagsForStencil(gn, 'workmail work mail', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'workdocs;fillColor=#D16A28;gradientColor=#F58435;gradientDirection=north;',
					 s * 55, s * 63, '', 'WorkDocs', null, null, this.getTagsForStencil(gn, 'workdocs work docs documents', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3ComputePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service compute';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Compute', 'AWS / Compute', false,
		[
		 
	 		 this.createVertexTemplateEntry(n + 'ami;fillColor=#F58534;gradientColor=none;',
	 				 s * 40, s * 42, '', 'AMI', null, null, this.getTagsForStencil(gn, 'ami', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ec2;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 62, '', 'EC2', null, null, this.getTagsForStencil(gn, 'ec2', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_load_balancing;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 62, '', 'Elastic Load Balancing', null, null, this.getTagsForStencil(gn, 'elastic load balancing', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'auto_scaling;fillColor=#F58534;gradientColor=none;',
					 s * 53, s * 51, '', 'Auto Scaling', null, null, this.getTagsForStencil(gn, 'auto scaling', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_ip;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 14, '', 'Elastic IP', null, null, this.getTagsForStencil(gn, 'elastic ip', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_beanstalk;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 62, '', 'Elastic Beanstalk', null, null, this.getTagsForStencil(gn, 'elastic beanstalk', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lambda;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 62, '', 'Lambda', null, null, this.getTagsForStencil(gn, 'lambda', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ecs;fillColor=#F58534;gradientColor=none;',
					 s * 48, s * 45, '', 'ECS', null, null, this.getTagsForStencil(gn, 'ecs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'db_on_instance;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 43, '', 'DB on Instance', null, null, this.getTagsForStencil(gn, 'db on instance database', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'instance;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Instance', null, null, this.getTagsForStencil(gn, 'instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lightsail;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 55, '', 'Lightsail', null, null, this.getTagsForStencil(gn, 'lightsail', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'endpoints;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Endpoints', null, null, this.getTagsForStencil(gn, 'endpoints', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'instances;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Instances', null, null, this.getTagsForStencil(gn, 'instances', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_network_interface;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Elastic Network Interface', null, null, this.getTagsForStencil(gn, 'elastic network interface', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_gateway;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Internet Gateway', null, null, this.getTagsForStencil(gn, 'internet gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'flow_logs;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Flow Logs', null, null, this.getTagsForStencil(gn, 'flow logs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'customer_gateway;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Customer Gateway', null, null, this.getTagsForStencil(gn, 'customer gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'instance_with_cloudwatch;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Instance with CloudWatch', null, null, this.getTagsForStencil(gn, 'instance with cloudwatch', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_network_adapter;fillColor=#F58534;gradientColor=none;',
					 s * 50, s * 60, '', 'Elastic Network Adapter', null, null, this.getTagsForStencil(gn, 'elastic network adapter', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'optimized_instance;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Optimized Instance', null, null, this.getTagsForStencil(gn, 'optimized instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'spot_instance;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'Spot Instance', null, null, this.getTagsForStencil(gn, 'spot instance', dt).join(' ')),
					 
			 this.addEntry(dt + 'Spot Fleet', function()
             {
				var bg1 = new mxCell('', new mxGeometry(0, 30, 200, 200), 'rounded=1;fillColor=none;strokeColor=#000000;gradientColor=none;arcSize=10;dashed=1;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 43, 40), n + 'spot_instance;fillColor=#F58534;strokeColor=none;gradientColor=none;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 230, 'Spot Fleet');
			 }),
			 
			 this.createVertexTemplateEntry(n + 'ecr;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'ECR', null, null, this.getTagsForStencil(gn, 'ecr', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_gateway;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'VPN Gateway', null, null, this.getTagsForStencil(gn, 'vpn gateway virtual private network', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'deployment;fillColor=#F58534;gradientColor=none;',
					 s * 37, s * 49, '', 'Deployment', null, null, this.getTagsForStencil(gn, 'deployment', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_connection;fillColor=#F58534;gradientColor=none;',
					 s * 39, s * 32, '', 'VPN Connection', null, null, this.getTagsForStencil(gn, 'vpn connection virtual private network', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_peering;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC Peering', null, null, this.getTagsForStencil(gn, 'vpc peering virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'application;fillColor=#F58534;gradientColor=none;',
					 s * 23, s * 43, '', 'Application', null, null, this.getTagsForStencil(gn, 'application', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ec2_compute_container;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 23, '', 'EC2 Compute Container', null, null, this.getTagsForStencil(gn, 'ec2 compute container', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ec2_compute_container_2;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 23, '', 'EC2 Compute Container', null, null, this.getTagsForStencil(gn, 'ec2 compute container', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ec2_compute_container_3;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 23, '', 'EC2 Compute Container', null, null, this.getTagsForStencil(gn, 'ec2 compute container', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_nat_gateway;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC NAT Gateway', null, null, this.getTagsForStencil(gn, 'vpc nat gateway virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ecr_registry;fillColor=#F58534;gradientColor=none;',
					 s * 38, s * 40, '', 'ECR Registry', null, null, this.getTagsForStencil(gn, 'ecr registry', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'batch;fillColor=#F58534;gradientColor=none;',
					 s * 51, s * 62, '', 'Batch', null, null, this.getTagsForStencil(gn, 'batch', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'router;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc;fillColor=#F58534;gradientColor=none;',
					 s * 45, s * 54, '', 'VPC', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lambda_function;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Lambda Function', null, null, this.getTagsForStencil(gn, 'lambda function', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'classic_load_balancer;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Classic Load Balancer', null, null, this.getTagsForStencil(gn, 'classic load balancer', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'application_load_balancer;fillColor=#F58534;gradientColor=none;',
					 s * 46, s * 48, '', 'Application Load Balancer', null, null, this.getTagsForStencil(gn, 'application load balancer', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'x1_instance;fillColor=#F58534;gradientColor=none;',
					 s * 40, s * 42, '', 'X1 Instance', null, null, this.getTagsForStencil(gn, 'x1 instance', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3DatabasePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service db database';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Database', 'AWS / Database', false,
		[
			 this.createVertexTemplateEntry(n + 'dynamo_db;fillColor=#2E73B8;gradientColor=none;',
					 s * 48, s * 54, '', 'Dynamo DB', null, null, this.getTagsForStencil(gn, 'dynamo', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elasticache;fillColor=#2E73B8;gradientColor=none;',
					 s * 45, s * 54, '', 'ElastiCache', null, null, this.getTagsForStencil(gn, 'elasticache elastic cache', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rds;fillColor=#2E73B8;gradientColor=none;',
					 s * 48, s * 54, '', 'RDS', null, null, this.getTagsForStencil(gn, 'rds', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'redshift;fillColor=#2E73B8;gradientColor=none;',
					 s * 45, s * 50, '', 'Redshift', null, null, this.getTagsForStencil(gn, 'redshift', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'redis;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'Redis', null, null, this.getTagsForStencil(gn, 'redis', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rds_db_instance;fillColor=#2E73B8;gradientColor=none;',
					 s * 33, s * 44, '', 'RDS DB Instance', null, null, this.getTagsForStencil(gn, 'rds instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rds_db_instance_read_replica;fillColor=#2E73B8;gradientColor=none;',
					 s * 33, s * 44, '', 'RDS DB Instance Read Replica', null, null, this.getTagsForStencil(gn, 'rds instance read replica', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'oracle_db_instance;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 43, '', 'Oracle DB Instance', null, null, this.getTagsForStencil(gn, 'oracle instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'piop;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'PIOP', null, null, this.getTagsForStencil(gn, 'piop', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'attribute;fillColor=#2E73B8;gradientColor=none;',
					 s * 42, s * 44, '', 'Attribute', null, null, this.getTagsForStencil(gn, 'attribute', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'attributes;fillColor=#2E73B8;gradientColor=none;',
					 s * 42, s * 44, '', 'Attributes', null, null, this.getTagsForStencil(gn, 'attributes', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'item;fillColor=#2E73B8;gradientColor=none;',
					 s * 42, s * 44, '', 'Item', null, null, this.getTagsForStencil(gn, 'item', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'global_secondary_index;fillColor=#2E73B8;gradientColor=none;',
					 s * 45, s * 44, '', 'Global Secondary Index', null, null, this.getTagsForStencil(gn, 'global secondary index', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'items;fillColor=#2E73B8;gradientColor=none;',
					 s * 42, s * 44, '', 'Items', null, null, this.getTagsForStencil(gn, 'items', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'table;fillColor=#2E73B8;gradientColor=none;',
					 s * 45, s * 44, '', 'Table', null, null, this.getTagsForStencil(gn, 'table', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'memcached;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'Memcached', null, null, this.getTagsForStencil(gn, 'memcached', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mysql_db_instance;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 43, '', 'MySQL DB Instance', null, null, this.getTagsForStencil(gn, 'mysql instance my sql', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rds_db_instance_standby_multi_az;fillColor=#2E73B8;gradientColor=none;',
					 s * 33, s * 44, '', 'RDS DB Instance standby (multi-AZ)', null, null, this.getTagsForStencil(gn, 'rds instance standby multi', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cache_node;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'Cache Node', null, null, this.getTagsForStencil(gn, 'cache node', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sql_master;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 43, '', 'SQL Master', null, null, this.getTagsForStencil(gn, 'sql master', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sql_slave;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 43, '', 'SQL Slave', null, null, this.getTagsForStencil(gn, 'sql slave', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ms_sql_instance_2;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'MS SQL Instance', null, null, this.getTagsForStencil(gn, 'ms sql instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mysql_db_instance_2;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'MySQL DB Instance', null, null, this.getTagsForStencil(gn, 'mysql instance my sql', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ms_sql_instance;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 43, '', 'MS SQL Instance', null, null, this.getTagsForStencil(gn, 'ms sql instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'oracle_db_instance_2;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'Oracle DB Instance', null, null, this.getTagsForStencil(gn, 'oracle instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'postgre_sql_instance;fillColor=#2E73B8;gradientColor=none;',
					 s * 40, s * 42, '', 'Postgre SQL Instance', null, null, this.getTagsForStencil(gn, 'postgre sql instance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'dense_compute_node;fillColor=#2E73B8;gradientColor=none;',
					 s * 37, s * 42, '', 'Dense Compute Node', null, null, this.getTagsForStencil(gn, 'dense compute node', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'dense_storage_node;fillColor=#2E73B8;gradientColor=none;',
					 s * 37, s * 42, '', 'Dense Storage Node', null, null, this.getTagsForStencil(gn, 'dense storage node', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_workflow_job;fillColor=#2E73B8;gradientColor=none;',
					 s * 31, s * 58, '', 'Database Migration Workflow/Job', null, null, this.getTagsForStencil(gn, 'database migration workflow job', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_service;fillColor=#2E73B8;gradientColor=none;',
					 s * 48, s * 54, '', 'Database Migration Service', null, null, this.getTagsForStencil(gn, 'database migration service', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3DesktopAndAppStreamingPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service desktop app streaming application';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Desktop and App Streaming', 'AWS / Desktop and App Streaming', false,
		[
			 this.createVertexTemplateEntry(n + 'workmail;fillColor=#D16A28;gradientColor=#F58435;gradientDirection=north;',
					 s * 55, s * 63, '', 'WorkMail', null, null, this.getTagsForStencil(gn, 'workmail work mail', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'appstream;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'AppStream', null, null, this.getTagsForStencil(gn, 'appstream', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3DeveloperToolsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service dev developer tools';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Developer Tools', 'AWS / Developer Tools', false,
		[
			 this.createVertexTemplateEntry(n + 'codecommit;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CodeCommit', null, null, this.getTagsForStencil(gn, 'codecommit code commit', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'codedeploy;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'CodeDeploy', null, null, this.getTagsForStencil(gn, 'codedeploy code deploy', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'codepipeline;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'CodePipeline', null, null, this.getTagsForStencil(gn, 'codepipeline code pipeline', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'codebuild;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CodeBuild', null, null, this.getTagsForStencil(gn, 'codebuild code build', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'x_ray;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 57, '', 'X-Ray', null, null, this.getTagsForStencil(gn, 'x ray', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'gamelift;fillColor=#AD688B;gradientColor=none;',
					 s * 47, s * 57, '', 'GameLift', null, null, this.getTagsForStencil(gn, 'gamelift game lift', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'management_console;fillColor=#F58534;gradientColor=none;',
					 s * 42, s * 42, '', 'Management Console', null, null, this.getTagsForStencil(gn, 'management console', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloud;fillColor=#F58534;gradientColor=none;',
					 s * 53, s * 35, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'forums;fillColor=#F58534;gradientColor=none;',
					 s * 57, s * 55, '', 'Forums', null, null, this.getTagsForStencil(gn, 'forums', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'virtual_private_cloud;fillColor=#F58534;gradientColor=none;',
					 s * 53, s * 35, '', 'Virtual Private Cloud', null, null, this.getTagsForStencil(gn, 'virtual private cloud vpc', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'management_console;fillColor=#D2D3D3;gradientColor=none;',
					 s * 42, s * 42, '', 'Client', null, null, this.getTagsForStencil(gn, 'client', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_client;fillColor=#D2D3D3;gradientColor=none;',
					 s * 27, s * 42, '', 'Mobile Client', null, null, this.getTagsForStencil(gn, 'mobile client', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'multimedia;fillColor=#D2D3D3;gradientColor=none;',
					 s * 44, s * 42, '', 'Multimedia', null, null, this.getTagsForStencil(gn, 'multimedia', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'user;fillColor=#D2D3D3;gradientColor=none;',
					 s * 30, s * 42, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'users;fillColor=#D2D3D3;gradientColor=none;',
					 s * 44, s * 42, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'tape_storage;fillColor=#7D7C7C;gradientColor=none;',
					 s * 50, s * 25, '', 'Tape Storage', null, null, this.getTagsForStencil(gn, 'tape storage', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'corporate_data_center;fillColor=#7D7C7C;gradientColor=none;',
					 s * 31, s * 42, '', 'Corporate Data Center', null, null, this.getTagsForStencil(gn, 'corporate data center', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'traditional_server;fillColor=#7D7C7C;gradientColor=none;',
					 s * 31, s * 42, '', 'Traditional Server', null, null, this.getTagsForStencil(gn, 'traditional server', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'disk;fillColor=#7D7C7C;gradientColor=none;',
					 s * 41, s * 43, '', 'Disk', null, null, this.getTagsForStencil(gn, 'disk', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'generic_database;fillColor=#7D7C7C;gradientColor=none;',
					 s * 33, s * 43, '', 'Generic Database', null, null, this.getTagsForStencil(gn, 'generic database', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 53, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_2;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 36, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_3;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 36, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'office_building;fillColor=#7D7C7C;gradientColor=none;',
					 s * 22, s * 53, '', 'Office Building', null, null, this.getTagsForStencil(gn, 'office building', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'saml_token;fillColor=#D2D3D3;gradientColor=none;',
					 s * 46, s * 48, '', 'SAML Token', null, null, this.getTagsForStencil(gn, 'saml token', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ssl_padlock;fillColor=#D2D3D3;gradientColor=none;',
					 s * 42, s * 52, '', 'SSL Padlock', null, null, this.getTagsForStencil(gn, 'ssl padlock', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#000000;fillColor=none;gradientColor=none;dashPattern=8 3 1 3;strokeWidth=2;',
					 s * 133, s * 133, '', 'Auto Scaling Group', null, null, this.getTagsForStencil(gn, 'auto scaling group', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#F59D56;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;',
					 s * 133, s * 133, '', 'Availability Zone', null, null, this.getTagsForStencil(gn, 'availability zone', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#000000;fillColor=none;gradientColor=none;dashPattern=1 1;strokeWidth=2;',
					 s * 133, s * 133, '', 'Region', null, null, this.getTagsForStencil(gn, 'region', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;',
					 s * 133, s * 133, '', 'Security Group', null, null, this.getTagsForStencil(gn, 'security group', dt).join(' ')),
					 
  			 this.addEntry(dt + 'elastic beanstalk container', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 41), n + 'elastic_beanstalk;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Elastic Beanstalk Container');
			 }),
			 
  			 this.addEntry(dt + 'ec2 instance container', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 40, 41), n + 'instance;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'EC2 Instance Container');
			 }),

  			 this.addEntry(dt + 'vpc subnet', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 35), n + 'permissions;fillColor=#D9A741;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'VPC Subnet');
			 }),
			 
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;strokeColor=none;fillColor=#DBDBDB;gradientColor=none;',
					 s * 133, s * 133, '', 'Server Contents', null, null, this.getTagsForStencil(gn, 'server contents', dt).join(' ')),
			 
  			 this.addEntry(dt + 'virtual private cloud', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 52, 36), n + 'virtual_private_cloud;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Virtual Private Cloud');
			 }),

  			 this.addEntry(dt + 'cloud', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 52, 36), n + 'cloud;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'AWS Cloud');
			 }),
			 
  			 this.addEntry(dt + 'corporate data center', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 42), n + 'corporate_data_center;fillColor=#7D7C7C;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Corporate Data Center');
			 }),
			 
			 
			 this.createVertexTemplateEntry(n + 'aws_iot;fillColor=#5294CF;gradientColor=none;',
					 s * 45, s * 54, '', 'AWS IoT', null, null, this.getTagsForStencil(gn, 'iot internet of things', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'greengrass;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 62, '', 'Greengrass', null, null, this.getTagsForStencil(gn, 'greengrass', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'action;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 43, '', 'Action', null, null, this.getTagsForStencil(gn, 'action', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'actuator;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 60, '', 'Actuator', null, null, this.getTagsForStencil(gn, 'actuator', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'certificate;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 57, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'desired_state;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Desired State', null, null, this.getTagsForStencil(gn, 'desired state', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'hardware_board;fillColor=#5294CF;gradientColor=none;',
					 s * 56, s * 67, '', 'Hardware Board', null, null, this.getTagsForStencil(gn, 'hardware board', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'HTTP Protocol', null, null, this.getTagsForStencil(gn, 'http protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_2_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'HTTP/2 Protocol', null, null, this.getTagsForStencil(gn, 'http 2 protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mqtt_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'MQTT Protocol', null, null, this.getTagsForStencil(gn, 'mqtt protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'policy;fillColor=#5294CF;gradientColor=none;',
					 s * 37, s * 60, '', 'Policy', null, null, this.getTagsForStencil(gn, 'policy', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'reported_state;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Reported State', null, null, this.getTagsForStencil(gn, 'reported state', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rule;fillColor=#5294CF;gradientColor=none;',
					 s * 33, s * 66, '', 'Rule', null, null, this.getTagsForStencil(gn, 'rule', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sensor;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 60, '', 'Sensor', null, null, this.getTagsForStencil(gn, 'sensor', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'servo;fillColor=#5294CF;gradientColor=none;',
					 s * 56, s * 40, '', 'Servo', null, null, this.getTagsForStencil(gn, 'servo', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'shadow;fillColor=#5294CF;gradientColor=none;',
					 s * 57, s * 61, '', 'Shadow', null, null, this.getTagsForStencil(gn, 'shadow', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'simulator;fillColor=#5294CF;gradientColor=none;',
					 s * 50, s * 52, '', 'Simulator', null, null, this.getTagsForStencil(gn, 'simulator', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'topic;fillColor=#5294CF;gradientColor=none;',
					 s * 33, s * 44, '', 'Topic', null, null, this.getTagsForStencil(gn, 'topic', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bank;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Bank', null, null, this.getTagsForStencil(gn, 'bank', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bicycle;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Bicycle', null, null, this.getTagsForStencil(gn, 'bicycle', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'camera;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Camera', null, null, this.getTagsForStencil(gn, 'camera', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'utility;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Utility', null, null, this.getTagsForStencil(gn, 'utility', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cart;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Cart', null, null, this.getTagsForStencil(gn, 'cart', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'car;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Car', null, null, this.getTagsForStencil(gn, 'car', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'windfarm;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Windfarm', null, null, this.getTagsForStencil(gn, 'windfarm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'house;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'House', null, null, this.getTagsForStencil(gn, 'house', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'generic;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Generic', null, null, this.getTagsForStencil(gn, 'generic', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'factory;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Factory', null, null, this.getTagsForStencil(gn, 'factory', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'coffee_pot;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Coffee Pot', null, null, this.getTagsForStencil(gn, 'coffee pot', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'door_lock;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Door Lock', null, null, this.getTagsForStencil(gn, 'door lock', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lightbulb;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Lightbulb', null, null, this.getTagsForStencil(gn, 'lightbulb', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'medical_emergency;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Medical Emergency', null, null, this.getTagsForStencil(gn, 'medical emergency', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'police_emergency;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Police Emergency', null, null, this.getTagsForStencil(gn, 'police emergency', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'thermostat;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Thermostat', null, null, this.getTagsForStencil(gn, 'thermostat', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'travel;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Travel', null, null, this.getTagsForStencil(gn, 'travel', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'echo;fillColor=#205B99;gradientColor=none;',
					 s * 27, s * 62, '', 'Echo', null, null, this.getTagsForStencil(gn, 'echo', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_skill;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Alexa Skill', null, null, this.getTagsForStencil(gn, 'alexa skill', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_smart_home_skill;fillColor=#5294CF;gradientColor=none;',
					 s * 60, s * 47, '', 'Alexa Smart Home Skill', null, null, this.getTagsForStencil(gn, 'alexa smart home skill', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_voice_service;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Alexa Voice Service', null, null, this.getTagsForStencil(gn, 'alexa voice service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_enabled_device;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Alexa Enabled Device', null, null, this.getTagsForStencil(gn, 'alexa enabled device', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lambda_function_2;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Lambda Function', null, null, this.getTagsForStencil(gn, 'lambda function', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'fire_tv;fillColor=#5294CF;gradientColor=none;',
					 s * 50, s * 37, '', 'Fire TV', null, null, this.getTagsForStencil(gn, 'fire tv', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'fire_tv_stick;fillColor=#5294CF;gradientColor=none;',
					 s * 57, s * 22, '', 'Fire TV Stick', null, null, this.getTagsForStencil(gn, 'fire tv stick', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudwatch;fillColor=#759C3E;gradientColor=none;',
					 s * 55, s * 62, '', 'CloudWatch', null, null, this.getTagsForStencil(gn, 'cloudwatch cloud watch', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'application_discovery_service;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Application Discovery Service', null, null, this.getTagsForStencil(gn, 'application discovery service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudformation;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudFormation', null, null, this.getTagsForStencil(gn, 'cloudformation cloud formation', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudtrail;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudTrail', null, null, this.getTagsForStencil(gn, 'cloudtrail cloud trail', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'config;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Config', null, null, this.getTagsForStencil(gn, 'config', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'managed_services;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Managed Services', null, null, this.getTagsForStencil(gn, 'managed services', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'opsworks;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'OpsWorks', null, null, this.getTagsForStencil(gn, 'opsworks ops works', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'service_catalog;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Service Catalog', null, null, this.getTagsForStencil(gn, 'service catalog', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'trusted_advisor;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'Trusted Advisor', null, null, this.getTagsForStencil(gn, 'trusted advisor', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alarm;fillColor=#759C3E;gradientColor=none;',
					 s * 36, s * 44, '', 'Alarm', null, null, this.getTagsForStencil(gn, 'alarm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'event_time_based;fillColor=#759C3E;gradientColor=none;',
					 s * 42, s * 55, '', 'Event (Time Based)', null, null, this.getTagsForStencil(gn, 'event time based', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'event_event_based;fillColor=#759C3E;gradientColor=none;',
					 s * 40, s * 55, '', 'Event (Event Based)', null, null, this.getTagsForStencil(gn, 'event based', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'config_rule;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 48, '', 'Config Rule', null, null, this.getTagsForStencil(gn, 'config rule', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'stack_aws_cloudformation;fillColor=#759C3E;gradientColor=none;',
					 s * 49, s * 39, '', 'Stack AWS CloudFormation', null, null, this.getTagsForStencil(gn, 'stack cloudformation cloud formation', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'change_set;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Change Set', null, null, this.getTagsForStencil(gn, 'change set', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'template;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Template', null, null, this.getTagsForStencil(gn, 'template', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'apps;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 53, '', 'Apps', null, null, this.getTagsForStencil(gn, 'apps', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'deployments;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 51, '', 'Deployments', null, null, this.getTagsForStencil(gn, 'deployments', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'instances_2;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 54, '', 'Instances', null, null, this.getTagsForStencil(gn, 'instances', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'layers;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 53, '', 'Layers', null, null, this.getTagsForStencil(gn, 'layers', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'monitoring;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 45, '', 'Monitoring', null, null, this.getTagsForStencil(gn, 'monitoring', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'permissions;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 53, '', 'Permissions', null, null, this.getTagsForStencil(gn, 'permissions', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'resources;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 53, '', 'Resources', null, null, this.getTagsForStencil(gn, 'resources', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'stack_aws_opsworks;fillColor=#759C3E;gradientColor=none;',
					 s * 53, s * 53, '', 'Stack AWS OpsWorks', null, null, this.getTagsForStencil(gn, 'stack opsworks ops works', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Checklist', null, null, this.getTagsForStencil(gn, 'checklist', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_cost;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 50, '', 'Checklist Cost', null, null, this.getTagsForStencil(gn, 'checklist cost', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_fault_tolerance;fillColor=#759C3E;gradientColor=none;',
					 s * 38, s * 48, '', 'Checklist Fault Tolerance', null, null, this.getTagsForStencil(gn, 'checklist fault tolerance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_performance;fillColor=#759C3E;gradientColor=none;',
					 s * 41, s * 49, '', 'Checklist Performance', null, null, this.getTagsForStencil(gn, 'checklist performance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_security;fillColor=#759C3E;gradientColor=none;',
					 s * 36, s * 46, '', 'Checklist Security', null, null, this.getTagsForStencil(gn, 'checklist security', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'pinpoint;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 58, '', 'Pinpoint', null, null, this.getTagsForStencil(gn, 'pinpoint', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ses;fillColor=#D9A741;gradientColor=none;',
					 s * 53, s * 62, '', 'SES', null, null, this.getTagsForStencil(gn, 'ses', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sns;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 51, '', 'SNS', null, null, this.getTagsForStencil(gn, 'sns', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sqs;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'SQS', null, null, this.getTagsForStencil(gn, 'sqs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'swf;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'SWF', null, null, this.getTagsForStencil(gn, 'swf', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'search_documents;fillColor=#D9A741;gradientColor=none;',
					 s * 40, s * 42, '', 'SDF Metadata', null, null, this.getTagsForStencil(gn, 'sdf metadata', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'email;fillColor=#D9A741;gradientColor=none;',
					 s * 54, s * 41, '', 'Email', null, null, this.getTagsForStencil(gn, 'email', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'message;fillColor=#D9A741;gradientColor=none;',
					 s * 28, s * 33, '', 'Message', null, null, this.getTagsForStencil(gn, 'message', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'queue;fillColor=#D9A741;gradientColor=none;',
					 s * 49, s * 32, '', 'Queue', null, null, this.getTagsForStencil(gn, 'queue', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'decider;fillColor=#D9A741;gradientColor=none;',
					 s * 41, s * 43, '', 'Decider', null, null, this.getTagsForStencil(gn, 'decider', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'worker;fillColor=#D9A741;gradientColor=none;',
					 s * 40, s * 42, '', 'Worker', null, null, this.getTagsForStencil(gn, 'worker', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'email_notification;fillColor=#D9A741;gradientColor=none;',
					 s * 67, s * 42, '', 'Email Notification', null, null, this.getTagsForStencil(gn, 'email notification', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_notification;fillColor=#D9A741;gradientColor=none;',
					 s * 67, s * 42, '', 'HTTP Notification', null, null, this.getTagsForStencil(gn, 'http notification', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'topic_2;fillColor=#D9A741;gradientColor=none;',
					 s * 62, s * 39, '', 'Topic', null, null, this.getTagsForStencil(gn, 'topic', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'snowball;fillColor=#E05243;gradientColor=none;',
					 s * 45, s * 54, '', 'Snowball', null, null, this.getTagsForStencil(gn, 'snowball', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'server_migration_service;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 62, '', 'Server Migration Service', null, null, this.getTagsForStencil(gn, 'server migration service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'import_export;fillColor=#E05243;gradientColor=none;',
					 s * 43, s * 42, '', 'Import/Export', null, null, this.getTagsForStencil(gn, 'Import Export', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'migration_hub;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 48, '', 'Migration Hub', null, null, this.getTagsForStencil(gn, 'migration hub', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_service;fillColor=#5294CF;gradientColor=none;',
					 s * 48, s * 54, '', 'Database Migration Service', null, null, this.getTagsForStencil(gn, 'database migration service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_workflow_job;fillColor=#5294CF;gradientColor=none;',
					 s * 31, s * 58, '', 'Database Migration Workflow Job', null, null, this.getTagsForStencil(gn, 'database migration workflow job', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'api_gateway;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'API Gateway', null, null, this.getTagsForStencil(gn, 'api gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cognito;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 62, '', 'Cognito', null, null, this.getTagsForStencil(gn, 'cognito', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_analytics;fillColor=#AD688B;gradientColor=none;',
					 s * 60, s * 62, '', 'Mobile Analytics', null, null, this.getTagsForStencil(gn, 'mobile analytics', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'device_farm;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 62, '', 'Device Farm', null, null, this.getTagsForStencil(gn, 'device farm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_hub;fillColor=#AD688A;gradientColor=#F58435;gradientDirection=west;',
					 s * 50, s * 54, '', 'Mobile Hub', null, null, this.getTagsForStencil(gn, 'mobile hub', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudfront;fillColor=#F58536;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudFront', null, null, this.getTagsForStencil(gn, 'cloudfront cloud front', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'route_53;fillColor=#F58536;gradientColor=none;',
					 s * 47, s * 57, '', 'Route 53', null, null, this.getTagsForStencil(gn, 'route 53', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc;fillColor=#F58536;gradientColor=none;',
					 s * 45, s * 54, '', 'VPC', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_load_balancing;fillColor=#F58536;gradientColor=none;',
					 s * 51, s * 62, '', 'Elastic Load Balancing', null, null, this.getTagsForStencil(gn, 'elastic load balancing', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'direct_connect;fillColor=#F58536;gradientColor=none;',
					 s * 45, s * 54, '', 'Direct Connect', null, null, this.getTagsForStencil(gn, 'direct connect', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'hosted_zone;fillColor=#F58536;gradientColor=none;',
					 s * 42, s * 43, '', 'Hosted Zone', null, null, this.getTagsForStencil(gn, 'hosted zone', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'route_table;fillColor=#F58536;gradientColor=none;',
					 s * 50, s * 46, '', 'Route Table', null, null, this.getTagsForStencil(gn, 'route table', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'customer_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Customer Gateway', null, null, this.getTagsForStencil(gn, 'customer gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'endpoints;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Endpoints', null, null, this.getTagsForStencil(gn, 'endpoints', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'flow_logs;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Flow Logs', null, null, this.getTagsForStencil(gn, 'flow logs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Internet Gateway', null, null, this.getTagsForStencil(gn, 'internet gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'router;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_nat_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC NAT Gateway', null, null, this.getTagsForStencil(gn, 'vpc nat gateway virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_peering;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC Peering', null, null, this.getTagsForStencil(gn, 'vpc peering', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_connection;fillColor=#F58536;gradientColor=none;',
					 s * 39, s * 32, '', 'VPN Connection', null, null, this.getTagsForStencil(gn, 'vpn connection virtual private network', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPN Gateway', null, null, this.getTagsForStencil(gn, 'vpn_gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'el_load_balancer;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'EL Load Balancer', null, null, this.getTagsForStencil(gn, 'el load balancer', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_network_adapter;fillColor=#F58536;gradientColor=none;',
					 s * 50, s * 60, '', 'Elastic Network Adapter', null, null, this.getTagsForStencil(gn, 'elastic network adapter', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3GameDevelopmentPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service game development';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Game Development', 'AWS / Game Development', false,
		[
			 this.createVertexTemplateEntry(n + 'gamelift;fillColor=#AD688B;gradientColor=none;',
					 s * 47, s * 57, '', 'GameLift', null, null, this.getTagsForStencil(gn, 'gamelift game lift', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3GeneralPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service general';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3General', 'AWS / General', false,
		[
			 this.createVertexTemplateEntry(n + 'management_console;fillColor=#F58534;gradientColor=none;',
					 s * 42, s * 42, '', 'Management Console', null, null, this.getTagsForStencil(gn, 'management console', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloud;fillColor=#F58534;gradientColor=none;',
					 s * 53, s * 35, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'forums;fillColor=#F58534;gradientColor=none;',
					 s * 57, s * 55, '', 'Forums', null, null, this.getTagsForStencil(gn, 'forums', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'virtual_private_cloud;fillColor=#F58534;gradientColor=none;',
					 s * 53, s * 36, '', 'Virtual Private Cloud', null, null, this.getTagsForStencil(gn, 'virtual private cloud vpc', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'management_console;fillColor=#D2D3D3;gradientColor=none;',
					 s * 42, s * 42, '', 'Client', null, null, this.getTagsForStencil(gn, 'client', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_client;fillColor=#D2D3D3;gradientColor=none;',
					 s * 27, s * 42, '', 'Mobile Client', null, null, this.getTagsForStencil(gn, 'mobile client', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'multimedia;fillColor=#D2D3D3;gradientColor=none;',
					 s * 44, s * 42, '', 'Multimedia', null, null, this.getTagsForStencil(gn, 'multimedia', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'user;fillColor=#D2D3D3;gradientColor=none;',
					 s * 30, s * 42, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'users;fillColor=#D2D3D3;gradientColor=none;',
					 s * 44, s * 42, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'tape_storage;fillColor=#7D7C7C;gradientColor=none;',
					 s * 50, s * 26, '', 'Tape Storage', null, null, this.getTagsForStencil(gn, 'tape storage', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'corporate_data_center;fillColor=#7D7C7C;gradientColor=none;',
					 s * 31, s * 42, '', 'Corporate Data Center', null, null, this.getTagsForStencil(gn, 'corporate data center', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'traditional_server;fillColor=#7D7C7C;gradientColor=none;',
					 s * 31, s * 42, '', 'Traditional Server', null, null, this.getTagsForStencil(gn, 'traditional server', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'disk;fillColor=#7D7C7C;gradientColor=none;',
					 s * 41, s * 43, '', 'Disk', null, null, this.getTagsForStencil(gn, 'disk', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'generic_database;fillColor=#7D7C7C;gradientColor=none;',
					 s * 33, s * 43, '', 'Generic Database', null, null, this.getTagsForStencil(gn, 'generic database', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 53, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_2;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 36, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_3;fillColor=#D2D3D3;gradientColor=none;',
					 s * 53, s * 36, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'office_building;fillColor=#7D7C7C;gradientColor=none;',
					 s * 22, s * 53, '', 'Office Building', null, null, this.getTagsForStencil(gn, 'office building', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'saml_token;fillColor=#D2D3D3;gradientColor=none;',
					 s * 46, s * 48, '', 'SAML Token', null, null, this.getTagsForStencil(gn, 'saml token', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ssl_padlock;fillColor=#D2D3D3;gradientColor=none;',
					 s * 42, s * 52, '', 'SSL Padlock', null, null, this.getTagsForStencil(gn, 'ssl padlock', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3GroupsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service group groups';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Groups', 'AWS / Groups', false,
		[
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#000000;fillColor=none;gradientColor=none;dashPattern=8 3 1 3;strokeWidth=2;',
					 s * 133, s * 133, '', 'Auto Scaling Group', null, null, this.getTagsForStencil(gn, 'auto scaling group', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#F59D56;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;',
					 s * 133, s * 133, '', 'Availability Zone', null, null, this.getTagsForStencil(gn, 'availability zone', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#000000;fillColor=none;gradientColor=none;dashPattern=1 1;strokeWidth=2;',
					 s * 133, s * 133, '', 'Region', null, null, this.getTagsForStencil(gn, 'region', dt).join(' ')),
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;dashed=1;strokeColor=#ff0000;fillColor=none;gradientColor=none;dashPattern=8 4;strokeWidth=2;',
					 s * 133, s * 133, '', 'Security Group', null, null, this.getTagsForStencil(gn, 'security group', dt).join(' ')),
					 
				 this.addEntry(dt + 'elastic beanstalk container', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 41), n + 'elastic_beanstalk;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Elastic Beanstalk Container');
			 }),
			 
				 this.addEntry(dt + 'ec2 instance container', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 40, 41), n + 'instance;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'EC2 Instance Container');
			 }),
	
				 this.addEntry(dt + 'vpc subnet', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 35), n + 'permissions;fillColor=#D9A741;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'VPC Subnet');
			 }),
			 
			 this.createVertexTemplateEntry('rounded=1;arcSize=10;strokeColor=none;fillColor=#DBDBDB;gradientColor=none;',
					 s * 133, s * 133, '', 'Server Contents', null, null, this.getTagsForStencil(gn, 'server contents', dt).join(' ')),
			 
			 this.addEntry(dt + 'virtual private cloud', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 52, 36), n + 'virtual_private_cloud;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Virtual Private Cloud');
			 }),
	
			 this.addEntry(dt + 'cloud', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 52, 36), n + 'cloud;fillColor=#F58536;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'AWS Cloud');
			 }),
			 
			 this.addEntry(dt + 'corporate data center', function()
			 {
				var bg1 = new mxCell('', new mxGeometry(0, 20, 200, 200), 'rounded=1;arcSize=10;dashed=0;strokeColor=#000000;fillColor=none;gradientColor=none;strokeWidth=2;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(20, 0, 30, 42), n + 'corporate_data_center;fillColor=#7D7C7C;gradientColor=none;dashed=0;');
				bg2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 200, 220, 'Corporate Data Center');
			 })
		]);
	};

	Sidebar.prototype.addAWS3InternetOfThingsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service iot internet of things';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Internet of Things', 'AWS / Internet of Things', false,
		[
			 this.createVertexTemplateEntry(n + 'aws_iot;fillColor=#5294CF;gradientColor=none;',
					 s * 45, s * 54, '', 'AWS IoT', null, null, this.getTagsForStencil(gn, 'iot internet of things', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'greengrass;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 62, '', 'Greengrass', null, null, this.getTagsForStencil(gn, 'greengrass', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'action;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 43, '', 'Action', null, null, this.getTagsForStencil(gn, 'action', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'actuator;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 60, '', 'Actuator', null, null, this.getTagsForStencil(gn, 'actuator', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'certificate;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 57, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'desired_state;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Desired State', null, null, this.getTagsForStencil(gn, 'desired state', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'hardware_board;fillColor=#5294CF;gradientColor=none;',
					 s * 56, s * 67, '', 'Hardware Board', null, null, this.getTagsForStencil(gn, 'hardware board', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'HTTP Protocol', null, null, this.getTagsForStencil(gn, 'http protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_2_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'HTTP/2 Protocol', null, null, this.getTagsForStencil(gn, 'http 2 protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mqtt_protocol;fillColor=#5294CF;gradientColor=none;',
					 s * 42, s * 44, '', 'MQTT Protocol', null, null, this.getTagsForStencil(gn, 'mqtt protocol', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'policy;fillColor=#5294CF;gradientColor=none;',
					 s * 37, s * 60, '', 'Policy', null, null, this.getTagsForStencil(gn, 'policy', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'reported_state;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Reported State', null, null, this.getTagsForStencil(gn, 'reported state', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'rule;fillColor=#5294CF;gradientColor=none;',
					 s * 33, s * 66, '', 'Rule', null, null, this.getTagsForStencil(gn, 'rule', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sensor;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 60, '', 'Sensor', null, null, this.getTagsForStencil(gn, 'sensor', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'servo;fillColor=#5294CF;gradientColor=none;',
					 s * 56, s * 40, '', 'Servo', null, null, this.getTagsForStencil(gn, 'servo', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'shadow;fillColor=#5294CF;gradientColor=none;',
					 s * 57, s * 61, '', 'Shadow', null, null, this.getTagsForStencil(gn, 'shadow', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'simulator;fillColor=#5294CF;gradientColor=none;',
					 s * 50, s * 52, '', 'Simulator', null, null, this.getTagsForStencil(gn, 'simulator', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'topic;fillColor=#5294CF;gradientColor=none;',
					 s * 33, s * 44, '', 'Topic', null, null, this.getTagsForStencil(gn, 'topic', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bank;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Bank', null, null, this.getTagsForStencil(gn, 'bank', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bicycle;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Bicycle', null, null, this.getTagsForStencil(gn, 'bicycle', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'camera;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Camera', null, null, this.getTagsForStencil(gn, 'camera', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'utility;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Utility', null, null, this.getTagsForStencil(gn, 'utility', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cart;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Cart', null, null, this.getTagsForStencil(gn, 'cart', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'car;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Car', null, null, this.getTagsForStencil(gn, 'car', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'windfarm;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Windfarm', null, null, this.getTagsForStencil(gn, 'windfarm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'house;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'House', null, null, this.getTagsForStencil(gn, 'house', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'generic;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Generic', null, null, this.getTagsForStencil(gn, 'generic', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'factory;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Factory', null, null, this.getTagsForStencil(gn, 'factory', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'coffee_pot;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Coffee Pot', null, null, this.getTagsForStencil(gn, 'coffee pot', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'door_lock;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Door Lock', null, null, this.getTagsForStencil(gn, 'door lock', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lightbulb;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Lightbulb', null, null, this.getTagsForStencil(gn, 'lightbulb', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'medical_emergency;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Medical Emergency', null, null, this.getTagsForStencil(gn, 'medical emergency', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'police_emergency;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Police Emergency', null, null, this.getTagsForStencil(gn, 'police emergency', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'thermostat;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Thermostat', null, null, this.getTagsForStencil(gn, 'thermostat', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'travel;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Travel', null, null, this.getTagsForStencil(gn, 'travel', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'echo;fillColor=#205B99;gradientColor=none;',
					 s * 27, s * 62, '', 'Echo', null, null, this.getTagsForStencil(gn, 'echo', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_skill;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Alexa Skill', null, null, this.getTagsForStencil(gn, 'alexa skill', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_smart_home_skill;fillColor=#5294CF;gradientColor=none;',
					 s * 60, s * 47, '', 'Alexa Smart Home Skill', null, null, this.getTagsForStencil(gn, 'alexa smart home skill', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_voice_service;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Alexa Voice Service', null, null, this.getTagsForStencil(gn, 'alexa voice service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alexa_enabled_device;fillColor=#5294CF;gradientColor=none;',
					 s * 53, s * 53, '', 'Alexa Enabled Device', null, null, this.getTagsForStencil(gn, 'alexa enabled device', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'lambda_function_2;fillColor=#5294CF;gradientColor=none;',
					 s * 40, s * 42, '', 'Lambda Function', null, null, this.getTagsForStencil(gn, 'lambda function', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'fire_tv;fillColor=#5294CF;gradientColor=none;',
					 s * 50, s * 37, '', 'Fire TV', null, null, this.getTagsForStencil(gn, 'fire tv', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'fire_tv_stick;fillColor=#5294CF;gradientColor=none;',
					 s * 57, s * 22, '', 'Fire TV Stick', null, null, this.getTagsForStencil(gn, 'fire tv stick', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3ManagementToolsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service management tools';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Management Tools', 'AWS / Management Tools', false,
		[
			 this.createVertexTemplateEntry(n + 'cloudwatch;fillColor=#759C3E;gradientColor=none;',
					 s * 55, s * 62, '', 'CloudWatch', null, null, this.getTagsForStencil(gn, 'cloudwatch cloud watch', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudformation;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudFormation', null, null, this.getTagsForStencil(gn, 'cloudformation cloud formation', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudtrail;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudTrail', null, null, this.getTagsForStencil(gn, 'cloudtrail cloud trail', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'config;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Config', null, null, this.getTagsForStencil(gn, 'config', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'managed_services;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Managed Services', null, null, this.getTagsForStencil(gn, 'managed services', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'opsworks;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'OpsWorks', null, null, this.getTagsForStencil(gn, 'opsworks ops works', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'service_catalog;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Service Catalog', null, null, this.getTagsForStencil(gn, 'service catalog', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'trusted_advisor;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'Trusted Advisor', null, null, this.getTagsForStencil(gn, 'trusted advisor', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'alarm;fillColor=#759C3E;gradientColor=none;',
					 s * 36, s * 44, '', 'Alarm', null, null, this.getTagsForStencil(gn, 'alarm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'event_time_based;fillColor=#759C3E;gradientColor=none;',
					 s * 42, s * 55, '', 'Event (Time Based)', null, null, this.getTagsForStencil(gn, 'event time based', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'event_event_based;fillColor=#759C3E;gradientColor=none;',
					 s * 40, s * 55, '', 'Event (Event Based)', null, null, this.getTagsForStencil(gn, 'event based', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'config_rule;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 48, '', 'Config Rule', null, null, this.getTagsForStencil(gn, 'config rule', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'stack_aws_cloudformation;fillColor=#759C3E;gradientColor=none;',
					 s * 49, s * 39, '', 'Stack AWS CloudFormation', null, null, this.getTagsForStencil(gn, 'stack cloudformation cloud formation', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'change_set;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Change Set', null, null, this.getTagsForStencil(gn, 'change set', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'template;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Template', null, null, this.getTagsForStencil(gn, 'template', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'apps;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 53, '', 'Apps', null, null, this.getTagsForStencil(gn, 'apps', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'deployments;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 51, '', 'Deployments', null, null, this.getTagsForStencil(gn, 'deployments', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'instances_2;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 54, '', 'Instances', null, null, this.getTagsForStencil(gn, 'instances', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'layers;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 53, '', 'Layers', null, null, this.getTagsForStencil(gn, 'layers', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'monitoring;fillColor=#759C3E;gradientColor=none;',
					 s * 54, s * 45, '', 'Monitoring', null, null, this.getTagsForStencil(gn, 'monitoring', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'permissions;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 53, '', 'Permissions', null, null, this.getTagsForStencil(gn, 'permissions', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'resources;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 53, '', 'Resources', null, null, this.getTagsForStencil(gn, 'resources', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'stack_aws_opsworks;fillColor=#759C3E;gradientColor=none;',
					 s * 53, s * 53, '', 'Stack AWS OpsWorks', null, null, this.getTagsForStencil(gn, 'stack opsworks ops works', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist;fillColor=#759C3E;gradientColor=none;',
					 s * 37, s * 43, '', 'Checklist', null, null, this.getTagsForStencil(gn, 'checklist', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_cost;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 50, '', 'Checklist Cost', null, null, this.getTagsForStencil(gn, 'checklist cost', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_fault_tolerance;fillColor=#759C3E;gradientColor=none;',
					 s * 38, s * 48, '', 'Checklist Fault Tolerance', null, null, this.getTagsForStencil(gn, 'checklist fault tolerance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_performance;fillColor=#759C3E;gradientColor=none;',
					 s * 41, s * 49, '', 'Checklist Performance', null, null, this.getTagsForStencil(gn, 'checklist performance', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'checklist_security;fillColor=#759C3E;gradientColor=none;',
					 s * 36, s * 46, '', 'Checklist Security', null, null, this.getTagsForStencil(gn, 'checklist security', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3MessagingPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service messaging';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Messaging', 'AWS / Messaging', false,
		[
			 this.createVertexTemplateEntry(n + 'pinpoint;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 58, '', 'Pinpoint', null, null, this.getTagsForStencil(gn, 'pinpoint', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'ses;fillColor=#D9A741;gradientColor=none;',
					 s * 53, s * 62, '', 'SES', null, null, this.getTagsForStencil(gn, 'ses', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sns;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 51, '', 'SNS', null, null, this.getTagsForStencil(gn, 'sns', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sqs;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'SQS', null, null, this.getTagsForStencil(gn, 'sqs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'email;fillColor=#D9A741;gradientColor=none;',
					 s * 54, s * 41, '', 'Email', null, null, this.getTagsForStencil(gn, 'email', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'message;fillColor=#D9A741;gradientColor=none;',
					 s * 28, s * 33, '', 'Message', null, null, this.getTagsForStencil(gn, 'message', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'queue;fillColor=#D9A741;gradientColor=none;',
					 s * 49, s * 32, '', 'Queue', null, null, this.getTagsForStencil(gn, 'queue', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'email_notification;fillColor=#D9A741;gradientColor=none;',
					 s * 67, s * 42, '', 'Email Notification', null, null, this.getTagsForStencil(gn, 'email notification', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'http_notification;fillColor=#D9A741;gradientColor=none;',
					 s * 67, s * 42, '', 'HTTP Notification', null, null, this.getTagsForStencil(gn, 'http notification', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'topic_2;fillColor=#D9A741;gradientColor=none;',
					 s * 62, s * 39, '', 'Topic', null, null, this.getTagsForStencil(gn, 'topic', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3MigrationPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service migration';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Migration', 'AWS / Migration', false,
		[
			 this.createVertexTemplateEntry(n + 'snowball;fillColor=#E05243;gradientColor=none;',
					 s * 45, s * 54, '', 'Snowball', null, null, this.getTagsForStencil(gn, 'snowball', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'server_migration_service;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 62, '', 'Server Migration Service', null, null, this.getTagsForStencil(gn, 'server migration service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'import_export;fillColor=#E05243;gradientColor=none;',
					 s * 43, s * 42, '', 'Import/Export', null, null, this.getTagsForStencil(gn, 'Import Export', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_service;fillColor=#5294CF;gradientColor=none;',
					 s * 48, s * 54, '', 'Database Migration Service', null, null, this.getTagsForStencil(gn, 'database migration service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'database_migration_workflow_job;fillColor=#5294CF;gradientColor=none;',
					 s * 31, s * 58, '', 'Database Migration Workflow Job', null, null, this.getTagsForStencil(gn, 'database migration workflow job', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'application_discovery_service;fillColor=#5294CF;gradientColor=none;',
					 s * 51, s * 62, '', 'Application Discovery Service', null, null, this.getTagsForStencil(gn, 'application discovery service', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3MobileServicesPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service mobile services';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Mobile Services', 'AWS / Mobile Services', false,
		[
			 this.createVertexTemplateEntry(n + 'api_gateway;fillColor=#D9A741;gradientColor=none;',
					 s * 51, s * 62, '', 'API Gateway', null, null, this.getTagsForStencil(gn, 'api gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cognito;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 62, '', 'Cognito', null, null, this.getTagsForStencil(gn, 'cognito', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_analytics;fillColor=#AD688B;gradientColor=none;',
					 s * 60, s * 62, '', 'Mobile Analytics', null, null, this.getTagsForStencil(gn, 'mobile analytics', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'pinpoint;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 58, '', 'Pinpoint', null, null, this.getTagsForStencil(gn, 'pinpoint', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'device_farm;fillColor=#AD688B;gradientColor=none;',
					 s * 51, s * 62, '', 'Device Farm', null, null, this.getTagsForStencil(gn, 'device farm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mobile_hub;fillColor=#AD688A;gradientColor=#F58435;gradientDirection=west;',
					 s * 50, s * 54, '', 'Mobile Hub', null, null, this.getTagsForStencil(gn, 'mobile hub', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3NetworkAndContentDeliveryPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service network and content delivery';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Networking and Content Delivery', 'AWS / Network and Content Delivery', false,
		[
			 this.createVertexTemplateEntry(n + 'cloudfront;fillColor=#F58536;gradientColor=none;',
					 s * 51, s * 62, '', 'CloudFront', null, null, this.getTagsForStencil(gn, 'cloudfront cloud front', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'route_53;fillColor=#F58536;gradientColor=none;',
					 s * 47, s * 57, '', 'Route 53', null, null, this.getTagsForStencil(gn, 'route 53', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc;fillColor=#F58536;gradientColor=none;',
					 s * 45, s * 54, '', 'VPC', null, null, this.getTagsForStencil(gn, 'vpc virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_load_balancing;fillColor=#F58536;gradientColor=none;',
					 s * 51, s * 62, '', 'Elastic Load Balancing', null, null, this.getTagsForStencil(gn, 'elastic load balancing', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'direct_connect;fillColor=#F58536;gradientColor=none;',
					 s * 45, s * 54, '', 'Direct Connect', null, null, this.getTagsForStencil(gn, 'direct connect', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'hosted_zone;fillColor=#F58536;gradientColor=none;',
					 s * 42, s * 43, '', 'Hosted Zone', null, null, this.getTagsForStencil(gn, 'hosted zone', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'route_table;fillColor=#F58536;gradientColor=none;',
					 s * 50, s * 46, '', 'Route Table', null, null, this.getTagsForStencil(gn, 'route table', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'customer_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Customer Gateway', null, null, this.getTagsForStencil(gn, 'customer gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'endpoints;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Endpoints', null, null, this.getTagsForStencil(gn, 'endpoints', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'flow_logs;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Flow Logs', null, null, this.getTagsForStencil(gn, 'flow logs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'internet_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Internet Gateway', null, null, this.getTagsForStencil(gn, 'internet gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'router;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_nat_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC NAT Gateway', null, null, this.getTagsForStencil(gn, 'vpc nat gateway virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpc_peering;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPC Peering', null, null, this.getTagsForStencil(gn, 'vpc peering virtual private cloud', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_connection;fillColor=#F58536;gradientColor=none;',
					 s * 39, s * 32, '', 'VPN Connection', null, null, this.getTagsForStencil(gn, 'vpn connection', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vpn_gateway;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'VPN Gateway', null, null, this.getTagsForStencil(gn, 'vpn gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'classic_load_balancer;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Classic Load Balancer', null, null, this.getTagsForStencil(gn, 'classic load balancer', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_network_adapter;fillColor=#F58536;gradientColor=none;',
					 s * 50, s * 60, '', 'Elastic Network Adapter', null, null, this.getTagsForStencil(gn, 'elastic network adapter', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'elastic_network_interface;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Elastic Network Interface', null, null, this.getTagsForStencil(gn, 'elastic network interface', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'application_load_balancer;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Application Load Balancer', null, null, this.getTagsForStencil(gn, 'application load balancer', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'streaming_distribution;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Streaming Distribution', null, null, this.getTagsForStencil(gn, 'streaming distribution', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'download_distribution;fillColor=#F58536;gradientColor=none;',
					 s * 46, s * 48, '', 'Download Distribution', null, null, this.getTagsForStencil(gn, 'download distribution', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'edge_location;fillColor=#F58536;gradientColor=none;',
					 s * 39, s * 43, '', 'Edge Location', null, null, this.getTagsForStencil(gn, 'edge location', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3OnDemandWorkforcePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service on demand workforce';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3On Demand Workforce', 'AWS / On-Demand Workforce', false,
		[
			 this.createVertexTemplateEntry(n + 'mechanical_turk;fillColor=#ACACAC;gradientColor=none;',
					 s * 45, s * 54, '', 'Mechanical Turk', null, null, this.getTagsForStencil(gn, 'mechanical turk', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'human_intelligence_tasks_hit;fillColor=#ACACAC;gradientColor=none;',
					 s * 35, s * 37, '', 'Human Intelligence Tasks HIT', null, null, this.getTagsForStencil(gn, 'human intelligence tasks hit', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'requester;fillColor=#ACACAC;gradientColor=none;',
					 s * 37, s * 43, '', 'Requester', null, null, this.getTagsForStencil(gn, 'requester', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'users;fillColor=#ACACAC;gradientColor=none;',
					 s * 44, s * 42, '', 'Workers', null, null, this.getTagsForStencil(gn, 'workers', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'assignment_task;fillColor=#ACACAC;gradientColor=none;',
					 s * 31, s * 42, '', 'Assignment/Task', null, null, this.getTagsForStencil(gn, 'assignment task', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3SDKPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service sdk software development kit';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3SDKs', 'AWS / SDK', false,
		[
			 this.createVertexTemplateEntry(n + 'android;fillColor=#96BF3D;gradientColor=none;',
					 s * 49, s * 56, '', 'Android', null, null, this.getTagsForStencil(gn, 'android', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cli;fillColor=#444444;gradientColor=none;',
					 s * 48, s * 55, '', 'CLI', null, null, this.getTagsForStencil(gn, 'cli', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'toolkit_for_eclipse;fillColor=#342074;gradientColor=none;',
					 s * 47, s * 52, '', 'Toolkit for Eclipse', null, null, this.getTagsForStencil(gn, 'toolkit for eclipse', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'toolkit_for_visual_studio;fillColor=#53B1CB;gradientColor=none;',
					 s * 47, s * 52, '', 'Toolkit for Visual Studio', null, null, this.getTagsForStencil(gn, 'toolkit for visual studio', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'toolkit_for_windows_powershell;fillColor=#737373;gradientColor=none;',
					 s * 47, s * 52, '', 'Toolkit for Windows PowerShell', null, null, this.getTagsForStencil(gn, 'toolkit for windows powershell', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#CFCFCF;gradientColor=none;',
					 s * 49, s * 56, '', 'iOS', null, null, this.getTagsForStencil(gn, 'ios', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#AE1F23;gradientColor=none;',
					 s * 49, s * 56, '', 'Ruby', null, null, this.getTagsForStencil(gn, 'ruby', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#FFD44F;gradientColor=none;',
					 s * 49, s * 56, '', 'Python (boto)', null, null, this.getTagsForStencil(gn, 'python boto', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#5A69A4;gradientColor=none;',
					 s * 49, s * 56, '', 'PHP', null, null, this.getTagsForStencil(gn, 'php', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#115193;gradientColor=none;',
					 s * 49, s * 56, '', '.NET', null, null, this.getTagsForStencil(gn, 'dot net dotnet', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#205E00;gradientColor=none;',
					 s * 49, s * 56, '', 'JavaScript', null, null, this.getTagsForStencil(gn, 'js javascript', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#EE472A;gradientColor=none;',
					 s * 49, s * 56, '', 'Java', null, null, this.getTagsForStencil(gn, 'java', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#4090D7;gradientColor=none;',
					 s * 49, s * 56, '', 'Xamarin', null, null, this.getTagsForStencil(gn, 'xamarin', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'android;fillColor=#8CC64F;gradientColor=none;',
					 s * 49, s * 56, '', 'Node.js', null, null, this.getTagsForStencil(gn, 'node js nodejs', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3SecurityIdentityAndCompliancePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service security and identity compliance';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Security Identity and Compliance', 'AWS / Security Identity and Compliance', false,
		[
			 this.createVertexTemplateEntry(n + 'inspector;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'Inspector', null, null, this.getTagsForStencil(gn, 'inspector', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'artifact;fillColor=#759C3E;gradientColor=none;',
					 s * 50, s * 60, '', 'Artifact', null, null, this.getTagsForStencil(gn, 'artifact', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'certificate_manager;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 41, '', 'Certificate Manager', null, null, this.getTagsForStencil(gn, 'certificate manager', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cloudhsm;fillColor=#759C3E;gradientColor=none;',
					 s * 49, s * 56, '', 'CloudHSM', null, null, this.getTagsForStencil(gn, 'cloudhsm cloud hsm', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'directory_service;fillColor=#759C3E;gradientColor=none;',
					 s * 45, s * 54, '', 'Directory Service', null, null, this.getTagsForStencil(gn, 'directory service', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'iam;fillColor=#759C3E;gradientColor=none;',
					 s * 28, s * 54, '', 'IAM', null, null, this.getTagsForStencil(gn, 'iam', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'kms;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'KMS', null, null, this.getTagsForStencil(gn, 'kms', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'shield;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 47, '', 'Shield', null, null, this.getTagsForStencil(gn, 'shield', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'organizations;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'Organizations', null, null, this.getTagsForStencil(gn, 'organizations', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'waf;fillColor=#759C3E;gradientColor=none;',
					 s * 51, s * 62, '', 'WAF', null, null, this.getTagsForStencil(gn, 'waf', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'agent;fillColor=#759C3E;gradientColor=none;',
					 s * 46, s * 48, '', 'Agent', null, null, this.getTagsForStencil(gn, 'agent', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'certificate_manager_2;fillColor=#759C3E;gradientColor=none;',
					 s * 49, s * 42, '', 'Certificate Manager', null, null, this.getTagsForStencil(gn, 'certificate manager', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'add_on;fillColor=#759C3E;gradientColor=none;',
					 s * 33, s * 18, '', 'Add-On', null, null, this.getTagsForStencil(gn, 'add on', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sts;fillColor=#759C3E;gradientColor=none;',
					 s * 41, s * 23, '', 'STS', null, null, this.getTagsForStencil(gn, 'sts', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'sts_2;fillColor=#759C3E;gradientColor=none;',
					 s * 31, s * 40, '', 'STS', null, null, this.getTagsForStencil(gn, 'sts', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'data_encryption_key;fillColor=#7D7C7C;gradientColor=none;',
					 s * 31, s * 40, '', 'Data Encryption Key', null, null, this.getTagsForStencil(gn, 'data encryption key', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'encrypted_data;fillColor=#7D7C7C;gradientColor=none;',
					 s * 29, s * 37, '', 'Encrypted Data', null, null, this.getTagsForStencil(gn, 'encrypted data', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'long_term_security_credential;fillColor=#ffffff;gradientColor=none;',
					 s * 40, s * 32, '', 'Long Term Security Credential', null, null, this.getTagsForStencil(gn, 'long term security credential', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'mfa_token;fillColor=#7D7C7C;gradientColor=none;',
					 s * 41, s * 41, '', 'MFA Token', null, null, this.getTagsForStencil(gn, 'mfa token', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'permissions_2;fillColor=#D2D3D3;gradientColor=none;',
					 s * 31, s * 42, '', 'Permissions', null, null, this.getTagsForStencil(gn, 'permissions', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'role;fillColor=#759C3E;gradientColor=none;',
					 s * 63, s * 53, '', 'Role', null, null, this.getTagsForStencil(gn, 'role', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'temporary_security_credential;fillColor=#ffffff;gradientColor=none;',
					 s * 45, s * 40, '', 'Temporary Security Credential', null, null, this.getTagsForStencil(gn, 'temporary security credential', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'filtering_rule;fillColor=#759C3E;gradientColor=none;',
					 s * 46, s * 48, '', 'Filtering Rule', null, null, this.getTagsForStencil(gn, 'filtering rule', dt).join(' '))
		]);
	};
	
	Sidebar.prototype.addAWS3StoragePalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.aws3.";
		var gn = 'mxgraph.aws3';
		var dt = 'aws group amazon web service storage';
		var s = 1.5; //scale
		
		this.addPaletteFunctions('aws3Storage', 'AWS / Storage', false,
		[
			 this.createVertexTemplateEntry(n + 's3;fillColor=#E05243;gradientColor=none;',
					 s * 51, s * 62, '', 'S3', null, null, this.getTagsForStencil(gn, 's3', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'glacier;fillColor=#E05243;gradientColor=none;',
					 s * 51, s * 62, '', 'Glacier', null, null, this.getTagsForStencil(gn, 'glacier', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'storage_gateway;fillColor=#E05243;gradientColor=none;',
					 s * 51, s * 62, '', 'Storage Gateway', null, null, this.getTagsForStencil(gn, 'storage gateway', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'efs;fillColor=#E05243;gradientColor=none;',
					 s * 51, s * 62, '', 'EFS', null, null, this.getTagsForStencil(gn, 'efs', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'archive;fillColor=#E05243;gradientColor=none;',
					 s * 38, s * 50, '', 'Archive', null, null, this.getTagsForStencil(gn, 'archive', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'vault;fillColor=#E05243;gradientColor=none;',
					 s * 36, s * 50, '', 'Vault', null, null, this.getTagsForStencil(gn, 'vault', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bucket;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 41, '', 'Bucket', null, null, this.getTagsForStencil(gn, 'bucket', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'bucket_with_objects;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 41, '', 'Bucket with Objects', null, null, this.getTagsForStencil(gn, 'bucket with objects', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'object;fillColor=#E05243;gradientColor=none;',
					 s * 28, s * 30, '', 'Object', null, null, this.getTagsForStencil(gn, 'object', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'virtual_tape_library;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 49, '', 'Virtual Tape Library', null, null, this.getTagsForStencil(gn, 'virtual tape library', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'cached_volume;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 49, '', 'Cached Volume', null, null, this.getTagsForStencil(gn, 'cached volume', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'non_cached_volume;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 49, '', 'Non-Cached Volume', null, null, this.getTagsForStencil(gn, 'non cached volume', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'snapshot;fillColor=#E05243;gradientColor=none;',
					 s * 40, s * 49, '', 'Snapshot', null, null, this.getTagsForStencil(gn, 'snapshot', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'volume;fillColor=#E05243;gradientColor=none;',
					 s * 35, s * 50, '', 'Volume', null, null, this.getTagsForStencil(gn, 'volume', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'snowball;fillColor=#E05243;gradientColor=none;',
					 s * 45, s * 54, '', 'Snowball', null, null, this.getTagsForStencil(gn, 'snowball', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'efs_share;fillColor=#E05243;gradientColor=none;',
					 s * 46, s * 42, '', 'EFS Share', null, null, this.getTagsForStencil(gn, 'efs share', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'import_export;fillColor=#E05243;gradientColor=none;',
					 s * 43, s * 42, '', 'Import/Export', null, null, this.getTagsForStencil(gn, 'import export', dt).join(' ')),
			 this.createVertexTemplateEntry(n + 'volume;fillColor=#E05243;gradientColor=none;',
					 s * 35, s * 50, '', 'EBS', null, null, this.getTagsForStencil(gn, 'ebs', dt).join(' '))
		]);
	};
	
	
	
})();

(function()
{
	// Adds AWS 3D shapes
	Sidebar.prototype.addAWS3DPalette = function()
	{
		var w = 100;
		var h = 100;
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_STROKEWIDTH + '=1;dashed=0;shape=mxgraph.aws3d.';
		var gn = 'mxgraph.aws3d';
		var dt = 'aws 3d amazon web service';

		this.addPaletteFunctions('aws3d', 'AWS 3D', false,
		[
			this.createVertexTemplateEntry(s + 'ami;aspect=fixed;fillColor=#E8CA45;strokeColor=#FFF215;', 
					w * 0.92, h * 0.6, '', 'AMI', null, null, this.getTagsForStencil(gn, 'ami', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ami2;aspect=fixed;fillColor=#FF9900;strokeColor=#ffffff;', 
					w * 0.74, h * 0.5, '', 'AMI', null, null, this.getTagsForStencil(gn, 'ami', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application;fillColor=#4286c5;strokeColor=#57A2D8;aspect=fixed;', 
					w * 0.62, h * 0.688, '', 'Application', null, null, this.getTagsForStencil(gn, 'application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application2;fillColor=#86E83A;strokeColor=#B0F373;aspect=fixed;', 
					w * 0.62, h * 0.53, '', 'Application', null, null, this.getTagsForStencil(gn, 'application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.24, '', 'EC2 Instance', null, null, this.getTagsForStencil(gn, 'ec2 instance', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'client;aspect=fixed;strokeColor=none;fillColor=#777777;', 
					w * 0.6, h * 1.04, '', 'Client', null, null, this.getTagsForStencil(gn, 'client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloudfront;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.038, h * 1.698, '', 'CloudFront', null, null, this.getTagsForStencil(gn, 'cloudfront', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file;aspect=fixed;strokeColor=#2d6195;fillColor=#ffffff;', 
					w * 0.308, h * 0.706, '', 'Content', null, null, this.getTagsForStencil(gn, 'content', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'customerGateway;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.167, h * 1.028, '', 'Customer Gateway', null, null, this.getTagsForStencil(gn, 'customer gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dataCenter;fillColor=#ffffff;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.42, '', 'Data Center', null, null, this.getTagsForStencil(gn, 'data center', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dataServer;fillColor=#ffffff;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.06, '', 'Data Server', null, null, this.getTagsForStencil(gn, 'data server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'decider;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.74, h * 0.5, '', 'Decider', null, null, this.getTagsForStencil(gn, 'decider', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dynamoDb;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.815, h * 2.1, '', 'DynamoDB', null, null, this.getTagsForStencil(gn, 'dynamodb db database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ebs;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.92, h * 0.6, '', 'EBS', null, null, this.getTagsForStencil(gn, 'ebs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ebs2;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.92, h * 0.6, '', 'EBS', null, null, this.getTagsForStencil(gn, 'ebs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'elasticBeanstalk;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.82, h * 1.4, '', 'Elastic Beanstalk', null, null, this.getTagsForStencil(gn, 'elastic beanstalk', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'elasticLoadBalancing;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.92, h * 0.8817, '', 'Elastic Load Balancing', null, null, this.getTagsForStencil(gn, 'elastic load balancing elb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'elasticMapReduce;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'Elastic MapReduce', null, null, this.getTagsForStencil(gn, 'elastic mapreduce', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'elasticache;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
//					w * 1.23, h * 1.43, '', 'Elasticache', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
					
		   	this.addEntry(dt + 'elasticache', function()
			   		{
					   	var bg1 = new mxCell('', new mxGeometry(70, 0, 123, 124), s + 'application_server;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;');
					   	bg1.vertex = true;
					   	var bg2 = new mxCell('', new mxGeometry(0, 40, 123, 124), s + 'application_server;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;');
					   	bg2.vertex = true;
					   	var bg3 = new mxCell('', new mxGeometry(140, 40, 123, 124), s + 'application_server;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;');
					   	bg3.vertex = true;
					   	var bg4 = new mxCell('', new mxGeometry(70, 80, 123, 124), s + 'application_server;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;');
					   	bg4.vertex = true;
						
				   		return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4], 264, 204, 'Elasticache');
					}),
					
					
			this.createVertexTemplateEntry(s + 'email;aspect=fixed;strokeColor=#292929;fillColor=#ffffff;', 
					w * 0.43, h * 0.57, '', 'Email', null, null, this.getTagsForStencil(gn, 'email', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_service;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.51, h * 1.92, '', 'Email Service', null, null, this.getTagsForStencil(gn, 'email service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file;aspect=fixed;strokeColor=#292929;fillColor=#ffffff;', 
					w * 0.308, h * 0.706, '', 'File', null, null, this.getTagsForStencil(gn, 'file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'glacier;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.81, h * 1.92, '', 'Glacier', null, null, this.getTagsForStencil(gn, 'glacier', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'image;strokeColor=none;fillColor=#777777;aspect=fixed;', 
					w * 0.5, h * 0.86, '', 'Image/Video', null, null, this.getTagsForStencil(gn, 'image video', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'internetGateway;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.167, h * 1.028, '', 'Internet Gateway', null, null, this.getTagsForStencil(gn, 'internet gateway', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'kinesisStream;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
//					w * 2.2, h * 1.6, '', 'Kinesis Stream', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lambda;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.92, h * 1.095, '', 'Lambda', null, null, this.getTagsForStencil(gn, 'lambda', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobile_worker;aspect=fixed;strokeColor=none;fillColor=#777777;', 
					w * 0.36, h * 0.90, '', 'Mobile Worker', null, null, this.getTagsForStencil(gn, 'mobile worker', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'oracleDataCenter;fillColor=#ffffff;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.42, '', 'Oracle Data Center', null, null, this.getTagsForStencil(gn, 'oracle data center', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'oracleDbServer;fillColor=#ffffff;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'Oracle Database Server', null, null, this.getTagsForStencil(gn, 'oracle database server db', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'oracleServer;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.42, '', 'Oracle Server', null, null, this.getTagsForStencil(gn, 'oracle server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rds;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'RDS', null, null, this.getTagsForStencil(gn, 'rds', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rdsMaster;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'RDS Master', null, null, this.getTagsForStencil(gn, 'rds master', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rdsSlave;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'RDS Slave', null, null, this.getTagsForStencil(gn, 'rds slave', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'redshift;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.50, h * 1.90, '', 'Redshift', null, null, this.getTagsForStencil(gn, 'redshift', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'route53;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.1717, h * 1.344, '', 'Route 53', null, null, this.getTagsForStencil(gn, 'route', dt).join(' ')),
			this.createVertexTemplateEntry(s + 's3;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 2.315, h * 2.39, '', 'S3', null, null, this.getTagsForStencil(gn, 's3', dt).join(' ')),
			this.createVertexTemplateEntry(s + 's3Bucket;fillColor=#4286c5;strokeColor=#57A2D8;aspect=fixed;', 
					w * 0.615, h * 0.638, '', 'S3 Bucket', null, null, this.getTagsForStencil(gn, 's3 bucket', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'searchEngine;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.80, h * 1.92, '', 'Search Engine', null, null, this.getTagsForStencil(gn, 'search engine', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'secureConnection;fillColor=#000000;strokeColor=#ffffff;aspect=fixed;', 
					w * 0.57, h * 0.34, '', 'Secure Connection', null, null, this.getTagsForStencil(gn, 'secure connection', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'securityTokenService;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.80, h * 1.92, '', 'Security Token Service', null, null, this.getTagsForStencil(gn, 'security token service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'simpleDb;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 1.33, '', 'SimpleDB', null, null, this.getTagsForStencil(gn, 'simpledb simple db database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'simpleDb2;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.815, h * 1.926, '', 'SimpleDB', null, null, this.getTagsForStencil(gn, 'simpledb simple db database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'snapshot;fillColor=#4286c5;strokeColor=#57A2D8;aspect=fixed;', 
					w * 0.92, h * 0.6, '', 'Snapshot', null, null, this.getTagsForStencil(gn, 'snapshot', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'instance;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.23, h * 0.97, '', 'Spot Instance', null, null, this.getTagsForStencil(gn, 'spot instance', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sqs;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.84, h * 2.1275, '', 'SQS', null, null, this.getTagsForStencil(gn, 'sqs', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'sqs2;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
//					w * 1.6, h * 0.93, '', 'SQS', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'end_user;strokeColor=none;fillColor=#777777;aspect=fixed;', 
					w * 0.49, h * 1.0046, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vpcGateway;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.167, h * 1.028, '', 'VPC Gateway', null, null, this.getTagsForStencil(gn, 'vpc gateway', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'webServer;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
//					w * 1.23, h * 1.06, '', 'Web Server', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worker;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 0.74, h * 0.5, '', 'Worker', null, null, this.getTagsForStencil(gn, 'worker', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workflowService;fillColor=#ECECEC;strokeColor=#5E5E5E;aspect=fixed;', 
					w * 1.822, h * 1.484, '', 'Workflow Service', null, null, this.getTagsForStencil(gn, 'workflow service', dt).join(' ')),

			this.createVertexTemplateEntry(s + 'arrowNE;fillColor=#000000;aspect=fixed;', 
					w * 0.455, h * 0.26, '', 'Arrow NE', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'arrowSE;fillColor=#000000;aspect=fixed;', 
					w * 0.455, h * 0.26, '', 'Arrow SE', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'arrowSW;fillColor=#000000;aspect=fixed;', 
					w * 0.455, h * 0.26, '', 'Arrow SW', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'arrowNW;fillColor=#000000;aspect=fixed;', 
					w * 0.455, h * 0.26, '', 'Arrow NW', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'arrowlessNE;fillColor=#000000;aspect=fixed;', 
					w * 0.316, h * 0.18, '', 'Arrowless NE', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dashedEdgeDouble;fillColor=#000000;aspect=fixed;', 
					w * 0.316, h * 0.18, '', 'Dashed Edge Double Arrow', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dashedArrowlessEdge;fillColor=#000000;aspect=fixed;', 
					w * 0.316, h * 0.18, '', 'Dashed Arrowless Edge', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dashedEdge;fillColor=#000000;aspect=fixed;', 
					w * 0.316, h * 0.18, '', 'Dashed Edge', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flatEdge;fillColor=#000000;aspect=fixed;', 
					w * 0.632, h * 0.36, '', 'Flat Edge', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flatDoubleEdge;fillColor=#000000;aspect=fixed;', 
					w * 2.528, h * 1.44, '', 'Flat Double Edge', null, null, this.getTagsForStencil(gn, 'arrow ne north east northeast', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'arrowhead;aspect=fixed;', 
					w * 0.19, h * 0.11, '', 'Arrowhead', null, null, this.getTagsForStencil(gn, 'arrowhead', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'edge;aspect=fixed;', 
					w * 0.97, h * 1.074, '', 'Edge', null, null, this.getTagsForStencil(gn, 'edge', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'reference;aspect=fixed;', 
					w * 0.295, h * 0.195, '', 'Reference', null, null, this.getTagsForStencil(gn, 'reference', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'spot;aspect=fixed;', 
					w * 0.62, h * 0.36, '', 'Spot', null, null, this.getTagsForStencil(gn, 'spot', dt).join(' ')),
		 	this.createEdgeTemplateEntry('edgeStyle=isometricEdgeStyle;endArrow=none;html=1;', 50, 100, 'isometric edge', 'Isometric Edge 1'),
		 	this.createEdgeTemplateEntry('edgeStyle=isometricEdgeStyle;endArrow=none;html=1;elbow=vertical;', 50, 100, 'isometric edge', 'Isometric Edge 2')
		]);
	};

})();

(function()
{
	// Adds containers
	var sidebarCreateAdvancedShapes = Sidebar.prototype.createAdvancedShapes;
	
	Sidebar.prototype.createAdvancedShapes = function()
	{
		var fns = sidebarCreateAdvancedShapes.apply(this, arguments);
		
		// Avoids having to bind all functions to "this"
		var sb = this;

		// Reusable cells
		var flow = new mxCell('Vertical Flow Layout', new mxGeometry(0, 0, 270, 280),
				'swimlane;html=1;startSize=20;horizontal=1;childLayout=flowLayout;flowOrientation=north;resizable=0;interRankCellSpacing=50;');
		flow.vertex = true;
		
		var flow1 = new mxCell('Start', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
		flow1.vertex = true;
		flow.insert(flow1);
		
		var flow2 = new mxCell('Task', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
		flow2.vertex = true;
		flow.insert(flow2);
		
		var edge = new mxCell('', new mxGeometry(0, 0, 0, 0), 'html=1;curved=1;');
		edge.geometry.relative = true;
		edge.edge = true;
		flow1.insertEdge(edge, true);
		flow2.insertEdge(edge, false);
		flow.insert(edge);
		
		var flow3 = new mxCell('Task', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
		flow3.vertex = true;
		flow.insert(flow3);
		
		edge = edge.clone();
		flow1.insertEdge(edge, true);
		flow3.insertEdge(edge, false);
		flow.insert(edge);
		
		var flow4 = new mxCell('End', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
		flow4.vertex = true;
		flow.insert(flow4);
		
		edge = edge.clone();
		flow2.insertEdge(edge, true);
		flow4.insertEdge(edge, false);
		flow.insert(edge);
		
		edge = edge.clone();
		flow3.insertEdge(edge, true);
		flow4.insertEdge(edge, false);
		flow.insert(edge);

		return fns.concat(
		[
		 	this.addEntry('container swimlane pool horizontal', function()
		 	{
				var cell = new mxCell('Pool', new mxGeometry(0, 0, 480, 380),
			    	'swimlane;html=1;childLayout=stackLayout;horizontal=1;startSize=20;horizontalStack=0;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Lane 1', new mxGeometry(0, 20, 480, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Lane 2', new mxGeometry(0, 140, 480, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell2.vertex = true;
				cell.insert(cell2);
				
				var cell3 = new mxCell('Lane 3', new mxGeometry(0, 260, 480, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell3.vertex = true;
				cell.insert(cell3);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Horizontal Pool 1', true);
		 	}),
		 	this.addEntry('container swimlane pool horizontal', function()
			{
				var cell = new mxCell('Pool', new mxGeometry(0, 0, 480, 360),
			    	'swimlane;html=1;childLayout=stackLayout;horizontal=0;startSize=20;horizontalStack=0;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Lane 1', new mxGeometry(20, 0, 460, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Lane 2', new mxGeometry(20, 120, 460, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell2.vertex = true;
				cell.insert(cell2);
				
				var cell3 = new mxCell('Lane 3', new mxGeometry(20, 240, 460, 120), 'swimlane;html=1;startSize=20;horizontal=0;');
				cell3.vertex = true;
				cell.insert(cell3);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Horizontal Pool 2', true);
		 	}),
		 	this.addEntry('container swimlane pool vertical', function()
			{
				var cell = new mxCell('Pool', new mxGeometry(0, 0, 360, 480),
			    	'swimlane;html=1;childLayout=stackLayout;startSize=20;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Lane 1', new mxGeometry(0, 20, 120, 460), 'swimlane;html=1;startSize=20;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Lane 2', new mxGeometry(120, 20, 120, 460), 'swimlane;html=1;startSize=20;');
				cell2.vertex = true;
				cell.insert(cell2);
				
				var cell3 = new mxCell('Lane 3', new mxGeometry(240, 20, 120, 460), 'swimlane;html=1;startSize=20;');
				cell3.vertex = true;
				cell.insert(cell3);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Vertical Pool 1', true);
		 	}),
		 	this.addEntry('container swimlane pool vertical', function()
			{
				var cell = new mxCell('Pool', new mxGeometry(0, 0, 380, 480),
			    	'swimlane;html=1;childLayout=stackLayout;startSize=20;horizontal=0;horizontalStack=1;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Lane 1', new mxGeometry(20, 0, 120, 480), 'swimlane;html=1;startSize=20;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Lane 2', new mxGeometry(140, 0, 120, 480), 'swimlane;html=1;startSize=20;');
				cell2.vertex = true;
				cell.insert(cell2);
				
				var cell3 = new mxCell('Lane 3', new mxGeometry(260, 0, 120, 480), 'swimlane;html=1;startSize=20;');
				cell3.vertex = true;
				cell.insert(cell3);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Vertical Pool 2', true);
		 	}),
		 	this.addEntry('vertical tree layout', function()
			{
				var cell = new mxCell('Vertical Tree Layout', new mxGeometry(0, 0, 280, 190),
						'swimlane;html=1;startSize=20;horizontal=1;childLayout=treeLayout;horizontalTree=0;resizable=0;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Root', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Child 1', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell2.vertex = true;
				cell.insert(cell2);
				
		    	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;elbow=vertical;html=1;rounded=0;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	cell1.insertEdge(edge1, true);
		    	cell2.insertEdge(edge1, false);
		    	cell.insert(edge1);
		    	
				var cell3 = new mxCell('Child 2', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell3.vertex = true;
				cell.insert(cell3);
				
		    	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;elbow=vertical;html=1;rounded=0;');
		    	edge2.geometry.relative = true;
		    	edge2.edge = true;
		    	cell1.insertEdge(edge2, true);
		    	cell3.insertEdge(edge2, false);
		    	cell.insert(edge2);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Vertical Tree Layout', true);
		 	}),
		 	this.addEntry('horizontal tree layout', function()
			{
				var cell = new mxCell('Horizontal Tree Layout', new mxGeometry(0, 0, 310, 160),
						'swimlane;html=1;startSize=20;horizontal=0;childLayout=treeLayout;horizontalTree=1;resizable=0;');
				cell.vertex = true;
				
				var cell1 = new mxCell('Root', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell1.vertex = true;
				cell.insert(cell1);
				
				var cell2 = new mxCell('Child 1', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell2.vertex = true;
				cell.insert(cell2);
				
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;elbow=horizontal;html=1;rounded=0;');
				edge1.geometry.relative = true;
				edge1.edge = true;
				cell1.insertEdge(edge1, true);
				cell2.insertEdge(edge1, false);
				cell.insert(edge1);
				
				var cell3 = new mxCell('Child 2', new mxGeometry(20, 20, 100, 40), 'whiteSpace=wrap;html=1;');
				cell3.vertex = true;
				cell.insert(cell3);
				
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;elbow=horizontal;html=1;rounded=0;');
				edge2.geometry.relative = true;
				edge2.edge = true;
				cell1.insertEdge(edge2, true);
				cell3.insertEdge(edge2, false);
				cell.insert(edge2);

				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Horizontal Tree Layout', true);
		 	}),
		 	this.addEntry('vertical flow layout', function()
			{
		 		return sb.createVertexTemplateFromCells([flow], flow.geometry.width, flow.geometry.height, 'Vertical Flow Layout', true);
		 	}),
		 	this.addEntry('horizontal flow layout', function()
			{
				var cell = sb.graph.cloneCells([flow])[0];
				cell.geometry = new mxGeometry(0, 0, 460, 150);
				cell.style = 'swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;';
				cell.value = 'Horizontal Flow Layout';
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Horizontal Flow Layout', true);
			})
		]);
	};
	
})();

(function()
{
	// Adds Android shapes
	Sidebar.prototype.addAndroidPalette = function()
	{
		var sizeX = 211; //reference size for iPhone and all other iOS shapes
		
		var sizeY = 2 * sizeX; //change only sizeX, to avoid changing aspect ratio

		var sb = this;
		var s = 'strokeWidth=1;html=1;shadow=0;dashed=0;shape=mxgraph.android.';
		var sm = 'strokeWidth=2;shadow=0;dashed=0;html=1;shape=mxgraph.android.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.android.';
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;shadow=0;dashed=0;strokeWidth=1;strokeColor=none;shape=';
		var s4 = 'rounded=1;html=1;shadow=0;dashed=0;whiteSpace=wrap;fontSize=10;fillColor=#';
		var s5 = 'whiteSpace=wrap;html=1;shadow=0;dashed=0;fontSize=10;align=left;fillColor=#';
		var s6 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;shadow=0;dashed=0;strokeWidth=2;shape=mxgraph.android.';
		
		//default tags
		var dt = 'android ';

		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'phone2;fillColor=#ffffff;strokeColor=#c0c0c0;', 
					200, 390, '', 'Phone', null, null, dt + 'phone mobile portrait'),
			this.createVertexTemplateEntry(s2 + 'phone2;fillColor=#ffffff;strokeColor=#c0c0c0;direction=south;', 
					390, 200, '', 'Phone (landscape)', null, null, dt + 'phone mobile landscape'),
			this.createVertexTemplateEntry(s2 + 'tab2;fillColor=#ffffff;strokeColor=#c0c0c0;', 
					472, 686, '', 'Tab', null, null, dt + 'tab tablet portrait'),
			this.createVertexTemplateEntry(s2 + 'tab2;fillColor=#ffffff;strokeColor=#c0c0c0;direction=north;', 
					686, 472, '', 'Tab (landscape)', null, null, dt + 'tab tablet landscape'),
			this.createVertexTemplateEntry(s + 'action_bar;fillColor=#1A1A1A;strokeColor=#c0c0c0;strokeWidth=2;fontColor=#FFFFFF;', 
					185, 30, '', 'Action Bar', null, null, dt + 'action bar dark portrait'),
			this.createVertexTemplateEntry(s + 'action_bar;fillColor=#E6E6E6;strokeColor=#c0c0c0;strokeWidth=2;', 
					185, 30, '', 'Action Bar (Bright)', null, null, dt + 'action bar bright portrait'),
			this.createVertexTemplateEntry(s + 'action_bar_landscape;fillColor=#1A1A1A;strokeColor=#c0c0c0;strokeWidth=2;fontColor=#FFFFFF;', 
					320, 30, '', 'Action Bar Landscape', null, null, dt + 'action bar landscape dark'),
			this.createVertexTemplateEntry(s + 'action_bar_landscape;fillColor=#E6E6E6;strokeColor=#c0c0c0;strokeWidth=2;', 
					320, 30, '', 'Action Bar Landscape (Bright)', null, null, dt + 'action bar bright landscape'),
			this.createVertexTemplateEntry(s4 + '666666;align=center;strokeColor=#4D4D4D;fontColor=#ffffff;', 
					sizeX * 0.5, sizeY * 0.04, 'Normal', 'Button (Normal)', null, null, dt + 'button normal'),
			this.createVertexTemplateEntry(s4 + '666666;align=center;strokeColor=#999999;fontColor=#ffffff;', 
					sizeX * 0.5, sizeY * 0.04, 'Focused', 'Button (Focused)', null, null, dt + 'button focused'),
			this.createVertexTemplateEntry(s4 + '999999;align=center;strokeColor=#666666;fontColor=#ffffff;strokeWidth=2;', 
					sizeX * 0.5, sizeY * 0.04, 'Pressed', 'Button (Pressed)', null, null, dt + 'button pressed'),
			this.createVertexTemplateEntry(s4 + '333333;align=center;strokeColor=#4D4D4D;fontColor=#666666;', 
					sizeX * 0.5, sizeY * 0.04, 'Focused disabled', 'Button (Focused, Disabled)', null, null, dt + 'button focused disabled'),
			this.createVertexTemplateEntry(s4 + '333333;align=center;strokeColor=#333333;fontColor=#666666;', 
					sizeX * 0.5, sizeY * 0.04, 'Disabled', 'Button (Disabled)', null, null, dt + 'button disabled'),
			this.createVertexTemplateEntry(s4 + 'E6E6E6;align=center;strokeColor=#E6E6E6;fontColor=#333333;', 
					sizeX * 0.5, sizeY * 0.04, 'Normal', 'Button (Normal, Bright)', null, null, dt + 'button normal bright'),
			this.createVertexTemplateEntry(s4 + 'E6E6E6;align=center;strokeColor=#B3B3B3;fontColor=#333333;', 
					sizeX * 0.5, sizeY * 0.04, 'Focused', 'Button (Focused, Bright)', null, null, dt + 'button focused bright'),
			this.createVertexTemplateEntry(s4 + 'B3B3B3;align=center;strokeColor=#E6E6E6;fontColor=#333333;strokeWidth=2;', 
					sizeX * 0.5, sizeY * 0.04, 'Pressed', 'Button (Pressed, Bright)', null, null, dt + 'button pressed bright'),
			this.createVertexTemplateEntry(s4 + 'F4F4F4;align=center;strokeColor=#E6E6E6;fontColor=#CCCCCC;', 
					sizeX * 0.5, sizeY * 0.04, 'Focused disabled', 'Button (Focused, Disabled, Bright)', null, null, dt + 'button focused disabled bright'),
			this.createVertexTemplateEntry(s4 + 'F4F4F4;align=center;strokeColor=#F4F4F4;fontColor=#CCCCCC;', 
					sizeX * 0.5, sizeY * 0.04, 'Disabled', 'Button (Disabled, Bright)', null, null, dt + 'button disabled bright'),

			this.addEntry(dt + 'checkboxes checkbox', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 165, 50), s + 'anchor;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Setting 1', new mxGeometry(0, 0, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var anchor1 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor1.vertex = true;
			   	button1.insert(anchor1);
			   	var radio1 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), s + 'rrect;rSize=0;resizable=0;strokeColor=#33b5e5;');
			   	radio1.vertex = true;
			   	anchor1.insert(radio1);
			   	var button2 = new mxCell('Setting 2', new mxGeometry(0, 12.5, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var anchor2 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor2.vertex = true;
			   	button2.insert(anchor2);
			   	var radio2 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), s + 'rrect;rSize=0;resizable=0;strokeColor=#33b5e5;');
			   	radio2.vertex = true;
			   	anchor2.insert(radio2);
			   	var button3 = new mxCell('Setting 3', new mxGeometry(0, 25, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var anchor3 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor3.vertex = true;
			   	button3.insert(anchor3);
			   	var radio3 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), s + 'checkbox;rSize=0;resizable=0;strokeColor=#33b5e5;');
			   	radio3.vertex = true;
			   	anchor3.insert(radio3);
			   	var button4 = new mxCell('Setting 4', new mxGeometry(0, 37.5, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var anchor4 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor4.vertex = true;
			   	button4.insert(anchor4);
			   	var radio4 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), s + 'rrect;rSize=0;resizable=0;strokeColor=#33b5e5;');
			   	radio4.vertex = true;
			   	anchor4.insert(radio4);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Checkboxes');
			}),

			this.addEntry(dt + 'radiobuttons radiobutton', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 165, 50), s + 'anchor;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Option 1', new mxGeometry(0, 0, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var anchor1 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor1.vertex = true;
			   	button1.insert(anchor1);
			   	var radio1 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), 'shape=ellipse;resizable=0;strokeColor=#33b5e5;html=1;');
			   	radio1.vertex = true;
			   	anchor1.insert(radio1);
			   	var button2 = new mxCell('Option 2', new mxGeometry(0, 12.5, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var anchor2 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor2.vertex = true;
			   	button2.insert(anchor2);
			   	var radio2 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), 'shape=ellipse;resizable=0;strokeColor=#33b5e5;html=1;');
			   	radio2.vertex = true;
			   	anchor2.insert(radio2);
			   	var button3 = new mxCell('Option 3', new mxGeometry(0, 25, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var anchor3 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor3.vertex = true;
			   	button3.insert(anchor3);
			   	var radio3 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), 'shape=ellipse;resizable=0;strokeColor=#33b5e5;fillColor=#33b5e5;html=1;');
			   	radio3.vertex = true;
			   	anchor3.insert(radio3);
			   	var button4 = new mxCell('Option 4', new mxGeometry(0, 37.5, 165, 12.5), s + 'anchor;align=left;spacingLeft=10;fontSize=8;fontColor=#33b5e5;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var anchor4 = new mxCell('', new mxGeometry(0, 6, 0, 0), s + 'anchor;');
			   	anchor4.vertex = true;
			   	button4.insert(anchor4);
			   	var radio4 = new mxCell('', new mxGeometry(2.5, -2.5, 5, 5), 'shape=ellipse;resizable=0;strokeColor=#33b5e5;html=1;');
			   	radio4.vertex = true;
			   	anchor4.insert(radio4);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Radiobuttons');
			}),

			this.createVertexTemplateEntry(s2 + 'contact_badge_focused;', 40, 40, '', 'Contact Badge Focused', null, null, dt + 'contact badge focused'),
			this.createVertexTemplateEntry(s2 + 'contact_badge_focused;', 60, 60, '', 'Contact Badge Focused', null, null, dt + 'contact badge focused'),
			this.createVertexTemplateEntry(s2 + 'contact_badge_normal;', 40, 40, '', 'Contact Badge Normal', null, null, dt + 'contact badge normal'),
			this.createVertexTemplateEntry(s2 + 'contact_badge_normal;', 60, 60, '', 'Contact Badge Normal', null, null, dt + 'contact badge normal'),
			this.createVertexTemplateEntry(s2 + 'contact_badge_pressed;', 40, 40, '', 'Contact Badge Pressed', null, null, dt + 'contact badge pressed'),
			this.createVertexTemplateEntry(s2 + 'contact_badge_pressed;', 60, 60, '', 'Contact Badge Pressed', null, null, dt + 'contact badge pressed'),

			this.addEntry(dt + 'contextual action bar dark portrait', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'contextual_action_bar;fillColor=#002E3E;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Action', new mxGeometry(40, 0, 100, 30), s + 'anchor;align=left;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);

		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Action Bar');
			}),
					
			this.addEntry(dt + 'contextual action bar bright portrait', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'contextual_action_bar_white;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Action', new mxGeometry(40, 0, 100, 30), s + 'anchor;align=left;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Action Bar (Bright)');
			}),

			this.addEntry(dt + 'contextual action bar landscape dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 30), s + 'contextual_action_bar_landscape;fillColor=#002E3E;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Action', new mxGeometry(40, 0, 100, 30), s + 'anchor;align=left;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Action Bar Landscape');
			}),

			this.addEntry(dt + 'contextual action bar landscape bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 30), s + 'contextual_action_bar_landscape_white;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Action', new mxGeometry(40, 0, 100, 30), s + 'anchor;align=left;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Action Bar Landscape (Bright)');
			}),

			this.addEntry(dt + 'contextual split action bar dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 70), s + 'contextual_split_action_bar;fillColor=#002E3E;fontColor=#FFFFFF;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Contextual', new mxGeometry(0, 0, 185, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 185, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Split Action Bar');
			}),

			this.addEntry(dt + 'contextual split action bar bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 70), s + 'contextual_split_action_bar_white;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Contextual', new mxGeometry(0, 0, 185, 30), s + 'anchor;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 185, 30), s + 'anchor;fontStyle=1;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Split Action Bar (Bright)');
			}),

			this.addEntry(dt + 'contextual split action bar landscape dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 70), s + 'contextual_split_action_bar_landscape;fillColor=#002E3E;fontColor=#FFFFFF;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Contextual', new mxGeometry(0, 0, 320, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 320, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Split Action Bar Landscape');
			}),

			this.addEntry(dt + 'contextual split action bar landscape bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 70), s + 'contextual_split_action_bar_landscape_white;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Contextual', new mxGeometry(0, 0, 320, 30), s + 'anchor;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 320, 30), s + 'anchor;fontStyle=1;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Contextual Split Action Bar Landscape (Bright)');
			}),

			this.createVertexTemplateEntry(s2 + 'indeterminate_progress_bar;strokeColor=#33B5E5;', 
					149, 5, '', 'Indeterminate Progress Bar', null, null, dt + 'indeterminate progress bar'),
			this.createVertexTemplateEntry(s2 + 'indeterminateSpinner;', 
					50, 50, '', 'Indeterminate Spinner', null, null, dt + 'indeterminate spinner'),
			this.createVertexTemplateEntry(s2 + 'keyboard;', 
					185, 100, '', 'Keyboard', null, null, dt + 'keyboard'),

			this.addEntry(dt + 'menu bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 50), s + 'rrect;rSize=0;strokeColor=#888888;fillColor=#444444;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Menu Item 1', new mxGeometry(0, 0, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#888888;align=left;spacingLeft=10;fontSize=8;fontColor=#ffffff;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Menu Item 2', new mxGeometry(0, 12.5, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#888888;align=left;spacingLeft=10;fontSize=8;fontColor=#ffffff;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Menu Item 3', new mxGeometry(0, 25, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#888888;align=left;spacingLeft=10;fontSize=8;fontColor=#ffffff;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Menu Item 4', new mxGeometry(0, 37.5, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#888888;align=left;spacingLeft=10;fontSize=8;fontColor=#ffffff;');
			   	button4.vertex = true;
			   	bg.insert(button4);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu bar');
			}),

			this.addEntry(dt + 'menu bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 50), s + 'rrect;rSize=0;strokeColor=#eeeeee;fillColor=#ffffff;gradientColor=none;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Menu Item 1', new mxGeometry(0, 0, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#eeeeee;align=left;spacingLeft=10;fontSize=8;fontColor=#333333;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Menu Item 2', new mxGeometry(0, 12.5, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#eeeeee;align=left;spacingLeft=10;fontSize=8;fontColor=#333333;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Menu Item 3', new mxGeometry(0, 25, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#eeeeee;align=left;spacingLeft=10;fontSize=8;fontColor=#333333;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Menu Item 4', new mxGeometry(0, 37.5, 185, 12.5), s + 'rrect;rSize=0;fillColor=none;strokeColor=#eeeeee;align=left;spacingLeft=10;fontSize=8;fontColor=#333333;');
			   	button4.vertex = true;
			   	bg.insert(button4);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu bar');
			}),

			this.createVertexTemplateEntry(s6 + 'navigation_bar_1;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar portrait horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_1_landscape;fillColor=#1A1A1A;strokeColor=#999999;', 
					320, 30, '', 'Navigation Bar Landscape', null, null, dt + 'navigation bar landscape horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_1_vertical;fillColor=#1A1A1A;strokeColor=#999999;', 
					30, 320, '', 'Navigation Bar Vertical', null, null, dt + 'navigation bar vertical'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_2;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_3;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar portrait horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_3_landscape;fillColor=#1A1A1A;strokeColor=#999999;', 
					320, 30, '', 'Navigation Bar Landscape', null, null, dt + 'navigation bar landscape horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_4;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_5;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar horizontal'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_5_vertical;fillColor=#1A1A1A;strokeColor=#999999;', 
					30, 320, '', 'Navigation Bar Vertical', null, null, dt + 'navigation bar vertical'),
			this.createVertexTemplateEntry(s6 + 'navigation_bar_6;fillColor=#1A1A1A;strokeColor=#999999;', 
					185, 30, '', 'Navigation Bar', null, null, dt + 'navigation bar horizontal'),
			this.createVertexTemplateEntry(s2 + 'progressBar;strokeColor=#33b5e5;dx1=0.8;dx2=0.6;strokeWidth=2;', 
					185, 5, '', 'Progress Bar', null, null, dt + 'progress bar'),
			this.createVertexTemplateEntry(s2 + 'progressScrubberDisabled;dx=0.3;fillColor=#33b5e5;', 
					185, 16, '', 'Progress Scrubber Disabled', null, null, dt + 'progress scrubber disabled'),
			this.createVertexTemplateEntry(s2 + 'progressScrubberFocused;dx=0.3;fillColor=#33b5e5;', 
					185, 16, '', 'Progress Scrubber Focused', null, null, dt + 'progress scrubber focused'),
			this.createVertexTemplateEntry(s2 + 'progressScrubberPressed;dx=0.3;fillColor=#33b5e5;', 
					185, 16, '', 'Progress Scrubber Pressed', null, null, dt + 'progress scrubber pressed'),
			this.createVertexTemplateEntry(s2 + 'quickscroll2;dy=0.5;fillColor=#33b5e5;strokeColor=#66D5F5;', 
					58, 320, '', 'Quickscroll', null, null, dt + 'quickscroll quick scroll'),

			this.createVertexTemplateEntry(s2 + 'quickscroll3;dy=0.5;fillColor=#33b5e5;strokeColor=#66D5F5;', 
					6, 320, '', 'Quickscroll', null, null, dt + 'quickscroll quick scroll'),
					
			this.addEntry(dt + 'quick contact', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 165), s + 'quick_contact;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Name', new mxGeometry(0, 65, 150, 18), s + 'anchor;rSize=0;fontStyle=1;fontColor=#FFFFFF;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Item 1', new mxGeometry(0, 108, 120, 28), s + 'anchor;rSize=0;align=left;spacingLeft=10;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('Item 2', new mxGeometry(0, 136, 120, 28), s + 'anchor;rSize=0;align=left;spacingLeft=10;');
			   	text3.vertex = true;
			   	bg.insert(text3);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Quick Contact');
			}),

			this.addEntry(dt + 'scrollable tab scroll', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 15), s + 'rrect;rSize=0;fillColor=#444444;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('One', new mxGeometry(0, 0, 46.25, 15), s + 'anchor;align=left;fontColor=#FFFFFF;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Tab Two', new mxGeometry(46.25, 0, 92.5, 15), s + 'anchor;fontColor=#FFFFFF;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('Tab', new mxGeometry(138.75, 0, 46.25, 15), s + 'anchor;align=right;fontColor=#FFFFFF;');
			   	text3.vertex = true;
			   	bg.insert(text3);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Scrollable Tab');
			}),

		   	this.createVertexTemplateEntry(s + 'scrollbars2;fillColor=#999999;strokeColor=none;', 
		   			56, 56, '', 'Scrollbars', null, null, dt + 'scrollbar scroll bar'),
			this.createVertexTemplateEntry(s5 + '1A1A1A;strokeColor=#1A1A1A;fontColor=#FFFFFF;', 
					sizeX * 0.8, sizeY * 0.04, 'Normal', 'Section Header (Normal)', null, null, dt + 'section header normal dark'),
			this.createVertexTemplateEntry(s5 + '4D4D4D;strokeColor=#4D4D4D;fontColor=#FFFFFF;', 
					sizeX * 0.8, sizeY * 0.04, 'Pressed', 'Section Header (Pressed)', null, null, dt + 'section header pressed dark'),
			this.createVertexTemplateEntry(s5 + '33b5e5;strokeColor=#33B5E5;fontColor=#FFFFFF;', 
					sizeX * 0.8, sizeY * 0.04, 'Activated', 'Section Header (Activated)', null, null, dt + 'section header activated dark'),
			this.createVertexTemplateEntry(s5 + '006699;strokeColor=#33B5E5;fontColor=#FFFFFF;', 
					sizeX * 0.8, sizeY * 0.04, 'Focused', 'Section Header (Focused)', null, null, dt + 'section header focused dark'),
			this.createVertexTemplateEntry(s5 + '006699;strokeColor=#33B5E5;fontColor=#B3B3B3;', 
					sizeX * 0.8, sizeY * 0.04, 'Disabled focused', 'Section Header (Disabled focused)', null, null, dt + 'section header disabled focused dark'),
			this.createVertexTemplateEntry(s5 + '1A1A1A;strokeColor=#1A1A1A;fontColor=#B3B3B3;', 
					sizeX * 0.8, sizeY * 0.04, 'Disabled', 'Section Header (Disabled)', null, null, dt + 'section header disabled dark'),
			this.createVertexTemplateEntry(s5 + 'FFFFFF;strokeColor=#FFFFFF;fontColor=#4D4D4D;', 
					sizeX * 0.8, sizeY * 0.04, 'Normal', 'Section Header (Normal, Bright)', null, null, dt + 'section header normal bright'),
			this.createVertexTemplateEntry(s5 + 'f6f6f6;strokeColor=#f6f6f6;fontColor=#4D4D4D;', 
					sizeX * 0.8, sizeY * 0.04, 'Pressed', 'Section Header (Pressed, Bright)', null, null, dt + 'section header pressed bright'),
			this.createVertexTemplateEntry(s5 + '33b5e5;strokeColor=#33B5E5;fontColor=#4D4D4D;', 
					sizeX * 0.8, sizeY * 0.04, 'Activated', 'Section Header (Activated, Bright)', null, null, dt + 'section header activated bright'),
			this.createVertexTemplateEntry(s5 + '99e5ff;strokeColor=#33B5E5;fontColor=#4D4D4D;', 
					sizeX * 0.8, sizeY * 0.04, 'Focused', 'Section Header (Focused, Bright)', null, null, dt + 'section header focused bright'),
			this.createVertexTemplateEntry(s5 + '99e5ff;strokeColor=#33B5E5;fontColor=#B3B3B3;', 
					sizeX * 0.8, sizeY * 0.04, 'Disabled focused', 'Section Header (Disabled focused, Bright)', null, null, dt + 'section header disabled focused bright'),
			this.createVertexTemplateEntry(s5 + 'FFFFFF;strokeColor=#FFFFFF;fontColor=#B3B3B3;', 
					sizeX * 0.8, sizeY * 0.04, 'Disabled', 'Section Header (Disabled, Bright)', null, null, dt + 'section header disabled bright'),
			this.createVertexTemplateEntry(s + 'spinner2;align=center;fillColor=#999999;strokeColor=#999999;verticalAlign=bottom', 
					110, 10, 'Item', 'Spinner Normal', null, null, dt + 'spinner normal'),
			this.createVertexTemplateEntry(s + 'spinner2;align=center;fillColor=#33b5e5;strokeColor=#33b5e5;verticalAlign=bottom', 
					110, 10, 'Item', 'Spinner Focused', null, null, dt + 'spinner focused'),
					
			this.addEntry(dt + 'spinner disabled focused', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 117, 28), s + 'rect;rounded=1;fillColor=#207585;strokeColor=#33b5e5;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Item', new mxGeometry(3, 4, 110, 20), s + 'spinner2;fontStyle=1;fontColor=#ffffff;align=center;verticalAlign=middle;strokeColor=#999999;fillColor=#999999;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Spinner Disabled Focused');
			}),
					
			this.addEntry(dt + 'spinner disabled focused light bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 117, 28), s + 'rect;rounded=1;fillColor=#ccf2ff;strokeColor=#88c5f5;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Item', new mxGeometry(3, 4, 110, 20), s + 'spinner2;fontStyle=0;fontColor=#666666;align=center;verticalAlign=middle;strokeColor=#cccccc;fillColor=#cccccc;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Spinner Disabled Focused Bright');
			}),

			this.addEntry(dt + 'spinner pressed', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 117, 28), s + 'rect;rounded=1;fillColor=#33b5e5;strokeColor=#33b5e5;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Item', new mxGeometry(3, 4, 110, 20), s + 'spinner2;fontStyle=0;fontColor=#ffffff;align=center;verticalAlign=middle;strokeColor=#aaeeff;fillColor=#aaeeff;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Spinner Pressed');
			}),

			this.addEntry(dt + 'spinner pressed light bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 117, 28), s + 'rect;rounded=1;fillColor=#33b5e5;strokeColor=#33b5e5;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Item', new mxGeometry(3, 4, 110, 20), s + 'spinner2;fontStyle=0;fontColor=#ffffff;align=center;verticalAlign=middle;strokeColor=#666666;fillColor=#666666;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Spinner Pressed Bright');
			}),
			
			this.addEntry(dt + 'split action bar dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 70), s + 'split_action_bar;fillColor=#1A1A1A;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Split', new mxGeometry(0, 0, 185, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 185, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Split Action Bar');
			}),

			this.addEntry(dt + 'split action bar bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 70), s + 'split_action_bar;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Split', new mxGeometry(0, 0, 185, 30), s + 'anchor;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 185, 30), s + 'anchor;fontStyle=1;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Split Action Bar (Bright)');
			}),

			this.addEntry(dt + 'split action bar landscape dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 70), s + 'split_action_bar_landscape;fillColor=#1A1A1A;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Split', new mxGeometry(0, 0, 320, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 320, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Split Action Bar Landscape');
			}),

			this.addEntry(dt + 'split action bar landscape bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 320, 70), s + 'split_action_bar_landscape;fillColor=#E6E6E6;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Split', new mxGeometry(0, 0, 320, 30), s + 'anchor;fontStyle=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Action', new mxGeometry(0, 40, 320, 30), s + 'anchor;fontStyle=1;');
			   	text2.vertex = true;
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Split Action Bar Landscape (Bright)');
			}),

			this.createVertexTemplateEntry(s + 'statusBar;align=center;fillColor=#000000;strokeColor=#ffffff;fontColor=#ffffff;fontSize=10;', 
					sizeX * 0.87, sizeY * 0.0375, '', 'Status bar (portrait)', null, null, dt + 'status bar portrait'),
			this.createVertexTemplateEntry(s + 'statusBar;align=center;fillColor=#000000;strokeColor=#ffffff;fontColor=#ffffff;fontSize=10;', 
					sizeX * 1.517, sizeY * 0.0375, '', 'Status bar (landscape)', null, null, dt + 'status bar landscape'),
			this.createVertexTemplateEntry(s2 + 'switch_off;fillColor=#666666;', 
					80, 20, '', 'Switch Off', null, null, dt + 'switch off'),
			this.createVertexTemplateEntry(s2 + 'switch_off;fillColor=#E6E6E6;', 
					80, 20, '', 'Switch Off', null, null, dt + 'switch off'),
			this.createVertexTemplateEntry(s2 + 'switch_on;fillColor=#666666;', 
					80, 20, '', 'Switch On', null, null, dt + 'switch on'),
			this.createVertexTemplateEntry(s2 + 'switch_on;fillColor=#E6E6E6;', 
					80, 20, '', 'Switch On', null, null, dt + 'switch on'),

			this.addEntry(dt + 'tab tabulator bar dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'rrect;rSize=0;fillColor=#444444;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Tab 1', new mxGeometry(0, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Tab 2', new mxGeometry(46.25, 0, 46.25, 30), s + 'rrect;rSize=0;fontStyle=1;fillColor=#0099cc;strokeColor=none;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var button1 = new mxCell('', new mxGeometry(0, 27, 46.25, 3), s + 'rrect;rSize=0;fillColor=#33b5e5;strokeColor=none;');
			   	button1.vertex = true;
			   	text2.insert(button1);
			   	var text3 = new mxCell('Tab 3', new mxGeometry(92.5, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('Tab 4', new mxGeometry(138.75, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var line1 = new mxCell('', new mxGeometry(131.5, 5, 10, 20), 'shape=line;strokeColor=#ffffff;direction=south;');
			   	line1.vertex = true;
			   	bg.insert(line1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Tab Bar Dark');
			}),

			this.addEntry(dt + 'tab tabulator bar dark', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'rrect;rSize=0;fillColor=#444444;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Tab 1', new mxGeometry(0, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Tab 2', new mxGeometry(46.25, 0, 46.25, 30), s + 'rrect;rSize=0;fontStyle=1;fillColor=none;strokeColor=none;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var button1 = new mxCell('', new mxGeometry(0, 27, 46.25, 3), s + 'rrect;rSize=0;fillColor=#33b5e5;strokeColor=none;');
			   	button1.vertex = true;
			   	text2.insert(button1);
			   	var text3 = new mxCell('Tab 3', new mxGeometry(92.5, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('Tab 4', new mxGeometry(138.75, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#ffffff;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var line1 = new mxCell('', new mxGeometry(131.5, 5, 10, 20), 'shape=line;strokeColor=#ffffff;direction=south;');
			   	line1.vertex = true;
			   	bg.insert(line1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Tab Bar Dark');
			}),

			this.addEntry(dt + 'tab tabulator bar bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'rrect;rSize=0;fillColor=#eeeeee;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Tab 1', new mxGeometry(0, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Tab 2', new mxGeometry(46.25, 0, 46.25, 30), s + 'rrect;rSize=0;fontStyle=1;fillColor=#44c5f5;strokeColor=none;fontColor=#ffffff;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var button1 = new mxCell('', new mxGeometry(0, 27, 46.25, 3), s + 'rrect;rSize=0;fillColor=#33b5e5;strokeColor=none;');
			   	button1.vertex = true;
			   	text2.insert(button1);
			   	var text3 = new mxCell('Tab 3', new mxGeometry(92.5, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('Tab 4', new mxGeometry(138.75, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var line1 = new mxCell('', new mxGeometry(131.5, 5, 10, 20), 'shape=line;strokeColor=#666666;direction=south;');
			   	line1.vertex = true;
			   	bg.insert(line1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Tab Bar Bright');
			}),

			this.addEntry(dt + 'tab tabulator bar bright', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 185, 30), s + 'rrect;rSize=0;fillColor=#eeeeee;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Tab 1', new mxGeometry(0, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Tab 2', new mxGeometry(46.25, 0, 46.25, 30), s + 'rrect;rSize=0;fontStyle=1;fillColor=none;strokeColor=none;fontColor=#666666;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var button1 = new mxCell('', new mxGeometry(0, 27, 46.25, 3), s + 'rrect;rSize=0;fillColor=#33b5e5;strokeColor=none;');
			   	button1.vertex = true;
			   	text2.insert(button1);
			   	var text3 = new mxCell('Tab 3', new mxGeometry(92.5, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('Tab 4', new mxGeometry(138.75, 0, 46.25, 30), s + 'anchor;fontStyle=1;fontColor=#666666;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var line1 = new mxCell('', new mxGeometry(131.5, 5, 10, 20), 'shape=line;strokeColor=#666666;direction=south;');
			   	line1.vertex = true;
			   	bg.insert(line1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Tab Bar Bright');
			}),

		   	this.createVertexTemplateEntry(s + 'textfield;align=center;strokeColor=#4D4D4D;', 
		   			174, 30, '', 'Textfield Disabled', null, null, dt + 'textfield disabled'),
			this.createVertexTemplateEntry(s + 'textfield;align=center;strokeColor=#999999;', 
					174, 30, '', 'Textfield Normal', null, null, dt + 'textfield normal'),
			this.createVertexTemplateEntry(s + 'textfield;align=center;strokeColor=#33b5e5;', 
					174, 30, '', 'Textfield Activated', null, null, dt + 'textfield activated'),
			this.createVertexTemplateEntry(s2 + 'text_insertion_point;', 
					20, 30, '', 'Text Insertion Point', null, null, dt + 'textfield insertion point'),
			this.createVertexTemplateEntry(s2 + 'textSelHandles;fillColor=#33b5e5;strokeColor=#0099cc;', 
					sizeX * 0.8, sizeY * 0.1, '', 'Text Selection Handles', null, null, dt + 'text selection handle'),
			this.createVertexTemplateEntry(s2 + 'time_picker;', 
					150, 230, '', 'Time Picker (Bright)', null, null, dt + 'time picker bright'),
			this.createVertexTemplateEntry(s2 + 'time_picker_dark;', 
					150, 230, '', 'Time Picker (Dark)', null, null, dt + 'time picker dark'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#33b5e5;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#0099cc;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#aa66cc;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#9933cc;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#99cc00;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#669900;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#ffbb33;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#ff8800;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#ff4444;', 
					50, 50, '', 'Color', null, null, dt + 'color'),
			this.createVertexTemplateEntry(s3 + 'rect;fillColor=#cc0000;', 
					50, 50, '', 'Color', null, null, dt + 'color')
		];

		this.addPalette('android', mxResources.get('android'), false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	// Adds ArchiMate 2.1 shapes
	Sidebar.prototype.addArchiMatePalette = function()
	{
		var w = 100;
		var h = 75;
		var s = 'html=1;shape=mxgraph.archimate.';
		var am1 = 'html=1;whiteSpace=wrap;fillColor=#ffff99;shape=mxgraph.archimate.';
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#99ffff;shape=mxgraph.archimate.';
		var am3 = 'html=1;whiteSpace=wrap;fillColor=#99ff99;shape=mxgraph.archimate.';
		var am4 = 'html=1;whiteSpace=wrap;fillColor=#ffccff;shape=mxgraph.archimate.';
		var am5 = 'html=1;whiteSpace=wrap;fillColor=#ccccff;shape=mxgraph.archimate.';
		var am6 = 'html=1;whiteSpace=wrap;fillColor=#ffe0e0;shape=mxgraph.archimate.';
		var am7 = 'html=1;whiteSpace=wrap;fillColor=#ffe0e0;shape=mxgraph.archimate.';
		var gn = 'mxgraph.archimate';
		var dt = 'archimate ';
		
		this.addPaletteFunctions('archimate', mxResources.get('archiMate21'), false,
		[
			this.createVertexTemplateEntry(am1 + 'application;appType=actor', 
					w, h, '', 'Business Actor', null, null, this.getTagsForStencil(gn, 'application', dt + 'business actor').join(' ')),
			this.createVertexTemplateEntry(am1 + 'application;appType=role', 
					w, h, '', 'Business Role', null, null, this.getTagsForStencil(gn, '', dt + 'business role').join(' ')),
			this.createVertexTemplateEntry(am1 + 'application;appType=collab', 
					w, h, '', 'Business Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'business collaboration').join(' ')),
			this.createVertexTemplateEntry(am1 + 'application;appType=interface', 
					w, h, '', 'Business Interface', null, null, this.getTagsForStencil(gn, '', dt + 'business interface').join(' ')),
			this.createVertexTemplateEntry(am1 + 'application;appType=interface2', 
					w, h, '', 'Business Interface', null, null, this.getTagsForStencil(gn, '', dt + 'business interface').join(' ')),
			this.createVertexTemplateEntry(am1 + 'location', 
					w, h, '', 'Location', null, null, this.getTagsForStencil(gn, '', dt + 'location').join(' ')),
			this.createVertexTemplateEntry(am1 + 'business;busType=process', 
					w, h, '', 'Business Process', null, null, this.getTagsForStencil(gn, '', dt + 'business process').join(' ')),
			this.createVertexTemplateEntry(am1 + 'business;busType=function', 
					w, h, '', 'Business Function', null, null, this.getTagsForStencil(gn, '', dt + 'business function').join(' ')),
			this.createVertexTemplateEntry(am1 + 'business;busType=interaction', 
					w, h, '', 'Business Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'business interaction').join(' ')),
			this.createVertexTemplateEntry(am1 + 'business;busType=event', 
					w, h, '', 'Business Event', null, null, this.getTagsForStencil(gn, '', dt + 'business event').join(' ')),
			this.createVertexTemplateEntry(am1 + 'business;busType=service', 
					w, h, '', 'Business Service', null, null, this.getTagsForStencil(gn, '', dt + 'business service').join(' ')),
			this.createVertexTemplateEntry(am1 + 'businessObject;overflow=fill', w, h, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="center"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Business Object', null, null, this.getTagsForStencil(gn, '', dt + 'business object').join(' ')),
			this.createVertexTemplateEntry(am1 + 'representation', 
					w, h, '', 'Representation', null, null, this.getTagsForStencil(gn, '', dt + 'representation').join(' ')),
			this.createVertexTemplateEntry('fillColor=#ffff99;whiteSpace=wrap;shape=cloud;html=1;', 
					w, h, '', 'Meaning', null, null, this.getTagsForStencil(gn, '', dt + 'meaning').join(' ')),
			this.createVertexTemplateEntry('fillColor=#ffff99;whiteSpace=wrap;shape=ellipse;html=1;', 
					w, h * 0.75, '', 'Value', null, null, this.getTagsForStencil(gn, '', dt + 'value').join(' ')),
			this.createVertexTemplateEntry(am1 + 'product;overflow=fill', w, h, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="left"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Product', null, null, this.getTagsForStencil(gn, '', dt + 'product').join(' ')),
			this.createVertexTemplateEntry(am1 + 'businessObject;overflow=fill', w, h, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="center"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Contract', null, null, this.getTagsForStencil(gn, '', dt + 'contract').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=comp', 
					w, h, '', 'Application Component', null, null, this.getTagsForStencil(gn, '', dt + 'application component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=collab', 
					w, h, '', 'Application Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'application collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interface', 
					w, h, '', 'Application Interface', null, null, this.getTagsForStencil(gn, '', dt + 'application interface').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interface2', 
					w, h, '', 'Application Interface', null, null, this.getTagsForStencil(gn, '', dt + 'application interface').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=function', 
					w, h, '', 'Application Function', null, null, this.getTagsForStencil(gn, '', dt + 'application function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interaction', 
					w, h, '', 'Application Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'application interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=service', 
					w, h, '', 'Application Service', null, null, this.getTagsForStencil(gn, '', dt + 'application service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'businessObject;overflow=fill', w, h, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="center"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Data Object', null, null, this.getTagsForStencil(gn, '', dt + 'data object').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=node',
					w, h, '', 'Node', null, null, this.getTagsForStencil(gn, '', dt + 'node').join(' ')),
			this.createVertexTemplateEntry(am3 + 'tech;techType=device', 
					w, h, '', 'Device', null, null, this.getTagsForStencil(gn, '', dt + 'device').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=network',
					w, h, '', 'Network', null, null, this.getTagsForStencil(gn, '', dt + 'network').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=commPath', 
					w, h, '', 'Communications Path', null, null, this.getTagsForStencil(gn, '', dt + 'communications path').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=interface', 
					w, h, '', 'Infrastructure Interface', null, null, this.getTagsForStencil(gn, '', dt + 'infrastructure interface').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=interface2', 
					w, h, '', 'Infrastructure Interface', null, null, this.getTagsForStencil(gn, '', dt + 'infrastructure interface').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=sysSw', 
					w, h, '', 'System Software', null, null, this.getTagsForStencil(gn, '', dt + 'system software').join(' ')),
			this.createVertexTemplateEntry(am3 + 'business;busType=function', 
					w, h, '', 'Infrastructure Function', null, null, this.getTagsForStencil(gn, '', dt + 'infraastructure function').join(' ')),
			this.createVertexTemplateEntry(am3 + 'business;busType=service', 
					w, h, '', 'Infrastructure Service', null, null, this.getTagsForStencil(gn, '', dt + 'infrastructure service').join(' ')),
			this.createVertexTemplateEntry(am3 + 'application;appType=artifact', 
					w, h, '', 'Artifact', null, null, this.getTagsForStencil(gn, '', dt + 'artifact').join(' ')),
			
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=none;elbow=vertical', 
					w, h, '', 'Association', null, this.getTagsForStencil(gn, '', dt + 'association').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=1;dashed=1', 
					w, h, '', 'Access', null, this.getTagsForStencil(gn, '', dt + 'access').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=none;elbow=vertical;endFill=0;dashed=1', 
					w, h, '', 'Access', null, this.getTagsForStencil(gn, '', dt + 'access').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=1',
					w, h, '', 'Used by', null, this.getTagsForStencil(gn, '', dt + 'used by').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=block;elbow=vertical;endFill=0;dashed=1', 
					w, h, '', 'Realization', null, this.getTagsForStencil(gn, '', dt + 'realization').join(' ')),
			this.createEdgeTemplateEntry('endArrow=oval;html=1;endFill=1;startArrow=oval;startFill=1;edgeStyle=elbowEdgeStyle;elbow=vertical', 
					w, h, '', 'Assignment', null, this.getTagsForStencil(gn, '', dt + 'assignment').join(' ')),
			this.createEdgeTemplateEntry('endArrow=none;html=1;endFill=0;startArrow=diamondThin;startFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical', 
					w, h, '', 'Aggregation', null, this.getTagsForStencil(gn, '', dt + 'aggregation').join(' ')),
			this.createEdgeTemplateEntry('endArrow=none;html=1;endFill=0;startArrow=diamondThin;startFill=1;edgeStyle=elbowEdgeStyle;elbow=vertical',
					w, h, '', 'Composition', null, this.getTagsForStencil(gn, '', dt + 'composition').join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=1;startArrow=none;startFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1',
					w, h, '', 'A', null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=1;startArrow=none;startFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=1', 
					w, h, '', 'Flow', null, this.getTagsForStencil(gn, '', dt + 'flow').join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=1;startArrow=none;startFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical;dashed=0', 
					w, h, '', 'Triggering', null, this.getTagsForStencil(gn, '', dt + 'triggering').join(' ')),
			this.createVertexTemplateEntry('swimlane;html=1;fillColor=#ffffff;whiteSpace=wrap', 
					w, h, '', 'Grouping', null, this.getTagsForStencil(gn, '', dt + 'grouping').join(' ')),
			this.createVertexTemplateEntry('ellipse;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;fillColor=#000000', 
					10, 10, '', 'Junction', null, this.getTagsForStencil(gn, '', dt + 'junction').join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical',
					w, h, '', 'Specialization', null, this.getTagsForStencil(gn, '', dt + 'specialization').join(' ')),

			this.createVertexTemplateEntry(am4 + 'motiv;motivType=stake', 
					w, h, '', 'Stakeholder', null, null, this.getTagsForStencil(gn, '', dt + 'stakeholder').join(' ')),
			this.createVertexTemplateEntry(am4 + 'motiv;motivType=driver', 
					w, h, '', 'Driver', null, null, this.getTagsForStencil(gn, '', dt + 'driver').join(' ')),
			this.createVertexTemplateEntry(am4 + 'motiv;motivType=assess', 
					w, h, '', 'Assessment', null, null, this.getTagsForStencil(gn, '', dt + 'assesment').join(' ')),
			this.createVertexTemplateEntry(am5 + 'motiv;motivType=goal', 
					w, h, '', 'Goal', null, null, this.getTagsForStencil(gn, '', dt + 'goal').join(' ')),
			this.createVertexTemplateEntry(am5 + 'motiv;motivType=req', 
					w, h, '', 'Requirement', null, null, this.getTagsForStencil(gn, '', dt + 'goal').join(' ')),
			this.createVertexTemplateEntry(am5 + 'motiv;motivType=const', 
					w, h, '', 'Constraint', null, null, this.getTagsForStencil(gn, '', dt + 'constraint').join(' ')),
			this.createVertexTemplateEntry(am5 + 'motiv;motivType=princ', 
					w, h, '', 'Principle', null, null, this.getTagsForStencil(gn, '', dt + 'principle').join(' ')),
			
			this.createVertexTemplateEntry(am6 + 'rounded=1', 
					w, h, '', 'Work Package', null, null, this.getTagsForStencil(gn, '', dt + 'work package').join(' ')),
			this.createVertexTemplateEntry(am6 + 'representation', 
					w, h, '', 'Deliverable', null, null, this.getTagsForStencil(gn, '', dt + 'deliverable').join(' ')),
			this.createVertexTemplateEntry(am3 + 'tech;techType=plateau', 
					w, h, '', 'Plateau', null, null, this.getTagsForStencil(gn, '', dt + 'plateau').join(' ')),
			this.createVertexTemplateEntry(am3 + 'gap', 
					w, h, '', 'Gap', null, null, this.getTagsForStencil(gn, '', dt + 'gap').join(' '))
		]);
	};
	
})();

(function()
{
	// Adds ArchiMate v3.0 shapes
	Sidebar.prototype.addArchimate3Palette = function()
	{
		this.addArchimate3ApplicationPalette();
		this.addArchimate3BusinessPalette();
		this.addArchimate3CompositePalette();
		this.addArchimate3ImplementationAndMigrationPalette();
		this.addArchimate3MotivationPalette();
		this.addArchimate3PhysicalPalette();
		this.addArchimate3RelationshipsPalette();
		this.addArchimate3StrategyPalette();
		this.addArchimate3TechnologyPalette();
	};
	
	Sidebar.prototype.addArchimate3ApplicationPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#99ffff;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate application layer ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=comp;archiType=square;', 
					w * 150, h * 75, '', 'Application Component', null, null, this.getTagsForStencil(gn, '', dt + 'component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'component;', 
					w * 70, h * 75, '', 'Component', null, null, this.getTagsForStencil(gn, '', dt + 'component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=collab;archiType=square;', 
					w * 150, h * 75, '', 'Application Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'collaboration;', 
					w * 60, h * 35, '', 'Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interface;archiType=square;', 
					w * 150, h * 75, '', 'Application Interface', null, null, this.getTagsForStencil(gn, '', dt + 'component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interface;', 
					w * 70, h * 35, '', 'Interface', null, null, this.getTagsForStencil(gn, '', dt + 'interface').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=proc;archiType=rounded;', 
					w * 150, h * 75, '', 'Application Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'process;', 
					w * 150, h * 75, '', 'Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=func;archiType=rounded;', 
					w * 150, h * 75, '', 'Application Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'function;', 
					w * 75, h * 75, '', 'Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interaction;archiType=rounded;', 
					w * 150, h * 75, '', 'Application Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interaction;', 
					w * 75, h * 75, '', 'Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=serv;archiType=rounded', 
					w * 150, h * 75, '', 'Application Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'service;', 
					w * 60, h * 35, '', 'Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=event;archiType=rounded', 
					w * 150, h * 75, '', 'Application Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'event;', 
					w * 60, h * 35, '', 'Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'businessObject;overflow=fill', 
					w * 150, h * 75, '<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="center"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Data Object', null, null, this.getTagsForStencil(gn, '', dt + 'data object').join(' '))
		];
			
		this.addPalette('archimate3Application', 'Archimate 3.0 / Application', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addArchimate3BusinessPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#ffff99;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate business layer ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=actor;archiType=square;', 
					w * 150, h * 75, '', 'Business Actor', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' ')),
			this.createVertexTemplateEntry(am2 + 'actor;', 
					w * 50, h * 95, '', 'Actor', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=role;archiType=square;', 
					w * 150, h * 75, '', 'Business Role', null, null, this.getTagsForStencil(gn, '', dt + 'role').join(' ')),
			this.createVertexTemplateEntry(am2 + 'role;', 
					w * 85, h * 50, '', 'Role', null, null, this.getTagsForStencil(gn, '', dt + 'role').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=collab;archiType=square;', 
					w * 150, h * 75, '', 'Business Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'collaboration;', 
					w * 60, h * 35, '', 'Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interface;archiType=square;', 
					w * 150, h * 75, '', 'Business Interface', null, null, this.getTagsForStencil(gn, '', dt + 'component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interface;', 
					w * 70, h * 35, '', 'Interface', null, null, this.getTagsForStencil(gn, '', dt + 'interface').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=proc;archiType=rounded;', 
					w * 150, h * 75, '', 'Business Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'process;', 
					w * 150, h * 75, '', 'Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=func;archiType=rounded;', 
					w * 150, h * 75, '', 'Business Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'function;', 
					w * 75, h * 75, '', 'Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interaction;archiType=rounded;', 
					w * 150, h * 75, '', 'Business Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interaction;', 
					w * 75, h * 75, '', 'Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=serv;archiType=rounded;', 
					w * 150, h * 75, '', 'Business Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'service;', 
					w * 60, h * 35, '', 'Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=event;archiType=rounded;', 
					w * 150, h * 75, '', 'Application Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'event;', 
					w * 60, h * 35, '', 'Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'businessObject;overflow=fill;', 
					w * 150, h * 75, '<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr style="height:20px;"><td align="center"></td></tr><tr><td align="left" valign="top" style="padding:4px;"></td></tr></table>', 
					'Business Object', null, null, this.getTagsForStencil(gn, '', dt + 'data object').join(' ')),
			this.createVertexTemplateEntry(am2 + 'contract;', 
					w * 150, h * 75, '', 'Contract', null, null, this.getTagsForStencil(gn, '', dt + 'contract').join(' ')),
			this.createVertexTemplateEntry(am2 + 'product;', 
					w * 150, h * 75, '', 'Product', null, null, this.getTagsForStencil(gn, '', dt + 'product').join(' ')),
			this.createVertexTemplateEntry(am2 + 'representation;', 
					w * 150, h * 90, '', 'Representation', null, null, this.getTagsForStencil(gn, '', dt + 'representation').join(' '))
		];
			
		this.addPalette('archimate3Business', 'Archimate 3.0 / Business', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addArchimate3CompositePalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#FFB973;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate composite element ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=actor;archiType=square;', 
					w * 150, h * 75, '', 'Location', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' ')),
			this.createVertexTemplateEntry('shape=folder;spacingTop=10;tabWidth=100;tabHeight=25;tabPosition=left;html=1;dashed=1;', 
					w * 150, h * 105, '', 'Group', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' '))
		];
			
		this.addPalette('archimate3Composite', 'Archimate 3.0 / Composite', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3ImplementationAndMigrationPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#FFE0E0;strokeColor=#000000;shape=mxgraph.archimate3.';
		var am3 = 'html=1;whiteSpace=wrap;fillColor=#E0FFE0;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate implementation migration element ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;archiType=rounded;', 
					w * 150, h * 75, '', 'Work Package', null, null, this.getTagsForStencil(gn, '', dt + 'work package').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=event;archiType=rounded;', 
					w * 150, h * 75, '', 'Implementation Event', null, null, this.getTagsForStencil(gn, '', dt + 'implementation event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'event;', 
					w * 60, h * 35, '', 'Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'deliverable;', 
					w * 150, h * 60, '', 'Deliverable', null, null, this.getTagsForStencil(gn, '', dt + 'deliverable').join(' ')),
			this.createVertexTemplateEntry(am3 + 'tech;techType=plateau;', 
					w * 150, h * 75, '', 'Plateau', null, null, this.getTagsForStencil(gn, '', dt + 'plateau').join(' ')),
			this.createVertexTemplateEntry(am3 + 'gap;', 
					w * 150, h * 60, '', 'Gap', null, null, this.getTagsForStencil(gn, '', dt + 'gap').join(' '))
		];
			
		this.addPalette('archimate3Implementation and Migration', 'Archimate 3.0 / Implementation and Migration', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3MotivationPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#CCCCFF;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate implementation motivation element ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=role;archiType=oct;', 
					w * 150, h * 75, '', 'Stakeholder', null, null, this.getTagsForStencil(gn, '', dt + 'stakeholder').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=driver;archiType=oct;', 
					w * 150, h * 75, '', 'Driver', null, null, this.getTagsForStencil(gn, '', dt + 'driver').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=assess;archiType=oct;', 
					w * 150, h * 75, '', 'Assesment', null, null, this.getTagsForStencil(gn, '', dt + 'assessment').join(' ')),
			this.createVertexTemplateEntry('shape=ellipse;html=1;whiteSpace=wrap;fillColor=#CCCCFF;strokeColor=#000000;', 
					w * 150, h * 75, '', 'Value', null, null, this.getTagsForStencil(gn, '', dt + 'value').join(' ')),
			this.createVertexTemplateEntry('shape=cloud;html=1;whiteSpace=wrap;fillColor=#CCCCFF;strokeColor=#000000;', 
					w * 150, h * 75, '', 'Meaning', null, null, this.getTagsForStencil(gn, '', dt + 'meaning').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=goal;archiType=oct;', 
					w * 150, h * 75, '', 'Goal', null, null, this.getTagsForStencil(gn, '', dt + 'goal').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=outcome;archiType=oct;', 
					w * 150, h * 75, '', 'Outcome', null, null, this.getTagsForStencil(gn, '', dt + 'outcome').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=principle;archiType=oct;', 
					w * 150, h * 75, '', 'Principle', null, null, this.getTagsForStencil(gn, '', dt + 'principle').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=requirement;archiType=oct;', 
					w * 150, h * 75, '', 'Requirement', null, null, this.getTagsForStencil(gn, '', dt + 'requirement').join(' ')),
			this.createVertexTemplateEntry(am2 + 'requirement;', 
					w * 100, h * 50, '', 'Requirement', null, null, this.getTagsForStencil(gn, '', dt + 'requirement').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=constraint;archiType=oct;', 
					w * 150, h * 75, '', 'Constraint', null, null, this.getTagsForStencil(gn, '', dt + 'constraint').join(' ')),
			this.createVertexTemplateEntry(am2 + 'constraint;', 
					w * 100, h * 50, '', 'Constraint', null, null, this.getTagsForStencil(gn, '', dt + 'constraint').join(' '))
		];
			
		this.addPalette('archimate3Motivation', 'Archimate 3.0 / Motivation', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3PhysicalPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#AFFFAF;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate physical element ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'tech;techType=facility;', 
					w * 150, h * 75, '', 'Facility', null, null, this.getTagsForStencil(gn, '', dt + 'facility').join(' ')),
			this.createVertexTemplateEntry(am2 + 'tech;techType=equipment;', 
					w * 150, h * 75, '', 'Equipment', null, null, this.getTagsForStencil(gn, '', dt + 'equipment').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=material;archiType=square;', 
					w * 150, h * 75, '', 'Material', null, null, this.getTagsForStencil(gn, '', dt + 'material').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=distribution;archiType=square;', 
					w * 150, h * 75, '', 'Distribution Network', null, null, this.getTagsForStencil(gn, '', dt + 'distribution').join(' ')),
			this.createVertexTemplateEntry(am2 + 'distribution;', 
					w * 90, h * 40, '', 'Distribution Network', null, null, this.getTagsForStencil(gn, '', dt + 'distribution').join(' '))
		];
			
		this.addPalette('archimate3Physical', 'Archimate 3.0 / Physical', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3RelationshipsPalette = function()
	{
		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate relationship ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createEdgeTemplateEntry('html=1;endArrow=diamondThin;endFill=1;edgeStyle=elbowEdgeStyle;elbow=vertical;endSize=10;',
					w * 160, 0, '', 'Composition', null, this.getTagsForStencil(gn, '', dt + 'composition').join(' ')),
			this.createEdgeTemplateEntry('html=1;endArrow=diamondThin;endFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical;endSize=10;',
					w * 160, 0, '', 'Aggregation', null, this.getTagsForStencil(gn, '', dt + 'aggregation').join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=1;startArrow=oval;startFill=1;edgeStyle=elbowEdgeStyle;elbow=vertical;',
					w * 160, 0, '', 'Assignment', null, this.getTagsForStencil(gn, '', dt + 'assignment').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=block;elbow=vertical;endFill=0;dashed=1;',
					w * 160, 0, '', 'Realization', null, this.getTagsForStencil(gn, '', dt + 'realization').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=1;',
					w * 160, 0, '', 'Serving', null, this.getTagsForStencil(gn, '', dt + 'serving').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=none;elbow=vertical;dashed=1;startFill=0;dashPattern=1 4;',
					w * 160, 0, '', 'Access', null, this.getTagsForStencil(gn, '', dt + 'access').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=0;dashed=1;startArrow=open;startFill=0;dashPattern=1 4;',
					w * 160, 0, '', 'Access', null, this.getTagsForStencil(gn, '', dt + 'access').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=0;dashed=1;dashPattern=1 4;',
					w * 160, 0, '', 'Access', null, this.getTagsForStencil(gn, '', dt + 'access').join(' ')),
					
			this.addEntry('uml influence', function()
			{
				var edge = new mxCell('+/-', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;endArrow=open;elbow=vertical;endFill=0;dashed=1;dashPattern=6 4;');
				edge.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				edge.geometry.setTerminalPoint(new mxPoint(160, 0), false);
				edge.geometry.relative = true;
				edge.geometry.x = 1;
				edge.geometry.y = 10;
				edge.edge = true;
			
				return sb.createEdgeTemplateFromCells([edge], 160, 0, 'Influence');
			}),
					
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=block;dashed=0;elbow=vertical;endFill=1;',
					w * 160, 0, '', 'Triggering', null, this.getTagsForStencil(gn, '', dt + 'triggering').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=block;dashed=1;elbow=vertical;endFill=1;dashPattern=6 4;',
					w * 160, 0, '', 'Flow', null, this.getTagsForStencil(gn, '', dt + 'flow').join(' ')),
			this.createEdgeTemplateEntry('endArrow=block;html=1;endFill=0;edgeStyle=elbowEdgeStyle;elbow=vertical;',
					w * 160, 0, '', 'Specialization', null, this.getTagsForStencil(gn, '', dt + 'specialization').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=elbowEdgeStyle;html=1;endArrow=none;elbow=vertical;',
					w * 160, 0, '', 'Association', null, this.getTagsForStencil(gn, '', dt + 'association').join(' ')),
			this.createVertexTemplateEntry('ellipse;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;fillColor=#000000;strokeColor=#000000;', 
					10, 10, '', 'And Junction', null, this.getTagsForStencil(gn, '', dt + 'junction').join(' ')),
			this.createVertexTemplateEntry('ellipse;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;fillColor=#ffffff;strokeColor=#000000;', 
					10, 10, '', 'Or Junction', null, this.getTagsForStencil(gn, '', dt + 'junction').join(' '))
		];
			
		this.addPalette('archimate3Relationships', 'Archimate 3.0 / Relationships', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3StrategyPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#F5DEAA;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate strategy ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=resource;archiType=square;', 
					w * 150, h * 75, '', 'Resource', null, null, this.getTagsForStencil(gn, '', dt + 'resource').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=capability;archiType=square;', 
					w * 150, h * 75, '', 'Capability', null, null, this.getTagsForStencil(gn, '', dt + 'capability').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=course;archiType=square;', 
					w * 150, h * 75, '', 'Course of Action', null, null, this.getTagsForStencil(gn, '', dt + 'course action').join(' '))
		];
			
		this.addPalette('archimate3Strategy', 'Archimate 3.0 / Strategy', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addArchimate3TechnologyPalette = function()
	{
		var am2 = 'html=1;whiteSpace=wrap;fillColor=#AFFFAF;strokeColor=#000000;shape=mxgraph.archimate3.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.archimate3';
		var dt = 'archimate technology ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(am2 + 'application;appType=node;archiType=square;', 
					w * 150, h * 75, '', 'Node', null, null, this.getTagsForStencil(gn, '', dt + 'node').join(' ')),
			this.createVertexTemplateEntry(am2 + 'node;', 
					w * 100, h * 60, '', 'Node', null, null, this.getTagsForStencil(gn, '', dt + 'node').join(' ')),
			this.createVertexTemplateEntry(am2 + 'tech;techType=device;', 
					w * 150, h * 75, '', 'Device', null, null, this.getTagsForStencil(gn, '', dt + 'device').join(' ')),
			this.createVertexTemplateEntry(am2 + 'device;', 
					w * 80, h * 65, '', 'Device', null, null, this.getTagsForStencil(gn, '', dt + 'device').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=sysSw;archiType=square;', 
					w * 150, h * 75, '', 'System Software', null, null, this.getTagsForStencil(gn, '', dt + 'system software').join(' ')),
			this.createVertexTemplateEntry(am2 + 'tech;techType=sysSw;', 
					w * 120, h * 75, '', 'System Software', null, null, this.getTagsForStencil(gn, '', dt + 'system software').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=collab;archiType=square;', 
					w * 150, h * 75, '', 'Technology Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'collaboration;', 
					w * 60, h * 35, '', 'Collaboration', null, null, this.getTagsForStencil(gn, '', dt + 'collaboration').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interface;archiType=square;', 
					w * 150, h * 75, '', 'Technology Interface', null, null, this.getTagsForStencil(gn, '', dt + 'component').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interface;', 
					w * 70, h * 35, '', 'Interface', null, null, this.getTagsForStencil(gn, '', dt + 'interface').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=proc;archiType=rounded;', 
					w * 150, h * 75, '', 'Technology Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'process;', 
					w * 150, h * 75, '', 'Process', null, null, this.getTagsForStencil(gn, '', dt + 'process').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=func;archiType=rounded;', 
					w * 150, h * 75, '', 'Technology Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'function;', 
					w * 75, h * 75, '', 'Function', null, null, this.getTagsForStencil(gn, '', dt + 'function').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=interaction;archiType=rounded;', 
					w * 150, h * 75, '', 'Technology Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'interaction;', 
					w * 75, h * 75, '', 'Interaction', null, null, this.getTagsForStencil(gn, '', dt + 'interaction').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=serv;archiType=rounded', 
					w * 150, h * 75, '', 'Technology Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'service;', 
					w * 60, h * 35, '', 'Service', null, null, this.getTagsForStencil(gn, '', dt + 'service').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=event;archiType=rounded', 
					w * 150, h * 75, '', 'Technology Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'event;', 
					w * 60, h * 35, '', 'Event', null, null, this.getTagsForStencil(gn, '', dt + 'event').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=artifact;archiType=square;', 
					w * 150, h * 75, '', 'Technology Artifact', null, null, this.getTagsForStencil(gn, '', dt + 'artifact').join(' ')),
			this.createVertexTemplateEntry(am2 + 'artifact;', 
					w * 50, h * 75, '', 'Artifact', null, null, this.getTagsForStencil(gn, '', dt + 'artifact').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=netw;archiType=square;', 
					w * 150, h * 75, '', 'Communication Network', null, null, this.getTagsForStencil(gn, '', dt + 'communication network').join(' ')),
			this.createVertexTemplateEntry(am2 + 'commNetw;strokeWidth=6;', 
					w * 100, h * 30, '', 'Communication Network', null, null, this.getTagsForStencil(gn, '', dt + 'communication network').join(' ')),
			this.createVertexTemplateEntry(am2 + 'application;appType=path;archiType=square;', 
					w * 150, h * 75, '', 'Path', null, null, this.getTagsForStencil(gn, '', dt + 'communication network').join(' ')),
			this.createVertexTemplateEntry(am2 + 'path;strokeWidth=6;', 
					w * 100, h * 30, '', 'Path', null, null, this.getTagsForStencil(gn, '', dt + 'path').join(' '))
		];
			
		this.addPalette('archimate3Technology', 'Archimate 3.0 / Technology', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	
	
	
	
	
})();

(function()
{
	// Adds Arrow shapes with control points
	Sidebar.prototype.addArrows2Palette = function()
	{
		var s = 'html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.';
		var s2 = 'html=1;shadow=0;dashed=0;fillColor=none;strokeColor=none;shape=mxgraph.arrows2.';
		var gn = 'mxgraph.arrows2';
		var dt = 'arrow ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s + 'arrow;dy=0.6;dx=40;notch=0;', 
					100, 70, '', 'Arrow Right', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'right').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0.6;dx=40;flipH=1;notch=0;', 
					100, 70, '', 'Arrow Left', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'leftt').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0.6;dx=40;direction=north;notch=0;', 
					70, 100, '', 'Arrow Up', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'up').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0.6;dx=40;direction=south;notch=0;', 
					70, 100, '', 'Arrow Down', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'down').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0;dx=30;notch=30;', 
					100, 60, '', 'Chevron Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'chevron').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0.6;dx=40;notch=15;', 
					100, 70, '', 'Notched Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'notched').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0;dx=10;notch=10;', 
					100, 30, '', 'Notched Signal-In Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'notched signal in').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0;dx=10;notch=0;', 
					100, 30, '', 'Signal-In Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'signal in').join(' ')),
			this.createVertexTemplateEntry(s + 'arrow;dy=0.67;dx=20;notch=0;', 
					100, 60, '', 'Slender Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'slender').join(' ')),
			this.createVertexTemplateEntry(s + 'twoWayArrow;dy=0.6;dx=35;', 
					100, 60, '', 'Two Way Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'two way').join(' ')),
			this.createVertexTemplateEntry(s + 'twoWayArrow;dy=0.65;dx=22;', 
					100, 60, '', 'Slender Two Way Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'slender two way').join(' ')),
			this.createVertexTemplateEntry(s + 'stylisedArrow;dy=0.6;dx=40;notch=15;feather=0.4;', 
					100, 60, '', 'Stylised Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'stylised notch notched').join(' ')),
			this.createVertexTemplateEntry(s + 'sharpArrow;dy1=0.67;dx1=18;dx2=18;notch=0;', 
					100, 60, '', 'Sharp Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'sharp').join(' ')),
			this.createVertexTemplateEntry(s + 'sharpArrow2;dy1=0.67;dx1=18;dx2=18;dy3=0.15;dx3=27;notch=0;', 
					100, 60, '', 'Sharp Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'sharp').join(' ')),
			this.createVertexTemplateEntry(s + 'calloutArrow;dy=10;dx=20;notch=60;arrowHead=10;', 
					100, 60, '', 'Callout with Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'callout').join(' ')),
			this.createVertexTemplateEntry(s + 'bendArrow;dy=15;dx=38;notch=0;arrowHead=55;rounded=0;', 
					100, 100, '', 'Bend Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'bend').join(' ')),
			this.createVertexTemplateEntry(s + 'bendArrow;dy=15;dx=38;notch=0;arrowHead=55;rounded=1;', 
					100, 100, '', 'Bend Arrow (rounded)', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'bend rounded').join(' ')),
			this.createVertexTemplateEntry(s + 'bendDoubleArrow;dy=15;dx=38;arrowHead=55;rounded=0;', 
					100, 100, '', 'Bend Double Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'bend double two way').join(' ')),
			this.createVertexTemplateEntry(s + 'bendDoubleArrow;dy=15;dx=38;arrowHead=55;rounded=1;', 
					100, 100, '', 'Bend Double Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'bend double two way').join(' ')),
			this.createVertexTemplateEntry(s + 'calloutDoubleArrow;dy=10;dx=20;notch=24;arrowHead=10;', 
					100, 50, '', 'Callout with Double Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'callout double two way').join(' ')),
			this.createVertexTemplateEntry(s + 'calloutQuadArrow;dy=10;dx=20;notch=24;arrowHead=10;', 
					100, 100, '', 'Callout with Quad Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'callout quad four war').join(' ')),
			this.createVertexTemplateEntry(s + 'calloutDouble90Arrow;dy1=10;dx1=20;dx2=70;dy2=70;arrowHead=10;', 
					100, 100, '', 'Callout with Double Arrow 90' + String.fromCharCode(176), null, null, this.getTagsForStencil(gn, 'arrow', dt + 'callout double two way orthogonal').join(' ')),
			this.createVertexTemplateEntry(s + 'quadArrow;dy=10;dx=20;notch=24;arrowHead=10;', 
					100, 100, '', 'Quad Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'four way quad').join(' ')),
			this.createVertexTemplateEntry(s + 'triadArrow;dy=10;dx=20;arrowHead=40;', 
					100, 70, '', 'Triad Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'three way triad').join(' ')),
			this.createVertexTemplateEntry(s + 'tailedArrow;dy1=10;dx1=20;notch=0;arrowHead=20;dx2=25;dy2=30;', 
					100, 60, '', 'Tailed Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'tailed').join(' ')),
			this.createVertexTemplateEntry(s + 'tailedNotchedArrow;dy1=10;dx1=20;notch=20;arrowHead=20;dx2=25;dy2=30;', 
					100, 60, '', 'Tailed Arrow with Notch', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'tailed notch notched').join(' ')),
			this.createVertexTemplateEntry(s + 'stripedArrow;dy=0.6;dx=40;notch=25;', 
					100, 70, '', 'Striped Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'striped').join(' ')),
			this.createVertexTemplateEntry(s + 'jumpInArrow;dy=15;dx=38;arrowHead=55;', 
					100, 100, '', 'Jump-In Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'jump in').join(' ')),
			this.createVertexTemplateEntry(s + 'uTurnArrow;dy=11;arrowHead=43;dx2=25;', 
					100, 100, '', 'U Turn Arrow', null, null, this.getTagsForStencil(gn, 'arrow', dt + 'u turn uturn').join(' '))
		];
			   	
   		this.addPalette('arrows2', mxResources.get('arrows'), false, mxUtils.bind(this, function(content)
	    {
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	Sidebar.prototype.addAzurePalette = function()
	{
		var w = 50;
		var h = 50;
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeColor=none;fillColor=#00BEF2;shape=mxgraph.azure.';
		var gn = 'mxgraph.azure';
		var dt = '';
		
		this.addPaletteFunctions('azure', mxResources.get('azure'), false,
		[
			this.createVertexTemplateEntry(s + 'access_control;', w, h, '', 'Access Control', null, null, this.getTagsForStencil(gn, 'access_control', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'automation;', w, h * 0.9, '', 'Automation', null, null, this.getTagsForStencil(gn, 'automation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'autoscale;', w, h * 0.6, '', 'AutoScale', null, null, this.getTagsForStencil(gn, 'autoscale', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_active_directory;', w * 0.95, h, '', 'Azure Active Directory', null, null, this.getTagsForStencil(gn, 'azure_active_directory', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_alert;', w, h * 0.85, '', 'Azure Alert', null, null, this.getTagsForStencil(gn, 'azure_alert', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_cache;', w * 0.9, h, '', 'Azure Cache', null, null, this.getTagsForStencil(gn, 'azure_cache', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_instance;', w, h, '', 'Azure Instance', null, null, this.getTagsForStencil(gn, 'azure_instance', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_load_balancer;', w, h * 0.7, '', 'Azure Load Balancer', null, null, this.getTagsForStencil(gn, 'azure_load_balancer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_marketplace;', w * 0.8, h, '', 'Azure Marketplace', null, null, this.getTagsForStencil(gn, 'azure_marketplace', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_sdk;', w, h * 0.95, '', 'Azure SDK', null, null, this.getTagsForStencil(gn, 'azure_sdk', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_subscription;', w, h * 0.7, '', 'Azure Subscription', null, null, this.getTagsForStencil(gn, 'azure_subscription', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_website;', w, h, '', 'Azure Website', null, null, this.getTagsForStencil(gn, 'azure_website', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_service;', w, h * 0.9, '', 'Backup Service', null, null, this.getTagsForStencil(gn, 'backup_service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bitbucket_code_source;', w * 0.85, h, '', 'BitBucket Code Source', null, null, this.getTagsForStencil(gn, 'bitbucket_code_source', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'biztalk_services;', w, h, '', 'BizTalk Services', null, null, this.getTagsForStencil(gn, 'biztalk_services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate;', w, h * 0.8, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;', w, h * 0.65, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_service;', w, h * 0.8, '', 'Cloud Service', null, null, this.getTagsForStencil(gn, 'cloud_service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_services_configuration_file;', w * 0.95, h, '', 'Cloud Services Configuration File', null, null, this.getTagsForStencil(gn, 'cloud_services_configuration_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_service_package_file;', w * 0.85, h, '', 'Cloud Service Package File', null, null, this.getTagsForStencil(gn, 'cloud_service_package_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'codeplex_code_source;', w, h * 0.75, '', 'CodePlex Code Source', null, null, this.getTagsForStencil(gn, 'codeplex_code_source', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'code_file;', w * 0.95, h, '', 'Code File', null, null, this.getTagsForStencil(gn, 'code_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'computer;', w, h * 0.9, '', 'Computer', null, null, this.getTagsForStencil(gn, 'computer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'content_delivery_network;', w, h * 0.65, '', 'Content Delivery Network', null, null, this.getTagsForStencil(gn, 'content_delivery_network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;', w * 0.75, h, '', 'Database', null, null, this.getTagsForStencil(gn, 'database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dropbox_code_source;', w, h * 0.95, '', 'DropBox Code Source', null, null, this.getTagsForStencil(gn, 'dropbox_code_source', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'enterprise;', w * 0.6, h, '', 'Enterprise', null, null, this.getTagsForStencil(gn, 'enterprise', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'express_route;', w, h * 0.6, '', 'Express Route', null, null, this.getTagsForStencil(gn, 'express_route', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file;', w * 0.95, h, '', 'File', null, null, this.getTagsForStencil(gn, 'file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file_2;', w * 0.95, h, '', 'File 2', null, null, this.getTagsForStencil(gn, 'file_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'github_code;', w, h, '', 'GitHub Code', null, null, this.getTagsForStencil(gn, 'github_code', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'git_repository;', w, h, '', 'Git Repository', null, null, this.getTagsForStencil(gn, 'git_repository', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hdinsight;', w, h, '', 'HDInsight', null, null, this.getTagsForStencil(gn, 'hdinsight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'healthy;', w, h * 0.9, '', 'Healthy', null, null, this.getTagsForStencil(gn, 'healthy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'health_monitoring;', w, h * 0.85, '', 'Health Monitoring', null, null, this.getTagsForStencil(gn, 'health_monitoring', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hyper_v_recovery_manager;', w, h * 0.9, '', 'Hyper-V Recovery Manager', null, null, this.getTagsForStencil(gn, 'hyper_v_recovery_manager', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop;', w, h * 0.6, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'load_balancer_generic;', w * 0.75, h, '', 'Load Balancer Generic', null, null, this.getTagsForStencil(gn, 'load_balancer_generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'media_service;', w * 0.9, h, '', 'Media Service', null, null, this.getTagsForStencil(gn, 'media_service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'message;', w, h * 0.75, '', 'Message', null, null, this.getTagsForStencil(gn, 'message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobile;', w * 0.7, h, '', 'Mobile', null, null, this.getTagsForStencil(gn, 'mobile', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobile_services;', w * 0.65, h, '', 'Mobile Services', null, null, this.getTagsForStencil(gn, 'mobile_services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'multi_factor_authentication;', w * 0.5, h, '', 'Multi Factor Authentication', null, null, this.getTagsForStencil(gn, 'multi_factor_authentication', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mysql_database;', w * 0.75, h, '', 'MySQL Database', null, null, this.getTagsForStencil(gn, 'mysql_database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'notification_hub;', w, h, '', 'Notification Hub', null, null, this.getTagsForStencil(gn, 'notification_hub', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'notification_topic;', w, h, '', 'Notification Topic', null, null, this.getTagsForStencil(gn, 'notification_topic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'operating_system_image;', w, h, '', 'Operating System Image', null, null, this.getTagsForStencil(gn, 'operating_system_image', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'powershell_file;', w, h, '', 'PowerShell File', null, null, this.getTagsForStencil(gn, 'powershell_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'queue_generic;', w, h * 0.3, '', 'Queue Generic', null, null, this.getTagsForStencil(gn, 'queue_generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rdp_remoting_file;', w * 0.95, h, '', 'RDP Remoting File', null, null, this.getTagsForStencil(gn, 'rdp_remoting_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'scheduler;', w * 0.8, h, '', 'Scheduler', null, null, this.getTagsForStencil(gn, 'scheduler', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'script_file;', w * 0.95, h, '', 'Script File', null, null, this.getTagsForStencil(gn, 'script_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server;', w, h * 0.3, '', 'Server', null, null, this.getTagsForStencil(gn, 'server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_rack;', w, h, '', 'Server Rack', null, null, this.getTagsForStencil(gn, 'server_rack', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus;', w * 0.9, h, '', 'Service Bus', null, null, this.getTagsForStencil(gn, 'service_bus', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_queues;', w * 0.85, h, '', 'Service Bus Queues', null, null, this.getTagsForStencil(gn, 'service_bus_queues', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_relay;', w * 0.8, h, '', 'Service Bus Relay', null, null, this.getTagsForStencil(gn, 'service_bus_relay', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_topics_and_subscriptions;', w * 0.9, h, '', 'Service Bus Topics and Subscriptions', null, null, this.getTagsForStencil(gn, 'service_bus_topics_and_subscriptions', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_endpoint;', w, h * 0.4, '', 'Service Endpoint', null, null, this.getTagsForStencil(gn, 'service_endpoint', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_database;', w * 0.75, h, '', 'SQL Database', null, null, this.getTagsForStencil(gn, 'sql_database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_database_sql_azure;', w * 0.95, h, '', 'SQL Database SQL Azure', null, null, this.getTagsForStencil(gn, 'sql_database_sql_azure', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_datasync;', w * 0.75, h, '', 'SQL DataSync', null, null, this.getTagsForStencil(gn, 'sql_datasync', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_reporting;', w * 0.8, h, '', 'SQL Reporting', null, null, this.getTagsForStencil(gn, 'sql_reporting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'startup_task;', w * 0.95, h, '', 'Startup Task', null, null, this.getTagsForStencil(gn, 'startup_task', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage;', w, h * 0.8, '', 'Storage', null, null, this.getTagsForStencil(gn, 'storage', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_blob;', w, h * 0.9, '', 'Storage Blob', null, null, this.getTagsForStencil(gn, 'storage_blob', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_queue;', w, h * 0.9, '', 'Storage Queue', null, null, this.getTagsForStencil(gn, 'storage_queue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_table;', w, h * 0.9, '', 'Storage Table', null, null, this.getTagsForStencil(gn, 'storage_table', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storsimple;', w, h * 0.9, '', 'StorSimple', null, null, this.getTagsForStencil(gn, 'storsimple', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet;', w, h * 0.75, '', 'Tablet', null, null, this.getTagsForStencil(gn, 'tablet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'team_foundation_service;', w, h * 0.75, '', 'Team Foundation Service', null, null, this.getTagsForStencil(gn, 'team_foundation_service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'traffic_manager;', w, h, '', 'Traffic Manager', null, null, this.getTagsForStencil(gn, 'traffic_manager', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'unidentified_code_object;', w, h * 0.85, '', 'Unidentified Code Object', null, null, this.getTagsForStencil(gn, 'unidentified_code_object', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;', w * 0.95, h, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vhd;', w * 0.8, h, '', 'VHD', null, null, this.getTagsForStencil(gn, 'vhd', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vhd_data_disk;', w * 0.75, h, '', 'VHD Data Disk', null, null, this.getTagsForStencil(gn, 'vhd_data_disk', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_machine;', w, h * 0.8, '', 'Virtual Machine', null, null, this.getTagsForStencil(gn, 'virtual_machine', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_machine_feature;', w, h * 0.9, '', 'Virtual Machine Feature', null, null, this.getTagsForStencil(gn, 'virtual_machine_feature', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_network;', w, h * 0.55, '', 'Virtual Network', null, null, this.getTagsForStencil(gn, 'virtual_network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'visual_studio_online;', w, h * 0.75, '', 'Visual Studio Online', null, null, this.getTagsForStencil(gn, 'visual_studio_online', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wadcfg_diagnostics_file;', w * 0.95, h, '', 'WADCFG Diagnostics File', null, null, this.getTagsForStencil(gn, 'wadcfg_diagnostics_file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'website_generic;', w, h * 0.85, '', 'Website Generic', null, null, this.getTagsForStencil(gn, 'website_generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_role;', w, h * 0.8, '', 'Web Role', null, null, this.getTagsForStencil(gn, 'web_role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_roles;', w * 1.1, h * 0.9, '', 'Web Roles', null, null, this.getTagsForStencil(gn, 'web_roles', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worker_role;', w, h * 0.8, '', 'Worker Role', null, null, this.getTagsForStencil(gn, 'worker_role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worker_roles;', w * 1.1, h * 0.9, '', 'Worker Roles', null, null, this.getTagsForStencil(gn, 'worker_roles', dt).join(' '))
		]);
	};
})();

(function()
{
	// Adds BPMN shapes
	var sidebarAddBpmnPalette = Sidebar.prototype.addBpmnPalette;
	
	Sidebar.prototype.addBpmnPalette = function(dir, expand)
	{
		sidebarAddBpmnPalette.apply(this, arguments);

		var w = 50;
		var h = 50;

		var s = 'shape=mxgraph.bpmn.shape;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;perimeter=rhombusPerimeter;background=gateway;';
		//default tags
		var dt = 'bpmn business process model gateway ';
		
		this.addPaletteFunctions('bpmnGateways', 'BPMN Gateways', false,
		[
			this.createVertexTemplateEntry(s + 'outline=none;symbol=exclusiveGw;', w, h, '', 'Exclusive Gateway', null, null, dt + 'exclusive'),
			this.createVertexTemplateEntry(s + 'outline=none;symbol=parallelGw;', w, h, '', 'Parallel Gateway', null, null, dt + 'parallel'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=general;', w, h, '', 'Inclusive Gateway', null, null, dt + 'inclusive'),
			this.createVertexTemplateEntry(s + 'outline=none;symbol=complexGw;', w, h, '', 'Complex Gateway', null, null, dt + 'complex'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=general;', w, h, '', 'General Start Gateway', null, null, dt + 'general start'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=general;', w, h, '', 'General Intermediate Gateway', null, null, dt + 'general intermediate'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=general;', w, h, '', 'General End Gateway', null, null, dt + 'general end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=message;', w, h, '', 'Message Standard Gateway', null, null, dt + 'message standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=message;', w, h, '', 'Message Interrupting Gateway', null, null, dt + 'message interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=message;', w, h, '', 'Message Non-Interrupting Gateway', null, null, dt + 'message non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=message;', w, h, '', 'Message Catching Gateway', null, null, dt + 'message catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=message;', w, h, '', 'Message Boundary Interrupting Gateway', null, null, dt + 'message boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=message;', w, h, '', 'Message Boundary Non-Interrupting Gateway', null, null, dt + 'message boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=message;', w, h, '', 'Message Throwing Gateway', null, null, dt + 'message throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=message;', w, h, '', 'Message End Gateway', null, null, dt + 'message end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=timer;', w, h, '', 'Timer Standard Gateway', null, null, dt + 'timer standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=timer;', w, h, '', 'Timer Interrupting Gateway', null, null, dt + 'timer interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=timer;', w, h, '', 'Timer Non-Interrupting Gateway', null, null, dt + 'timer non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=timer;', w, h, '', 'Timer Catching Gateway', null, null, dt + 'timer catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=timer;', w, h, '', 'Timer Boundary Interrupting Gateway', null, null, dt + 'timer boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=timer;', w, h, '', 'Timer Boundary Non-Interrupting Gateway', null, null, dt + 'timer boundary non interrupting noninterrupting'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=escalation;', w, h, '', 'Escalation Interrupting Gateway', null, null, dt + 'escalation interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=escalation;', w, h, '', 'Escalation Non-Interrupting Gateway', null, null, dt + 'escalation non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=escalation;', w, h, '', 'Escalation Boundary Interrupting Gateway', null, null, dt + 'escalation boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=escalation;', w, h, '', 'Escalation Boundary Non-Interrupting Gateway', null, null, dt + 'escalation boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=escalation;', w, h, '', 'Escalation Throwing Gateway', null, null, dt + 'escalation throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=escalation;', w, h, '', 'Escalation End Gateway', null, null, dt + 'escalation end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=conditional;', w, h, '', 'Conditional Standard Gateway', null, null, dt + 'conditional standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=conditional;', w, h, '', 'Conditional Interrupting Gateway', null, null, dt + 'conditional interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=conditional;', w, h, '', 'Conditional Non-Interrupting Gateway', null, null, dt + 'conditional non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=conditional;', w, h, '', 'Conditional Catching Gateway', null, null, dt + 'conditional catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=conditional;', w, h, '', 'Conditional Boundary Interrupting Gateway', null, null, dt + 'conditional boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=conditional;', w, h, '', 'Conditional Boundary Non-Interrupting Gateway', null, null, dt + 'conditional boundary non interrupting noninterrupting'),

			this.createVertexTemplateEntry(s + 'outline=catching;symbol=link;', w, h, '', 'Link Catching Gateway', null, null, dt + 'link catching'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=link;', w, h, '', 'Link Throwing Gateway', null, null, dt + 'link throwing'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=error;', w, h, '', 'Error Interrupting Gateway', null, null, dt + 'error interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=error;', w, h, '', 'Error Boundary Interrupting Gateway', null, null, dt + 'error boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=error;', w, h, '', 'Error End Gateway', null, null, dt + 'error end'),

			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=cancel;', w, h, '', 'Cancel Boundary Interrupting Gateway', null, null, dt + 'cancel boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=cancel;', w, h, '', 'Cancel End Gateway', null, null, dt + 'cancel end'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=compensation;', w, h, '', 'Compensation Interrupting Gateway', null, null, dt + 'compensation interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=compensation;', w, h, '', 'Compensation Boundary Interrupting Gateway', null, null, dt + 'compensation boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=compensation;', w, h, '', 'Compensation Throwing Gateway', null, null, dt + 'compensation throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=compensation;', w, h, '', 'Compensation End Gateway', null, null, dt + 'compensation end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=signal;', w, h, '', 'Signal Standard Gateway', null, null, dt + 'signal standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=signal;', w, h, '', 'Signal Interrupting Gateway', null, null, dt + 'signal interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=signal;', w, h, '', 'Signal Non-Interrupting Gateway', null, null, dt + 'signal non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=signal;', w, h, '', 'Signal Catching Gateway', null, null, dt + 'signal catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=signal;', w, h, '', 'Signal Boundary Interrupting Gateway', null, null, dt + 'signal boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=signal;', w, h, '', 'Signal Boundary Non-Interrupting Gateway', null, null, dt + 'signal boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=signal;', w, h, '', 'Signal Throwing Gateway', null, null, dt + 'signal throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=signal;', w, h, '', 'Signal End Gateway', null, null, dt + 'signal end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=multiple;', w, h, '', 'Multiple Standard Gateway', null, null, dt + 'multiple standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=multiple;', w, h, '', 'Multiple Interrupting Gateway', null, null, dt + 'multiple interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=multiple;', w, h, '', 'Multiple Non-Interrupting Gateway', null, null, dt + 'multiple non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=multiple;', w, h, '', 'Multiple Catching Gateway', null, null, dt + 'multiple catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=multiple;', w, h, '', 'Multiple Boundary Interrupting Gateway', null, null, dt + 'multiple boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=multiple;', w, h, '', 'Multiple Boundary Non-Interrupting Gateway', null, null, dt + 'multiple boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=multiple;', w, h, '', 'Multiple Throwing Gateway', null, null, dt + 'multiple throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=multiple;', w, h, '', 'Multiple End Gateway', null, null, dt + 'multiple end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Standard Gateway', null, null, dt + 'parallel multiple standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Interrupting Gateway', null, null, dt + 'parallel multiple interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Non-Interrupting Gateway', null, null, dt + 'parallel multiple non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Catching Gateway', null, null, dt + 'parallel multiple catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Boundary Interrupting Gateway', null, null, dt + 'parallel multiple boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Boundary Non-Interrupting Gateway', null, null, dt + 'parallel multiple boundary non interrupting noninterrupting'),

			this.createVertexTemplateEntry(s + 'outline=end;symbol=terminate;', w, h, '', 'Terminate Gateway', null, null, dt + 'terminate')
		]);
		
		s = 'shape=mxgraph.bpmn.shape;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;perimeter=ellipsePerimeter;';
		var dt = 'bpmn business process model event ';
		
		this.addPaletteFunctions('bpmnEvents', 'BPMN Events', false,
		[
			this.createVertexTemplateEntry(s + 'outline=standard;symbol=general;', w, h, '', 'General Start', null, null, dt + 'general start'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=general;', w, h, '', 'General Intermediate', null, null, dt + 'general intermediate'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=general;', w, h, '', 'General End', null, null, dt + 'general end'),
			
			this.createVertexTemplateEntry(s + 'outline=standard;symbol=message;', w, h, '', 'Message Standard', null, null, dt + 'message standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=message;', w, h, '', 'Message Interrupting', null, null, dt + 'message interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=message;', w, h, '', 'Message Non-Interrupting', null, null, dt + 'message non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=message;', w, h, '', 'Message Catching', null, null, dt + 'message catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=message;', w, h, '', 'Message Boundary Interrupting', null, null, dt + 'message boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=message;', w, h, '', 'Message Boundary Non-Interrupting', null, null, dt + 'message boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=message;', w, h, '', 'Message Throwing', null, null, dt + 'message throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=message;', w, h, '', 'Message End', null, null, dt + 'message end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=timer;', w, h, '', 'Timer Standard', null, null, dt + 'timer standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=timer;', w, h, '', 'Timer Interrupting', null, null, dt + 'timer interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=timer;', w, h, '', 'Timer Non-Interrupting', null, null, dt + 'timer non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=timer;', w, h, '', 'Timer Catching', null, null, dt + 'timer catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=timer;', w, h, '', 'Timer Boundary Interrupting', null, null, dt + 'timer boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=timer;', w, h, '', 'Timer Boundary Non-Interrupting', null, null, dt + 'timer boundary non interrupting noninterrupting'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=escalation;', w, h, '', 'Escalation Interrupting', null, null, dt + 'escalation interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=escalation;', w, h, '', 'Escalation Non-Interrupting', null, null, dt + 'escalation non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=escalation;', w, h, '', 'Escalation Boundary Interrupting', null, null, dt + 'escalation boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=escalation;', w, h, '', 'Escalation Boundary Non-Interrupting', null, null, dt + 'escalation boundary non interrupting nonimpterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=escalation;', w, h, '', 'Escalation Throwing', null, null, dt + 'escalation throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=escalation;', w, h, '', 'Escalation End', null, null, dt + 'escalation end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=conditional;', w, h, '', 'Conditional Standard', null, null, dt + 'conditional standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=conditional;', w, h, '', 'Conditional Interrupting', null, null, dt + 'conditional interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=conditional;', w, h, '', 'Conditional Non-Interrupting', null, null, dt + 'conditional non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=conditional;', w, h, '', 'Conditional Catching', null, null, dt + 'conditional catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=conditional;', w, h, '', 'Conditional Boundary Interrupting', null, null, dt + 'conditional boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=conditional;', w, h, '', 'Conditional Boundary Non-Interrupting', null, null, dt + 'conditional boundary non interrupting noninterrupting'),

			this.createVertexTemplateEntry(s + 'outline=catching;symbol=link;', w, h, '', 'Link Catching', null, null, dt + 'link catching'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=link;', w, h, '', 'Link Throwing', null, null, dt + 'link throwing'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=error;', w, h, '', 'Error Interrupting', null, null, dt + 'error interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=error;', w, h, '', 'Error Boundary Interrupting', null, null, dt + 'error boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=error;', w, h, '', 'Error End', null, null, dt + 'error end'),

			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=cancel;', w, h, '', 'Cancel Boundary Interrupting', null, null, dt + 'cancel boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=cancel;', w, h, '', 'Cancel End', null, null, dt + 'cancel end'),

			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=compensation;', w, h, '', 'Compensation Interrupting', null, null, dt + 'compensation interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=compensation;', w, h, '', 'Compensation Boundary Interrupting', null, null, dt + 'compensation boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=compensation;', w, h, '', 'Compensation Throwing', null, null, dt + 'compensation throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=compensation;', w, h, '', 'Compensation End', null, null, dt + 'compensation end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=signal;', w, h, '', 'Signal Standard', null, null, dt + 'signal standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=signal;', w, h, '', 'Signal Interrupting', null, null, dt + 'signal interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=signal;', w, h, '', 'Signal Non-Interrupting', null, null, dt + 'signal non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=signal;', w, h, '', 'Signal Catching', null, null, dt + 'signal catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=signal;', w, h, '', 'Signal Boundary Interrupting', null, null, dt + 'signal boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=signal;', w, h, '', 'Signal Boundary Non-Interrupting', null, null, dt + 'signal boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=signal;', w, h, '', 'Signal Throwing', null, null, dt + 'signal throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=signal;', w, h, '', 'Signal End', null, null, dt + 'signal end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=multiple;', w, h, '', 'Multiple Standard', null, null, dt + 'multiple standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=multiple;', w, h, '', 'Multiple Interrupting', null, null, dt + 'multiple interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=multiple;', w, h, '', 'Multiple Non-Interrupting', null, null, dt + 'multiple non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=multiple;', w, h, '', 'Multiple Catching', null, null, dt + 'multiple catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=multiple;', w, h, '', 'Multiple Boundary Interrupting', null, null, dt + 'multiple boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=multiple;', w, h, '', 'Multiple Boundary Non-Interrupting', null, null, dt + 'multiple boundary non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=throwing;symbol=multiple;', w, h, '', 'Multiple Throwing', null, null, dt + 'multiple throwing'),
			this.createVertexTemplateEntry(s + 'outline=end;symbol=multiple;', w, h, '', 'Multiple End', null, null, dt + 'multiple end'),

			this.createVertexTemplateEntry(s + 'outline=standard;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Standard', null, null, dt + 'parallel multiple standard'),
			this.createVertexTemplateEntry(s + 'outline=eventInt;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Interrupting', null, null, dt + 'parallel multiple interrupting'),
			this.createVertexTemplateEntry(s + 'outline=eventNonint;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Non-Interrupting', null, null, dt + 'parallel multiple non interrupting noninterrupting'),
			this.createVertexTemplateEntry(s + 'outline=catching;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Catching', null, null, dt + 'parallel multiple catching'),
			this.createVertexTemplateEntry(s + 'outline=boundInt;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Boundary Interrupting', null, null, dt + 'parallel multiple boundary interrupting'),
			this.createVertexTemplateEntry(s + 'outline=boundNonint;symbol=parallelMultiple;', w, h, '', 'Parallel Multiple Boundary Non-Interrupting', null, null, dt + 'parallel multiple boundary non interrupting'),

			this.createVertexTemplateEntry(s + 'outline=end;symbol=terminate;', w, h, '', 'Terminate', null, null, dt + 'terminate')
		]);
	};
})();

(function()
{
	Sidebar.prototype.addBasicPalette = function()
	{
		var w = 100;
		var h = 100;
		var s = 'strokeWidth=2;whiteSpace=wrap;html=1;shape=mxgraph.basic.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;strokeWidth=2;shape=mxgraph.basic.';
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;strokeWidth=2;shape=';
		var gn = 'mxgraph.basic';
		var dt = '';
		
		this.addPaletteFunctions('basic', mxResources.get('basic'), false,
		[
			this.createVertexTemplateEntry('whiteSpace=wrap;html=1;aspect=fixed;', 80, 80, '', 'Square', null, null, 'square'),
			this.createVertexTemplateEntry('ellipse;whiteSpace=wrap;html=1;aspect=fixed;', 80, 80, '', 'Circle', null, null, 'circle'),
			this.createVertexTemplateEntry('shape=ext;double=1;whiteSpace=wrap;html=1;aspect=fixed;', 80, 80, '', 'Double Square', null, null, 'double square'),
			this.createVertexTemplateEntry('ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;aspect=fixed;', 80, 80, '', 'Double Circle', null, null, 'double circle'),
			this.createVertexTemplateEntry(s2 + '4_point_star', w, h, '', '4 Point Star', null, null, this.getTagsForStencil(gn, '4_point_star', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + '6_point_star', w, h * 0.9, '', '6 Point Star', null, null, this.getTagsForStencil(gn, '6_point_star', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + '8_point_star', w, h, '', '8 Point Star', null, null, this.getTagsForStencil(gn, '8_point_star', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'banner', w, h * 0.5, '', 'Banner', null, null, this.getTagsForStencil(gn, 'banner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_callout', w * 0.9, h * 0.6, '', 'Cloud Callout', null, null, this.getTagsForStencil(gn, 'cloud_callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cone', w, h, '', 'Cone', null, null, this.getTagsForStencil(gn, 'cone', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cross2;dx=15;', w, h, '', 'Cross', null, null, this.getTagsForStencil(gn, 'cross', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document', w, h, '', 'Document', null, null, this.getTagsForStencil(gn, 'document', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'flash', w * 0.6, h, '', 'Flash', null, null, this.getTagsForStencil(gn, 'flash', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'half_circle', w, h * 0.5, '', 'Half Circle', null, null, this.getTagsForStencil(gn, 'half_circle', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'heart', w, h, '', 'Heart', null, null, this.getTagsForStencil(gn, 'heart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'loud_callout', w, h * 0.6, '', 'Loud Callout', null, null, this.getTagsForStencil(gn, 'loud_callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'moon', w * 0.75, h, '', 'Moon', null, null, this.getTagsForStencil(gn, 'moon', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'no_symbol', w, h, '', 'No Symbol', null, null, this.getTagsForStencil(gn, 'no_symbol', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'octagon', w, h, '', 'Octagon', null, null, this.getTagsForStencil(gn, 'octagon', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'orthogonal_triangle', w, h, '', 'Orthogonal Triangle', null, null, this.getTagsForStencil(gn, 'orthogonal_triangle', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'oval_callout', w, h * 0.6, '', 'Oval Callout', null, null, this.getTagsForStencil(gn, 'oval_callout', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'parallelogram;whiteSpace=wrap;align=center;size=0.24;', w, h * 0.6, '', 'Parallelepiped', null, null, this.getTagsForStencil(gn, 'parallelepiped', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pentagon', w, h * 0.9, '', 'Pentagon', null, null, this.getTagsForStencil(gn, 'pentagon', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rectCallout;dx=30;dy=15;', w, h * 0.6, '', 'Rectangular Callout', null, null, this.getTagsForStencil(gn, 'rectangular_callout', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'roundRectCallout;dx=30;dy=15;size=5;', w, h * 0.6, '', 'Rounded Rectangular Callout', null, null, this.getTagsForStencil(gn, 'rectangular_callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'smiley', w, h, '', 'Smiley', null, null, this.getTagsForStencil(gn, 'smiley', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'star', w, h * 0.95, '', 'Star', null, null, this.getTagsForStencil(gn, 'star', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sun', w, h, '', 'Sun', null, null, this.getTagsForStencil(gn, 'sun', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'tick', w * 0.85, h, '', 'Tick', null, null, this.getTagsForStencil(gn, 'tick', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'trapezoid;size=0.24;', w, h, '', 'Trapezoid', null, null, this.getTagsForStencil(gn, 'trapezoid', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'wave2;dy=0.3;', w, h * 0.6, '', 'Wave', null, null, this.getTagsForStencil(gn, 'wave', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'x', w, h, '', 'X', null, null, this.getTagsForStencil(gn, 'x', dt).join(' '))
			
		]);
	};

})();

(function()
{
	// Adds Bootstrap shapes
	Sidebar.prototype.addBootstrapPalette = function()
	{
		var s = 'html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.';
		var s2 = 'html=1;shadow=0;dashed=0;fillColor=none;strokeColor=none;shape=mxgraph.bootstrap.rect;';
		var gn = 'mxgraph.bootstrap';
		var dt = 'bootstrap ';
		var sb = this;
		
		var fns = [
		   	this.addEntry(dt + 'button bar dark', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'rect;fillColor=#222222;strokeColor=none;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Company', new mxGeometry(0, 0, 80, 40), s2 + 'fontColor=#999999;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('People', new mxGeometry(80, 0, 90, 40), s + 'rect;fillColor=#000000;strokeColor=none;fontColor=#ffffff;spacingRight=30;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var notif1 = new mxCell('84', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#ff0000;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-30, -8);
			   	notif1.vertex = true;
			   	button2.insert(notif1);
			   	var button3 = new mxCell('Violations', new mxGeometry(170, 0, 110, 40), s2 + 'fontColor=#999999;spacingRight=30;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var notif2 = new mxCell('42', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#ff0000;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-30, -8);
			   	notif2.vertex = true;
			   	button3.insert(notif2);
			   	var button4 = new mxCell('Statistics', new mxGeometry(280, 0, 80, 40), s2 + 'fontColor=#999999;whiteSpace=wrap;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Settings', new mxGeometry(360, 0, 70, 40), s2 + 'fontColor=#999999;whiteSpace=wrap;');
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var button6 = new mxCell('Profile', new mxGeometry(660, 0, 70, 40), s2 + 'fontColor=#999999;whiteSpace=wrap;');
			   	button6.vertex = true;
			   	bg.insert(button6);
			   	var button7 = new mxCell('Log Out', new mxGeometry(730, 0, 70, 40), s2 + 'fontColor=#999999;whiteSpace=wrap;');
			   	button7.vertex = true;
			   	bg.insert(button7);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Bar (Dark)');
			}),
		    
		   	this.addEntry(dt + 'button bar bright', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'rect;fillColor=#f6f6f6;strokeColor=none;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Company', new mxGeometry(0, 0, 80, 40), s2 + 'fontColor=#dddddd;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('People', new mxGeometry(80, 0, 90, 40), s + 'rect;fillColor=#f0f0f0;strokeColor=none;fontColor=#999999;spacingRight=30;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var notif1 = new mxCell('84', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#ff0000;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-30, -8);
			   	notif1.vertex = true;
			   	button2.insert(notif1);
			   	var button3 = new mxCell('Violations', new mxGeometry(170, 0, 110, 40), s2 + 'fontColor=#dddddd;spacingRight=30;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var notif2 = new mxCell('42', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#ff0000;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-30, -8);
			   	notif2.vertex = true;
			   	button3.insert(notif2);
			   	var button4 = new mxCell('Statistics', new mxGeometry(280, 0, 80, 40), s2 + 'fontColor=#dddddd;whiteSpace=wrap;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Settings', new mxGeometry(360, 0, 70, 40), s2 + 'fontColor=#dddddd;whiteSpace=wrap;');
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var button6 = new mxCell('Search...', new mxGeometry(650, 5, 130, 30), s + 'rrect;rSize=5;fillColor=#ffffff;strokeColor=#dddddd;fontColor=#dddddd;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	button6.vertex = true;
			   	bg.insert(button6);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Bar (Bright)');
			}),
		    
		   	this.addEntry(dt + 'button group vertical', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 100, 150), s + 'rrect;rSize=5;strokeColor=#dddddd;html=1;whiteSpace=wrap;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Edit', new mxGeometry(0, 0, 100, 30), s + 'topButton;rSize=5;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Create', new mxGeometry(0, 0, 100, 30), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 30);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Delete', new mxGeometry(0, 0, 100, 30), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 60);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Append', new mxGeometry(0, 0, 100, 30), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, 90);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Prepend', new mxGeometry(0, 1, 100, 30), s + 'bottomButton;rSize=5;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button5.geometry.relative = true;
			   	button5.geometry.offset = new mxPoint(0, -30);
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-15, -2.5);
			   	marker1.vertex = true;
			   	button2.insert(marker1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Vertical)');
			}),
		    
		   	this.addEntry(dt + 'button group vertical', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 160, 160), s + 'rrect;rSize=5;strokeColor=#dddddd;html=1;whiteSpace=wrap;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button2 = new mxCell('Verified', new mxGeometry(0, 0, 160, 40), s + 'rect;fillColor=none;strokeColor=#dddddd;spacingLeft=10;align=left;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 40);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Banned', new mxGeometry(0, 0, 160, 40), s + 'rect;fillColor=none;strokeColor=#dddddd;spacingLeft=10;align=left;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 80);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Deleted', new mxGeometry(0, 1, 160, 40), s + 'bottomButton;rSize=5;fillColor=none;strokeColor=#dddddd;spacingLeft=10;align=left;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, -40);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button1 = new mxCell('All Users', new mxGeometry(0, 0, 160, 40), s + 'topButton;rSize=5;fillColor=#3D8BCD;strokeColor=#3D8BCD;fontColor=#ffffff;spacingLeft=10;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Vertical)');
			}),
		    
			this.createVertexTemplateEntry(s + 'topButton;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;fontColor=#ffffff;spacingLeft=10;align=left;whiteSpace=wrap;', 
					160, 40, 'All Users', 'Top Button', null, null, this.getTagsForStencil(gn, 'topButton', dt + 'top button').join(' ')),
			this.createVertexTemplateEntry(s + 'bottomButton;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;fontColor=#ffffff;spacingLeft=10;align=left;whiteSpace=wrap;', 
					160, 40, 'All Users', 'Bottom Button', null, null, this.getTagsForStencil(gn, 'bottomButton', dt + 'bottom button').join(' ')),
			this.createVertexTemplateEntry(s + 'rightButton;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;fontColor=#ffffff;spacingLeft=10;align=left;whiteSpace=wrap;', 
					160, 40, 'All Users', 'Right Button', null, null, this.getTagsForStencil(gn, 'rightButton', dt + 'right button').join(' ')),
			this.createVertexTemplateEntry(s + 'leftButton;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;fontColor=#ffffff;spacingLeft=10;align=left;whiteSpace=wrap;', 
					160, 40, 'All Users', 'Left Button', null, null, this.getTagsForStencil(gn, 'leftButton', dt + 'left button').join(' ')),

		   	this.addEntry(dt + 'dropdown large', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 140, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;whiteSpace=wrap;fillColor=#ffffff;align=center;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Large)');
			}),
		    
		   	this.addEntry(dt + 'dropdown normal', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 120, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=14;whiteSpace=wrap;fillColor=#ffffff;align=center;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Normal)');
			}),
		    
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 100, 22), s + 'rrect;fontSize=12;rSize=5;strokeColor=#dddddd;spacingRight=10;perimeter=none;whiteSpace=wrap;fillColor=#ffffff;align=center;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown tiny', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 90, 20), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=10;whiteSpace=wrap;fillColor=#ffffff;align=center;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Tiny)');
			}),
		   	
		   	this.addEntry(dt + 'button group justified large', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 240, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Left', new mxGeometry(0, 0, 80, 40), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=16;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Middle', new mxGeometry(80, 0, 80, 40), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;fontSize=16;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Right', new mxGeometry(160, 0, 80, 40), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=16;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Justified, Large)');
			}),
		    
		   	this.addEntry(dt + 'button group justified normal', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 180, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Left', new mxGeometry(0, 0, 60, 30), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Middle', new mxGeometry(60, 0, 60, 30), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Right', new mxGeometry(120, 0, 60, 30), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Justified, Normal)');
			}),
		    
		   	this.addEntry(dt + 'button group justified small', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 22), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Left', new mxGeometry(0, 0, 50, 22), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Middle', new mxGeometry(50, 0, 50, 22), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Right', new mxGeometry(100, 0, 50, 22), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Justified, Small)');
			}),
		    
		   	this.addEntry(dt + 'button group justified tiny', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 120, 20), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Left', new mxGeometry(0, 0, 40, 20), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Middle', new mxGeometry(40, 0, 40, 20), s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;fontSize=10;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Right', new mxGeometry(80, 0, 40, 20), s + 'rect;fillColor=none;strokeColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button Group (Justified, Tiny)');
			}),
		    
		   	this.addEntry(dt + 'button toolbar', function()
	   		{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 120, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;');
			   	bg1.vertex = true;
			   	var button1 = new mxCell('1', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg1.insert(button1);
			   	var button2 = new mxCell('2', new mxGeometry(30, 0, 30, 30), s + 'rect;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg1.insert(button2);
			   	var button3 = new mxCell('3', new mxGeometry(60, 0, 30, 30), s + 'rect;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg1.insert(button3);
			   	var button4 = new mxCell('4', new mxGeometry(90, 0, 30, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button4.vertex = true;
			   	bg1.insert(button4);
			   	var bg2 = new mxCell('', new mxGeometry(130, 0, 90, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;');
			   	bg2.vertex = true;
			   	var button1 = new mxCell('5', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg2.insert(button1);
			   	var button2 = new mxCell('6', new mxGeometry(30, 0, 30, 30), s + 'rect;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg2.insert(button2);
			   	var button4 = new mxCell('7', new mxGeometry(60, 0, 30, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button4.vertex = true;
			   	bg2.insert(button4);
			   	var bg3 = new mxCell('8', new mxGeometry(230, 0, 30, 30), s + 'rrect;fontSize=12;align=center;rSize=5;strokeColor=#dddddd;whiteSpace=wrap;fillColor=#ffffff;');
			   	bg3.vertex = true;

			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3], 260, 30, 'Button Toolbar');
			}),
		    
		   	this.addEntry(dt + 'button group nested', function()
	   		{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 160, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;');
			   	bg1.vertex = true;
			   	var button1 = new mxCell('1', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg1.insert(button1);
			   	var button2 = new mxCell('2', new mxGeometry(30, 0, 30, 30), s + 'rect;strokeColor=#dddddd;perimeter=none;fontSize=14;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg1.insert(button2);
			   	var button3 = new mxCell('Dropdown', new mxGeometry(60, 0, 100, 30), s + 'rect;strokeColor=#dddddd;perimeter=none;fontSize=14;spacingRight=10;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg1.insert(button3);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-15, -2.5);
			   	marker1.vertex = true;
			   	button3.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Button Group (Nested)');
			}),

		   	this.createVertexTemplateEntry(s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;align=center;fontSize=16;whiteSpace=wrap;', 
		   			80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;align=center;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;align=center;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;align=center;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
		   	
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#3D8BCD;align=center;strokeColor=#3D8BCD;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;', 
					80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#3D8BCD;align=center;strokeColor=#3D8BCD;fontColor=#ffffff;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#3D8BCD;align=center;strokeColor=#3D8BCD;fontColor=#ffffff;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#3D8BCD;align=center;strokeColor=#3D8BCD;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
			
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#58B957;align=center;strokeColor=#58B957;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;', 
					80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#58B957;align=center;strokeColor=#58B957;fontColor=#ffffff;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#58B957;align=center;strokeColor=#58B957;fontColor=#ffffff;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#58B957;align=center;strokeColor=#58B957;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
			
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#55BFE0;align=center;strokeColor=#55BFE0;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;', 
					80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#55BFE0;align=center;strokeColor=#55BFE0;fontColor=#ffffff;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#55BFE0;align=center;strokeColor=#55BFE0;fontColor=#ffffff;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#55BFE0;align=center;strokeColor=#55BFE0;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
			
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#EFAC43;align=center;strokeColor=#EFAC43;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;', 
					80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#EFAC43;align=center;strokeColor=#EFAC43;fontColor=#ffffff;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#EFAC43;align=center;strokeColor=#EFAC43;fontColor=#ffffff;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#EFAC43;align=center;strokeColor=#EFAC43;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
			
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#DB524C;align=center;strokeColor=#DB524C;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;', 
					80, 40, 'Button', 'Button (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'button large').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#DB524C;align=center;strokeColor=#DB524C;fontColor=#ffffff;fontSize=14;whiteSpace=wrap;', 
					60, 30, 'Button', 'Button (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'button normal').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#DB524C;align=center;strokeColor=#DB524C;fontColor=#ffffff;fontSize=12;whiteSpace=wrap;', 
					44, 22, 'Button', 'Button (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'button small').join(' ')),
			this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#DB524C;align=center;strokeColor=#DB524C;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;', 
					40, 20, 'Button', 'Button (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'button tiny').join(' ')),
			
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Primary', new mxGeometry(0, 0, 100, 22), s + 'rrect;align=center;rSize=5;fillColor=#3D8BCD;strokeColor=#3D8BCD;fontColor=#ffffff;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Success', new mxGeometry(0, 0, 100, 22), s + 'rrect;align=center;rSize=5;fillColor=#58B957;strokeColor=#58B957;fontColor=#ffffff;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Info', new mxGeometry(0, 0, 100, 22), s + 'rrect;align=center;rSize=5;fillColor=#55BFE0;strokeColor=#55BFE0;fontColor=#ffffff;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Warning', new mxGeometry(0, 0, 100, 22), s + 'rrect;align=center;rSize=5;fillColor=#EFAC43;strokeColor=#EFAC43;fontColor=#ffffff;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown small', function()
	   		{
			   	var bg = new mxCell('Danger', new mxGeometry(0, 0, 100, 22), s + 'rrect;align=center;rSize=5;fillColor=#DB524C;strokeColor=#DB524C;fontColor=#ffffff;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Small)');
			}),
		    
		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Default', new mxGeometry(0, 0, 120, 30), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;strokeColor=#dddddd;spacingRight=20;fontSize=14;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#dddddd;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),

		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Primary', new mxGeometry(0, 0, 120, 30), s + 'rrect;align=center;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#0D5B9D;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Success', new mxGeometry(0, 0, 120, 30), s + 'rrect;align=center;rSize=5;fillColor=#58B957;strokeColor=#288927;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#288927;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Info', new mxGeometry(0, 0, 120, 30), s + 'rrect;align=center;rSize=5;fillColor=#55BFE0;strokeColor=#258FB0;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#258FB0;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Warning', new mxGeometry(0, 0, 120, 30), s + 'rrect;align=center;rSize=5;fillColor=#EFAC43;strokeColor=#BF7C13;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#BF7C13;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropdown split', function()
	   		{
			   	var bg = new mxCell('Danger', new mxGeometry(0, 0, 120, 30), s + 'rrect;align=center;rSize=5;fillColor=#DB524C;strokeColor=#AB221C;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#AB221C;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropdown (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropup split', function()
	   		{
			   	var bg = new mxCell('Dropup', new mxGeometry(0, 0, 120, 30), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;strokeColor=#dddddd;spacingRight=20;fontSize=14;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#dddddd;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=north;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropup (Split)');
			}),

		   	this.addEntry(dt + 'dropup split', function()
	   		{
			   	var bg = new mxCell('Right dropup', new mxGeometry(0, 0, 140, 30), s + 'rrect;align=center;rSize=5;fillColor=#3D8BCD;strokeColor=#0D5B9D;spacingRight=20;fontSize=14;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('', new mxGeometry(1, 0, 30, 30), s + 'rightButton;rSize=5;fillColor=none;strokeColor=#0D5B9D;perimeter=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-30, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=north;fillColor=#ffffff;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	button1.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dropup (Split)');
			}),
		    
		   	this.addEntry(dt + 'dropdown menu', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 140, 40), s + 'rrect;align=center;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;gradientColor=#e4e4e4;gradientDirection=north;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
			   	var bg1 = new mxCell('Action\nAnother Action', new mxGeometry(0, 42, 160, 48), s + 'rect;fillColor=#ffffff;fontSize=12;fontColor=#000000;fontFamily=Helvetica;fontStyle=0;strokeColor=#dddddd;spacingLeft=10;shadow=1;align=left;verticalAlign=top;spacingTop=3;');
			   	bg1.vertex = true;

			   	return sb.createVertexTemplateFromCells([bg, bg1], 160, 90, 'Dropdown (Menu)');
			}),

		   	this.addEntry(dt + 'dropdown menu header', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 110, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;fillColor=#FFFFFF;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
			   	var bg1 = new mxCell('', new mxGeometry(0, 42, 160, 108), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;shadow=1;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Action', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 8);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Another action', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 28);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Disabled link', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;fontColor=#dddddd;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 48);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(0, 0, 160, 20), 'shape=line;strokeColor=#dddddd;perimeter=none;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 68);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg7 = new mxCell('Separated link', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 88);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);

			   	return sb.createVertexTemplateFromCells([bg, bg1], 160, 150, 'Dropdown (Menu, Headers)');
			}),

		   	this.addEntry(dt + 'dropdown menu', function()
	   		{
			   	var bg = new mxCell('Dropdown', new mxGeometry(0, 0, 110, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;fillColor=#FFFFFF;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
			   	var bg1 = new mxCell('', new mxGeometry(0, 42, 160, 158), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;shadow=1;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Dropdown header', new mxGeometry(0, 0, 160, 16), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;fontColor=#dddddd;fontSize=11;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 8);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Action', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 28);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Another action', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 48);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('Disabled link', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;fontColor=#dddddd;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 68);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('', new mxGeometry(0, 0, 160, 20), 'shape=line;strokeColor=#dddddd;perimeter=none;resizeWidth=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(0, 88);
			   	bg6.vertex = true;
			   	bg1.insert(bg6);
			   	var bg7 = new mxCell('Dropdown header', new mxGeometry(0, 0, 160, 16), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;fontColor=#dddddd;fontSize=11;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 108);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);
			   	var bg8 = new mxCell('Separated link', new mxGeometry(0, 0, 160, 20), s + 'rect;strokeColor=none;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 128);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);

			   	return sb.createVertexTemplateFromCells([bg, bg1], 160, 200, 'Dropdown (Menu)');
			}),
	
		   	this.addEntry(dt + 'input group', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=50;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('@', new mxGeometry(0, 0, 40, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Input Group');
			}),
	
		   	this.addEntry(dt + 'input group', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=10;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('.00', new mxGeometry(1, 0, 40, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-40, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Input Group');
			}),
	
		   	this.addEntry(dt + 'input group', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=50;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('$', new mxGeometry(0, 0, 40, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var bg3 = new mxCell('.00', new mxGeometry(1, 0, 40, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(-40, 0);
			   	bg3.vertex = true;
			   	bg.insert(bg3);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Input Group');
			}),
	
		   	this.addEntry(dt + 'input group', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=50;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 40, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var marker1 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s + 'checkbox;rSize=3;strokeColor=#666666;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-8, -8);
			   	marker1.vertex = true;
			   	bg2.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Input Group');
			}),
	
		   	this.addEntry(dt + 'input group', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=50;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 40, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var marker1 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s + 'radioButton;rSize=3;strokeColor=#666666;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-8, -8);
			   	marker1.vertex = true;
			   	bg2.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Input Group');
			}),
	
		   	this.addEntry(dt + 'username large', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=60;fontSize=16;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 50, 40), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var marker1 = new mxCell('', new mxGeometry(0.5, 0.5, 20, 20), s + 'user;rSize=5;strokeColor=none;fillColor=#000000;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-10, -10);
			   	marker1.vertex = true;
			   	bg2.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Username (Large)');
			}),
			    
		   	this.addEntry(dt + 'username normal', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=50;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 40, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var marker1 = new mxCell('', new mxGeometry(0.5, 0.5, 15, 15), s + 'user;rSize=5;strokeColor=none;fillColor=#000000;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-7.5, -7.5);
			   	marker1.vertex = true;
			   	bg2.insert(marker1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Username (Normal)');
			}),
			    
		   	this.addEntry(dt + 'username tiny', function()
	   		{
			   	var bg = new mxCell('Username', new mxGeometry(0, 0, 250, 20), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;spacingLeft=40;fontSize=10;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 30, 20), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;whiteSpace=wrap;resizeHeight=1');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var marker1 = new mxCell('', new mxGeometry(0.5, 0.5, 10, 10), s + 'user;rSize=5;strokeColor=none;fillColor=#000000;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-5, -5);
			   	marker1.vertex = true;
			   	bg2.insert(marker1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Username (Tiny)');
			}),
			
		   	this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#ffffff;strokeColor=#dddddd;fontSize=16;align=left;spacingLeft=10;whiteSpace=wrap;', 
		   			250, 40, 'Johnny Boo', 'Full Name (Large)', null, null, this.getTagsForStencil(gn, '', dt + 'full name large').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#ffffff;strokeColor=#dddddd;fontSize=14;align=left;spacingLeft=8;whiteSpace=wrap;', 
		   			250, 30, 'Johnny Boo', 'Full Name (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'full name normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;rSize=5;fillColor=#ffffff;strokeColor=#dddddd;fontSize=10;align=left;spacingLeft=6;whiteSpace=wrap;', 
		   			250, 20, 'Johnny Boo', 'Full Name (Tiny)', null, null, this.getTagsForStencil(gn, '', dt + 'full name tiny').join(' ')),
			
		   	this.addEntry(dt + 'final price large', function()
	   		{
			   	var bg = new mxCell('Amount', new mxGeometry(0, 0, 200, 40), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;spacingLeft=10;fontSize=16;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('UAH', new mxGeometry(1, 0, 50, 40), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;fontSize=16;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-50, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Final Price (Large)');
			}),
			    
		   	this.addEntry(dt + 'final price normal', function()
	   		{
			   	var bg = new mxCell('Amount', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;spacingLeft=8;fontSize=14;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('UAH', new mxGeometry(1, 0, 40, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-40, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Final Price (Normal)');
			}),
		    
		   	this.addEntry(dt + 'final price tiny', function()
	   		{
			   	var bg = new mxCell('Amount', new mxGeometry(0, 0, 200, 20), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;spacingLeft=6;fontSize=10;align=left;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('UAH', new mxGeometry(1, 0, 30, 20), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=#f0f0f0;fontSize=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-30, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Final Price (Tiny)');
			}),
			    
		   	this.addEntry(dt + 'segmented button large', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 400, 40), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;fontSize=16;fontColor=#dddddd;align=left;spacingLeft=90;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Users', new mxGeometry(0, 0, 80, 40), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=16;align=left;spacingLeft=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg1.insert(marker1);
			   	var bg2 = new mxCell('Go!', new mxGeometry(1, 0, 50, 40), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=16;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-50, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Segmented Button (Large)');
			}),
	
		   	this.addEntry(dt + 'segmented button normal', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 400, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;fontSize=14;fontColor=#dddddd;align=left;spacingLeft=80;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Users', new mxGeometry(0, 0, 70, 30), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=14;align=left;spacingLeft=6;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg1.insert(marker1);
			   	var bg2 = new mxCell('Go!', new mxGeometry(1, 0, 40, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-40, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Segmented Button (Normal)');
			}),
	
		   	this.addEntry(dt + 'segmented button tiny', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 400, 20), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;fontSize=10;fontColor=#dddddd;align=left;spacingLeft=70;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Users', new mxGeometry(0, 0, 60, 20), s + 'leftButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=10;align=left;spacingLeft=3;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-20, -2.5);
			   	marker1.vertex = true;
			   	bg1.insert(marker1);
			   	var bg2 = new mxCell('Go!', new mxGeometry(1, 0, 30, 20), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-30, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Segmented Button (Tiny)');
			}),
	
		   	this.addEntry(dt + 'search button large', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 200, 40), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;align=left;spacingLeft=10;fontSize=16;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Go!', new mxGeometry(1, 0, 50, 40), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=16;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-50, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Search Button (Large)');
			}),
	
		   	this.addEntry(dt + 'search button normal', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;align=left;spacingLeft=6;fontSize=14;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Go!', new mxGeometry(1, 0, 40, 30), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-40, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Search Button (Normal)');
			}),
	
		   	this.addEntry(dt + 'search button tiny', function()
	   		{
			   	var bg = new mxCell('Search...', new mxGeometry(0, 0, 200, 20), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;align=left;spacingLeft=3;fontSize=10;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Go!', new mxGeometry(1, 0, 30, 20), s + 'rightButton;rSize=5;strokeColor=#dddddd;fillColor=none;fontSize=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(-30, 0);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Search Button (Tiny)');
			}),
	
		   	this.addEntry(dt + 'dropdown menu', function()
	   		{
			   	var bg = new mxCell('Dubai, UAE', new mxGeometry(0, 0, 300, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;gradientColor=#e4e4e4;gradientDirection=north;spacingLeft=10;align=left;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-15, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
			   	var bg1 = new mxCell('', new mxGeometry(0, 42, 300, 258), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;spacingLeft=10;shadow=1;align=left;verticalAlign=top;spacingTop=3;perimeter=none;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Search...', new mxGeometry(0, 0, 280, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingLeft=10;align=left;fontColor=#dddddd;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(10, 9);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Beijing, China', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 48);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Dubai, UAE', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fontStyle=1;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 78);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var marker2 = new mxCell('', new mxGeometry(1, 0.5, 10, 8), s + 'check;strokeWidth=3;strokeColor=#666666;');
			   	marker2.geometry.relative = true;
			   	marker2.geometry.offset = new mxPoint(-15, -4);
			   	marker2.vertex = true;
			   	bg4.insert(marker2);
			   	var bg5 = new mxCell('Kiev, Ukraine', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 108);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('London, UK', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(0, 138);
			   	bg6.vertex = true;
			   	bg1.insert(bg6);
			   	var bg7 = new mxCell('Moscow, Russia', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 168);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);
			   	var bg8 = new mxCell('New York, USA', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 198);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Tokyo, Japan', new mxGeometry(0, 0, 300, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(0, 228);
			   	bg9.vertex = true;
			   	bg1.insert(bg9);
			    
			   	return sb.createVertexTemplateFromCells([bg, bg1], 300, 300, 'Dropdown (Menu)');
			}),
			    
		   	this.addEntry(dt + 'dropdown menu', function()
	   		{
			   	var bg = new mxCell('Dubai, UAE', new mxGeometry(0, 0, 200, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;spacingRight=10;fontSize=16;gradientColor=#e4e4e4;gradientDirection=north;spacingLeft=10;align=left;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-15, -2.5);
			   	marker1.vertex = true;
			   	bg.insert(marker1);
			   	var bg1 = new mxCell('', new mxGeometry(0, 42, 200, 210), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;spacingLeft=10;shadow=1;align=left;verticalAlign=top;spacingTop=3;perimeter=none;');
			   	bg1.vertex = true;
			   	var bg3 = new mxCell('Beijing, China', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Dubai, UAE', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fontStyle=1;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 30);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var marker2 = new mxCell('', new mxGeometry(1, 0.5, 10, 8), s + 'check;strokeWidth=3;strokeColor=#666666;');
			   	marker2.geometry.relative = true;
			   	marker2.geometry.offset = new mxPoint(-15, -4);
			   	marker2.vertex = true;
			   	bg4.insert(marker2);
			   	var bg5 = new mxCell('Kiev, Ukraine', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 60);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('London, UK', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(0, 90);
			   	bg6.vertex = true;
			   	bg1.insert(bg6);
			   	var bg7 = new mxCell('Moscow, Russia', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 120);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);
			   	var bg8 = new mxCell('New York, USA', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 150);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Tokyo, Japan', new mxGeometry(0, 0, 200, 30), s + 'rect;strokeColor=#dddddd;spacingLeft=10;align=left;fillColor=none;perimeter=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(0, 180);
			   	bg9.vertex = true;
			   	bg1.insert(bg9);
			    
			   	return sb.createVertexTemplateFromCells([bg, bg1], 200, 252, 'Dropdown (Menu)');
			}),
	
		   	this.addEntry(dt + 'context menu', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 140, 128), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;shadow=1;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Dropdown header', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontColor=#dddddd;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg1.geometry.relative = true;
			   	bg1.geometry.offset = new mxPoint(0, 8);
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var bg2 = new mxCell('Action', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 24);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var bg3 = new mxCell('Another action', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 40);
			   	bg3.vertex = true;
			   	bg.insert(bg3);
			   	var bg4 = new mxCell('Something else here', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 56);
			   	bg4.vertex = true;
			   	bg.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(0, 0, 140, 16), 'shape=line;strokeColor=#dddddd;perimeter=none;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 72);
			   	bg5.vertex = true;
			   	bg.insert(bg5);
			   	var bg6 = new mxCell('Dropdown header', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontColor=#dddddd;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(0, 88);
			   	bg6.vertex = true;
			   	bg.insert(bg6);
			   	var bg7 = new mxCell('Separated link', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 104);
			   	bg7.vertex = true;
			   	bg.insert(bg7);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Context Menu');
			}),
	
		   	this.addEntry(dt + 'context menu', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 140, 96), s + 'rect;fillColor=#ffffff;strokeColor=#dddddd;shadow=1;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('Action', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 8);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var bg3 = new mxCell('Another action', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 24);
			   	bg3.vertex = true;
			   	bg.insert(bg3);
			   	var bg4 = new mxCell('Something else here', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 40);
			   	bg4.vertex = true;
			   	bg.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(0, 0, 140, 16), 'shape=line;strokeColor=#dddddd;perimeter=none;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 56);
			   	bg5.vertex = true;
			   	bg.insert(bg5);
			   	var bg7 = new mxCell('Separated link', new mxGeometry(0, 0, 140, 16), s + 'rect;strokeColor=none;spacingLeft=6;align=left;fillColor=none;perimeter=none;fontSize=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 72);
			   	bg7.vertex = true;
			   	bg.insert(bg7);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Context Menu');
			}),
	
		   	this.addEntry(dt + 'pagination', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 330, 30), s + 'rrect;fillColor=#ffffff;strokeColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('<<', new mxGeometry(0, 0, 30, 30), s + 'leftButton;strokeColor=none;fillColor=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var bg3 = new mxCell('1', new mxGeometry(30, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	bg.insert(bg3);
			   	var bg5 = new mxCell('3', new mxGeometry(90, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	bg.insert(bg5);
			   	var bg6 = new mxCell('4', new mxGeometry(120, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	bg.insert(bg6);
			   	var bg7 = new mxCell('5', new mxGeometry(150, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg7.vertex = true;
			   	bg.insert(bg7);
			   	var bg8 = new mxCell('6', new mxGeometry(180, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	bg.insert(bg8);
			   	var bg9 = new mxCell('7', new mxGeometry(210, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	bg.insert(bg9);
			   	var bg10 = new mxCell('8', new mxGeometry(240, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg10.vertex = true;
			   	bg.insert(bg10);
			   	var bg11 = new mxCell('9', new mxGeometry(270, 0, 30, 30), s + 'rect;strokeColor=#dddddd;fillColor=none;perimeter=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg11.vertex = true;
			   	bg.insert(bg11);
			   	var bg12 = new mxCell('>>', new mxGeometry(300, 0, 30, 30), s + 'rightButton;strokeColor=#dddddd;fillColor=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	bg.insert(bg12);
			   	var bg4 = new mxCell('2', new mxGeometry(60, 0, 30, 30), s + 'rect;strokeColor=#3D8BCD;fillColor=#3D8BCD;perimeter=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	bg.insert(bg4);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Pagination');
			}),
	
		   	this.createVertexTemplateEntry(s + 'roundedButton;fillColor=#ffffff;align=center;strokeColor=#dddddd;fontColor=#3D8BCD;whiteSpace=wrap;', 
		   			100, 30, 'Previous', 'Button (Previous)', null, null, this.getTagsForStencil(gn, '', dt + '').join(' ')),
		   	this.createVertexTemplateEntry(s + 'roundedButton;fillColor=#ffffff;align=center;strokeColor=#dddddd;fontColor=#3D8BCD;whiteSpace=wrap;', 
		   			60, 30, 'Next', 'Button (Next)', null, null, this.getTagsForStencil(gn, '', dt + '').join(' ')),

		   	this.addEntry(dt + 'button older', function()
	   		{
			   	var bg = new mxCell('Older', new mxGeometry(0, 0, 100, 30), s + 'roundedButton;fillColor=#ffffff;align=center;strokeColor=#dddddd;fontColor=#dddddd;spacingLeft=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0.5, 16, 4), s + 'arrow;strokeColor=#dddddd;flipH=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(12, -2);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button (Older)');
			}),
	
		   	this.addEntry(dt + 'button newer', function()
	   		{
			   	var bg = new mxCell('Newer', new mxGeometry(0, 0, 100, 30), s + 'roundedButton;fillColor=#ffffff;align=center;strokeColor=#dddddd;fontColor=#3D8BCD;spacingRight=10;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(1, 0.5, 16, 4), s + 'arrow;strokeColor=#3D8BCD;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-28, -2);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button (Newer)');
			}),
	
		   	this.addEntry(dt + 'tabs', function()
	   		{
			   	var bg = new mxCell('Home', new mxGeometry(0, 0, 58, 40), s + 'tabTop;fillColor=#ffffff;align=center;fontColor=#000000;strokeColor=#dddddd;rSize=5;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(58, 35, 402, 10), 'shape=line;strokeColor=#dddddd;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('Disabled Link', new mxGeometry(62, 0, 100, 40), s + 'topButton;fillColor=#ffffff;strokeColor=none;rSize=5;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('Messages', new mxGeometry(166, 0, 116, 40), s + 'topButton;align=center;fillColor=#ffffff;strokeColor=none;rSize=5;fontColor=#3D8BCD;spacingRight=30;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	var notif1 = new mxCell('24', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#999999;strokeColor=none;fontColor=#ffffff;perimeter=none;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-36, -8);
			   	notif1.vertex = true;
			   	bg4.insert(notif1);
			   	var bg5 = new mxCell('Action Logs', new mxGeometry(286, 0, 106, 40), s + 'topButton;fillColor=#ffffff;strokeColor=none;rSize=5;fontColor=#3D8BCD;spacingRight=20;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#3D8BCD;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-21, -2.5);
			   	marker1.vertex = true;
			   	bg5.insert(marker1);
			    
			   	return sb.createVertexTemplateFromCells([bg, bg3, bg4, bg5, bg2], 460, 45, 'Tabs');
			}),

		   	this.addEntry(dt + 'pills', function()
	   		{
			   	var bg = new mxCell('Home', new mxGeometry(0, 0, 58, 40), s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#3D8BCD;fontColor=#ffffff;rSize=5;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var bg3 = new mxCell('Disabled Link', new mxGeometry(62, 0, 100, 40), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;;strokeColor=none;rSize=5;fontColor=#dddddd;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('Messages', new mxGeometry(166, 0, 116, 40), s + 'rrect;rSize=5;fillColor=#ffffff;align=center;strokeColor=none;rSize=5;fontColor=#3D8BCD;spacingRight=30;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	var notif1 = new mxCell('24', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#999999;strokeColor=none;fontColor=#ffffff;perimeter=none;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-36, -8);
			   	notif1.vertex = true;
			   	bg4.insert(notif1);
			   	var bg5 = new mxCell('Action Logs', new mxGeometry(286, 0, 106, 40), s + 'rrect;rSize=5;fillColor=#ffffff;align=center;strokeColor=none;rSize=5;fontColor=#3D8BCD;spacingRight=20;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var marker1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#3D8BCD;strokeColor=none;perimeter=none;');
			   	marker1.geometry.relative = true;
			   	marker1.geometry.offset = new mxPoint(-21, -2.5);
			   	marker1.vertex = true;
			   	bg5.insert(marker1);
			    
			   	return sb.createVertexTemplateFromCells([bg, bg3, bg4, bg5], 392, 45, 'Pills');
			}),
	
		   	this.addEntry(dt + 'breadcrumb', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 460, 30), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Home', new mxGeometry(0, 0, 50, 30), s + 'rect;perimeter=none;strokeColor=none;fillColor=none;fontColor=#3D8BCD;spacingLeft=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var bg2 = new mxCell('/', new mxGeometry(0, 0, 20, 30), s + 'rect;perimeter=none;strokeColor=none;fillColor=none;fontColor=#dddddd;whiteSpace=wrap;resizeHeight=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(50, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var bg3 = new mxCell('Library', new mxGeometry(0, 0, 50, 30), s + 'rect;perimeter=none;strokeColor=none;fillColor=none;fontColor=#3D8BCD;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(70, 0);
			   	bg3.vertex = true;
			   	bg.insert(bg3);
			   	var bg4 = new mxCell('/', new mxGeometry(0, 0, 20, 30), s + 'rect;perimeter=none;strokeColor=none;fillColor=none;fontColor=#dddddd;whiteSpace=wrap;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(120, 0);
			   	bg4.vertex = true;
			   	bg.insert(bg4);
			   	var bg5 = new mxCell('Data', new mxGeometry(0, 0, 50, 30), s + 'rect;perimeter=none;strokeColor=none;fillColor=none;fontColor=#dddddd;whiteSpace=wrap;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(140, 0);
			   	bg5.vertex = true;
			   	bg.insert(bg5);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Breadcrumb');
			}),
	
		   	this.addEntry(dt + 'pills vertical', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 200, 158), s + 'rrect;rSize5=;strokeColor=none;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var bg1 = new mxCell('Home', new mxGeometry(0, 0, 200, 30), s + 'rrect;rSize=5;strokeColor=none;fillColor=#3D8BCD;fontColor=#ffffff;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg.insert(bg1);
			   	var notif1 = new mxCell('42', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#ffffff;strokeColor=none;fontColor=#3D8BCD;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-33, -8);
			   	notif1.vertex = true;
			   	bg1.insert(notif1);
			   	var bg2 = new mxCell('Profile', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=none;fontColor=#3D8BCD;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 32);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
			   	var bg3 = new mxCell('Messages', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=none;fontColor=#3D8BCD;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 64);
			   	bg3.vertex = true;
			   	bg.insert(bg3);
			   	var notif2 = new mxCell('24', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#999999;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-33, -8);
			   	notif2.vertex = true;
			   	bg3.insert(notif2);
			   	var bg4 = new mxCell('Disabled Link', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=none;fontColor=#dddddd;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 96);
			   	bg4.vertex = true;
			   	bg.insert(bg4);
			   	var bg5 = new mxCell('System Settings', new mxGeometry(0, 0, 200, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=none;fontColor=#3D8BCD;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 128);
			   	bg5.vertex = true;
			   	bg.insert(bg5);
			   	var notif3 = new mxCell('1', new mxGeometry(1, 0.5, 25, 16), s + 'rrect;rSize=8;fillColor=#999999;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(-33, -8);
			   	notif3.vertex = true;
			   	bg5.insert(notif3);
			    
			   	return sb.createVertexTemplateFromCells([bg], 200, 158, 'Pills (Vertical)');
			}),
	
		   	this.addEntry(dt + 'navbar', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 100), s + 'rrect;rSize=5;fillColor=#f6f6f6;strokeColor=#dddddd;recursiveResize=0;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;fontSize=14;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Link', new mxGeometry(80, 0, 60, 40), s + 'rect;fillColor=#dddddd;strokeColor=none;fontColor=#999999;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Link', new mxGeometry(140, 0, 60, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Dropdown', new mxGeometry(200, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;spacingRight=10;whiteSpace=wrap;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var notif1 = new mxCell('', new mxGeometry(1, 0.5, 8, 5), 'shape=triangle;fillColor=#999999;strokeColor=none;direction=south;perimeter=none;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-19, -3);
			   	notif1.vertex = true;
			   	button4.insert(notif1);
			   	var button6 = new mxCell('Search...', new mxGeometry(305, 5, 200, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fontColor=#dddddd;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	button6.vertex = true;
			   	bg.insert(button6);
			   	var button7 = new mxCell('Submit', new mxGeometry(510, 5, 80, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;whiteSpace=wrap;');
			   	button7.vertex = true;
			   	bg.insert(button7);
			   	var button8 = new mxCell('Link', new mxGeometry(1, 1, 60, 40), s + 'anchor;fontColor=#999999;whiteSpace=wrap;');
			   	button8.geometry.relative = true;
			   	button8.geometry.offset = new mxPoint(-180, -40);
			   	button8.vertex = true;
			   	bg.insert(button8);
			   	var button9 = new mxCell('Dropdown', new mxGeometry(1, 1, 100, 40), s + 'anchor;fontColor=#999999;spacingRight=10;whiteSpace=wrap;');
			   	button9.geometry.relative = true;
			   	button9.geometry.offset = new mxPoint(-120, -40);
			   	button9.vertex = true;
			   	bg.insert(button9);
			   	var notif2 = new mxCell('', new mxGeometry(1, 0.5, 8, 5), 'shape=triangle;fillColor=#999999;strokeColor=none;direction=south;perimeter=none;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-19, -3);
			   	notif2.vertex = true;
			   	button9.insert(notif2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Navbar');
			}),
			    
		   	this.addEntry(dt + 'navbar form', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 40), s + 'rrect;rSize=5;fillColor=#f6f6f6;strokeColor=#dddddd;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Search...', new mxGeometry(0, 0, 200, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fontColor=#dddddd;align=left;spacingLeft=10;whiteSpace=wrap;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(85, 5);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Submit', new mxGeometry(0, 0, 80, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;whiteSpace=wrap;resizeHeight=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(290, 5);
			   	button3.vertex = true;
			   	bg.insert(button3);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Navbar Form');
			}),
			    
		   	this.addEntry(dt + 'navbar button', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 40), s + 'rrect;rSize=5;fillColor=#f6f6f6;strokeColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'anchor;fontColor=#999999;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Sign in', new mxGeometry(0, 0, 60, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;whiteSpace=wrap;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(80, 5);
			   	button2.vertex = true;
			   	bg.insert(button2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Navbar Button');
			}),
			    
		   	this.addEntry(dt + 'navbar text', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 40), s + 'rrect;rSize=5;fillColor=#f6f6f6;strokeColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'anchor;fontColor=#999999;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Signed in as Mark Otto', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=10;whiteSpace=wrap;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(80, 0);
			   	button2.vertex = true;
			   	bg.insert(button2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Navbar Text');
			}),
			    
		   	this.addEntry(dt + 'non nav link', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 40), s + 'rrect;rSize=5;fillColor=#f6f6f6;strokeColor=#dddddd;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'anchor;fontColor=#999999;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Signed in as Mark Otto', new mxGeometry(1, 0, 160, 40), s + 'anchor;fontColor=#999999;align=right;spacingRight=20;whiteSpace=wrap;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(-160, 0);
			   	button2.vertex = true;
			   	bg.insert(button2);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Non-nav Link');
			}),
			    
		   	this.addEntry(dt + 'navbar', function()
	   		{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 720, 40), s + 'rrect;strokeColor=none;rSize=5;fillColor=#222222;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Brand', new mxGeometry(0, 0, 80, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Home', new mxGeometry(0, 0, 60, 40), s + 'rect;fillColor=#000000;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(80, 0);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Link', new mxGeometry(0, 0, 60, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;whiteSpace=wrap;resizeHeight=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(140, 0);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Link', new mxGeometry(0, 0, 60, 40), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;whiteSpace=wrap;resizeHeight=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(200, 0);
			   	button4.vertex = true;
			   	bg.insert(button4);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Navbar');
			}),
	
		   	this.addEntry(dt + 'jumbotron', function()
		   	{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 800, 500), s + 'rrect;rSize=5;fillColor=#f0f0f0;strokeColor=none;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Hello, world!', new mxGeometry(60, 80, 680, 80), s + 'anchor;fontSize=80;align=left;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell(
			   			'This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.', 
			   			new mxGeometry(60, 180, 660, 100), s + 'anchor;fontSize=24;whiteSpace=wrap;align=left;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Learn more', new mxGeometry(0.075, 0.6, 180, 60), s + 'rrect;fontColor=#FFFFFF;fillColor=#3D8BCD;strokeColor=none;fontSize=24;whiteSpace=wrap;');
			   	button3.geometry.relative = true;
			   	button3.vertex = true;
			   	bg.insert(button3);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Jumbotron');
			}),
			    
		   	this.addEntry(dt + 'page header', function()
		   	{
			   	var button1 = new mxCell('Example page header', new mxGeometry(0, 0, 360, 50), s + 'anchor;fontSize=35;align=left;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	var button2 = new mxCell('Subtext for header', new mxGeometry(360, 10, 300, 40), s + 'anchor;fontSize=24;align=left;fontColor=#999999;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	var button3 = new mxCell('', new mxGeometry(0, 50, 750, 10), 'shape=line;strokeColor=#dddddd;');
			   	button3.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([button1, button2, button3], 700, 80, 'Page header');
			}),
			    
		   	this.addEntry(dt + 'thumbnail custom content', function()
		   	{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 330, 400), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#dddddd;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('320x200', new mxGeometry(5, 5, 320, 200), 'shape=rect;fontSize=24;fillColor=#f0f0f0;strokeColor=none;fontColor=#999999;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Thumbnail label', new mxGeometry(15, 220, 300, 40), s + 'anchor;fontSize=26;align=left;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell(
			   			'Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh' +
			   			' ultricies vehicula ut id elit.', 
			   			new mxGeometry(15, 260, 300, 80), s + 'anchor;strokeColor=#dddddd;whiteSpace=wrap;align=left;verticalAlign=top;fontSize=14;whiteSpace=wrap;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Button', new mxGeometry(0, 1, 80, 40), s + 'rrect;rSize=5;fontSize=16;fillColor=#3D8BCD;strokeColor=none;fontColor=#ffffff;whiteSpace=wrap;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(15, -60);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Button', new mxGeometry(0, 1, 80, 40), s + 'rrect;rSize=5;fontSize=16;strokeColor=#dddddd;whiteSpace=wrap;');
			   	button5.geometry.relative = true;
			   	button5.geometry.offset = new mxPoint(100, -60);
			   	button5.vertex = true;
			   	bg.insert(button5);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Thumbnail with custom content');
			}),
			   	
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#999999;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#0D5B9D;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#58B957;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#55BFE0;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#EFAC43;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#DB524C;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;', 
		   			60, 30, 'Label', 'Label (Normal)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#999999;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#0D5B9D;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#58B957;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#55BFE0;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#EFAC43;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#DB524C;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;fontSize=10;', 
		   			40, 20, 'Label', 'Label (Small)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),

		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=30;align=left;spacingLeft=10;', 
		   			250, 40, 'Header Text', 'Header Text (30)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=25;align=left;spacingLeft=10;', 
		   			250, 35, 'Header Text', 'Header Text (25)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=20;align=left;spacingLeft=10;', 
		   			250, 30, 'Header Text', 'Header Text (20)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=16;align=left;spacingLeft=10;', 
		   			250, 26, 'Header Text', 'Header Text (16)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=12;align=left;spacingLeft=10;', 
		   			250, 22, 'Header Text', 'Header Text (12)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	this.createVertexTemplateEntry(s + 'rect;strokeColor=none;fillColor=none;fontSize=10;align=left;spacingLeft=10;', 
		   			250, 20, 'Header Text', 'Header Text (10)', null, null, this.getTagsForStencil(gn, '', dt + 'label normal').join(' ')),
		   	
		   	this.createVertexTemplateEntry(s + 'image;align=center;rSize=5;strokeColor=#f6f6f6;fillColor=#f6f6f6;fontColor=#999999;strokeWidth=2;whiteSpace=wrap;', 
		   			150, 150, 'Image', 'Image', null, null, this.getTagsForStencil(gn, 'image', dt + '').join(' ')),

		   	this.addEntry(dt + 'image', function()
		   	{
			   	var bg1 = new mxCell('Image', new mxGeometry(0, 0, 150, 70), s + 'image;align=center;rSize=5;strokeColor=#f6f6f6;fillColor=#f6f6f6;fontColor=#999999;strokeWidth=2;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Image', new mxGeometry(0, 80, 70, 70), s + 'image;align=center;rSize=5;strokeColor=#f6f6f6;fillColor=#f6f6f6;fontColor=#999999;strokeWidth=2;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('Image', new mxGeometry(80, 80, 70, 70), s + 'image;align=center;rSize=5;strokeColor=#f6f6f6;fillColor=#f6f6f6;fontColor=#999999;strokeWidth=2;whiteSpace=wrap;');
			   	bg3.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3], 150, 150, 'Images');
			}),
	
		   	this.addEntry(dt + 'dismissible alert', function()
		   	{
			   	var bg1 = new mxCell(
			   			'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;margin-left:14px;"><tbody><tr><td align="left" valign="middle" width="50%"><b>Well done!</b> You successfully read <u>this important alert message.</u></td></tr></tbody></table>', 
			   			new mxGeometry(0, 0, 800, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#E0F0D6;fontColor=#59B958;overflow=fill;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(1, 0.5, 10, 10), s + 'x;strokeColor=#59B958;strokeWidth=2;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-25, -5);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Dismissible Alert');
			}),
	
		   	this.addEntry(dt + 'dismissible alert', function()
		   	{
			   	var bg1 = new mxCell(
			   			'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;margin-left:14px;"><tbody><tr><td align="left" valign="middle" width="50%"><b>Heads up!</b> This <u>alert needs you attention</u>, but it\'s not super important.</td></tr></tbody></table>', 
			   			new mxGeometry(0, 0, 800, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#D9EDF8;fontColor=#55C0E0;overflow=fill;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(1, 0.5, 10, 10), s + 'x;strokeColor=#55C0E0;strokeWidth=2;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-25, -5);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Dismissible Alert');
			}),
	
		   	this.addEntry(dt + 'dismissible alert', function()
		   	{
			   	var bg1 = new mxCell(
			   			'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;margin-left:14px;"><tbody><tr><td align="left" valign="middle" width="50%"><b>Warning!</b> Better check yourself, <u>you\'re not looking too good.</u></td></tr></tbody></table>', 
			   			new mxGeometry(0, 0, 800, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#FDF8E4;fontColor=#F2AE43;overflow=fill;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(1, 0.5, 10, 10), s + 'x;strokeColor=#F2AE43;strokeWidth=2;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-25, -5);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Dismissible Alert');
			}),
	
		   	this.addEntry(dt + 'dismissible alert', function()
		   	{
			   	var bg1 = new mxCell(
			   			'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;margin-left:14px;"><tbody><tr><td align="left" valign="middle" width="50%"><b>Oh snap!</b> <u>Change a few things up</u> and try submitting again.</td></tr></tbody></table>', 
			   			new mxGeometry(0, 0, 800, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#F2DEDF;fontColor=#DB524C;overflow=fill;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(1, 0.5, 10, 10), s + 'x;strokeColor=#DB524C;strokeWidth=2;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(-25, -5);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Dismissible Alert');
			}),
	
		   	this.addEntry(dt + 'progress bar', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#59B958;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar');
			}),
	
		   	this.addEntry(dt + 'progress bar', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#55C0E0;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar');
			}),
	
		   	this.addEntry(dt + 'progress bar', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#F2AE43;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar');
			}),
	
		   	this.addEntry(dt + 'progress bar', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#DB524C;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar');
			}),
	
		   	this.addEntry(dt + 'progress bar low percentage', function()
		   	{
			   	var bg1 = new mxCell('0%', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;fontColor=#000000;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg1.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Low percentage)');
			}),
	
		   	this.addEntry(dt + 'progress bar low percentage', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('2%', new mxGeometry(0, 0, 30, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#55C0E0;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Low percentage)');
			}),
	
		   	this.addEntry(dt + 'progress bar striped', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButtonStriped;fillColor=#59B958;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Striped)');
			}),
	
		   	this.addEntry(dt + 'progress bar striped', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButtonStriped;fillColor=#55BFE0;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Striped)');
			}),
	
		   	this.addEntry(dt + 'progress bar striped', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButtonStriped;fillColor=#EFAC43;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Striped)');
			}),
	
		   	this.addEntry(dt + 'progress bar striped', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('60%', new mxGeometry(0, 0, 500, 20), s + 'leftButtonStriped;fillColor=#DB524C;fontColor=#FFFFFF;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar (Striped)');
			}),
	
		   	this.addEntry(dt + 'progress bar', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 20), s + 'rrect;rSize=5;strokeColor=none;fillColor=#f6f6f6;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 150, 20), s + 'leftButton;rSize=5;strokeColor=none;fillColor=#DB524C;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('', new mxGeometry(150, 0, 200, 20), 'rect;strokeColor=none;fillColor=#F2AE43;html=1;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('', new mxGeometry(350, 0, 50, 20), 'rect;strokeColor=none;fillColor=#59B958;html=1;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(400, 0, 150, 20), 'rect;strokeColor=none;fillColor=#55C0E0;html=1;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Progress Bar');
			}),
	
		   	this.addEntry(dt + 'default media', function()
		   	{
			   	var bg1 = new mxCell('64x64', new mxGeometry(0, 0, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Media heading', new mxGeometry(70, 0, 200, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.', 
			   			new mxGeometry(70, 30, 630, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('64x64', new mxGeometry(0, 100, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('Media heading', new mxGeometry(70, 100, 200, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.', 
			   			new mxGeometry(70, 130, 630, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('64x64', new mxGeometry(70, 200, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('Nested media heading', new mxGeometry(140, 200, 300, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.', 
			   			new mxGeometry(140, 230, 560, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg9.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9], 700, 290, 'Default Media');
			}),
	
		   	this.addEntry(dt + 'media list', function()
		   	{
			   	var bg1 = new mxCell('64x64', new mxGeometry(0, 0, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Media heading', new mxGeometry(70, 0, 200, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis.', 
			   			new mxGeometry(70, 30, 630, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('64x64', new mxGeometry(70, 90, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('Nested Media heading', new mxGeometry(140, 90, 300, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis.', 
			   			new mxGeometry(140, 120, 560, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('64x64', new mxGeometry(140, 180, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('Nested media heading', new mxGeometry(210, 180, 300, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis.', 
			   			new mxGeometry(210, 210, 490, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('64x64', new mxGeometry(70, 280, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg10.vertex = true;
			   	var bg11 = new mxCell('Nested Media heading', new mxGeometry(140, 280, 300, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg11.vertex = true;
			   	var bg12 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis.', 
			   			new mxGeometry(140, 310, 560, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	var bg13 = new mxCell('64x64', new mxGeometry(636, 370, 64, 64), s + 'rect;align=center;strokeColor=none;fillColor=#f6f6f6;fontColor=#999999;whiteSpace=wrap;');
			   	bg13.vertex = true;
			   	var bg14 = new mxCell('Media heading', new mxGeometry(0, 370, 200, 30), s + 'anchor;fontSize=24;align=left;whiteSpace=wrap;');
			   	bg14.vertex = true;
			   	var bg15 = new mxCell(
			   			'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in ' +
			   			'vulputate at, tempus viverra turpis.', 
			   			new mxGeometry(0, 400, 630, 60), s + 'anchor;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;');
			   	bg15.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9, bg10, bg11, bg12, bg13, bg14, bg15], 700, 460, 'Media List');
			}),
	
		   	this.addEntry(dt + 'linked item custom content', function()
		   	{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 400, 240), s + 'rrect;rSize=5;fillColor=#ffffff;strokeColor=#dddddd;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var button2 = new mxCell('Donec id elit non mi porta gravida at eget metus.\nMaecenas sed diam eget risus varius blandit.', new mxGeometry(0, 0, 400, 80), 
			   			s + 'rect;fillColor=none;strokeColor=#dddddd;perimeter=none;spacingLeft=10;align=left;fontSize=14;whiteSpace=wrap;verticalAlign=bottom;spacingBottom=10;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 80);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var heading2 = new mxCell('List group item heading', new mxGeometry(0, 0, 400, 40), s + 'anchor;spacingLeft=10;align=left;fontSize=18;whiteSpace=wrap;resizeWidth=1;');
			   	heading2.geometry.relative = true;
			   	heading2.vertex = true;
			   	button2.insert(heading2);
			   	var button3 = new mxCell('Donec id elit non mi porta gravida at eget metus.\nMaecenas sed diam eget risus varius blandit.', new mxGeometry(0, 1, 400, 80),
			   			s + 'bottomButton;rSize=5;fillColor=none;strokeColor=#dddddd;spacingLeft=10;align=left;fontSize=14;perimeter=none;whiteSpace=wrap;verticalAlign=bottom;spacingBottom=13;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, -80);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var heading3 = new mxCell('List group item heading', new mxGeometry(0, 0, 400, 40), s + 'anchor;spacingLeft=10;align=left;fontSize=18;whiteSpace=wrap;resizeWidth=1;');
			   	heading3.geometry.relative = true;
			   	heading3.vertex = true;
			   	button3.insert(heading3);
			   	var button1 = new mxCell('Donec id elit non mi porta gravida at eget metus.\nMaecenas sed diam eget risus varius blandit.', new mxGeometry(0, 0, 400, 80), 
			   			s + 'topButton;rSize=5;fillColor=#3D8BCD;strokeColor=#3D8BCD;fontColor=#ffffff;spacingLeft=10;align=left;fontSize=14;perimeter=none;whiteSpace=wrap;verticalAlign=bottom;spacingBottom=13;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var heading1 = new mxCell('List group item heading', new mxGeometry(0, 0, 400, 40), s + 'anchor;fontColor=#ffffff;spacingLeft=10;align=left;fontSize=18;whiteSpace=wrap;resizeWidth=1;');
			   	heading1.geometry.relative = true;
			   	heading1.vertex = true;
			   	button1.insert(heading1);
			    
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Linked Items (Custom Content)');
			}),
			    
		   	this.addEntry(dt + 'panel', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#E0F0D6;fillColor=#ffffff;fontColor=#f0f0f0;spacingTop=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 150, 30), s + 'topButton;rSize=5;strokeColor=none;fillColor=#E0F0D6;fontColor=#59B958;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel');
			}),
	
		   	this.addEntry(dt + 'panel', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#D9EDF8;fillColor=#ffffff;fontColor=#f0f0f0;spacingTop=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 150, 30), s + 'topButton;rSize=5;strokeColor=none;fillColor=#D9EDF8;fontColor=#55C0E0;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel');
			}),
	
		   	this.addEntry(dt + 'panel', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#FDF8E4;fillColor=#ffffff;fontColor=#f0f0f0;spacingTop=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 150, 30), s + 'topButton;rSize=5;strokeColor=none;fillColor=#FDF8E4;fontColor=#F2AE43;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel');
			}),
	
		   	this.addEntry(dt + 'panel', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#F2DEDF;fillColor=#ffffff;fontColor=#f0f0f0;spacingTop=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 150, 30), s + 'topButton;rSize=5;strokeColor=none;fillColor=#F2DEDF;fontColor=#DB524C;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel');
			}),
			   	
		   	this.addEntry(dt + 'panel', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#3D8BCD;fillColor=#ffffff;fontColor=#f0f0f0;spacingTop=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 150, 30), s + 'topButton;rSize=5;strokeColor=none;fillColor=#3D8BCD;fontColor=#ffffff;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel');
			}),
			
		   	this.addEntry(dt + 'panel footer', function()
		   	{
			   	var bg1 = new mxCell('Panel content', new mxGeometry(0, 0, 150, 200), s + 'rrect;align=center;rSize=5;strokeColor=#E0F0D6;fillColor=#ffffff;fontColor=#f0f0f0;spacingBottom=30;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 1, 150, 30), s + 'bottomButton;rSize=5;strokeColor=none;fillColor=#E0F0D6;fontColor=#59B958;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, -30);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel (Footer)');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 280), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 800, 40), s + 'topButton;rSize=5;strokeColor=#dddddd;fillColor=#fdfdfd;fontColor=#999999;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg2a = new mxCell(
			   			'Some default panel content here. Nulla vitae elit libero, a pharetra augue. Aenean lacinia bibendum nulla sed consectetur. ' + 
			   			'Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Nullam id dolor id nibh ultricies vehicula. ', 
			   			new mxGeometry(0, 0, 800, 80), s + 'rect;strokeColor=#dddddd;fillColor=none;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2a.geometry.relative = true;
			   	bg2a.geometry.offset = new mxPoint(0, 40);
			   	bg2a.vertex = true;
			   	bg1.insert(bg2a);
			   	var bg3 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'rect;strokeColor=#dddddd;fillColor=#fdfdfd;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint (0, 120);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('#', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;whiteSpace=wrap;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.vertex = true;
			   	bg3.insert(bg4);
			   	var bg5 = new mxCell('First Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(80, 0);
			   	bg5.vertex = true;
			   	bg3.insert(bg5);
			   	var bg6 = new mxCell('Last Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(230, 0);
			   	bg6.vertex = true;
			   	bg3.insert(bg6);
			   	var bg7 = new mxCell('Username', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(380, 0);
			   	bg7.vertex = true;
			   	bg3.insert(bg7);
			   	var bg8 = new mxCell('Active', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(560, 0);
			   	bg8.vertex = true;
			   	bg3.insert(bg8);
			   	var bg9 = new mxCell('Boss', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(700, 0);
			   	bg9.vertex = true;
			   	bg3.insert(bg9);
			   	var bg10 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg10.geometry.relative = true;
			   	bg10.geometry.offset = new mxPoint(0, 160);
			   	bg10.vertex = true;
			   	bg1.insert(bg10);
			   	var bg11 = new mxCell('1', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg11.geometry.relative = true;
			   	bg11.vertex = true;
			   	bg10.insert(bg11);
			   	var bg12 = new mxCell('John', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(80, 0);
			   	bg12.vertex = true;
			   	bg10.insert(bg12);
			   	var bg13 = new mxCell('Boo', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(230, 0);
			   	bg13.vertex = true;
			   	bg10.insert(bg13);
			   	var bg14 = new mxCell('johnny81', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(380, 0);
			   	bg14.vertex = true;
			   	bg10.insert(bg14);
			   	var notif1 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'checkbox;strokeColor=#666666;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(560, -10);
			   	notif1.vertex = true;
			   	bg10.insert(notif1);
			   	var notif2 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=#666666;html=1;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(700, -10);
			   	notif2.vertex = true;
			   	bg10.insert(notif2);
			   	var bg17 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg17.geometry.relative = true;
			   	bg17.geometry.offset = new mxPoint(0, 200);
			   	bg17.vertex = true;
			   	bg1.insert(bg17);
			   	var bg18 = new mxCell('2', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg18.geometry.relative = true;
			   	bg18.vertex = true;
			   	bg17.insert(bg18);
			   	var bg19 = new mxCell('Mary', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg19.geometry.relative = true;
			   	bg19.geometry.offset = new mxPoint(80, 0);
			   	bg19.vertex = true;
			   	bg17.insert(bg19);
			   	var bg20 = new mxCell('Brown', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg20.geometry.relative = true;
			   	bg20.geometry.offset = new mxPoint(230, 0);
			   	bg20.vertex = true;
			   	bg17.insert(bg20);
			   	var bg21 = new mxCell('missmary', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg21.geometry.relative = true;
			   	bg21.geometry.offset = new mxPoint(380, 0);
			   	bg21.vertex = true;
			   	bg17.insert(bg21);
			   	var notif3 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'checkbox;strokeColor=#666666;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(560, -10);
			   	notif3.vertex = true;
			   	bg17.insert(notif3);
			   	var notif4 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'radioButton;strokeColor=#666666;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(700, -10);
			   	notif4.vertex = true;
			   	bg17.insert(notif4);
			   	var bg24 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'bottomButton;rSize=5;strokeColor=#dddddd;fillColor=none;whiteSpace=wrap;resizeWidth=1;');
			   	bg24.geometry.relative = true;
			   	bg24.geometry.offset = new mxPoint(0, 240);
			   	bg24.vertex = true;
			   	bg1.insert(bg24);
			   	var bg25 = new mxCell('3', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg25.geometry.relative = true;
			   	bg25.vertex = true;
			   	bg24.insert(bg25);
			   	var bg26 = new mxCell('James', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg26.geometry.relative = true;
			   	bg26.geometry.offset = new mxPoint(80, 0);
			   	bg26.vertex = true;
			   	bg24.insert(bg26);
			   	var bg27 = new mxCell('Mooray', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg27.geometry.relative = true;
			   	bg27.geometry.offset = new mxPoint(230, 0);
			   	bg27.vertex = true;
			   	bg24.insert(bg27);
			   	var bg28 = new mxCell('jijames', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg28.geometry.relative = true;
			   	bg28.geometry.offset = new mxPoint(380, 0);
			   	bg28.vertex = true;
			   	bg24.insert(bg28);
			   	var notif5 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'rrect;rSize=3;strokeColor=#666666;');
			   	notif5.geometry.relative = true;
			   	notif5.geometry.offset = new mxPoint(560, -10);
			   	notif5.vertex = true;
			   	bg24.insert(notif5);
			   	var notif6 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=#666666;html=1;');
			   	notif6.geometry.relative = true;
			   	notif6.geometry.offset = new mxPoint(700, -10);
			   	notif6.vertex = true;
			   	bg24.insert(notif6);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'panel list group', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 600, 320), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Panel title', new mxGeometry(0, 0, 600, 40), s + 'topButton;rSize=5;strokeColor=#dddddd;fillColor=#fdfdfd;fontColor=#999999;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell(
			   			'Some default panel content here. Nulla vitae elit libero, a pharetra augue. Aenean lacinia bibendum nulla sed consectetur. ' + 
			   			'Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Nullam id dolor id nibh ultricies vehicula. ', 
			   			new mxGeometry(0, 0, 600, 80), s + 'rect;strokeColor=#dddddd;fillColor=none;align=left;spacingLeft=10;whiteSpace=wrap;fontSize=14;whiteSpace=wrap;resizeWidth=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(0, 40);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Cras justo odio', new mxGeometry(0, 0, 600, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;spacingLeft=10;fontSize=14;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(0, 120);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('Dapibus ac facilisis in', new mxGeometry(0, 0, 600, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;spacingLeft=10;fontSize=14;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 160);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('Morbi leo risus', new mxGeometry(0, 0, 600, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;spacingLeft=10;fontSize=14;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(0, 200);
			   	bg6.vertex = true;
			   	bg1.insert(bg6);
			   	var bg7 = new mxCell('Porta ac consectetur ac', new mxGeometry(0, 0, 600, 40), s + 'rect;strokeColor=#dddddd;fillColor=none;spacingLeft=10;fontSize=14;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 240);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);
			   	var bg8 = new mxCell('Vestibulum at eros', new mxGeometry(0, 1, 600, 40), s + 'bottomButton;rSize=5;strokeColor=#dddddd;fillColor=none;spacingLeft=10;fontSize=14;align=left;whiteSpace=wrap;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, -40);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Panel (List Group)');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 160), s + 'rect;strokeColor=none;fillColor=#ffffff;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('#', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('First Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(80, 0);
			   	bg4.vertex = true;
			   	bg2.insert(bg4);
			   	var bg5 = new mxCell('Last Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(230, 0);
			   	bg5.vertex = true;
			   	bg2.insert(bg5);
			   	var bg6 = new mxCell('Username', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(380, 0);
			   	bg6.vertex = true;
			   	bg2.insert(bg6);
			   	var bg7 = new mxCell('Active', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(560, 0);
			   	bg7.vertex = true;
			   	bg2.insert(bg7);
			   	var bg8 = new mxCell('Boss', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(700, 0);
			   	bg8.vertex = true;
			   	bg2.insert(bg8);
			   	var bg9 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(0, 40);
			   	bg9.vertex = true;
			   	bg1.insert(bg9);
			   	var bg10 = new mxCell('1', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg10.geometry.relative = true;
			   	bg10.vertex = true;
			   	bg9.insert(bg10);
			   	var bg11 = new mxCell('John', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg11.geometry.relative = true;
			   	bg11.geometry.offset = new mxPoint(80, 0);
			   	bg11.vertex = true;
			   	bg9.insert(bg11);
			   	var bg12 = new mxCell('Boo', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg9.insert(bg12);
			   	var bg13 = new mxCell('johnny81', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(380, 0);
			   	bg13.vertex = true;
			   	bg9.insert(bg13);
			   	var notif1 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'checkbox;strokeColor=#666666;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(560, -10);
			   	notif1.vertex = true;
			   	bg9.insert(notif1);
			   	var notif2 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=#666666;html=1;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(700, -10);
			   	notif2.vertex = true;
			   	bg9.insert(notif2);
			   	var bg16 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg16.geometry.relative = true;
			   	bg16.geometry.offset = new mxPoint(0, 80);
			   	bg16.vertex = true;
			   	bg1.insert(bg16);
			   	var bg17 = new mxCell('2', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg17.geometry.relative = true;
			   	bg17.vertex = true;
			   	bg16.insert(bg17);
			   	var bg18 = new mxCell('Mary', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg18.geometry.relative = true;
			   	bg18.geometry.offset = new mxPoint(80, 0);
			   	bg18.vertex = true;
			   	bg16.insert(bg18);
			   	var bg19 = new mxCell('Brown', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg19.geometry.relative = true;
			   	bg19.geometry.offset = new mxPoint(230, 0);
			   	bg19.vertex = true;
			   	bg16.insert(bg19);
			   	var bg20 = new mxCell('missmary', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg20.geometry.relative = true;
			   	bg20.geometry.offset = new mxPoint(380, 0);
			   	bg20.vertex = true;
			   	bg16.insert(bg20);
			   	var notif3 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'checkbox;strokeColor=#666666;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(560, -10);
			   	notif3.vertex = true;
			   	bg16.insert(notif3);
			   	var notif4 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'radioButton;strokeColor=#666666;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(700, -10);
			   	notif4.vertex = true;
			   	bg16.insert(notif4);
			   	var bg23 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg23.geometry.relative = true;
			   	bg23.geometry.offset = new mxPoint(0, 120);
			   	bg23.vertex = true;
			   	bg1.insert(bg23);
			   	var bg24 = new mxCell('3', new mxGeometry(0, 0, 50, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;whiteSpace=wrap;resizeHeight=1;');
			   	bg24.geometry.relative = true;
			   	bg24.vertex = true;
			   	bg23.insert(bg24);
			   	var bg25 = new mxCell('James', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg25.geometry.relative = true;
			   	bg25.geometry.offset = new mxPoint(80, 0);
			   	bg25.vertex = true;
			   	bg23.insert(bg25);
			   	var bg26 = new mxCell('Mooray', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg26.geometry.relative = true;
			   	bg26.geometry.offset = new mxPoint(230, 0);
			   	bg26.vertex = true;
			   	bg23.insert(bg26);
			   	var bg27 = new mxCell('jijames', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg27.geometry.relative = true;
			   	bg27.geometry.offset = new mxPoint(380, 0);
			   	bg27.vertex = true;
			   	bg23.insert(bg27);
			   	var notif5 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), s + 'rrect;rSize=3;strokeColor=#666666;');
			   	notif5.geometry.relative = true;
			   	notif5.geometry.offset = new mxPoint(560, -10);
			   	notif5.vertex = true;
			   	bg23.insert(notif5);
			   	var notif6 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=#666666;html=1;');
			   	notif6.geometry.relative = true;
			   	notif6.geometry.offset = new mxPoint(700, -10);
			   	notif6.vertex = true;
			   	bg23.insert(notif6);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 360), s + 'rect;strokeColor=none;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(50, 0);
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('Double-Line\nHeader', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(250, 0);
			   	bg4.vertex = true;
			   	bg2.insert(bg4);
			   	var bg5 = new mxCell('Rating', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(450, 0);
			   	bg5.vertex = true;
			   	bg2.insert(bg5);
			   	var bg6 = new mxCell('Signed Up', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(620, 0);
			   	bg6.vertex = true;
			   	bg2.insert(bg6);
			   	var notif1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;strokeColor=none;fillColor=#000000;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-25, -2.5);
			   	notif1.vertex = true;
			   	bg6.insert(notif1);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 40);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var notif2 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(15, -10);
			   	notif2.vertex = true;
			   	bg8.insert(notif2);
			   	var notif3 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(-7, -6);
			   	notif3.vertex = true;
			   	notif2.insert(notif3);
			   	var bg11 = new mxCell('John Boo', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg11.geometry.relative = true;
			   	bg11.geometry.offset = new mxPoint(50, 0);
			   	bg11.vertex = true;
			   	bg8.insert(bg11);
			   	var notif4 = new mxCell('ok', new mxGeometry(0, 0.5, 30, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(250, -10);
			   	notif4.vertex = true;
			   	bg8.insert(notif4);
			   	var notif5 = new mxCell('', new mxGeometry(0, 0.5, 150, 14), s + 'rating;strokeColor=none;fillColor=#EFAC43;emptyFillColor=#dddddd;grade=3;ratingScale=5;ratingStyle=star;');
			   	notif5.geometry.relative = true;
			   	notif5.geometry.offset = new mxPoint(450, -7);
			   	notif5.vertex = true;
			   	bg8.insert(notif5);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 8:56 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			   	var bg15 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg15.geometry.relative = true;
			   	bg15.geometry.offset = new mxPoint(0, 80);
			   	bg15.vertex = true;
			   	bg1.insert(bg15);
			   	var notif6 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif6.geometry.relative = true;
			   	notif6.geometry.offset = new mxPoint(15, -10);
			   	notif6.vertex = true;
			   	bg15.insert(notif6);
			   	var notif7 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif7.geometry.relative = true;
			   	notif7.geometry.offset = new mxPoint(-7, -6);
			   	notif7.vertex = true;
			   	notif6.insert(notif7);
			   	var bg18 = new mxCell('Michael Robinson', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg18.geometry.relative = true;
			   	bg18.geometry.offset = new mxPoint(50, 0);
			   	bg18.vertex = true;
			   	bg15.insert(bg18);
			   	var notif8 = new mxCell('ok', new mxGeometry(0, 0.5, 30, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif8.geometry.relative = true;
			   	notif8.geometry.offset = new mxPoint(250, -10);
			   	notif8.vertex = true;
			   	bg15.insert(notif8);
			   	var notif9 = new mxCell('', new mxGeometry(0, 0.5, 150, 14), s + 'rating;strokeColor=none;fillColor=#EFAC43;emptyFillColor=#dddddd;grade=5;ratingScale=5;ratingStyle=star;');
			   	notif9.geometry.relative = true;
			   	notif9.geometry.offset = new mxPoint(450, -7);
			   	notif9.vertex = true;
			   	bg15.insert(notif9);
			   	var bg21 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 7:12 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg21.geometry.relative = true;
			   	bg21.geometry.offset = new mxPoint(620, 0);
			   	bg21.vertex = true;
			   	bg15.insert(bg21);
			   	var bg22 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg22.geometry.relative = true;
			   	bg22.geometry.offset = new mxPoint(0, 120);
			   	bg22.vertex = true;
			   	bg1.insert(bg22);
			   	var notif10 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif10.geometry.relative = true;
			   	notif10.geometry.offset = new mxPoint(15, -10);
			   	notif10.vertex = true;
			   	bg22.insert(notif10);
			   	var notif11 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif11.geometry.relative = true;
			   	notif11.geometry.offset = new mxPoint(-7, -6);
			   	notif11.vertex = true;
			   	notif10.insert(notif11);
			   	var bg25 = new mxCell('Alexander Robson', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg25.geometry.relative = true;
			   	bg25.geometry.offset = new mxPoint(50, 0);
			   	bg25.vertex = true;
			   	bg22.insert(bg25);
			   	var notif12 = new mxCell('Blocked', new mxGeometry(0, 0.5, 70, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#999999;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif12.geometry.relative = true;
			   	notif12.geometry.offset = new mxPoint(250, -10);
			   	notif12.vertex = true;
			   	bg22.insert(notif12);
			   	var bg27 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 4:32 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg27.geometry.relative = true;
			   	bg27.geometry.offset = new mxPoint(620, 0);
			   	bg27.vertex = true;
			   	bg22.insert(bg27);
			   	var bg28 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg28.geometry.relative = true;
			   	bg28.geometry.offset = new mxPoint(0, 160);
			   	bg28.vertex = true;
			   	bg1.insert(bg28);
			   	var notif13 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif13.geometry.relative = true;
			   	notif13.geometry.offset = new mxPoint(15, -10);
			   	notif13.vertex = true;
			   	bg28.insert(notif13);
			   	var notif14 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif14.geometry.relative = true;
			   	notif14.geometry.offset = new mxPoint(-7, -6);
			   	notif14.vertex = true;
			   	notif13.insert(notif14);
			   	var bg31 = new mxCell('Jennifer Pinsker', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg31.geometry.relative = true;
			   	bg31.geometry.offset = new mxPoint(50, 0);
			   	bg31.vertex = true;
			   	bg28.insert(bg31);
			   	var notif15 = new mxCell('Blocked 24h', new mxGeometry(0, 0.5, 90, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#999999;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif15.geometry.relative = true;
			   	notif15.geometry.offset = new mxPoint(250, -10);
			   	notif15.vertex = true;
			   	bg28.insert(notif15);
			   	var bg33 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 2:08 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg33.geometry.relative = true;
			   	bg33.geometry.offset = new mxPoint(620, 0);
			   	bg33.vertex = true;
			   	bg28.insert(bg33);
			   	var bg34 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg34.geometry.relative = true;
			   	bg34.geometry.offset = new mxPoint(0, 200);
			   	bg34.vertex = true;
			   	bg1.insert(bg34);
			   	var notif16 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif16.geometry.relative = true;
			   	notif16.geometry.offset = new mxPoint(15, -10);
			   	notif16.vertex = true;
			   	bg34.insert(notif16);
			   	var notif17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif17.geometry.relative = true;
			   	notif17.geometry.offset = new mxPoint(-7, -6);
			   	notif17.vertex = true;
			   	notif16.insert(notif17);
			   	var bg37 = new mxCell('Bob Robson', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg37.geometry.relative = true;
			   	bg37.geometry.offset = new mxPoint(50, 0);
			   	bg37.vertex = true;
			   	bg34.insert(bg37);
			   	var notif18 = new mxCell('ok', new mxGeometry(0, 0.5, 30, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif18.geometry.relative = true;
			   	notif18.geometry.offset = new mxPoint(250, -10);
			   	notif18.vertex = true;
			   	bg34.insert(notif18);
			   	var notif20 = new mxCell('', new mxGeometry(0, 0.5, 150, 14), s + 'rating;strokeColor=none;fillColor=#EFAC43;emptyFillColor=#dddddd;grade=1;ratingScale=5;ratingStyle=star;');
			   	notif20.geometry.relative = true;
			   	notif20.geometry.offset = new mxPoint(450, -7);
			   	notif20.vertex = true;
			   	bg34.insert(notif20);
			   	var bg40 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 8:56 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg40.geometry.relative = true;
			   	bg40.geometry.offset = new mxPoint(620, 0);
			   	bg40.vertex = true;
			   	bg34.insert(bg40);
			   	var bg41 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg41.geometry.relative = true;
			   	bg41.geometry.offset = new mxPoint(0, 240);
			   	bg41.vertex = true;
			   	bg1.insert(bg41);
			   	var notif21 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif21.geometry.relative = true;
			   	notif21.geometry.offset = new mxPoint(15, -10);
			   	notif21.vertex = true;
			   	bg41.insert(notif21);
			   	var notif22 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif22.geometry.relative = true;
			   	notif22.geometry.offset = new mxPoint(-7, -6);
			   	notif22.vertex = true;
			   	notif21.insert(notif22);
			   	var bg44 = new mxCell('Michael Robinson', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg44.geometry.relative = true;
			   	bg44.geometry.offset = new mxPoint(50, 0);
			   	bg44.vertex = true;
			   	bg41.insert(bg44);
			   	var notif23 = new mxCell('Suspect', new mxGeometry(0, 0.5, 70, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#55BFE0;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif23.geometry.relative = true;
			   	notif23.geometry.offset = new mxPoint(250, -10);
			   	notif23.vertex = true;
			   	bg41.insert(notif23);
			   	var notif24 = new mxCell('', new mxGeometry(0, 0.5, 150, 14), s + 'rating;strokeColor=none;fillColor=#EFAC43;emptyFillColor=#dddddd;grade=4;ratingScale=5;ratingStyle=star;');
			   	notif24.geometry.relative = true;
			   	notif24.geometry.offset = new mxPoint(450, -7);
			   	notif24.vertex = true;
			   	bg41.insert(notif24);
			   	var bg47 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 7:12 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg47.geometry.relative = true;
			   	bg47.geometry.offset = new mxPoint(620, 0);
			   	bg47.vertex = true;
			   	bg41.insert(bg47);
			   	var bg48 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg48.geometry.relative = true;
			   	bg48.geometry.offset = new mxPoint(0, 280);
			   	bg48.vertex = true;
			   	bg1.insert(bg48);
			   	var notif25 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif25.geometry.relative = true;
			   	notif25.geometry.offset = new mxPoint(15, -10);
			   	notif25.vertex = true;
			   	bg48.insert(notif25);
			   	var notif26 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif26.geometry.relative = true;
			   	notif26.geometry.offset = new mxPoint(-7, -6);
			   	notif26.vertex = true;
			   	notif25.insert(notif26);
			   	var bg51 = new mxCell('Jennifer Pinsker', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg51.geometry.relative = true;
			   	bg51.geometry.offset = new mxPoint(50, 0);
			   	bg51.vertex = true;
			   	bg48.insert(bg51);
			   	var notif27 = new mxCell('ok', new mxGeometry(0, 0.5, 30, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif27.geometry.relative = true;
			   	notif27.geometry.offset = new mxPoint(250, -10);
			   	notif27.vertex = true;
			   	bg48.insert(notif27);
			   	var bg53 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 4:34 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg53.geometry.relative = true;
			   	bg53.geometry.offset = new mxPoint(620, 0);
			   	bg53.vertex = true;
			   	bg48.insert(bg53);
			   	var bg54 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg54.geometry.relative = true;
			   	bg54.geometry.offset = new mxPoint(0, 320);
			   	bg54.vertex = true;
			   	bg1.insert(bg54);
			   	var notif28 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif28.geometry.relative = true;
			   	notif28.geometry.offset = new mxPoint(15, -10);
			   	notif28.vertex = true;
			   	bg54.insert(notif28);
			   	var notif29 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif29.geometry.relative = true;
			   	notif29.geometry.offset = new mxPoint(-7, -6);
			   	notif29.vertex = true;
			   	notif28.insert(notif29);
			   	var bg57 = new mxCell('John Boo', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg57.geometry.relative = true;
			   	bg57.geometry.offset = new mxPoint(50, 0);
			   	bg57.vertex = true;
			   	bg54.insert(bg57);
			   	var notif30 = new mxCell('Violation', new mxGeometry(0, 0.5, 70, 20), s + 'rrect;rSize=3;strokeColor=none;fillColor=#DB524C;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	notif30.geometry.relative = true;
			   	notif30.geometry.offset = new mxPoint(250, -10);
			   	notif30.vertex = true;
			   	bg54.insert(notif30);
			   	var notif31 = new mxCell('', new mxGeometry(0, 0.5, 150, 14), s + 'rating;strokeColor=none;fillColor=#EFAC43;emptyFillColor=#dddddd;grade=2;ratingScale=5;ratingStyle=star;');
			   	notif31.geometry.relative = true;
			   	notif31.geometry.offset = new mxPoint(450, -7);
			   	notif31.vertex = true;
			   	bg54.insert(notif31);
			   	var bg60 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 2:08 AM <font color="#dddddd">(2013)</font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg60.geometry.relative = true;
			   	bg60.geometry.offset = new mxPoint(620, 0);
			   	bg60.vertex = true;
			   	bg54.insert(bg60);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 340), s + 'rect;strokeColor=none;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Admin Name', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(10, 0);
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('Object', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(200, 0);
			   	bg4.vertex = true;
			   	bg2.insert(bg4);
			   	var bg5 = new mxCell('Action', new mxGeometry(0, 0, 150, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(400, 0);
			   	bg5.vertex = true;
			   	bg2.insert(bg5);
			   	var bg6 = new mxCell('Date', new mxGeometry(0, 0, 100, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(620, 0);
			   	bg6.vertex = true;
			   	bg2.insert(bg6);
			   	var notif1 = new mxCell('', new mxGeometry(0, 0.5, 10, 5), 'shape=triangle;direction=south;strokeColor=none;fillColor=#000000;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(665, -2.5);
			   	notif1.vertex = true;
			   	bg2.insert(notif1);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 40);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Jennifer Pinsker\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(10, 0);
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var notif2 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(200, -15);
			   	notif2.vertex = true;
			   	bg8.insert(notif2);
			   	var notif3 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(-7, -6);
			   	notif3.vertex = true;
			   	notif2.insert(notif3);
			   	var bg12 = new mxCell('John Boo\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg8.insert(bg12);
			   	var bg13 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">Profile Updated<br/><font color="#dddddd">First Name is set to Bobby</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(400, 0);
			   	bg13.vertex = true;
			   	bg8.insert(bg13);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 8:56 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			   	var bg15 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg15.geometry.relative = true;
			   	bg15.geometry.offset = new mxPoint(0, 90);
			   	bg15.vertex = true;
			   	bg1.insert(bg15);
			   	var bg16 = new mxCell('Bob Robson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg16.geometry.relative = true;
			   	bg16.geometry.offset = new mxPoint(10, 0);
			   	bg16.vertex = true;
			   	bg15.insert(bg16);
			   	var notif4 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(200, -15);
			   	notif4.vertex = true;
			   	bg15.insert(notif4);
			   	var notif5 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif5.geometry.relative = true;
			   	notif5.geometry.offset = new mxPoint(-7, -6);
			   	notif5.vertex = true;
			   	notif4.insert(notif5);
			   	var bg19 = new mxCell('Michael Robinson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg19.geometry.relative = true;
			   	bg19.geometry.offset = new mxPoint(230, 0);
			   	bg19.vertex = true;
			   	bg15.insert(bg19);
			   	var bg20 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">Violation Resolved<br/><font color="#dddddd">Fake Person Violation resolved</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg20.geometry.relative = true;
			   	bg20.geometry.offset = new mxPoint(400, 0);
			   	bg20.vertex = true;
			   	bg15.insert(bg20);
			   	var bg21 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 7:12 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg21.geometry.relative = true;
			   	bg21.geometry.offset = new mxPoint(620, 0);
			   	bg21.vertex = true;
			   	bg15.insert(bg21);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 140);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Michael Robinson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(10, 0);
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var notif6 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif6.geometry.relative = true;
			   	notif6.geometry.offset = new mxPoint(200, -15);
			   	notif6.vertex = true;
			   	bg8.insert(notif6);
			   	var notif7 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif7.geometry.relative = true;
			   	notif7.geometry.offset = new mxPoint(-7, -6);
			   	notif7.vertex = true;
			   	notif6.insert(notif7);
			   	var bg12 = new mxCell('Alexander Robson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg8.insert(bg12);
			   	var bg13 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">Suspect Resolved<br/><font color="#dddddd">Mass Friending Suspect resolved</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeWidth=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(400, 0);
			   	bg13.vertex = true;
			   	bg8.insert(bg13);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 4:34 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 190);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Jennifer Pinsker\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(10, 0);
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var notif8 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif8.geometry.relative = true;
			   	notif8.geometry.offset = new mxPoint(200, -15);
			   	notif8.vertex = true;
			   	bg8.insert(notif8);
			   	var notif9 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif9.geometry.relative = true;
			   	notif9.geometry.offset = new mxPoint(-7, -6);
			   	notif9.vertex = true;
			   	notif8.insert(notif9);
			   	var bg12 = new mxCell('Jennifer Pinsker\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg8.insert(bg12);
			   	var bg13 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">Profile Violation Detected<br/><font color="#dddddd">First Name is marked as Violation</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(400, 0);
			   	bg13.vertex = true;
			   	bg8.insert(bg13);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 2:08 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 240);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('John Boo\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(10, 0);
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var notif10 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif10.geometry.relative = true;
			   	notif10.geometry.offset = new mxPoint(200, -15);
			   	notif10.vertex = true;
			   	bg8.insert(notif10);
			   	var notif11 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif11.geometry.relative = true;
			   	notif11.geometry.offset = new mxPoint(-7, -6);
			   	notif11.vertex = true;
			   	notif10.insert(notif11);
			   	var bg12 = new mxCell('Bob Robson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg8.insert(bg12);
			   	var bg13 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">Profile Updated<br/><font color="#dddddd">First Name is set to Bobby</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(400, 0);
			   	bg13.vertex = true;
			   	bg8.insert(bg13);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 8:56 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 290);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Michael Robinson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(10, 0);
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var notif12 = new mxCell('', new mxGeometry(0, 0.5, 20, 20), 'shape=ellipse;strokeColor=none;fillColor=#dddddd;html=1;');
			   	notif12.geometry.relative = true;
			   	notif12.geometry.offset = new mxPoint(200, -15);
			   	notif12.vertex = true;
			   	bg8.insert(notif12);
			   	var notif13 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 12), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif13.geometry.relative = true;
			   	notif13.geometry.offset = new mxPoint(-7, -6);
			   	notif13.vertex = true;
			   	notif12.insert(notif13);
			   	var bg12 = new mxCell('Michael Robinson\n', new mxGeometry(0, 0, 150, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;whiteSpace=wrap;resizeHeight=1;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(230, 0);
			   	bg12.vertex = true;
			   	bg8.insert(bg12);
			   	var bg13 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="left" valign="middle" width="50%">User Blocked<br/><font color="#dddddd">Blocked for 24 hours</font></td></tr></table>',
			   			new mxGeometry(0, 0, 210, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(400, 0);
			   	bg13.vertex = true;
			   	bg8.insert(bg13);
			   	var bg14 = new mxCell(
						'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">15 Sep, 7:12 AM <font color="#dddddd">(2013)<br><br></font></td></tr></table>',
			   			new mxGeometry(0, 0, 160, 50), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;align=left;overflow=fill;whiteSpace=wrap;resizeHeight=1;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(620, 0);
			   	bg14.vertex = true;
			   	bg8.insert(bg14);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 430), s + 'rect;strokeColor=none;fillColor=#ffffff;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 800, 40), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Template Name', new mxGeometry(0, 0, 200, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('Message', new mxGeometry(0, 0, 200, 40), s + 'rect;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;align=left;spacingLeft=10;whiteSpace=wrap;resizeWidth=1;resizeHeight=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(200, 0);
			   	bg4.vertex = true;
			   	bg2.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(0, 0, 800, 130), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 40);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('Uncompleted Profile', new mxGeometry(0, 0, 200, 40), s + 'rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	bg6.geometry.relative = true;
			   	bg6.vertex = true;
			   	bg5.insert(bg6);
			   	var bg7 = new mxCell(
			   			'Hello! At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium deleniti atque corrupti quos dolores' + 
			   			'et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est' + 
			   			'laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Name libero tempore, cum soluta nobis est eligendi' + 
			   			'optio cumque nihil impedit quo.', 
			   			new mxGeometry(0, 0, 400, 130), s + 'rect;strokeColor=none;fillColor=none;align=left;valign=top;spacingLeft=10;verticalAlign=top;spacingTop=6;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(200, 0);
			   	bg7.vertex = true;
			   	bg5.insert(bg7);
			   	var notif1 = new mxCell('Edit', new mxGeometry(1, 0, 50, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-140, 15);
			   	notif1.vertex = true;
			   	bg5.insert(notif1);
			   	var notif2 = new mxCell('Delete', new mxGeometry(1, 0, 60, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-80, 15);
			   	notif2.vertex = true;
			   	bg5.insert(notif2);
			   	var bg8 = new mxCell('', new mxGeometry(0, 0, 800, 100), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(0, 170);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Spam Suspect', new mxGeometry(0, 0, 200, 40), s + 'rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	bg9.geometry.relative = true;
			   	bg9.vertex = true;
			   	bg8.insert(bg9);
			   	var bg10 = new mxCell(
			   			'Hello, deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui' + 
			   			'officia deserunt mollitia animi, id est fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam nobis est eligendi optio cumque' + 
			   			'nihil impedit quo minus id quod maxime placeat.', 
			   			new mxGeometry(0, 0, 400, 100), s + 'rect;strokeColor=none;fillColor=none;align=left;valign=top;spacingLeft=10;verticalAlign=top;spacingTop=6;whiteSpace=wrap;resizeWidth=1;');
			   	bg10.geometry.relative = true;
			   	bg10.geometry.offset = new mxPoint(200, 0);
			   	bg10.vertex = true;
			   	bg8.insert(bg10);
			   	var notif3 = new mxCell('Edit', new mxGeometry(1, 0, 50, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(-140, 15);
			   	notif3.vertex = true;
			   	bg8.insert(notif3);
			   	var notif4 = new mxCell('Delete', new mxGeometry(1, 0, 60, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(-80, 15);
			   	notif4.vertex = true;
			   	bg8.insert(notif4);
			   	
			   	var bg11 = new mxCell('', new mxGeometry(0, 0, 800, 160), s + 'horLines;strokeColor=#dddddd;fillColor=none;resizeWidth=1;');
			   	bg11.geometry.relative = true;
			   	bg11.geometry.offset = new mxPoint(0, 270);
			   	bg11.vertex = true;
			   	bg1.insert(bg11);
			   	var bg12 = new mxCell('Profile Blocked', new mxGeometry(0, 0, 200, 40), s + 'rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	bg11.insert(bg12);
			   	var bg13 = new mxCell(
			   			'Hello! Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa' + 
			   			'quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit' + 
			   			'aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est,' + 
			   			'qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore' + 
			   			'magnam aliquam quaerat voluptarem.', 
			   			new mxGeometry(0, 0, 400, 160), s + 'rect;strokeColor=none;fillColor=none;align=left;valign=top;spacingLeft=10;verticalAlign=top;spacingTop=6;whiteSpace=wrap;resizeWidth=1;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(200, 0);
			   	bg13.vertex = true;
			   	bg11.insert(bg13);
			   	var notif1 = new mxCell('Edit', new mxGeometry(1, 0, 50, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(-140, 15);
			   	notif1.vertex = true;
			   	bg11.insert(notif1);
			   	var notif2 = new mxCell('Delete', new mxGeometry(1, 0, 60, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;whiteSpace=wrap;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-80, 15);
			   	notif2.vertex = true;
			   	bg11.insert(notif2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'table', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 80), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Group Name', new mxGeometry(20, 20, 500, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#ffffff;align=left;spacingLeft=10;fontSize=18;fontColor=#999999;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('Create Templates Group', new mxGeometry(540, 20, 240, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#3D8BCD;fontSize=18;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Table');
			}),
	
		   	this.addEntry(dt + 'edit template', function()
		   	{
			   	var bg1 = new mxCell('Template name', new mxGeometry(0, 0, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Uncompleted Profile', new mxGeometry(0, 20, 800, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;align=left;spacingLeft=10;fontSize=16;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('Subject', new mxGeometry(0, 80, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('Hello, %USER_FULL_NAME%', new mxGeometry(0, 100, 800, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;align=left;spacingLeft=10;fontSize=16;whiteSpace=wrap;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('Insert System Variable', new mxGeometry(650, 80, 120, 20), s + 'rect;strokeColor=none;fillColor=none;align=right;fontSize=10;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('', new mxGeometry(772, 87, 8, 4), 'shape=triangle;strokeColor=none;fillColor=#000000;direction=south;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('Message', new mxGeometry(0, 160, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell(
			   			'Hello %USER_FULL_NAME%!\n\n' + 
			   			'At vero eos et accusamus et iusto odio dignissimos ducimus, qui blanditiis praesentium voluptatum deleniti atque corrupti, quos' + 
			   			'dolores et quas molestias excepturi sint, obcaecati cupiditate non provident, similique sunt in culpa, qui officia deserunt mollitia' +
			   			'animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta' +
			   			'nobis est eligendi optio, cumque nihil impedit, quo minus id, quod maxime placeat, facere possimus, omnis voluptas assumenda' +
			   			'est, omnis dolor repellendus.',
			   			new mxGeometry(0, 180, 800, 240), s + 'rrect;rSize=5;fontSize=12;strokeColor=#dddddd;;fillColor=#ffffff;align=left;spacing=10;verticalAlign=top;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('Insert System Variable', new mxGeometry(650, 160, 120, 20), s + 'rect;strokeColor=none;fillColor=none;align=right;fontSize=10;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('', new mxGeometry(772, 167, 8, 4), 'shape=triangle;strokeColor=none;fillColor=#000000;direction=south;');
			   	bg10.vertex = true;
			   	var bg11 = new mxCell(
			   			'%USER_FULL_NAME%\n' +
			   			'%USER_EMAIL%\n' +
			   			'%USER_PROFILE_COMPLETENESS%\n' +
			   			'%USER_NUM_SUCCESS_TRADES%\n' +
			   			'%USER_FULL_NAME%\n' +
			   			'%USER_EMAIL%\n' +
			   			'%USER_PROFILE_COMPLETENESS%\n' +
			   			'%USER_NUM_SUCCESS_SELLS%',
			   			new mxGeometry(550, 175, 240, 140), s + 'rrect;fontSize=12;rSize=2;strokeColor=#dddddd;fillColor=#ffffff;align=left;verticalAlign=top;spacing=10;shadow=1;whiteSpace=wrap;');
			   	bg11.vertex = true;
			   	var bg12 = new mxCell('Message Type', new mxGeometry(0, 440, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	var bg13 = new mxCell('Email + Push', new mxGeometry(0, 460, 390, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;align=left;spacingLeft=10;fontSize=16;whiteSpace=wrap;');
			   	bg13.vertex = true;
			   	var bg14 = new mxCell('', new mxGeometry(370, 477, 10, 5), 'shape=triangle;strokeColor=none;fillColor=#000000;direction=south;');
			   	bg14.vertex = true;
			   	var bg15 = new mxCell('Tap target', new mxGeometry(410, 440, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg15.vertex = true;
			   	var bg16 = new mxCell('Profile Screen', new mxGeometry(410, 460, 390, 40), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;align=left;spacingLeft=10;fontSize=16;whiteSpace=wrap;');
			   	bg16.vertex = true;
			   	var bg17 = new mxCell('', new mxGeometry(780, 477, 10, 5), 'shape=triangle;strokeColor=none;fillColor=#000000;direction=south;');
			   	bg17.vertex = true;
			   	var bg18 = new mxCell('Send to Group', new mxGeometry(0, 520, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg18.vertex = true;
			   	var bg19 = new mxCell('Top Management', new mxGeometry(10, 543, 14, 14), s + 'checkbox;fontSize=12;strokeColor=#999999;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=5;');
			   	bg19.vertex = true;
			   	var bg20 = new mxCell('Marketing Department', new mxGeometry(10, 563, 14, 14), s + 'rrect;fontSize=12;rSize=3;strokeColor=#999999;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=5;');
			   	bg20.vertex = true;
			   	var bg21 = new mxCell('Design Department', new mxGeometry(10, 583, 14, 14), s + 'checkbox;fontSize=12;strokeColor=#999999;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=5;');
			   	bg21.vertex = true;
			   	var bg22 = new mxCell('Financial Department', new mxGeometry(10, 603, 14, 14), s + 'rrect;fontSize=12;rSize=3;strokeColor=#999999;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=5;');
			   	bg22.vertex = true;
			   	var bg23 = new mxCell('Supply Department', new mxGeometry(10, 623, 14, 14), s + 'rrect;fontSize=12;rSize=3;strokeColor=#999999;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=5;');
			   	bg23.vertex = true;
			   	var bg24 = new mxCell('Set Type', new mxGeometry(410, 520, 200, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg24.vertex = true;
			   	var bg25 = new mxCell('', new mxGeometry(420, 543, 14, 14), 'shape=ellipse;dashed=0;strokeColor=#999999;fillColor=#ffffff;html=1;');
			   	bg25.vertex = true;
			   	var bg26 = new mxCell('News', new mxGeometry(440, 543, 40, 14), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontColor=#ffffff;fontStyle=1;fontSize=10;whiteSpace=wrap;');
			   	bg26.vertex = true;
			   	var bg27 = new mxCell('', new mxGeometry(420, 563, 14, 14), s + 'radioButton;strokeColor=#999999;fillColor=#ffffff;');
			   	bg27.vertex = true;
			   	var bg28 = new mxCell('Reports', new mxGeometry(440, 563, 50, 14), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#55BFE0;fontColor=#ffffff;fontStyle=1;fontSize=10;whiteSpace=wrap;');
			   	bg28.vertex = true;
			   	var bg29 = new mxCell('', new mxGeometry(420, 583, 14, 14), 'shape=ellipse;dashed=0;strokeColor=#999999;fillColor=#ffffff;html=1;');
			   	bg29.vertex = true;
			   	var bg30 = new mxCell('Documents', new mxGeometry(440, 583, 70, 14), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#EFAC43;fontColor=#ffffff;fontStyle=1;fontSize=10;whiteSpace=wrap;');
			   	bg30.vertex = true;
			   	var bg31 = new mxCell('', new mxGeometry(420, 603, 14, 14), 'shape=ellipse;dashed=0;strokeColor=#999999;fillColor=#ffffff;html=1;');
			   	bg31.vertex = true;
			   	var bg32 = new mxCell('Media', new mxGeometry(440, 603, 40, 14), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#3D8BCD;fontColor=#ffffff;fontStyle=1;fontSize=10;whiteSpace=wrap;');
			   	bg32.vertex = true;
			   	var bg33 = new mxCell('', new mxGeometry(420, 623, 14, 14), 'shape=ellipse;dashed=0;strokeColor=#999999;fillColor=#ffffff;html=1;');
			   	bg33.vertex = true;
			   	var bg34 = new mxCell('Text', new mxGeometry(440, 623, 30, 14), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#999999;fontColor=#ffffff;fontStyle=1;fontSize=10;whiteSpace=wrap;');
			   	bg34.vertex = true;
			   	var bg35 = new mxCell('Save Template', new mxGeometry(0, 680, 150, 40), s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#3D8BCD;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;');
			   	bg35.vertex = true;
			   	var bg36 = new mxCell('Cancel', new mxGeometry(170, 680, 100, 40), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;strokeColor=#dddddd;fontSize=16;whiteSpace=wrap;');
			   	bg36.vertex = true;
			   	var bg37 = new mxCell('Delete Template', new mxGeometry(630, 680, 170, 40), s + 'rrect;align=center;rSize=5;strokeColor=none;fillColor=#DB524C;fontColor=#ffffff;fontSize=16;whiteSpace=wrap;');
			   	bg37.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9, bg10, bg11, bg12, bg13, bg14, bg15, bg16, bg17, bg18, bg19, bg20, bg21, bg22, bg23, bg24, bg25, bg26, bg27, bg28, bg29, bg30, bg31, bg32, bg33, bg34, bg35, bg36, bg37], 800, 720, 'Edit Template');
			}),
	
		   	this.addEntry(dt + 'business contact', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;');
			   	bg1.vertex = true;
			   	var notif1 = new mxCell('2 fields selected', new mxGeometry(0, 0.5, 14, 14), s + 'checkbox;strokeColor=#dddddd;fillColor=none;align=left;labelPosition=right;spacingLeft=10;fontStyle=1;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(13, -7);
			   	notif1.vertex = true;
			   	bg1.insert(notif1);
			   	var bg3 = new mxCell('Mark as OK', new mxGeometry(0, 0.5, 90, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(150, -15);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('Mark as Violation', new mxGeometry(0, 0.5, 120, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(250, -15);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('Mark all as OK', new mxGeometry(1, 0.5, 100, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(-110, -15);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('Phone', new mxGeometry(40, 70, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('', new mxGeometry(13, 103, 14, 14), s + 'checkbox;strokeColor=#999999;fillColor=#ffffff;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('+38 (066) 875 67 97', new mxGeometry(40, 90, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('ok', new mxGeometry(700, 100, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('Business email', new mxGeometry(40, 140, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg10.vertex = true;
			   	var bg11 = new mxCell('', new mxGeometry(13, 173, 14, 14), s + 'checkbox;strokeColor=#999999;fillColor=#ffffff;');
			   	bg11.vertex = true;
			   	var bg12 = new mxCell('seo@apple.com', new mxGeometry(40, 160, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#FDF8E4;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	var bg13 = new mxCell('To Moderate', new mxGeometry(700, 170, 90, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#EFAC43;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg13.vertex = true;
			   	var bg14 = new mxCell('Skype', new mxGeometry(40, 210, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg14.vertex = true;
			   	var bg15 = new mxCell('', new mxGeometry(13, 243, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg15.vertex = true;
			   	var bg16 = new mxCell('alex.robby', new mxGeometry(40, 230, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg16.vertex = true;
			   	var bg17 = new mxCell('ok', new mxGeometry(700, 240, 30, 20), s + 'rrect;rSize=3;align=center;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg17.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg6, bg7, bg8, bg9, bg10, bg11, bg12, bg13, bg14, bg15, bg16, bg17], 800, 270, 'Business Contacts');
			}),

			this.addEntry(dt + 'experience', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;');
			   	bg1.vertex = true;
			   	var notif1 = new mxCell('Select fields to update status', new mxGeometry(0, 0.5, 14, 14), s + 'rrect;rSize=3;strokeColor=#dddddd;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=10;fontStyle=1;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(13, -7);
			   	notif1.vertex = true;
			   	bg1.insert(notif1);
			   	var bg3 = new mxCell('Position', new mxGeometry(40, 70, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(13, 103, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('Senior Engineer', new mxGeometry(40, 90, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('ok', new mxGeometry(700, 100, 30, 20), s + 'rrect;rSize=3;align=center;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('Company', new mxGeometry(40, 140, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('', new mxGeometry(13, 173, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('Tesla Motors', new mxGeometry(40, 160, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('ok', new mxGeometry(700, 170, 30, 20), s + 'rrect;rSize=3;align=center;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg10.vertex = true;
			   	var bg11 = new mxCell('Working from', new mxGeometry(40, 210, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg11.vertex = true;
			   	var bg12 = new mxCell('', new mxGeometry(13, 243, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg12.vertex = true;
			   	var bg13 = new mxCell('October', new mxGeometry(40, 230, 130, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg13.vertex = true;
			   	var bg14 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(-30, -3);
			   	bg14.vertex = true;
			   	bg13.insert(bg14);
			   	var bg15 = new mxCell('2011', new mxGeometry(190, 230, 130, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg15.vertex = true;
			   	var bg16 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;whiteSpace=wrap;');
			   	bg16.geometry.relative = true;
			   	bg16.geometry.offset = new mxPoint(-30, -3);
			   	bg16.vertex = true;
			   	bg15.insert(bg16);
			   	var bg17 = new mxCell('Working to', new mxGeometry(400, 210, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#999999;align=left;spacingLeft=5;whiteSpace=wrap;');
			   	bg17.vertex = true;
			   	var bg18 = new mxCell('Current time', new mxGeometry(580, 210, 100, 20), s + 'rect;strokeColor=none;fillColor=none;align=right;spacingRight=5;fontColor=#55C0E0;whiteSpace=wrap;');
			   	bg18.vertex = true;
			   	var bg19 = new mxCell('', new mxGeometry(340, 240, 40, 20), 'shape=line;strokeWidth=2;shadow=0;dashed=0;');
			   	bg19.vertex = true;
			   	var bg20 = new mxCell('December', new mxGeometry(400, 230, 130, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg20.vertex = true;
			   	var bg21 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	bg21.geometry.relative = true;
			   	bg21.geometry.offset = new mxPoint(-30, -3);
			   	bg21.vertex = true;
			   	bg20.insert(bg21);
			   	var bg22 = new mxCell('2012', new mxGeometry(550, 230, 130, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg22.vertex = true;
			   	var bg23 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), 'shape=triangle;direction=south;fillColor=#000000;strokeColor=none;perimeter=none;');
			   	bg23.geometry.relative = true;
			   	bg23.geometry.offset = new mxPoint(-30, -3);
			   	bg23.vertex = true;
			   	bg22.insert(bg23);
			   	var bg24 = new mxCell('ok', new mxGeometry(700, 240, 30, 20), s + 'rrect;rSize=3;align=center;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg24.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg3, bg4, bg5, bg6, bg7, bg8, bg9, bg10, bg11, bg12, bg13, bg15, bg17, bg18, bg19, bg20, bg22, bg24], 800, 270, 'Experience');
			}),
	
		   	this.addEntry(dt + 'skills', function()
		   	{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 800, 50), s + 'horLines;strokeColor=#dddddd;fillColor=#fdfdfd;');
			   	bg1.vertex = true;
			   	var notif1 = new mxCell('Select fields to update status', new mxGeometry(0, 0.5, 14, 14), s + 'rrect;rSize=3;strokeColor=#dddddd;fillColor=#ffffff;align=left;labelPosition=right;spacingLeft=10;fontStyle=1;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(13, -7);
			   	notif1.vertex = true;
			   	bg1.insert(notif1);
			   	var bg3 = new mxCell('Mark all as OK', new mxGeometry(1, 0.5, 100, 30), s + 'rrect;rSize=5;strokeColor=#dddddd;fillColor=#fdfdfd;whiteSpace=wrap;');
			   	bg3.geometry.relative = true;
			   	bg3.geometry.offset = new mxPoint(-120, -15);
			   	bg3.vertex = true;
			   	bg1.insert(bg3);
			   	var bg4 = new mxCell('', new mxGeometry(13, 103, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('Engineering', new mxGeometry(40, 90, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('ok', new mxGeometry(700, 100, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('', new mxGeometry(13, 173, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('Thinking', new mxGeometry(40, 160, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#FDF8E4;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('To Moderate', new mxGeometry(700, 170, 90, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#EFAC43;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('', new mxGeometry(13, 243, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg10.vertex = true;
			   	var bg11 = new mxCell('Working', new mxGeometry(40, 230, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg11.vertex = true;
			   	var bg12 = new mxCell('ok', new mxGeometry(700, 240, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg12.vertex = true;
			   	var bg13 = new mxCell('', new mxGeometry(13, 313, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg13.vertex = true;
			   	var bg14 = new mxCell('Sleeping', new mxGeometry(40, 300, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg14.vertex = true;
			   	var bg15 = new mxCell('ok', new mxGeometry(700, 310, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg15.vertex = true;
			   	var bg16 = new mxCell('', new mxGeometry(13, 383, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg16.vertex = true;
			   	var bg17 = new mxCell('Eating', new mxGeometry(40, 370, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg17.vertex = true;
			   	var bg18 = new mxCell('ok', new mxGeometry(700, 380, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg18.vertex = true;
			   	var bg19 = new mxCell('', new mxGeometry(13, 453, 14, 14), s + 'rrect;rSize=3;strokeColor=#999999;fillColor=#ffffff;');
			   	bg19.vertex = true;
			   	var bg20 = new mxCell('Walking', new mxGeometry(40, 440, 640, 40), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;align=left;fontSize=16;spacingLeft=10;whiteSpace=wrap;');
			   	bg20.vertex = true;
			   	var bg21 = new mxCell('ok', new mxGeometry(700, 450, 30, 20), s + 'rrect;align=center;rSize=3;strokeColor=none;fillColor=#58B957;fontSize=12;fontStyle=1;fontColor=#ffffff;whiteSpace=wrap;');
			   	bg21.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg4, bg5, bg6, bg7, bg8, bg9, bg10, bg11, bg12, bg13, bg14, bg15, bg16, bg17, bg18, bg19, bg20, bg21], 800, 480, 'Skills');
			}),
	
		   	this.addEntry(dt + 'chat', function()
		   	{
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 400, 660), s + 'rect;strokeColor=#333333;fillColor=#ffffff;whiteSpace=wrap;');
			   	bg2.vertex = true;
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 400, 50), s + 'rect;strokeColor=#333333;fillColor=#333333;whiteSpace=wrap;resizeWidth=1;');
			   	bg1.geometry.relative = true;
			   	bg1.vertex = true;
			   	bg2.insert(bg1);
			   	var notif1 = new mxCell('John Boo', new mxGeometry(0, 0.5, 30, 30), 'shape=ellipse;strokeColor=none;fillColor=#f0f0f0;labelPosition=right;align=left;spacingLeft=10;fontColor=#f0f0f0;html=1;');
			   	notif1.geometry.relative = true;
			   	notif1.geometry.offset = new mxPoint(15, -15);
			   	notif1.vertex = true;
			   	bg1.insert(notif1);
			   	var notif2 = new mxCell('', new mxGeometry(0.5, 0.5, 20, 20), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif2.geometry.relative = true;
			   	notif2.geometry.offset = new mxPoint(-10, -10);
			   	notif2.vertex = true;
			   	notif1.insert(notif2);
			   	var notif3 = new mxCell('Michael Robinson', new mxGeometry(1, 0.5, 30, 30), 'shape=ellipse;strokeColor=none;fillColor=#f0f0f0;labelPosition=left;align=right;spacingRight=10;fontColor=#f0f0f0;html=1;');
			   	notif3.geometry.relative = true;
			   	notif3.geometry.offset = new mxPoint(-45, -15);
			   	notif3.vertex = true;
			   	bg1.insert(notif3);
			   	var notif4 = new mxCell('', new mxGeometry(0.5, 0.5, 20, 20), s + 'user;strokeColor=none;fillColor=#999999;');
			   	notif4.geometry.relative = true;
			   	notif4.geometry.offset = new mxPoint(-10, -10);
			   	notif4.vertex = true;
			   	notif3.insert(notif4);
			   	var bg7 = new mxCell('15 September 2013', new mxGeometry(0, 0, 400, 30), s + 'rrect;rSize=5;strokeColor=none;fillColor=#fdfdfd;fontColor=#999999;whiteSpace=wrap;resizeWidth=1;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(0, 75);
			   	bg7.vertex = true;
			   	bg2.insert(bg7);
			   	var bg8 = new mxCell('Hi man!', new mxGeometry(0, 0, 80, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#E0F0D6;align=left;spacingLeft=15;whiteSpace=wrap;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(20, 135);
			   	bg8.vertex = true;
			   	bg2.insert(bg8);
			   	var bg9 = new mxCell('8:56:14 AM', new mxGeometry(0, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=left;whiteSpace=wrap;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(20, 175);
			   	bg9.vertex = true;
			   	bg2.insert(bg9);
			   	var bg10 = new mxCell('Hello there...', new mxGeometry(1, 0, 100, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#D9EDF8;align=right;spacingRight=15;whiteSpace=wrap;');
			   	bg10.geometry.relative = true;
			   	bg10.geometry.offset = new mxPoint(-120, 195);
			   	bg10.vertex = true;
			   	bg2.insert(bg10);
			   	var bg11 = new mxCell('8:56:14 AM', new mxGeometry(1, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=right;whiteSpace=wrap;');
			   	bg11.geometry.relative = true;
			   	bg11.geometry.offset = new mxPoint(-120, 235);
			   	bg11.vertex = true;
			   	bg2.insert(bg11);
			   	var bg12 = new mxCell('Duis aute inure dolor in reprehenderit in voluptate velit esse cilium dolore eu fugiat nulla pariatur.', new mxGeometry(0, 0, 240, 80), 
			   			s + 'rrect;rSize=5;strokeColor=none;fillColor=#E0F0D6;align=left;spacing=15;whiteSpace=wrap;');
			   	bg12.geometry.relative = true;
			   	bg12.geometry.offset = new mxPoint(20, 255);
			   	bg12.vertex = true;
			   	bg2.insert(bg12);
			   	var bg13 = new mxCell('8:56:14 AM', new mxGeometry(0, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=left;whiteSpace=wrap;');
			   	bg13.geometry.relative = true;
			   	bg13.geometry.offset = new mxPoint(20, 335);
			   	bg13.vertex = true;
			   	bg2.insert(bg13);
			   	var bg14 = new mxCell('Really?! Can\'t believe that, man!', new mxGeometry(1, 0, 200, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#D9EDF8;align=right;spacing=15;whiteSpace=wrap;');
			   	bg14.geometry.relative = true;
			   	bg14.geometry.offset = new mxPoint(-220, 355);
			   	bg14.vertex = true;
			   	bg2.insert(bg14);
			   	var bg15 = new mxCell('8:56:14 AM', new mxGeometry(1, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=right;whiteSpace=wrap;');
			   	bg15.geometry.relative = true;
			   	bg15.geometry.offset = new mxPoint(-120, 395);
			   	bg15.vertex = true;
			   	bg2.insert(bg15);
			   	var bg16 = new mxCell(
			   			'And even nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas' + 
			   			'assumenda est, omnis dolor!', 
			   			new mxGeometry(0, 0, 240, 100), s + 'rrect;rSize=5;strokeColor=none;fillColor=#E0F0D6;align=left;spacing=15;whiteSpace=wrap;');
			   	bg16.geometry.relative = true;
			   	bg16.geometry.offset = new mxPoint(20, 415);
			   	bg16.vertex = true;
			   	bg2.insert(bg16);
			   	var bg17 = new mxCell('8:56:14 AM', new mxGeometry(0, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=left;whiteSpace=wrap;');
			   	bg17.geometry.relative = true;
			   	bg17.geometry.offset = new mxPoint(20, 515);
			   	bg17.vertex = true;
			   	bg2.insert(bg17);
			   	var bg18 = new mxCell('Ok. Deal!', new mxGeometry(1, 0, 80, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#D9EDF8;align=right;spacing=15;whiteSpace=wrap;');
			   	bg18.geometry.relative = true;
			   	bg18.geometry.offset = new mxPoint(-100, 535);
			   	bg18.vertex = true;
			   	bg2.insert(bg18);
			   	var bg19 = new mxCell('8:56:14 AM', new mxGeometry(1, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=right;whiteSpace=wrap;');
			   	bg19.geometry.relative = true;
			   	bg19.geometry.offset = new mxPoint(-120, 575);
			   	bg19.vertex = true;
			   	bg2.insert(bg19);
			   	var bg20 = new mxCell('Huh..', new mxGeometry(0, 0, 60, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#E0F0D6;align=left;spacing=15;whiteSpace=wrap;whiteSpace=wrap;');
			   	bg20.geometry.relative = true;
			   	bg20.geometry.offset = new mxPoint(20, 595);
			   	bg20.vertex = true;
			   	bg2.insert(bg20);
			   	var bg21 = new mxCell('8:56:14 AM', new mxGeometry(0, 0, 100, 20), s + 'rect;strokeColor=none;fillColor=none;fontColor=#dddddd;fontSize=10;align=left;whiteSpace=wrap;');
			   	bg21.geometry.relative = true;
			   	bg21.geometry.offset = new mxPoint(20, 635);
			   	bg21.vertex = true;
			   	bg2.insert(bg21);
			    
			   	return sb.createVertexTemplateFromCells([bg2], 400, 660, 'Chat');
			}),
			   	
		   	this.addEntry(dt + 'log in', function()
		   	{
			   	var bg1 = new mxCell('Control Panel', new mxGeometry(0, 0, 240, 220), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;strokeColor=#000000;verticalAlign=top;spacingTop=20;fontSize=14;fontStyle=1;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('Email', new mxGeometry(0, 0, 190, 30), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;fontSize=14;fontColor=#dddddd;align=left;spacingLeft=40;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(30, 60);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#999999;fillColor=#fdfdfd;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 12), s + 'mail;strokeColor=#fdfdfd;fillColor=#999999;strokeWidth=1.3;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(-8, -6);
			   	bg4.vertex = true;
			   	bg3.insert(bg4);
			   	var bg4 = new mxCell('Password', new mxGeometry(0, 0, 190, 30), s + 'rrect;fillColor=#ffffff;rSize=5;strokeColor=#999999;fontSize=14;fontColor=#dddddd;align=left;spacingLeft=40;whiteSpace=wrap;resizeWidth=1;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(30, 100);
			   	bg4.vertex = true;
			   	bg1.insert(bg4);
			   	var bg5 = new mxCell('', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#999999;fillColor=#fdfdfd;resizeHeight=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(0, 0);
			   	bg5.vertex = true;
			   	bg4.insert(bg5);
			   	var bg6 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s + 'password;strokeColor=#999999;strokeWidth=3;');
			   	bg6.geometry.relative = true;
			   	bg6.geometry.offset = new mxPoint(-8, -8);
			   	bg6.vertex = true;
			   	bg5.insert(bg6);
			   	var bg7 = new mxCell('Remember me', new mxGeometry(0, 0, 14, 14), s + 'checkbox;rSize=3;strokeColor=#666666;fillColor=#ffffff;labelPosition=right;align=left;spacingLeft=5;fontSize=10;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(73, 148);
			   	bg7.vertex = true;
			   	bg1.insert(bg7);
			   	var bg8 = new mxCell('Log In', new mxGeometry(0, 1, 190, 30), s + 'rrect;rSize=5;strokeColor=none;fillColor=#58B957;fontColor=#ffffff;fontSize=14;fontStyle=1;whiteSpace=wrap;resizeWidth=1;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(30, -50);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			    
			   	return sb.createVertexTemplateFromCells([bg1], 240, 220, 'Log in');
			}),
	
		   	this.addEntry(dt + 'log in', function()
		   	{
			   	var bg1 = new mxCell('Control Panel', new mxGeometry(0, 0, 240, 260), s + 'rrect;fillColor=#ffffff;align=center;rSize=5;strokeColor=#000000;verticalAlign=top;spacingTop=20;fontSize=14;fontStyle=1;whiteSpace=wrap;');
			   	bg1.vertex = true;
			   	var bg10 = new mxCell(
			   			'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;"><tr><td align="center" valign="middle" width="50%">Incorrect <b>Email</b> or <b>Password</b></td></tr></table>', 
			   			new mxGeometry(0, 0, 190, 40), s + 'rrect;rSize=5;strokeColor=none;fillColor=#F2DEDF;fontColor=#DB524C;overflow=fill;whiteSpace=wrap;resizeWidth=1;');
			   	bg10.geometry.relative = true;
			   	bg10.geometry.offset = new mxPoint(30, 50);
			   	bg10.vertex = true;
			   	bg1.insert(bg10);
			   	var bg2 = new mxCell('john@gmail.com', new mxGeometry(0, 0, 190, 30), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#fdfdfd;fontSize=14;align=left;spacingLeft=40;whiteSpace=wrap;resizeWidth=1;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(30, 100);
			   	bg2.vertex = true;
			   	bg1.insert(bg2);
			   	var bg3 = new mxCell('', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#999999;fillColor=#ffffff;resizeHeight=1;');
			   	bg3.geometry.relative = true;
			   	bg3.vertex = true;
			   	bg2.insert(bg3);
			   	var bg4 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 12), s + 'mail;strokeColor=#fdfdfd;fillColor=#999999;strokeWidth=1.3;');
			   	bg4.geometry.relative = true;
			   	bg4.geometry.offset = new mxPoint(-8, -6);
			   	bg4.vertex = true;
			   	bg3.insert(bg4);
			   	var bg5 = new mxCell('********', new mxGeometry(0, 0, 190, 30), s + 'rrect;rSize=5;strokeColor=#999999;fillColor=#fdfdfd;fontSize=14;align=left;spacingLeft=40;whiteSpace=wrap;resizeWidth=1;');
			   	bg5.geometry.relative = true;
			   	bg5.geometry.offset = new mxPoint(30, 140);
			   	bg5.vertex = true;
			   	bg1.insert(bg5);
			   	var bg6 = new mxCell('', new mxGeometry(0, 0, 30, 30), s + 'leftButton;rSize=5;strokeColor=#999999;fillColor=#ffffff;resizeHeight=1;');
			   	bg6.geometry.relative = true;
			   	bg6.vertex = true;
			   	bg5.insert(bg6);
			   	var bg7 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s + 'password;strokeColor=#999999;strokeWidth=3;');
			   	bg7.geometry.relative = true;
			   	bg7.geometry.offset = new mxPoint(-8, -8);
			   	bg7.vertex = true;
			   	bg6.insert(bg7);
			   	var bg8 = new mxCell('Remember me', new mxGeometry(0, 1, 14, 14), s + 'checkbox;rSize=3;strokeColor=#666666;fillColor=#ffffff;labelPosition=right;align=left;spacingLeft=5;fontSize=10;');
			   	bg8.geometry.relative = true;
			   	bg8.geometry.offset = new mxPoint(73, -72);
			   	bg8.vertex = true;
			   	bg1.insert(bg8);
			   	var bg9 = new mxCell('Log In', new mxGeometry(0, 1, 190, 30), s + 'rrect;rSize=5;strokeColor=none;fillColor=#58B957;fontColor=#ffffff;fontSize=14;fontStyle=1;whiteSpace=wrap;resizeWidth=1;');
			   	bg9.geometry.relative = true;
			   	bg9.geometry.offset = new mxPoint(30, -50);
			   	bg9.vertex = true;
			   	bg1.insert(bg9);
			    
			   	return sb.createVertexTemplateFromCells([bg1], 240, 260, 'Log in');
			})
		];
			   	
   		this.addPalette('bootstrap', mxResources.get('bootstrap'), false, mxUtils.bind(this, function(content)
	    {
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	// Adds Cabinets shapes
	Sidebar.prototype.addCabinetsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;dashed=0;shadow=0;strokeColor=#000000;fillColor=#ffffff;html=1;align=center;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_STROKEWIDTH + '=1;shape=mxgraph.cabinets.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=middle;dashed=0;shadow=0;strokeColor=#000000;fillColor=#ffffff;html=1;' + mxConstants.STYLE_STROKEWIDTH + '=1;shape=mxgraph.cabinets.';
		var w = 50;
		var h = 50;
		var gn = 'mxgraph.cabinets';
		var dt = 'cabinet ';
		var sb = this;
		
		var fns = 
		[
			this.createVertexTemplateEntry(s + 'cabinet;hasStand=1', 
					w * 5, h * 10, '', 'Cabinet', null, null, this.getTagsForStencil(gn, 'cabinet', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dimension;verticalAlign=top;align=center;', 
					w * 5, 40, '100', 'Dimension', null, null, this.getTagsForStencil(gn, 'dimension', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dimensionBottom;verticalAlign=bottom;align=center;', 
					w * 5, 40, '100', 'Dimension', null, null, this.getTagsForStencil(gn, 'dimensionBottom', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'coverPlate', 
					w * 4.4, h * 2.5, '', 'Cover Plate', null, null, this.getTagsForStencil(gn, 'coverPlate', dt).join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;', 
					w * 4.4, h * 0.25, '25x40', 'Panel Wiring System 25x40mm', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;', 
					w * 4.4, h * 0.4, '40x40', 'Panel Wiring System 40x40mm', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;', 
					w * 4.4, h * 0.6, '60x40', 'Panel Wiring System 60x40mm', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;', 
					w * 4.4, h * 0.8, '80x40', 'Panel Wiring System 80x40mm', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;', 
					w * 4.4, h, '100x40', 'Panel Wiring System 100x40mm', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;rotation=270', 
					w * 7, h * 0.25, '25x40', 'Panel Wiring System 25x40mm (Vertical)', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;rotation=270', 
					w * 7, h * 0.4, '40x40', 'Panel Wiring System 40x40mm (Vertical)', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;rotation=270', 
					w * 7, h * 0.6, '60x40', 'Panel Wiring System 60x40mm (Vertical)', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;rotation=270', 
					w * 7, h * 0.8, '80x40', 'Panel Wiring System 80x40mm (Vertical)', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry('shape=rect;dashed=0;shadow=0;html=1;whiteSpace=wrap;rotation=270', 
					w * 7, h, '100x40', 'Panel Wiring System 100x40mm (Vertical)', null, null, this.getTagsForStencil(gn, '', dt + 'panel wiring system').join(' ')),
			this.createVertexTemplateEntry(s + 'cb_1p;', 
					w * 0.18, h, '', 'Circuit Breaker (1P)', null, null, this.getTagsForStencil(gn, 'cb_1p', dt).join(' ')),

		   	this.addEntry(dt + 'circuit breaker row', function()
	   		{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(w * 0.18, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('', new mxGeometry(w * 0.36, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(w * 0.54, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('', new mxGeometry(w * 0.72, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('', new mxGeometry(w * 0.9, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('', new mxGeometry(w * 1.08, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('', new mxGeometry(w * 1.26, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('', new mxGeometry(w * 1.44, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('', new mxGeometry(w * 1.62, 0, w * 0.18, h), s + 'cb_1p;');
			   	bg10.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9, bg10], w * 1.8, h, 'Circuit Breaker (1P x 10)');
			}),

			this.createVertexTemplateEntry(s + 'cb_2p;', w * 0.36, h, '', 'Circuit Breaker (2P)', null, null, this.getTagsForStencil(gn, 'cb_2p', dt).join(' ')),

		   	this.addEntry(dt + 'circuit breaker row', function()
	   		{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(w * 0.36, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('', new mxGeometry(w * 0.72, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(w * 1.08, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('', new mxGeometry(w * 1.44, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('', new mxGeometry(w * 1.8, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('', new mxGeometry(w * 2.16, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('', new mxGeometry(w * 2.52, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('', new mxGeometry(w * 2.88, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg9.vertex = true;
			   	var bg10 = new mxCell('', new mxGeometry(w * 3.24, 0, w * 0.36, h), s + 'cb_2p;');
			   	bg10.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9, bg10], w * 3.6, h, 'Circuit Breaker (2P x 10)');
			}),

			this.createVertexTemplateEntry(s + 'cb_3p;', w * 0.54, h, '', 'Circuit Breaker (3P)', null, null, this.getTagsForStencil(gn, 'cb_3p', dt).join(' ')),

		   	this.addEntry(dt + 'circuit breaker row', function()
	   		{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, w * 0.54, h), s + 'cb_3p;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(w * 0.54, 0, w * 0.54, h), s + 'cb_3p;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('', new mxGeometry(w * 1.08, 0, w * 0.54, h), s + 'cb_3p;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(w * 1.62, 0, w * 0.54, h), s + 'cb_3p;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('', new mxGeometry(w * 2.16, 0, w * 0.54, h), s + 'cb_3p;');
			   	bg5.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5], w * 2.7, h, 'Circuit Breaker (3P x 5)');
			}),
	
			this.createVertexTemplateEntry(s + 'cb_4p;', w * 0.72, h, '', 'Circuit Breaker (4P)', null, null, this.getTagsForStencil(gn, 'cb_4p', dt).join(' ')),

		   	this.addEntry(dt + 'circuit breaker row', function()
	   		{
				var bg1 = new mxCell('', new mxGeometry(0, 0, w * 0.72, h), s + 'cb_4p;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(w * 0.72, 0, w * 0.72, h), s + 'cb_4p;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('', new mxGeometry(w * 1.44, 0, w * 0.72, h), s + 'cb_4p;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(w * 2.16, 0, w * 0.72, h), s + 'cb_4p;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('', new mxGeometry(w * 2.88, 0, w * 0.72, h), s + 'cb_4p;');
			   	bg5.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5], w * 3.6, h, 'Circuit Breaker (4P x 5)');
			}),
				
			this.createVertexTemplateEntry(s + 'cb_auxiliary_contact;', 
					w * 0.09, h, '', 'Auxiliary Contact (Circuit Breaker)', null, null, this.getTagsForStencil(gn, 'cb_auxiliary_contact', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'contactor_1_32a;', 
					w * 0.54, h * 0.86, '', 'Contactor (1-32A)', null, null, this.getTagsForStencil(gn, 'contactor_1_32a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'auxiliary_contact_contactor_1_32a;', 
					w * 0.09, h * 0.86, '', 'Auxiliary Contact (Contactor 1-32A)', null, null, this.getTagsForStencil(gn, 'auxiliary_contact_contactor_1_32a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'contactor_32_125a;', 
					w * 0.6, h, '', 'Contactor 32 to 125A', null, null, this.getTagsForStencil(gn, 'contactor_32_125a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'auxiliary_contact_contactor_32_125a;', 
					w * 0.09, h, '', 'Auxiliary Contact (Contactor 32-125A)', null, null, this.getTagsForStencil(gn, 'auxiliary_contact_contactor_32_125a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'contactor_125_400a;', 
					w * 1.1, h * 1.8, '', 'Contactor 125 to 400A', null, null, this.getTagsForStencil(gn, 'contactor_125_400a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'distribution_block_4p_125a_11_connections;', 
					w * 2, h * 1.2, '', 'Distribution Block 4P 125A 11 Connections', null, null, this.getTagsForStencil(gn, 'distribution_block_4p_125a_11_connections', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'distribution_block_4p_125a_11_connections_2;',
					w * 2, h, '', 'Distribution Block 4P 125A 11 Connections', null, null, this.getTagsForStencil(gn, 'distribution_block_4p_125a_11_connections_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mccb_25_63a_3p;', 
					w * 1.2, h * 1.8, '', 'MCCB 25-63A 3P', null, null, this.getTagsForStencil(gn, 'mccb_25_63a_3p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mccb_25_63a_4p;', 
					w * 1.6, h * 1.8, '', 'MCCB 25-63A 4P', null, null, this.getTagsForStencil(gn, 'mccb_25_63a_4p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mccb_63_250a_3p;', 
					w * 1.4, h * 2.1, '', 'MCCB 63-250A 3P', null, null, this.getTagsForStencil(gn, 'mccb_63_250a_3p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mccb_63_250a_4p;', 
					w * 1.9, h * 2.1, '', 'MCCB 63-250A 4P', null, null, this.getTagsForStencil(gn, 'mccb_63_250a_4p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motorized_switch_3p;', 
					w * 1.7, h * 1.4, '', 'Motorized Switch 3P', null, null, this.getTagsForStencil(gn, 'motorized_switch_3p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motorized_switch_4p;', 
					w * 2, h * 1.4, '', 'Motorized Switch 4P', null, null, this.getTagsForStencil(gn, 'motorized_switch_4p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_cb_1_32a;', 
					w * 0.54, h * 0.86, '', 'Motor Circuit Breaker 1-32A', null, null, this.getTagsForStencil(gn, 'motor_cb_1_32a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_cb_32_125a;', 
					w * 0.6, h, '', 'Motor Circuit Breaker 32-125A', null, null, this.getTagsForStencil(gn, 'motor_cb_32_125a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_cb_125_400a;', 
					w * 1.1, h * 1.8, '', 'Motor Circuit Breaker 125-400A', null, null, this.getTagsForStencil(gn, 'motor_cb_125_400a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_protection_cb;', 
					w * 0.54, h, '', 'Motor Protection CB', null, null, this.getTagsForStencil(gn, 'motor_protection_cb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_starter_1_32a;', 
					w * 0.54, h * 0.86, '', 'Motor Circuit Breaker 1-32A', null, null, this.getTagsForStencil(gn, 'motor_starter_1_32a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_starter_32_125a;', 
					w * 0.6, h, '', 'Motor Circuit Breaker 32-125A', null, null, this.getTagsForStencil(gn, 'motor_starter_32_125a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'motor_starter_125_400a;', 
					w * 1.1, h * 1.8, '', 'Motor Circuit Breaker 125-400A', null, null, this.getTagsForStencil(gn, 'motor_starter_125_400a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'overcurrent_relay_1_32a;', 
					w * 0.54, h * 0.3, '', 'Overcurrent Relay 1-32A', null, null, this.getTagsForStencil(gn, 'overcurrent_relay_1_32a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'overcurrent_relay_32_125a;', 
					w * 0.6, h * 0.33, '', 'Overcurrent Relay 32-125A', null, null, this.getTagsForStencil(gn, 'overcurrent_relay_32_125a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'overcurrent_relay_125_400a;', 
					w * 1.1, h * 0.6, '', 'Overcurrent Relay 125-400A', null, null, this.getTagsForStencil(gn, 'overcurrent_relay_125_400a', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'plugin_relay_1;', 
					w * 0.06, h * 0.8, '', 'Plugin Relay', null, null, this.getTagsForStencil(gn, 'plugin_relay_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'plugin_relay_2;', 
					w * 0.24, h * 0.8, '', 'Plugin Relay', null, null, this.getTagsForStencil(gn, 'plugin_relay_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'din_rail;', 
					w * 10, h * 0.5, '', 'DIN Rail', null, null, this.getTagsForStencil(gn, 'din_rail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'residual_current_device_2p;', 
					w * 0.36, h, '', 'Residual Current Device 2p', null, null, this.getTagsForStencil(gn, 'residual_current_device_2p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'residual_current_device_4p;', 
					w * 0.72, h, '', 'Residual Current Device 4p', null, null, this.getTagsForStencil(gn, 'residual_current_device_4p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'surge_protection_1p;', 
					w * 0.18, h, '', 'Surge Protection 1p', null, null, this.getTagsForStencil(gn, 'surge_protection_1p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'surge_protection_2p;', 
					w * 0.36, h, '', 'Surge Protection 2p', null, null, this.getTagsForStencil(gn, 'surge_protection_2p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'surge_protection_3p;', 
					w * 0.54, h, '', 'Surge Protection 3p', null, null, this.getTagsForStencil(gn, 'surge_protection_3p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'surge_protection_4p;', 
					w * 0.72, h, '', 'Surge Protection 4p', null, null, this.getTagsForStencil(gn, 'surge_protection_4p', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_4mm2;', 
					w * 0.05, h * 0.5, '', 'Terminal 4mm2', null, null, this.getTagsForStencil(gn, 'terminal_4mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_4mm2_x10;', 
					w * 0.5, h * 0.5, '', 'Terminal 4mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_4mm2_x10', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_4_6mm2;', 
					w * 0.05, h * 0.6, '', 'Terminal 4-6mm2', null, null, this.getTagsForStencil(gn, 'terminal_4_6mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_4_6mm2_x10;', 
					w * 0.5, h * 0.6, '', 'Terminal 4-6mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_4_6mm2_x10', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_6_25mm2;', 
					w * 0.1, h * 0.75, '', 'Terminal 6-25mm2', null, null, this.getTagsForStencil(gn, 'terminal_6_25mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_6_25mm2_x10;', 
					w, h * 0.75, '', 'Terminal 6-25mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_6_25mm2_x10', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_40mm2;', 
					w * 0.22, h, '', 'Terminal 40mm2', null, null, this.getTagsForStencil(gn, 'terminal_40mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_40mm2_x10;', 
					w * 2.2, h, '', 'Terminal 40mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_40mm2_x10', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_50mm2;', 
					w * 0.25, h * 1.1, '', 'Terminal 50mm2', null, null, this.getTagsForStencil(gn, 'terminal_50mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_50mm2_x10;', 
					w * 2.5, h * 1.1, '', 'Terminal 50mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_50mm2_x10', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_75mm2;', 
					w * 0.3, h * 1.4, '', 'Terminal 75mm2', null, null, this.getTagsForStencil(gn, 'terminal_75mm2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminal_75mm2_x10;', 
					w * 3, h * 1.4, '', 'Terminal 75mm2 x10', null, null, this.getTagsForStencil(gn, 'terminal_75mm2_x10', dt).join(' '))
		];
	   	
		this.addPalette('cabinets', mxResources.get('cabinets'), false, mxUtils.bind(this, function(content)
	    {
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	Sidebar.prototype.addCitrixPalette = function()
	{
		var w = 0.5;
		var h = 0.5;
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;aspect=fixed;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeColor=none;shape=mxgraph.citrix.';
		var gn = 'mxgraph.citrix';
		var dt = '';
		
		this.addPaletteFunctions('citrix', 'Citrix', false,
		[
			this.createVertexTemplateEntry(s + '1u_2u_server;', w * 200, h * 78.2, '', '1U 2U Server', null, null, this.getTagsForStencil(gn, '1U 2U Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'access_card;', w * 111, h * 150, '', 'Access Card', null, null, this.getTagsForStencil(gn, 'Access Card', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'branch_repeater;', w * 200, h * 78, '', 'Branch Repeater', null, null, this.getTagsForStencil(gn, 'Branch Repeater', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'browser;', w * 95, h * 145, '', 'Browser', null, null, this.getTagsForStencil(gn, 'Browser', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cache_server;', w * 142, h * 195, '', 'Cache Server', null, null, this.getTagsForStencil(gn, 'Cache Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'calendar;', w * 150, h * 200, '', 'Calendar', null, null, this.getTagsForStencil(gn, 'Calendar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone;', w * 50, h * 120, '', 'Cell Phone', null, null, this.getTagsForStencil(gn, 'Cell Phone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'chassis;', w * 275, h * 355, '', 'Chassis', null, null, this.getTagsForStencil(gn, 'Chassis', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'citrix_hdx;', w * 155, h * 82, '', 'Citrix HDX', null, null, this.getTagsForStencil(gn, 'Citrix HDX', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'citrix_logo;fillColor=#4E4F53;', w * 320, h * 125, '', 'Citrix Logo', null, null, this.getTagsForStencil(gn, 'Citrix Logo', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;', w * 190, h * 124, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'Cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'command_center;', w * 151, h * 192, '', 'Command Center', null, null, this.getTagsForStencil(gn, 'Command Center', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;', w * 85, h * 100, '', 'Database', null, null, this.getTagsForStencil(gn, 'Database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server;', w * 160, h * 180, '', 'Database Server', null, null, this.getTagsForStencil(gn, 'Database Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'datacenter;', w * 255, h * 270, '', 'Datacenter', null, null, this.getTagsForStencil(gn, 'Datacenter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'desktop;', w * 178, h * 196, '', 'Desktop', null, null, this.getTagsForStencil(gn, 'Desktop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'desktop_web;', w * 153, h * 180, '', 'Desktop Web', null, null, this.getTagsForStencil(gn, 'Desktop Web', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dhcp_server;', w * 152, h * 180, '', 'DHCP Server', null, null, this.getTagsForStencil(gn, 'DHCP Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'directory_server;', w * 130, h * 177, '', 'Directory Server', null, null, this.getTagsForStencil(gn, 'Directory Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dns_server;', w * 153, h * 185, '', 'DNS Server', null, null, this.getTagsForStencil(gn, 'DNS Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document;', w * 94, h * 144, '', 'Document', null, null, this.getTagsForStencil(gn, 'Document', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'edgesight_server;', w * 153, h * 180, '', 'EdgeSight Server', null, null, this.getTagsForStencil(gn, 'EdgeSight Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file_server;', w * 142, h * 194, '', 'File Server', null, null, this.getTagsForStencil(gn, 'File Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'firewall;', w * 150, h * 186, '', 'Firewall', null, null, this.getTagsForStencil(gn, 'Firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ftp_server;', w * 142, h * 194, '', 'FTP Server', null, null, this.getTagsForStencil(gn, 'FTP Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'geolocation_database;', w * 106, h * 98, '', 'Geolocation Database', null, null, this.getTagsForStencil(gn, 'Geolocation Database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'globe;', w * 157, h * 150, '', 'Globe', null, null, this.getTagsForStencil(gn, 'Globe', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'goto_meeting;fillColor=#FAB616;gradientColor=#E12800;gradientDirection=north;', w * 74, h * 74, '', 'GoTo Meeting', null, null, this.getTagsForStencil(gn, 'GoTo Meeting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'government;', w * 238, h * 104, '', 'Government', null, null, this.getTagsForStencil(gn, 'Government', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'home_office;', w * 160, h * 111, '', 'Home Office', null, null, this.getTagsForStencil(gn, 'Home Office', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hq_enterprise;', w * 184, h * 176, '', 'HQ / Enterprise', null, null, this.getTagsForStencil(gn, 'HQ Enterprise', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'inspection;', w * 140, h * 130, '', 'Inspection', null, null, this.getTagsForStencil(gn, 'Inspection', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ip_phone;', w * 153, h * 74, '', 'IP Phone', null, null, this.getTagsForStencil(gn, 'IP Phone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'kiosk;', w * 130, h * 170, '', 'Kiosk', null, null, this.getTagsForStencil(gn, 'Kiosk', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop_1;', w * 182, h * 154, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'Laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop_2;', w * 232, h * 173, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'Laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'license_server;', w * 130, h * 170, '', 'License Server', null, null, this.getTagsForStencil(gn, 'License Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'merchandising_server;', w * 150, h * 180, '', 'Merchandising Server', null, null, this.getTagsForStencil(gn, 'Merchandising Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'middleware;', w * 228, h * 136, '', 'Middleware', null, null, this.getTagsForStencil(gn, 'Middleware', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'netscaler_gateway;', w * 200, h * 78, '', 'NetScaler Gateway', null, null, this.getTagsForStencil(gn, 'NetScaler Gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'netscaler_mpx;', w * 200, h * 78, '', 'NetScaler MPX', null, null, this.getTagsForStencil(gn, 'NetScaler MPX', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'netscaler_sdx;', w * 200, h * 95, '', 'NetScaler SDX', null, null, this.getTagsForStencil(gn, 'NetScaler SDX', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'netscaler_vpx;', w * 194, h * 72, '', 'NetScaler VPX', null, null, this.getTagsForStencil(gn, 'NetScaler VPX', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pbx_server;', w * 130, h * 170, '', 'PBX Server', null, null, this.getTagsForStencil(gn, 'PBX Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pda;', w * 60, h * 122, '', 'PDA', null, null, this.getTagsForStencil(gn, 'PDA', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'podio;fillColor=#72B8DE;gradientColor=#186BA2;gradientDirection=south;', w * 74, h * 74, '', 'Podio', null, null, this.getTagsForStencil(gn, 'Podio', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'printer;', w * 140, h * 140, '', 'Printer', null, null, this.getTagsForStencil(gn, 'Printer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'process;', w * 104, h * 124, '', 'Process', null, null, this.getTagsForStencil(gn, 'Process', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'provisioning_server;', w * 152, h * 174, '', 'Provisioning Server', null, null, this.getTagsForStencil(gn, 'Provisioning Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'proxy_server;', w * 153, h * 180, '', 'Proxy Server', null, null, this.getTagsForStencil(gn, 'Proxy Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'radius_server;', w * 151, h * 182, '', 'Radius Server', null, null, this.getTagsForStencil(gn, 'Radius Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_office;', w * 184, h * 83, '', 'Remote Office', null, null, this.getTagsForStencil(gn, 'Remote Office', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'reporting;', w * 123, h * 138, '', 'Reporting', null, null, this.getTagsForStencil(gn, 'Reporting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_appcontroller;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role AppController', null, null, this.getTagsForStencil(gn, 'Role AppController', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_applications;', w * 76, h * 76, '', 'Role Applications', null, null, this.getTagsForStencil(gn, 'Role Applications', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_cloudbridge;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role CloudBridge', null, null, this.getTagsForStencil(gn, 'Role CloudBridge', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_desktops;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Desktops', null, null, this.getTagsForStencil(gn, 'Role Desktops', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_load_testing_controller;', w * 48, h * 48, '', 'Role Load Testing Controller', null, null, this.getTagsForStencil(gn, 'Role Load Testing Controller', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_load_testing_launcher;', w * 82, h * 76, '', 'Role Load Testing Launcher', null, null, this.getTagsForStencil(gn, 'Role Load Testing Launcher', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_receiver;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Receiver', null, null, this.getTagsForStencil(gn, 'Role Receiver', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_repeater;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Repeater', null, null, this.getTagsForStencil(gn, 'Role Repeater', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_secure_access;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Secure Access', null, null, this.getTagsForStencil(gn, 'Role Secure Access', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_security;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Security', null, null, this.getTagsForStencil(gn, 'Role Security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_services;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Services', null, null, this.getTagsForStencil(gn, 'Role Services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_storefront;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role StoreFront', null, null, this.getTagsForStencil(gn, 'Role StoreFront', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_storefront_services;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role StoreFront Services', null, null, this.getTagsForStencil(gn, 'Role StoreFront Services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_synchronizer;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role Synchronizer', null, null, this.getTagsForStencil(gn, 'Role Synchronizer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_xenmobile;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 76, h * 76, '', 'Role XenMobile', null, null, this.getTagsForStencil(gn, 'Role XenMobile', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_xenmobile_device_manager;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 70, h * 76, '', 'Role XenMobile Device Manager', null, null, this.getTagsForStencil(gn, 'Role XenMobile Device Manager', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'router;', w * 110, h * 73, '', 'Router', null, null, this.getTagsForStencil(gn, 'Router', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'security;', w * 81, h * 142, '', 'Security', null, null, this.getTagsForStencil(gn, 'Security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sharefile;fillColor=#386510;gradientColor=#C6CF2B;gradientDirection=south;', w * 76, h * 76, '', 'ShareFile', null, null, this.getTagsForStencil(gn, 'ShareFile', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'site;', w * 214, h * 202, '', 'Site', null, null, this.getTagsForStencil(gn, 'Site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'smtp_server;', w * 152, h * 184, '', 'SMTP Server', null, null, this.getTagsForStencil(gn, 'SMTP Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storefront_services;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 152, h * 182, '', 'Storefront Services', null, null, this.getTagsForStencil(gn, 'Storefront Services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'switch;', w * 184, h * 83, '', 'Switch', null, null, this.getTagsForStencil(gn, 'Switch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_1;', w * 122, h * 158, '', 'Tablet', null, null, this.getTagsForStencil(gn, 'Tablet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_2;', w * 164, h * 172, '', 'Tablet', null, null, this.getTagsForStencil(gn, 'Tablet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'thin_client;', w * 142, h * 142, '', 'Thin Client', null, null, this.getTagsForStencil(gn, 'Thin Client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tower_server;', w * 130, h * 170, '', 'Tower Server', null, null, this.getTagsForStencil(gn, 'Tower Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users;', w * 129, h * 110, '', 'Users', null, null, this.getTagsForStencil(gn, 'Users', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_control;', w * 206, h * 168, '', 'User Control', null, null, this.getTagsForStencil(gn, 'User Control', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server;', w * 153, h * 180, '', 'Web Server', null, null, this.getTagsForStencil(gn, 'Web Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_service;', w * 126, h * 120, '', 'Web Service', null, null, this.getTagsForStencil(gn, 'Web Service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worxenroll;fillColor=#386510;gradientColor=#C6CF2B;gradientDirection=south;', w * 76, h * 76, '', 'WorxEnroll', null, null, this.getTagsForStencil(gn, 'WorxEnroll', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worxhome;fillColor=#DB9EFF;gradientColor=#712FA2;gradientDirection=south;', w * 76, h * 76, '', 'WorxHome', null, null, this.getTagsForStencil(gn, 'WorxHome', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worxmail;fillColor=#112356;gradientColor=#63AFC6;gradientDirection=south;', w * 76, h * 76, '', 'WorxMail', null, null, this.getTagsForStencil(gn, 'WorxMail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worxweb;fillColor=#2A3437;gradientColor=#B8B9B9;gradientDirection=south;', w * 76, h * 76, '', 'WorxWeb', null, null, this.getTagsForStencil(gn, 'WorxWeb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenapp_server;', w * 152, h * 178, '', 'XenApp Server', null, null, this.getTagsForStencil(gn, 'XenApp Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenapp_services;', w * 152, h * 180, '', 'XenApp Services', null, null, this.getTagsForStencil(gn, 'XenApp Services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenapp_web;', w * 152, h * 180, '', 'XenApp Web', null, null, this.getTagsForStencil(gn, 'XenApp Web', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xencenter;', w * 152, h * 178, '', 'XenCenter', null, null, this.getTagsForStencil(gn, 'XenCenter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenclient;', w * 182, h * 154, '', 'XenClient', null, null, this.getTagsForStencil(gn, 'XenClient', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenclient_synchronizer;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 152, h * 182, '', 'XenClient Synchronizer', null, null, this.getTagsForStencil(gn, 'Synchronizer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xendesktop_server;', w * 150, h * 182, '', 'XenDesktop Server', null, null, this.getTagsForStencil(gn, 'XenDesktop Server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenmobile;fillColor=#CCCCCC;gradientColor=#000000;gradientDirection=south;', w * 140, h * 178, '', 'XenMobile', null, null, this.getTagsForStencil(gn, 'XenMobile', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xenserver;', w * 153, h * 180, '', 'XenServer', null, null, this.getTagsForStencil(gn, 'XenServer', dt).join(' '))
		]);
	};
})();

(function()
{
	// Adds EIP shapes
	Sidebar.prototype.addEipMessageConstructionPalette = function(expand)
	{
		var s = "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=";
		var s2 = "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=mxgraph.eip.";
		var s3 = "strokeWidth=3;dashed=0;align=center;fontSize=8;shape=mxgraph.eip.";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern message construction ';
		var sb = this;
		
		var fns = [
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;strokeColor=#808080;endArrow=block;endSize=10;dashed=0;verticalAlign=bottom;strokeWidth=2;', 
					160, 0, '', 'Pipe', null, this.getTagsForStencil(gn, '', dt + 'pipe').join(' ')),
		    this.createVertexTemplateEntry(s + 'rect;fillColor=#c0f5a9;strokeColor=#000000;verticalLabelPosition=bottom;verticalAlign=top;', 
		    		150, 90, '', 'Filter', null, null, this.getTagsForStencil(gn, '', dt + 'filter').join(' ')),
			this.addEntry(dt + 'edge', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('C', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#FF8080;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Command Message');
			}),
			this.addEntry(dt + 'correlation identifier', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('A', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#FF9238;strokeColor=#000000;fontStyle=1;fontColor=#ffffff;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
		    	var bg3 = new mxCell('', new mxGeometry(50, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg3.vertex = true;
				var bg4 = new mxCell('B', new mxGeometry(66, 18, 12, 12), s + 'rect;fillColor=#FF9238;strokeColor=#000000;fontStyle=1;fontColor=#ffffff;');
				bg4.vertex = true;
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge2.geometry.relative = true;
		    	edge2.edge = true;
		    	bg3.insertEdge(edge2, false);
		    	bg4.insertEdge(edge2, true);
				var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=block;html=1;endFill=1;strokeWidth=2;strokeColor=#FF9238');
		    	edge3.geometry.setTerminalPoint(new mxPoint(45, 6), true);
		    	edge3.geometry.setTerminalPoint(new mxPoint(17, 6), false);
		    	edge3.geometry.relative = true;
		    	edge3.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([edge1, edge2, edge3, bg1, bg2, bg3, bg4], 78, 30, 'Correlation Identifier');
			}),
			this.addEntry(dt + 'document message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('D', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#C7A0FF;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Document Message');
			}),
			this.addEntry(dt + 'event message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('E', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#83BEFF;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Event Message');
			}),
		    this.createVertexTemplateEntry(s3 + 'messExp;html=1;verticalLabelPosition=bottom;strokeColor=#000000;verticalAlign=top', 
		    		48, 48, '', 'Message Expiration', null, null, this.getTagsForStencil(gn, '', dt + 'message expiration').join(' ')),
			this.addEntry(dt + 'message sequence', function()
			{
				var bg1 = new mxCell('1', new mxGeometry(0, 12, 12, 12), s + 'rect;fillColor=#80FF6C;strokeColor=#000000;fontStyle=1;');
				bg1.vertex = true;
				var bg2 = new mxCell('2', new mxGeometry(24, 12, 12, 12), s + 'rect;fillColor=#80FF6C;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var bg3 = new mxCell('3', new mxGeometry(48, 12, 12, 12), s + 'rect;fillColor=#80FF6C;strokeColor=#000000;fontStyle=1;');
				bg3.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'curved=1;endArrow=block;html=1;strokeColor=#1CCF00;strokeWidth=2;endSize=3;');
				bg1.insertEdge(edge1, false);
				bg2.insertEdge(edge1, true);
				edge1.geometry.points = [new mxPoint(18, 0)];
				edge1.geometry.relative = true;
				edge1.edge = true;
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'curved=1;endArrow=block;html=1;strokeColor=#1CCF00;strokeWidth=2;endSize=3;');
				bg2.insertEdge(edge2, false);
				bg3.insertEdge(edge2, true);
				edge2.geometry.points = [new mxPoint(42, 0)];
				edge2.geometry.relative = true;
				edge2.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([edge1, edge2, bg1, bg2, bg3], 60, 24, 'Message Sequence');
			}),
		    this.createVertexTemplateEntry(s3 + 'retAddr;html=1;verticalLabelPosition=bottom;fillColor=#FFE040;strokeColor=#000000;verticalAlign=top;', 
		    		78, 48, '', 'Return Address', null, null, this.getTagsForStencil(gn, 'retAddr', dt + 'return address').join(' '))
		];
		  
		this.addPalette('eipMessage Construction', 'EIP / Message Construction', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addEipMessageRoutingPalette = function(expand)
	{
		var s = "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=rect;fillColor=#fffbc0;strokeColor=#000000;";
		var s2 = "strokeWidth=2;dashed=0;align=center;fontSize=8;fillColor=#c0f5a9;verticalLabelPosition=bottom;verticalAlign=top;strokeColor=#000000;shape=mxgraph.eip.";
		var s3 = "edgeStyle=none;endArrow=none;dashed=0;html=1;strokeWidth=2;";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern message routing ';
		var sb = this;
		
		var fns = [
		    this.createVertexTemplateEntry(s2 + 'aggregator;', 
		    		150, 90, '', 'Aggregator', null, null, this.getTagsForStencil(gn, 'aggregator', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'composed_message_processor;', 
		    		150, 90, '', 'Composed Message Processor', null, null, this.getTagsForStencil(gn, 'composed_message_processor', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'content_based_router;', 
		    		150, 90, '', 'Content Based Router', null, null, this.getTagsForStencil(gn, 'content_based_router', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'dynamic_router;', 
		    		150, 90, '', 'Dynamic Router', null, null, this.getTagsForStencil(gn, 'dynamic_router', dt + '').join(' ')),

			this.addEntry(dt + 'message broker', function()
			{
			    var bg1 = new mxCell('', new mxGeometry(47, 0, 26, 18), s);
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(0, 18, 26, 18), s);
				bg2.vertex = true;
				var bg3 = new mxCell('', new mxGeometry(94, 18, 26, 18), s);
				bg3.vertex = true;
				var bg4 = new mxCell('', new mxGeometry(0, 54, 26, 18), s);
				bg4.vertex = true;
				var bg5 = new mxCell('', new mxGeometry(94, 54, 26, 18), s);
				bg5.vertex = true;
				var bg6 = new mxCell('', new mxGeometry(47, 72, 26, 18), s);
				bg6.vertex = true;
				var bg7 = new mxCell('', new mxGeometry(47, 36, 26, 18), "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=rect;fillColor=#c0f5a9;strokeColor=#000000;");
				bg7.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg7.insertEdge(edge1, true);
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge2.geometry.relative = true;
		    	edge2.edge = true;
		    	bg2.insertEdge(edge2, false);
		    	bg7.insertEdge(edge2, true);
				var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge3.geometry.relative = true;
		    	edge3.edge = true;
		    	bg3.insertEdge(edge3, false);
		    	bg7.insertEdge(edge3, true);
				var edge4 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge4.geometry.relative = true;
		    	edge4.edge = true;
		    	bg4.insertEdge(edge4, false);
		    	bg7.insertEdge(edge4, true);
				var edge5 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge5.geometry.relative = true;
		    	edge5.edge = true;
		    	bg5.insertEdge(edge5, false);
		    	bg7.insertEdge(edge5, true);
				var edge6 = new mxCell('', new mxGeometry(0, 0, 0, 0), s3);
		    	edge6.geometry.relative = true;
		    	edge6.edge = true;
		    	bg6.insertEdge(edge6, false);
		    	bg7.insertEdge(edge6, true);
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, edge1, edge2, edge3, edge4, edge5, edge6], 
						120, 90, 'Message Broker');
			}),
	
		    this.createVertexTemplateEntry(s2 + 'message_filter;', 
		    		150, 90, '', 'Message Filter', null, null, this.getTagsForStencil(gn, 'message_filter', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'process_manager;', 
		    		150, 90, '', 'Process Manager', null, null, this.getTagsForStencil(gn, 'process_manager', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'recipient_list;', 
		    		150, 90, '', 'Recipient List', null, null, this.getTagsForStencil(gn, 'recipient_list', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'resequencer;', 
		    		150, 90, '', 'Resequencer', null, null, this.getTagsForStencil(gn, 'resequencer', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'routing_slip;', 
		    		150, 90, '', 'Routing Slip', null, null, this.getTagsForStencil(gn, 'routing_slip', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'splitter;', 
		    		150, 90, '', 'Splitter', null, null, this.getTagsForStencil(gn, 'splitter', dt + '').join(' '))
		];
		
		this.addPalette('eipMessage Routing', 'EIP / Message Routing', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addEipMessageTransformationPalette = function(expand)
	{
		var s = "strokeWidth=2;dashed=0;align=center;fontSize=8;fillColor=#c0f5a9;verticalLabelPosition=bottom;verticalAlign=top;strokeColor=#000000;shape=mxgraph.eip.";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern message transformation ';

		this.addPaletteFunctions('eipMessage Transformation', 'EIP / Message Transformation', false,
		[
		    this.createVertexTemplateEntry(s + 'claim_check;', 
		    		150, 90, '', 'Claim Check', null, null, this.getTagsForStencil(gn, 'claim_check', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s + 'content_enricher;', 
		    		150, 90, '', 'Content Enricher', null, null, this.getTagsForStencil(gn, 'content_enricher', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s + 'content_filter;', 
		    		150, 90, '', 'Content Filter', null, null, this.getTagsForStencil(gn, 'content_filter', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s + 'envelope_wrapper;', 
		    		150, 90, '', 'Envelope Wrapper', null, null, this.getTagsForStencil(gn, 'envelope_wrapper', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s + 'normalizer;', 
		    		150, 90, '', 'Normalizer', null, null, this.getTagsForStencil(gn, 'normalizer', dt + '').join(' '))
		]);
	};

	Sidebar.prototype.addEipMessagingChannelsPalette = function(expand)
	{
		var s = "strokeWidth=2;dashed=0;align=center;fontSize=8;html=1;shape=";
		var s2 = "strokeWidth=2;strokeColor=#000000;dashed=0;align=center;html=1;fontSize=8;shape=mxgraph.eip.";
		var s3 = "strokeWidth=1;strokeColor=#000000;dashed=0;align=center;html=1;fontSize=8;shape=mxgraph.eip.";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern messaging channel message ';
		var sb = this;
		
		var fns = [
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;strokeColor=#808080;endArrow=block;endSize=10;dashed=0;verticalAlign=bottom;strokeWidth=2;', 
					160, 0, '', 'Point to Point Channel', null, this.getTagsForStencil(gn, '', dt + 'point').join(' ')),

			this.addEntry(dt + 'publish subscribe', function()
			{
				var bg1 = new mxCell('', new mxGeometry(40, 120, 0, 0), s + 'rect;');
				bg1.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;endArrow=none;endSize=10;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(40, 0), true);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	bg1.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;edgeStyle=orthogonalEdgeStyle;endArrow=block;endSize=10;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(0, 160), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	bg1.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;edgeStyle=orthogonalEdgeStyle;endArrow=block;endSize=10;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(40, 160), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
			   	bg1.insertEdge(edge3, true);
			   	var edge4 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;edgeStyle=orthogonalEdgeStyle;endArrow=block;endSize=10;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
			   	edge4.geometry.setTerminalPoint(new mxPoint(80, 160), false);
			   	edge4.geometry.relative = true;
			   	edge4.edge = true;
			   	bg1.insertEdge(edge4, true);
			    
			   	return sb.createVertexTemplateFromCells([bg1, edge1, edge2, edge3, edge4], 80, 160, 'Publish Subscribe Channel');
			}),
	
		    this.createVertexTemplateEntry(s2 + 'channel_adapter;fillColor=#9ddbef;', 
		    		45, 90, '', 'Channel Adapter', null, null, this.getTagsForStencil(gn, 'channel_adapter', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s3 + 'messageChannel;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 
		    		100, 20, '', 'Message Channel', null, null, this.getTagsForStencil(gn, 'messageChannel', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s3 + 'dataChannel;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 
		    		100, 20, '', 'Datatype Channel', null, null, this.getTagsForStencil(gn, 'dataChannel', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s3 + 'deadLetterChannel;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 
		    		100, 20, '', 'Dead Letter Channel', null, null, this.getTagsForStencil(gn, 'deadLetterChannel', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s3 + 'invalidMessageChannel;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 
		    		100, 20, '', 'Invalid Message Channel', null, null, this.getTagsForStencil(gn, 'invalidMessageChannel', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'messaging_bridge;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#c0f5a9;', 
		    		150, 90, '', 'Messaging Bridge', null, null, this.getTagsForStencil(gn, 'messaging_bridge', dt + '').join(' ')),

			this.addEntry(dt + 'message bus', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 60, 120, 20), s2 + 'messageChannel;');
				bg1.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;strokeWidth=2;rounded=0;endArrow=block;startArrow=block;startSize=10;endSize=10;dashed=0;html=1;strokeColor=#808080;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(60, 140), true);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	bg1.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;strokeWidth=2;rounded=0;endArrow=block;startArrow=block;startSize=10;endSize=10;dashed=0;html=1;strokeColor=#808080;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(20, 0), true);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	bg1.insertEdge(edge2, false);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;strokeWidth=2;rounded=0;endArrow=block;startArrow=block;startSize=10;endSize=10;dashed=0;html=1;strokeColor=#808080;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(60, 0), true);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
			   	bg1.insertEdge(edge3, false);
			   	var edge4 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;strokeWidth=2;rounded=0;endArrow=block;startArrow=block;startSize=10;endSize=10;dashed=0;html=1;strokeColor=#808080;');
			   	edge4.geometry.setTerminalPoint(new mxPoint(100, 0), true);
			   	edge4.geometry.relative = true;
			   	edge4.edge = true;
			   	bg1.insertEdge(edge4, false);
			    
			   	return sb.createVertexTemplateFromCells([bg1, edge1, edge2, edge3, edge4], 120, 140, 'Message Bus');
			})
		];
		
		this.addPalette('eipMessaging Channels', 'EIP / Messaging Channels', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addEipMessagingEndpointsPalette = function(expand)
	{
		var s = "dashed=0;strokeWidth=2;strokeColor=#000000;html=1;align=center;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.eip.";
		var s2 = 'fillColor=#c0f5a9;' + s;
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern messaging endpoint ';
		
		this.addPaletteFunctions('eipMessaging Endpoints', 'EIP / Messaging Endpoints', false,
		[
		    this.createVertexTemplateEntry(s2 + 'competing_consumers;', 
		    		150, 90, '', 'Competing Consumers', null, null, this.getTagsForStencil(gn, 'competing_consumers', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s + 'durable_subscriber;fillColor=#a0a0a0;', 
		    		30, 35, '', 'Durable Subscriber', null, null, this.getTagsForStencil(gn, 'durable_subscriber', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'event_driven_consumer;', 
		    		150, 90, '', 'Event Driven Consumer', null, null, this.getTagsForStencil(gn, 'event_driven_consumer', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'message_dispatcher;', 
		    		150, 90, '', 'Message Dispatcher', null, null, this.getTagsForStencil(gn, 'message_dispatcher', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'messaging_gateway;', 
		    		150, 90, '', 'Messaging Gateway', null, null, this.getTagsForStencil(gn, 'messaging_gateway', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'polling_consumer;', 
		    		150, 90, '', 'Polling Consumer', null, null, this.getTagsForStencil(gn, 'polling_consumer', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'selective_consumer;', 
		    		150, 90, '', 'Selective Consumer', null, null, this.getTagsForStencil(gn, 'selective_consumer', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'service_activator;', 
		    		150, 90, '', 'Service Activator', null, null, this.getTagsForStencil(gn, 'service_activator', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'transactional_client;', 
		    		150, 90, '', 'Transactional Client', null, null, this.getTagsForStencil(gn, 'transactional_client', dt + '').join(' '))
		]);
	};

	Sidebar.prototype.addEipMessagingSystemsPalette = function(expand)
	{
		var s = "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=";
		var s2 = "strokeWidth=2;dashed=0;align=center;fontSize=8;shape=mxgraph.eip.";
		var s3 = "strokeWidth=1;dashed=0;align=center;fontSize=8;shape=";
		var s4 = "strokeWidth=1;dashed=0;align=center;fontSize=8;shape=mxgraph.eip.";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern messaging system ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s2 + 'content_based_router;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#c0f5a9;strokeColor=#000000;', 
					150, 90, '', 'Message Router', null, null, this.getTagsForStencil(gn, 'content_based_router', dt + '').join(' ')),

		    this.createVertexTemplateEntry(s4 + 'messageChannel;html=1;verticalLabelPosition=bottom;strokeColor=#000000;verticalAlign=top;', 
		    		100, 20, '', 'Message Channel', null, null, this.getTagsForStencil(gn, 'messageChannel', dt + '').join(' ')),
		    
			this.addEntry(dt + 'message endpoint', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 150, 90), s + 'rect;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#c0f5a9;strokeColor=#000000;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(85, 25, 40, 40), s3 + 'rect;fillColor=#ffffff;strokeColor=#000000;');
				bg2.vertex = true;
				bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Message Endpoint');
			}),
			    
			this.addEntry(dt + 'message endpoint', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 150, 90), s + 'rect;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#c0f5a9;strokeColor=#000000;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(25, 25, 40, 40), s3 + 'rect;fillColor=#ffffff;strokeColor=#000000;');
				bg2.vertex = true;
				bg1.insert(bg2);
			    
			   	return sb.createVertexTemplateFromCells([bg1], bg1.geometry.width, bg1.geometry.height, 'Message Endpoint');
			}),
			    
			this.addEntry(dt + 'message endpoint', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 150, 90), s + 'rect;fillColor=#c0f5a9;strokeColor=#000000;verticalLabelPosition=bottom;verticalAlign=top;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(25, 25, 40, 40), s3 + 'rect;fillColor=#ffffff;strokeColor=#000000;verticalLabelPosition=bottom;verticalAlign=top;');
				bg2.vertex = true;
				bg1.insert(bg2);
				var bg3 = new mxCell('', new mxGeometry(250, 0, 150, 90), s + 'rect;fillColor=#c0f5a9;strokeColor=#000000;');
				bg3.vertex = true;
				var bg4 = new mxCell('', new mxGeometry(85, 25, 40, 40), s3 + 'rect;fillColor=#ffffff;strokeColor=#000000;');
				bg4.vertex = true;
				bg3.insert(bg4);
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;strokeWidth=2;rounded=0;endArrow=block;startArrow=none;startSize=10;endSize=10;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	bg2.insertEdge(edge1, true);
			   	bg4.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([bg1, bg3, edge1], 400, 90, 'Message Endpoint');
			}),
			    
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#80FF6C;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
				var bg3 = new mxCell('', new mxGeometry(16, 36, 12, 12), s + 'rect;fillColor=#ff9900;strokeColor=#000000;fontStyle=1;');
				bg3.vertex = true;
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge2.geometry.relative = true;
		    	edge2.edge = true;
		    	bg1.insertEdge(edge2, false);
		    	bg3.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, edge2, bg1, bg2, bg3], 28, 48, 'Message');
			}),
	
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#80FF6C;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Message');
			}),
	
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s + 'rect;fillColor=#ff9900;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Message');
			}),
	
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s2 + 'message_2;fillColor=#00cc00;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
				var bg3 = new mxCell('', new mxGeometry(16, 36, 12, 12), s2 + 'message_1;fillColor=#ff5500;strokeColor=#000000;fontStyle=1;');
				bg3.vertex = true;
				var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge2.geometry.relative = true;
		    	edge2.edge = true;
		    	bg1.insertEdge(edge2, false);
		    	bg3.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, edge2, bg1, bg2, bg3], 28, 48, 'Message');
			}),
	
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s2 + 'message_1;fillColor=#ff5500;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Message');
			}),
	
			this.addEntry(dt + 'message', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 12, 12), s + 'ellipse;fillColor=#808080;strokeColor=none;');
				bg1.vertex = true;
				var bg2 = new mxCell('', new mxGeometry(16, 18, 12, 12), s2 + 'message_2;fillColor=#00cc00;strokeColor=#000000;fontStyle=1;');
				bg2.vertex = true;
				var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0;exitY=0.5;endArrow=none;dashed=0;html=1;strokeColor=#808080;strokeWidth=2;');
		    	edge1.geometry.relative = true;
		    	edge1.edge = true;
		    	bg1.insertEdge(edge1, false);
		    	bg2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([edge1, bg1, bg2], 28, 30, 'Message');
			}),
	
		    this.createVertexTemplateEntry(s2 + 'message_translator;fillColor=#c0f5a9;strokeColor=#000000;verticalLabelPosition=bottom;verticalAlign=top;', 
		    		150, 90, '', 'Message-Translator', null, null, this.getTagsForStencil(gn, 'message_translator', dt + '').join(' '))
		];
		
		this.addPalette('eipMessaging Systems', 'EIP / Messaging Systems', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addEipSystemManagementPalette = function(expand)
	{
		var s2 = "strokeWidth=2;dashed=0;align=center;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.eip.";
		var gn = 'mxgraph.eip';
		var dt = 'eip enterprise integration pattern system management ';
		
		this.addPaletteFunctions('eipSystem Management', 'EIP / System Management', false,
		[
		    this.createVertexTemplateEntry(s2 + 'channel_purger;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		150, 90, '', 'Channel Purger', null, null, this.getTagsForStencil(gn, 'channel_purger', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'control_bus;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		60, 40, '', 'Control Bus', null, null, this.getTagsForStencil(gn, 'control_bus', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'detour;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		150, 90, '', 'Detour', null, null, this.getTagsForStencil(gn, 'detour', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'message_store;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		150, 90, '', 'Message Store', null, null, this.getTagsForStencil(gn, 'message_store', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'smart_proxy;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		70, 90, '', 'Smart Proxy', null, null, this.getTagsForStencil(gn, 'smart_proxy', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'test_message;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		150, 90, '', 'Test Message', null, null, this.getTagsForStencil(gn, 'test_message', dt + '').join(' ')),
		    this.createVertexTemplateEntry(s2 + 'wire_tap;fillColor=#c0f5a9;strokeColor=#000000;', 
		    		150, 90, '', 'Wire Tap', null, null, this.getTagsForStencil(gn, 'wire_tap', dt + '').join(' '))
		]);
	};
	
})();

(function()
{
	// Adds ER shapes
	Sidebar.prototype.addErPalette = function()
	{
		// Avoids having to bind all functions to "this"
		var sb = this;

		// Reusable cells
		var row = new mxCell('Row', new mxGeometry(0, 0, 40, 26), 'text;html=1;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;');
		row.vertex = true;

		// Predefined dimensions
		var w = 100;
		var h = 100;
		
		// Default tags
		var dt = 'er entity relation ';
		
		var fns = [
	   		this.addEntry(dt + 'table', function()
			{
				var cell = new mxCell('Table', new mxGeometry(0, 0, 160, 110),
			    	'swimlane;html=1;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#e0e0e0;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;align=center;');
				cell.vertex = true;
				cell.insert(sb.cloneCell(row, 'Row 1'));
				cell.insert(sb.cloneCell(row, 'Row 2'));
				cell.insert(sb.cloneCell(row, 'Row 3'));
		
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Table');
			}),
	   	 	this.addEntry(dt + 'table section subsection', function()
	   		{
				var cell = new mxCell('Section', new mxGeometry(0, 0, 140, 110),
		    		'swimlane;html=1;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=22;fillColor=none;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;align=center;');
				cell.vertex = true;

				cell.insert(sb.cloneCell(row, 'Row 1'));
				cell.insert(sb.cloneCell(row, 'Row 2'));
				cell.insert(sb.cloneCell(row, 'Row 3'));
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Section'); 
	   		}),
	   	 	this.addEntry(dt + 'table section subsection', function()
	   		{
				var cell = new mxCell('Table', new mxGeometry(0, 0, 160, 144),
			    	'swimlane;html=1;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#e0e0e0;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;align=center;');
				cell.vertex = true;
				
	   			var cell1 = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 30), 'shape=partialRectangle;top=0;left=0;right=0;bottom=1;html=1;align=left;verticalAlign=middle;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;fontStyle=5;');
	   			cell1.vertex = true;

	   			var cell11 = sb.cloneCell(row, 'PK');
	   			cell11.connectable = false;
	   			cell11.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell11.geometry.width = 30;
	   			cell11.geometry.height = 30;
	   			cell1.insert(cell11);
	   			cell.insert(cell1);
	   			
	   			var cell2 = new mxCell('row 1', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell2.vertex = true;

	   			var cell21 = sb.cloneCell(row, '');
	   			cell21.connectable = false;
	   			cell21.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell21.geometry.width = 30;
	   			cell2.insert(cell21);
	   			cell.insert(cell2);
	   			
	   			cell2 = sb.graph.cloneCells([cell2])[0];
	   			cell2.value = 'row 2';
	   			cell.insert(cell2);
	   			
	   			cell2 = sb.graph.cloneCells([cell2])[0];
	   			cell2.value = 'row 3';
	   			cell.insert(cell2);
	   			
	   			cell2 = sb.graph.cloneCells([cell2])[0];
	   			cell2.value = '';
	   			cell2.children[0].geometry.height = 10;
	   			cell2.geometry.height = 10;
	   			cell.insert(cell2);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'ER Table 1'); 
	   		}),
	   	 	this.addEntry(dt + 'table section subsection', function()
	   		{
				var cell = new mxCell('Table', new mxGeometry(0, 0, 160, 112),
			    	'swimlane;html=1;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#e0e0e0;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;align=center;');
				cell.vertex = true;
				
	   			var cell1 = new mxCell('row 1', new mxGeometry(0, 0, 90, 30), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=middle;fillColor=none;spacingLeft=60;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;fontStyle=5;');
	   			cell1.vertex = true;

	   			var cell11 = sb.cloneCell(row, 'PK,FK1');
	   			cell11.connectable = false;
	   			cell11.style = 'shape=partialRectangle;fontStyle=1;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell11.geometry.width = 56;
	   			cell11.geometry.height = 30;
	   			cell1.insert(cell11);
	   			cell.insert(cell1);
	   			
	   			var cell1 = new mxCell('row 2', new mxGeometry(0, 0, 90, 30), 'shape=partialRectangle;top=0;left=0;right=0;bottom=1;html=1;align=left;verticalAlign=middle;fillColor=none;spacingLeft=60;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;fontStyle=5;');
	   			cell1.vertex = true;

	   			var cell11 = sb.cloneCell(row, 'PK,FK2');
	   			cell11.connectable = false;
	   			cell11.style = 'shape=partialRectangle;fontStyle=1;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell11.geometry.width = 56;
	   			cell11.geometry.height = 30;
	   			cell1.insert(cell11);
	   			cell.insert(cell1);
	   			
	   			var cell2 = new mxCell('row 1', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=60;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell2.vertex = true;

	   			var cell21 = sb.cloneCell(row, '');
	   			cell21.connectable = false;
	   			cell21.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell21.geometry.width = 56;
	   			cell2.insert(cell21);
	   			cell.insert(cell2);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'ER Table 2'); 
	   		}),
			this.addEntry(dt + 'table row', function()
			{
				return sb.createVertexTemplateFromCells([row.clone()], row.geometry.width, row.geometry.height, 'Row 1');
			}),
	   		this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, 'PK');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;top=0;left=0;bottom=0;right=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 30;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 2');
			}),
	   		this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=1;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, 'PK');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 30;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 3');
			}),
	   		this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('row', new mxGeometry(0, 0, 120, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=60;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, '');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;fontStyle=1;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 56;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 4');
			}),
			this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, 'PK');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 30;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 5');
			}),
	   		this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, '');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;top=0;left=0;bottom=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 30;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 6');
			}),
			this.addEntry(dt + 'table row', function()
			{
	   			var cell = new mxCell('uniqueId', new mxGeometry(0, 0, 90, 26), 'shape=partialRectangle;top=0;left=0;right=0;bottom=0;html=1;align=left;verticalAlign=top;fillColor=none;spacingLeft=34;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;');
	   			cell.vertex = true;

	   			var cell1 = sb.cloneCell(row, '');
	   			cell1.connectable = false;
	   			cell1.style = 'shape=partialRectangle;top=0;left=0;bottom=0;right=0;html=1;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;points=[];portConstraint=eastwest;part=1;'
	   			cell1.geometry.width = 30;
	   			cell.insert(cell1);
	   			
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Row 7');
			}),
			this.addEntry(dt + 'table row divider hline line separator', function()
			{
				var divider = new mxCell('', new mxGeometry(0, 0, 40, 8), 'line;html=1;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;');
				divider.vertex = true;
				
				return sb.createVertexTemplateFromCells([divider], divider.geometry.width, divider.geometry.height, 'Divider');
			}),
			this.addEntry(dt + 'table row spacer space gap separator', function()
			{
				var cell = new mxCell('', new mxGeometry(0, 0, 20, 14), 'text;html=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=4;spacingRight=4;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;');
				cell.vertex = true;
				
				return sb.createVertexTemplateFromCells([cell.clone()], cell.geometry.width, cell.geometry.height, 'Spacer');
			}),
			this.createVertexTemplateEntry('text;html=1;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;strokeColor=#000000;fillColor=#e0e0e0;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;',
				80, 26, 'Title', 'Title', null, null, 'er entity relation table title label'),
	   		this.addEntry(dt + 'table', function()
			{
	   			var cell = new mxCell('Entity', new mxGeometry(0, 0, 160, 120),
	   		    	'swimlane;html=1;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;fillColor=#008cff;fontColor=#FFFFFF;rounded=1;fontSize=17;fontStyle=0;strokeWidth=2;resizeParent=0;resizeLast=1;shadow=0;dashed=0;align=center;');
	   			cell.vertex = true;
	   			
	   			var cell1 = new mxCell('+Attribute1\n+Attribute2\n+Attribute3', new mxGeometry(0, 30, 160, 90), 'whiteSpace=wrap;html=1;align=left;strokeColor=none;fillColor=none;spacingLeft=4;fontSize=17;verticalAlign=top;resizable=0;rotatable=0;part=1;');
	   			cell1.vertex = true;

				cell.insert(cell1);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Entity 2');
			}),
			this.createVertexTemplateEntry('ellipse;shape=doubleEllipse;margin=10;strokeWidth=2;fontSize=17;whiteSpace=wrap;html=1;align=center;', w, h, 'Attribute', 'Attribute', null, null, dt + 'attribute'),
			this.createVertexTemplateEntry('ellipse;shape=cloud;strokeWidth=2;fontSize=17;whiteSpace=wrap;html=1;align=center;', w, h, 'Cloud', 'Cloud', null, null, dt + 'cloud'),
			this.createVertexTemplateEntry('strokeWidth=2;rounded=1;arcSize=10;whiteSpace=wrap;html=1;align=center;', w, h, 'Entity', 'Entity 3', null, null, dt),
			this.createVertexTemplateEntry('strokeWidth=2;whiteSpace=wrap;html=1;align=center;', w, h, 'Entity', 'Entity 4', null, null, dt),
			this.createVertexTemplateEntry('shape=ext;strokeWidth=2;margin=10;double=1;whiteSpace=wrap;html=1;align=center;', w, h, 'Entity', 'Entity 5', null, null, dt),
			this.createVertexTemplateEntry('shape=rhombus;strokeWidth=2;fontSize=17;perimeter=rhombusPerimeter;whiteSpace=wrap;html=1;align=center;', w, h, 'Has', 'Has', null, null, dt + 'has'),
			this.createVertexTemplateEntry('shape=rhombus;double=1;strokeWidth=2;fontSize=17;perimeter=rhombusPerimeter;whiteSpace=wrap;html=1;align=center;', w, h, 'Has', 'Has', null, null, dt + 'has'),
	   	 	this.addEntry(dt + 'hierarchy', function()
	   		{
			   	var cell = new mxCell('', new mxGeometry(0, 0, 100, 100), 'html=1;strokeWidth=2;shape=mxgraph.er.rrect;rSize=5;');
			   	cell.vertex = true;
			   	
			   	var cell1 = new mxCell('main', new mxGeometry(0, 0, 50, 100), 'html=1;strokeWidth=2;shape=mxgraph.er.anchor;fontSize=17;whiteSpace=wrap;');
			   	cell1.vertex = true;
			   	cell.insert(cell1);
			   	
			   	var cell2 = new mxCell('sub', new mxGeometry(50, 5, 45, 90), 'html=1;strokeWidth=2;shape=mxgraph.er.rrect;rSize=5;fontSize=17;whiteSpace=wrap;points=[];');
			   	cell2.vertex = true;
			   	cell.insert(cell2);
				
				return sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, 'Hierarchy'); 
	   		}),
			this.createVertexTemplateEntry('shape=note;strokeWidth=2;fontSize=17;size=20;whiteSpace=wrap;html=1;', w, h, 'Note', 'Note', null, null, dt + 'note'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;endFill=1;', w, h, '', '0 to Many Optional', null, dt + 'zero many optional'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERoneToMany;', w, h, '', '1 to Many', null, dt + 'one many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERmandOne;', w, h, '', '1 Mandatory', null, dt + 'one mandatory'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERmandOne;startArrow=ERmandOne;', w, h, '', '1 to 1', null, dt + 'one'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERone;endFill=1;', w, h, '', '1', null, dt + 'one'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToOne;endFill=1;', w, h, '', '0 to 1', null, dt + 'zero one'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERmany;', w, h, '', 'Many', null, dt + 'many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERmany;startArrow=ERmany;', w, h, '', 'Many to Many', null, dt + 'many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;startArrow=ERzeroToOne;', w, h, '', '1 Optional to Many Optional', null, dt + 'one optional many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;startArrow=ERmandOne;', w, h, '', '1 Mandatory to Many Optional', null, dt + 'one mandatory many optional'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToOne;startArrow=ERmandOne;', w, h, '', '1 Mandatory to 1 Optional', null, dt + 'one mandatory optional'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERoneToMany;startArrow=ERmandOne;', w, h, '', '1 Mandatory to Many Mandatory', null, dt + 'one mandatory many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERoneToMany;startArrow=ERzeroToOne;', w, h, '', '1 Optional to Many Mandatory', null, dt + 'one optional mandatory many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERoneToMany;startArrow=ERoneToMany;', w, h, '', 'Many Mandatory to Many Mandatory', null, dt + 'mandatory many'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERoneToMany;startArrow=ERzeroToMany;', w, h, '', 'Many Optional to Many Mandatory', null, dt + 'mandatory many optional'),
		 	this.createEdgeTemplateEntry('edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;endFill=1;startArrow=ERzeroToMany;', w, h, '', 'Many Optional to Many Optional', null, dt + 'many optional')
	 	];

		this.addPaletteFunctions('er', mxResources.get('entityRelation'), false, fns);
	};

})();

(function()
{
	// Adds electrical stencils
	Sidebar.prototype.addElectricalPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE;
		var mea = s + '=mxgraph.electrical.abstract.';
		var mec = s + '=mxgraph.electrical.capacitors.';
		var med = 'fillColor=#000000;' + s + '=mxgraph.electrical.diodes.';
		var mei = s + '=mxgraph.electrical.inductors.';
		var mem = s + '=mxgraph.electrical.miscellaneous.';
		var meem = s + '=mxgraph.electrical.electro-mechanical.';
		var mel = s + '=mxgraph.electrical.logic_gates.';
		var mef1 = s + '=mxgraph.electrical.mosfets1.';
		var mef2 = s + '=mxgraph.electrical.mosfets2.';
		var met = s + '=mxgraph.electrical.transistors.';
		var meoe = s + '=mxgraph.electrical.opto_electronics.';
		var mep = s + '=mxgraph.electrical.plc_ladder.';
		var mer = s + '=mxgraph.electrical.radio.';
		var mere = s + '=mxgraph.electrical.resistors.';
		var mess = s + '=mxgraph.electrical.signal_sources.';
		var metd = s + '=mxgraph.electrical.thermionic_devices.';
		var mew = s + '=mxgraph.electrical.waveforms.';
		var mein = 'perimeter=ellipsePerimeter;' + s + '=mxgraph.electrical.instruments.';
		var meiecl = s + '=mxgraph.electrical.iec_logic_gates.';
		var merm = s + '=mxgraph.electrical.rot_mech.';
		var metr = s + '=mxgraph.electrical.transmission.';
		var gnmel = 'mxgraph.electrical.logic_gates';
		var dtmel = 'electrical logic gate ';
		var gnmeiecl = 'mxgraph.electrical.iec_logic_gates';
		var dtmeiecl = 'electrical iec logic gate ';
		var gnmere = 'mxgraph.electrical.resistors';
		var dtmere = 'electrical resistor ';
		var gnmec = 'mxgraph.electrical.capacitors';
		var dtmec = 'electrical capacitor ';
		var gnmei = 'mxgraph.electrical.inductors';
		var dtmei = 'electrical inductor ';
		var gnmeem = 'mxgraph.electrical.electro-mechanical';
		var dtmeem = 'electrical switch relay ';
		var gnmed = 'mxgraph.electrical.diodes';
		var dtmed = 'electrical diode ';
		var gnmess = 'mxgraph.electrical.signal_sources';
		var dtmess = 'electrical signal source ';
		var gnmet = 'mxgraph.electrical.transistors';
		var dtmet = 'electrical transistor ';
		var gnmein = 'mxgraph.electrical.instruments';
		var dtmein = 'electrical instrument ';
		var gnmer = 'mxgraph.electrical.radio';
		var dtmer = 'electrical radio audio ';
		var gnmem = 'mxgraph.electrical.miscellaneous';
		var dtmem = 'electrical ';
		var gnmea = 'mxgraph.electrical.abstract';
		var dtmea = 'electrical ';
		var gnmep = 'mxgraph.electrical.plc_ladder';
		var dtmep = 'electrical plc ladder programmable logic logical controller';
		var gnmeoe = 'mxgraph.electrical.opto_electronics';
		var dtmeoe = 'electrical optical ';
		var gnmetd = 'mxgraph.electrical.thermionic_devices';
		var dtmetd = 'electrical thermionic thermo device vacuum tube ';
		var gnmew = 'mxgraph.electrical.waveforms';
		var dtmew = 'electrical waveform signal ';
		var gnmerm = 'mxgraph.electrical.rot_mech';
		var dtmerm = 'electrical rotating equipment mechanical function functions';
		var gnmetr = 'mxgraph.electrical.transmission';
		var dtmetr = 'electrical transmission paths bus buses';

		this.addPaletteFunctions('electrical\LogicGates', 'Electrical / Logic Gates', false,
		[
			this.createVertexTemplateEntry(mel + 'and;', 100, 60, '', 'AND', null, null, this.getTagsForStencil(gnmel, 'and', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'buffer;', 100, 60, '', 'Buffer', null, null, this.getTagsForStencil(gnmel, 'buffer', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'd_type_flip-flop;', 100, 80, '', 'D Type Flip-Flop', null, null, this.getTagsForStencil(gnmel, 'd_type_flip-flop', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'd_type_flip-flop_with_clear;', 100, 90, '', 'D Type Flip-Flop With Clear', null, null, this.getTagsForStencil(gnmel, 'd_type_flip-flop_with_clear', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'd_type_rs_flip-flop;', 100, 100, '', 'D Type RS Flip-Flop', null, null, this.getTagsForStencil(gnmel, 'd_type_rs_flip-flop', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'inverter;', 100, 60, '', 'Inverter', null, null, this.getTagsForStencil(gnmel, 'inverter', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'inverting_contact;', 5, 5, '', 'Inverting Contact', null, null, this.getTagsForStencil(gnmel, 'inverting_contact', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'jk_flip-flop;', 100, 80, '', 'JK Flip-Flop', null, null, this.getTagsForStencil(gnmel, 'jk_flip-flop', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'jk_flip-flop_with_clear;', 100, 90, '', 'JK Flip-Flop With Clear', null, null, this.getTagsForStencil(gnmel, 'jk_flip-flop_with_clear', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'jk_flip-flop_with_sr;', 100, 100, '', 'JK Flip-Flop With SR', null, null, this.getTagsForStencil(gnmel, 'jk_flip-flop_with_sr', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'nand;', 100, 60, '', 'NAND', null, null, this.getTagsForStencil(gnmel, 'nand', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'nor;', 100, 60, '', 'NOR', null, null, this.getTagsForStencil(gnmel, 'nor', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'or;', 100, 60, '', 'OR', null, null, this.getTagsForStencil(gnmel, 'or', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'rs_latch;', 100, 80, '', 'RS Latch', null, null, this.getTagsForStencil(gnmel, 'rs_latch', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'synchronous_rs_latch;', 100, 80, '', 'RS Latch (Synchronous)', null, null, this.getTagsForStencil(gnmel, 'synchronous_rs_latch', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'schmitt_trigger;', 100, 60, '', 'Schmitt Trigger', null, null, this.getTagsForStencil(gnmel, 'schmitt_trigger', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 't_type_flip-flop;', 100, 80, '', 'T Type Flip-Flop', null, null, this.getTagsForStencil(gnmel, 't_type_flip-flop', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'xnor;', 100, 60, '', 'XNOR', null, null, this.getTagsForStencil(gnmel, 'xnor', dtmel).join(' ')),
			this.createVertexTemplateEntry(mel + 'xor;', 100, 60, '', 'XOR', null, null, this.getTagsForStencil(gnmel, 'xor', dtmel).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'and;', 60, 80, '', 'AND (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'and', dtmeiecl).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'nand;', 66, 80, '', 'NAND (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'nand', dtmeiecl).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'or;', 60, 80, '', 'OR (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'or', dtmeiecl).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'nor;', 66, 80, '', 'NOR (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'nor', dtmeiecl).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'not;', 66, 80, '', 'NOT (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'xor', dtmeiecl).join(' ')),
			this.createVertexTemplateEntry(meiecl + 'xor;', 60, 80, '', 'XOR (IEC)', null, null, this.getTagsForStencil(gnmeiecl, 'xor', dtmeiecl).join(' '))
		]);

		this.addPaletteFunctions('electrical\Resistors', 'Electrical / Resistors', false,
		[
			this.createVertexTemplateEntry(mere + 'resistor_1;', 
					100, 20, '', 'Resistor', null, null, this.getTagsForStencil(gnmere, 'resistor_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'resistor_2;', 
					100, 20, '', 'Resistor', null, null, this.getTagsForStencil(gnmere, 'resistor_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'potentiometer_1;', 
					100, 40, '', 'Potentiometer', null, null, this.getTagsForStencil(gnmere, 'potentiometer_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'potentiometer_2;', 
					100, 40, '', 'Potentiometer', null, null, this.getTagsForStencil(gnmere, 'potentiometer_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'trimmer_pot_1;', 
					100, 40, '', 'Potentiometer (Trimmer)', null, null, this.getTagsForStencil(gnmere, 'trimmer_pot_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'trimmer_pot_2;', 
					100, 40, '', 'Potentiometer (Trimmer)', null, null, this.getTagsForStencil(gnmere, 'trimmer_pot_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'trimmer_resistor_1;', 
					100, 65.5, '', 'Resistor (Trimmer)', null, null, this.getTagsForStencil(gnmere, 'trimmer_resistor_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'trimmer_resistor_2;', 
					100, 65.5, '', 'Resistor (Trimmer)', null, null, this.getTagsForStencil(gnmere, 'trimmer_resistor_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'variable_resistor_1;', 
					100, 60, '', 'Resistor (Variable)', null, null, this.getTagsForStencil(gnmere, 'variable_resistor_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'variable_resistor_2;', 
					100, 60, '', 'Resistor (Variable)', null, null, this.getTagsForStencil(gnmere, 'variable_resistor_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'resistor_with_instrument_or_relay_shunt;', 
					100, 20, '', 'Resistor (Instrument/Relay Shunt)', null, null, this.getTagsForStencil(gnmere, 'resistor_with_instrument_or_relay_shunt', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'attenuator;', 
					100, 60, '', 'Attenuator', null, null, this.getTagsForStencil(gnmere, 'attenuator', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'resistor,_adjustable_contact;', 
					100, 40, '', 'Resistor (Adjustable Contact)', null, null, this.getTagsForStencil(gnmere, 'resistor,_adjustable_contact', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'resistor,_shunt;', 
					100, 45, '', 'Resistor (Shunt)', null, null, this.getTagsForStencil(gnmere, 'resistor,_shunt', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'symmetrical_varistor;', 
					100, 60, '', 'Varistor (Symmetrical)', null, null, this.getTagsForStencil(gnmere, 'symmetrical_varistor', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'tapped_resistor;', 
					100, 40, '', 'Resistor (Tapped)', null, null, this.getTagsForStencil(gnmere, 'tapped_resistor', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'nonlinear_resistor;', 
					100, 60, '', 'Resistor (Nonlinear)', null, null, this.getTagsForStencil(gnmere, 'nonlinear_resistor', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'memristor_1;', 
					100, 20, '', 'Memristor', null, null, this.getTagsForStencil(gnmere, 'memristor_1', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'memristor_2;', 
					100, 24, '', 'Memristor', null, null, this.getTagsForStencil(gnmere, 'memristor_2', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'magnetoresistor;', 
					100, 60, '', 'Magnetoresistor', null, null, this.getTagsForStencil(gnmere, 'magnetoresistor', dtmere).join(' ')),
			this.createVertexTemplateEntry(mere + 'symmetrical_photoconductive_transducer;', 
					100, 40, '', 'Photoconductive Transducer (Symmetrical)', null, null, this.getTagsForStencil(gnmere, 'symmetrical_photoconductive_transducer', dtmere).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Capacitors', 'Electrical / Capacitors', false,
		[
			this.createVertexTemplateEntry(mec + 'capacitor_1;', 
					100, 60, '', 'Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'capacitor_1', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'capacitor_2;', 
					100, 60, '', 'Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'capacitor_2', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'capacitor_3;', 
					100, 60, '', 'Electrolytic Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'capacitor_3', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'capacitor_4;', 
					100, 60, '', 'Capacitor (UK)', null, null, this.getTagsForStencil(gnmec, 'capacitor_4', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'capacitor_5;', 
					100, 60, '', 'Electrolytic Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'capacitor_5', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'capacitor_6;', 
					100, 60, '', 'Capacitor', null, null, this.getTagsForStencil(gnmec, 'capacitor_6', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'differential_capacitor;', 
					100, 80, '', 'Differential Capacitor', null, null, this.getTagsForStencil(gnmec, 'differential_capacitor', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'trimmer_capacitor_1;', 
					100, 65.5, '', 'Tuning Variable Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'trimmer_capacitor_1', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'trimmer_capacitor_2;', 
					100, 65.5, '', 'Tuning Variable Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'trimmer_capacitor_2', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'variable_capacitor_1;', 
					100, 60, '', 'Trimmer Variable Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'variable_capacitor_1', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'variable_capacitor_2;', 
					100, 60, '', 'Trimmer Variable Capacitor (US)', null, null, this.getTagsForStencil(gnmec, 'variable_capacitor_2', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'feed_through_capacitor;', 
					100, 90, '', 'Feed Through Capacitor', null, null, this.getTagsForStencil(gnmec, 'feed_through_capacitor', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'ganged_capacitor;', 
					100, 130, '', 'Ganged Capacitor', null, null, this.getTagsForStencil(gnmec, 'ganged_capacitor', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'multiple_capacitor;', 
					100, 130, '', 'Multiple Capacitor', null, null, this.getTagsForStencil(gnmec, 'multiple_capacitor', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'multiple_electrolytic_capacitor_comm_neg;', 
					100, 130, '', 'Multiple Electrolytic Capacitor (Common Negative)', null, null, this.getTagsForStencil(gnmec, 'multiple_electrolytic_capacitor_comm_neg', dtmec).join(' ')),
			this.createVertexTemplateEntry(mec + 'multiple_electrolytic_capacitor_comm_pos;', 
					100, 130, '', 'Multiple Electrolytic Capacitor (Common Positive)', null, null, this.getTagsForStencil(gnmec, 'multiple_electrolytic_capacitor_comm_pos', dtmec).join(' '))
		]);

		this.addPaletteFunctions('electrical\Inductors', 'Electrical / Inductors', false,
		[
			this.createVertexTemplateEntry(mei + 'inductor_3;', 
					100, 8, '', 'Inductor (Air Core)', null, null, this.getTagsForStencil(gnmei, 'inductor_3', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'inductor_5;', 
					100, 14, '', 'Inductor (Air Core)', null, null, this.getTagsForStencil(gnmei, 'inductor_5', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'inductor_1;', 
					100, 15, '', 'Inductor (Air Core)', null, null, this.getTagsForStencil(gnmei, 'inductor_1', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'variable_inductor;', 
					100, 60, '', 'Variable', null, null, this.getTagsForStencil(gnmei, 'variable_inductor', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'ferrite_core;', 
					64, 4, '', 'Ferrite Core', null, null, this.getTagsForStencil(gnmei, 'ferrite_core', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'iron_core;', 
					64, 4, '', 'Iron Core', null, null, this.getTagsForStencil(gnmei, 'iron_core', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'magnetic_core;direction=north;', 
					64, 3, '', 'Magnetic Core', null, null, this.getTagsForStencil(gnmei, 'magnetic core', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'transformer_1;', 
					64, 60, '', 'Transformer (Iron Core)', null, null, this.getTagsForStencil(gnmei, 'transformer_1', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'transformer_2;', 
					64, 60, '', 'Transformer (Iron Core)', null, null, this.getTagsForStencil(gnmei, 'transformer_2', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'half_inductor;', 
					32, 23, '', 'Half Inductor', null, null, this.getTagsForStencil(gnmei, 'half inductor', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'transformer;direction=north;', 
					64, 64, '', 'Transformer', null, null, this.getTagsForStencil(gnmei, 'transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'inductor;', 
					100, 42, '', 'Inductor', null, null, this.getTagsForStencil(gnmei, 'inductor', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'choke;', 
					100, 200, '', 'Choke', null, null, this.getTagsForStencil(gnmei, 'choke', dtmei).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=top;shadow=0;dashed=0;align=center;fillColor=#000000;strokeColor=#000000;html=1;verticalAlign=bottom;strokeWidth=1;shape=mxgraph.electrical.inductors.variometer;', 
					150, 88, '', 'Variometer', null, null, this.getTagsForStencil(gnmei, 'variometer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'coaxial_choke;', 
					300, 50, '', 'Coaxial Choke', null, null, this.getTagsForStencil(gnmei, 'coaxial choke', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'transductor;', 
					200, 100, '', 'Transductor', null, null, this.getTagsForStencil(gnmei, 'transductor', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'saturating_transformer;', 
					200, 150, '', 'Saturating Transformer', null, null, this.getTagsForStencil(gnmei, 'saturating_transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'potential_transformer_2;', 
					92, 40, '', 'Potential Transformer', null, null, this.getTagsForStencil(gnmei, 'potential transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'pot_trans_3_windings;', 
					67, 96, '', 'Pot. Trans. 3 Windings', null, null, this.getTagsForStencil(gnmei, 'potential transformer 3 three windings', dtmei).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.signal_sources.current_source;', 
					40, 60, '', 'Transformer', null, null, this.getTagsForStencil(gnmei, '', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'adjustable_transformer;', 
					46, 60, '', 'Adjustable Transformer', null, null, this.getTagsForStencil(gnmei, 'adjustable_transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + '1_phase_induction_volt_reg;', 
					100, 100, '', '1-Phase Induction Voltage Regulator', null, null, this.getTagsForStencil(gnmei, '1 phase induction voltage regulator monophase', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'triplex_induction_volt_reg;', 
					100, 100, '', 'Triplex Induction Voltage Regulator', null, null, this.getTagsForStencil(gnmei, 'triplex induction voltage regulator', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'induction_voltage_regulator;', 
					160, 210, '', 'Induction Voltage Regulator', null, null, this.getTagsForStencil(gnmei, 'induction voltage regulator', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'current_transformer_1;', 
					12, 75, '', 'Current Transformer', null, null, this.getTagsForStencil(gnmei, 'current transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'current_transformer_2;', 
					125, 175, '', 'Current Transformer', null, null, this.getTagsForStencil(gnmei, 'current transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'current_transformer_3;', 
					75, 10, '', 'Current Transformer', null, null, this.getTagsForStencil(gnmei, 'current transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'potential_transformer;', 
					100, 50, '', 'Potential Transformer', null, null, this.getTagsForStencil(gnmei, 'potential transformer', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'outdoor_metering_device;', 
					100, 100, '', 'Outdoor Metering Device', null, null, this.getTagsForStencil(gnmei, 'outdoor metering device', dtmei).join(' ')),
			this.createVertexTemplateEntry(mei + 'linear_coupler;', 
					80, 20, '', 'Linear Coupler', null, null, this.getTagsForStencil(gnmei, 'linear coupler', dtmei).join(' '))
		]);

		this.addPaletteFunctions('electrical\SwitchesRelays', 'Electrical / Switches and Relays', false,
		[
			this.createVertexTemplateEntry(meem + '2-way_switch;', 
					75, 26, '', 'SPDT', null, null, this.getTagsForStencil(gnmeem, '2-way switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'push_switch_nc;', 
					75, 10, '', 'Pushbutton NC', null, null, this.getTagsForStencil(gnmeem, 'push switch nc', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'push_switch_no;', 
					75, 19, '', 'Pushbutton NO', null, null, this.getTagsForStencil(gnmeem, 'push switch no', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'simple_switch;', 
					75, 19, '', 'SPST', null, null, this.getTagsForStencil(gnmeem, 'simple switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'switch_disconnector;', 
					75, 19, '', 'Switch Disconnector', null, null, this.getTagsForStencil(gnmeem, 'switch disconnector', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'fuse;', 
					75, 16, '', 'Fuse', null, null, this.getTagsForStencil(gnmeem, 'fuse', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'liquid_level_actuated;', 
					75, 28, '', 'Liquid Level Actuated', null, null, this.getTagsForStencil(gnmeem, 'liquid level actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'liquid_level_actuated_2;', 
					75, 32, '', 'Liquid Level Actuated', null, null, this.getTagsForStencil(gnmeem, 'liquid level actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'gas_flow_actuated;', 
					75, 32, '', 'Gas Flow Actuated', null, null, this.getTagsForStencil(gnmeem, 'gas flow actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'flow_actuated;', 
					75, 31, '', 'Flow Actuated', null, null, this.getTagsForStencil(gnmeem, 'flow actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'pressure_actuated;', 
					75, 31, '', 'Pressure Actuated', null, null, this.getTagsForStencil(gnmeem, 'pressure actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'temperature_actuated;', 
					75, 31, '', 'Temperature Actuated', null, null, this.getTagsForStencil(gnmeem, 'temperature actuated', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'safety_interlock;', 
					75, 37, '', 'Safety Interlock', null, null, this.getTagsForStencil(gnmeem, 'safety interlock', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'temperature_switch;', 
					75, 18, '', 'Temperature Switch', null, null, this.getTagsForStencil(gnmeem, 'temperature switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=top;shadow=0;dashed=0;align=center;fillColor=#ffffff;strokeColor=#000000;html=1;verticalAlign=bottom;strokeWidth=1;shape=mxgraph.electrical.electro-mechanical.thermostat;fontColor=#000000;fontSize=10;', 
					75, 7, 'tº', 'Thermostat', null, null, this.getTagsForStencil(gnmeem, 'thermostat', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'limit_switch;', 
					75, 16, '', 'Limit Switch', null, null, this.getTagsForStencil(gnmeem, 'limit switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'circuit_breaker;', 
					75, 20, '', 'Circuit Breaker', null, null, this.getTagsForStencil(gnmeem, 'circuit breaker', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'selector_switch;', 
					75, 66, '', 'Selector Switch', null, null, this.getTagsForStencil(gnmeem, 'selector_switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'shorting_selector;', 
					60, 66, '', 'Shorting Selector', null, null, this.getTagsForStencil(gnmeem, 'shorting selector', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'proximity_limit_switch;', 
					75, 55, '', 'Proximity Limit Switch', null, null, this.getTagsForStencil(gnmeem, 'proximity limit switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'inertia_switch;', 
					75, 19, '', 'Inertia Switch', null, null, this.getTagsForStencil(gnmeem, 'inertia switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'pushbutton_break;', 
					75, 54, '', 'Pushbutton Break', null, null, this.getTagsForStencil(gnmeem, 'pushbutton break', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'manual_switch;', 
					75, 18, '', 'Manual Switch', null, null, this.getTagsForStencil(gnmeem, 'manual switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'make_contact;', 
					75, 16, '', 'Make Contact', null, null, this.getTagsForStencil(gnmeem, 'make contact', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'break_contact;', 
					75, 10, '', 'Break Contact', null, null, this.getTagsForStencil(gnmeem, 'break contact', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'two_way_contact;', 
					75, 30, '', 'Two Way Contact', null, null, this.getTagsForStencil(gnmeem, 'two way contact', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'passing_make_contact;', 
					75, 23, '', 'Passing Make-Contact', null, null, this.getTagsForStencil(gnmeem, 'passing make contact', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'stay_put;', 
					75, 7, '', 'Stay Put', null, null, this.getTagsForStencil(gnmeem, 'stay put', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'dpst;', 
					75, 26, '', 'DPST', null, null, this.getTagsForStencil(gnmeem, 'dpst', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'spring_return;', 
					75, 10, '', 'Spring Return', null, null, this.getTagsForStencil(gnmeem, 'spring return', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'spring_return_2;', 
					75, 19, '', 'Spring Return', null, null, this.getTagsForStencil(gnmeem, 'spring return', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'limit_switch_no;', 
					75, 24, '', 'Limit Switch NO', null, null, this.getTagsForStencil(gnmeem, 'limit switch no normally open', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'limit_switch_nc;', 
					75, 13, '', 'Limit Switch NC', null, null, this.getTagsForStencil(gnmeem, 'limit switch nc normally closed', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'dpdt;', 
					75, 32, '', 'DPDT', null, null, this.getTagsForStencil(gnmeem, 'dpdt', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + '2_position_switch;', 
					75, 70, '', '2-Position Switch', null, null, this.getTagsForStencil(gnmeem, '2 position switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + '3_position_switch;', 
					60, 60, '', '3-Position Switch', null, null, this.getTagsForStencil(gnmeem, '3 position switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + '4_position_switch;', 
					75, 70, '', '4-Position Switch', null, null, this.getTagsForStencil(gnmeem, '4 position switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'pushbutton_make;', 
					75, 53, '', 'Pushbutton Make', null, null, this.getTagsForStencil(gnmeem, 'pushbutton make', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'pushbutton_2_circuit;', 
					75, 73, '', 'Pushbutton 2-Circuit', null, null, this.getTagsForStencil(gnmeem, 'pushbutton 2 circuit', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'time_delay_make;', 
					75, 31, '', 'Time Delay Make', null, null, this.getTagsForStencil(gnmeem, 'time delay make', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'time_delay_break;', 
					75, 32, '', 'Time Delay Break', null, null, this.getTagsForStencil(gnmeem, 'time delay break', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'time_delay_make_2;', 
					75, 36, '', 'Time Delay Make', null, null, this.getTagsForStencil(gnmeem, 'time delay make', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'time_delay_break_2;', 
					75, 30, '', 'Time Delay Break', null, null, this.getTagsForStencil(gnmeem, 'time delay break', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'isolator;', 
					75, 20, '', 'Isolator', null, null, this.getTagsForStencil(gnmeem, 'isolator', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'changeover_contact;', 
					75, 20, '', 'Changeover Contact', null, null, this.getTagsForStencil(gnmeem, 'changeover contact', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'reed_switch;', 
					75, 20, '', 'Reed Switch', null, null, this.getTagsForStencil(gnmeem, 'reed switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'relay_coil;', 
					70, 35, '', 'Relay Coil', null, null, this.getTagsForStencil(gnmeem, 'relay coil', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'relay;', 
					100, 50, '', 'Relay', null, null, this.getTagsForStencil(gnmeem, 'relay', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'relay_contacts;', 
					30, 24, '', 'Relay Contacts', null, null, this.getTagsForStencil(gnmeem, 'relay contacts', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'resonator;', 
					100, 50, '', 'Resonator', null, null, this.getTagsForStencil(gnmeem, 'resonator', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'pilot_light;', 
					100, 100, '', 'Pilot Light', null, null, this.getTagsForStencil(gnmeem, 'pilot light', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'relay_coil_2;', 
					100, 70, '', 'Relay Coil', null, null, this.getTagsForStencil(gnmeem, 'relay coil', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'mercury_switch;', 
					80, 80, '', 'Mercury Switch', null, null, this.getTagsForStencil(gnmeem, 'mercury switch', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'mercury_switch_2;', 
					50, 90, '', 'Mercury Switch', null, null, this.getTagsForStencil(gnmeem, 'mercury switch', dtmeem).join(' '))
		]);

		this.addPaletteFunctions('electrical\Diodes', 'Electrical / Diodes', false,
		[
			this.createVertexTemplateEntry(med + 'diode;', 
					100, 60, '', 'PN Diode', null, null, this.getTagsForStencil(gnmed, 'diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'gunn_diode;', 
					100, 60, '', 'Gunn Diode', null, null, this.getTagsForStencil(gnmed, 'gunn_diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'schottky_diode;', 
					100, 60, '', 'Schottky Diode', null, null, this.getTagsForStencil(gnmed, 'schottky_diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'zener_diode_2;', 
					100, 60, '', 'Breakdown', null, null, this.getTagsForStencil(gnmed, 'zener_diode_2', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'tunnel_diode;', 
					100, 60, '', 'Tunnel Diode 1', null, null, this.getTagsForStencil(gnmed, 'tunnel_diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'tunnel_diode_2;', 
					100, 80, '', 'Tunnel Diode 2', null, null, this.getTagsForStencil(gnmed, 'tunnel_diode_2', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'field_effect_diode;', 
					100, 60, '', 'Field Effect Diode', null, null, this.getTagsForStencil(gnmed, 'field_effect_diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'varactor_-_varicap;', 
					100, 60, '', 'Varactor - Varicap', null, null, this.getTagsForStencil(gnmed, 'varactor_-_varicap', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'zener_diode_1;', 
					100, 60, '', 'Zener Diode 1', null, null, this.getTagsForStencil(gnmed, 'zener_diode_1', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'zener_diode_3;', 
					100, 60, '', 'Zener Diode 2', null, null, this.getTagsForStencil(gnmed, 'zener_diode_3', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'four_layer_diode;', 
					100, 80, '', 'Four Layer Diode', null, null, this.getTagsForStencil(gnmed, 'four_layer_diode', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'transorb_1;', 
					100, 60, '', 'Transorb 1', null, null, this.getTagsForStencil(gnmed, 'transorb_1', dtmed).join(' ')),
			this.createVertexTemplateEntry(med + 'transorb_2;', 
					100, 60, '', 'Transorb 2', null, null, this.getTagsForStencil(gnmed, 'transorb_2', dtmed).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Sources', 'Electrical / Sources', false,
		[
			this.createVertexTemplateEntry(mess + 'ac_source;', 
					60, 60, '', 'AC', null, null, this.getTagsForStencil(gnmess, 'ac_source', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'current_source;', 
					40, 60, '', 'Current', null, null, this.getTagsForStencil(gnmess, 'current_source', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dc_source_1;', 
					70, 75, '', 'DC', null, null, this.getTagsForStencil(gnmess, 'dc_source_1', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dc_source_2;', 
					60, 60, '', 'DC', null, null, this.getTagsForStencil(gnmess, 'dc_source_2', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dc_source_3;', 
					60, 60, '', 'DC', null, null, this.getTagsForStencil(gnmess, 'dc_source_3', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dependent_source_1;', 
					60, 60, '', 'Dependent', null, null, this.getTagsForStencil(gnmess, 'dependent_source_1', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dependent_source_2;', 
					60, 60, '', 'Dependent', null, null, this.getTagsForStencil(gnmess, 'dependent_source_2', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'dependent_source_3;', 
					60, 60, '', 'Dependent', null, null, this.getTagsForStencil(gnmess, 'dependent_source_3', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'noise_source;', 
					60, 60, '', 'Noise', null, null, this.getTagsForStencil(gnmess, 'noise_source', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'ideal_source;', 
					60, 60, '', 'Ideal Source', null, null, this.getTagsForStencil(gnmess, 'ideal source', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'explosive_squib', 
					60, 60, '', 'Explosive Squib', null, null, this.getTagsForStencil(gnmess, 'explosive squib', dtmem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.miscellaneous.monocell_battery;', 
					100, 60, '', 'Accumulator / Monocell Battery', null, null, this.getTagsForStencil(gnmess, 'accumulator monocell battery single cell', dtmem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.miscellaneous.multicell_battery;', 
					100, 60, '', 'Multicell Battery', null, null, this.getTagsForStencil(gnmess, 'accumulator multicell battery multi multiple cell', dtmem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.miscellaneous.multicell_battery_tapped;', 
					100, 70, '', 'Multicell Battery Tapped', null, null, this.getTagsForStencil(gnmess, 'accumulator multicell battery tapped multi multiple cell', dtmem).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Transistors', 'Electrical / Transistors', false,
		[
			this.createVertexTemplateEntry(met + 'npn_transistor_1;', 
					95, 100, '', 'BJT (NPN)', null, null, this.getTagsForStencil(gnmet, 'npn_transistor_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(met + 'pnp_transistor_1;', 
					95, 100, '', 'BJT (PNP)', null, null, this.getTagsForStencil(gnmet, 'pnp_transistor_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(met + 'n-channel_jfet_1;', 
					95, 100, '', 'JFET (NPN)', null, null, this.getTagsForStencil(gnmet, 'n-channel_jfet_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(met + 'p-channel_jfet_1;', 
					95, 100, '', 'JFET (PNP)', null, null, this.getTagsForStencil(gnmet, 'p-channel_jfet_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'n-channel_mosfet_1;', 
					95, 100, '', 'MOSFET (N)', null, null, this.getTagsForStencil(gnmet, 'n-channel_mosfet_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'p-channel_mosfet_1;', 
					95, 100, '', 'MOSFET (P)', null, null, this.getTagsForStencil(gnmet, 'p-channel_mosfet_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'mosfet_ic_n;', 
					95, 100, '', 'MOSFET Inductive Channel (N)', null, null, this.getTagsForStencil(gnmet, 'mosfet_ic_n', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'mosfet_ic_p;', 
					95, 100, '', 'MOSFET Inductive Channel (P)', null, null, this.getTagsForStencil(gnmet, 'mosfet_ic_p', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'mosfet_n_no_bulk;', 
					95, 100, '', 'MOSFET No Bulk (N)', null, null, this.getTagsForStencil(gnmet, 'mosfet_n_no_bulk', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'mosfet_p_no_bulk;', 
					95, 100, '', 'MOSFET No Bulk (P)', null, null, this.getTagsForStencil(gnmet, 'mosfet_p_no_bulk', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'p-channel_mosfet_1;', 
					95, 100, '', 'MOSFET (P)', null, null, this.getTagsForStencil(gnmet, 'p-channel_mosfet_1', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'dual_gate_mosfet_n;', 
					95, 100, '', 'Dual Gate MOSFET (N)', null, null, this.getTagsForStencil(gnmet, 'dual_gate_mosfet_n', dtmet).join(' ')),
			this.createVertexTemplateEntry(mef1 + 'dual_gate_mosfet_p;', 
					95, 100, '', 'Dual Gate MOSFET (P)', null, null, this.getTagsForStencil(gnmet, 'dual_gate_mosfet_p', dtmet).join(' '))
		]);

		this.addPaletteFunctions('electrical\Instruments', 'Electrical / Instruments', false,
		[
			this.createVertexTemplateEntry(mein + 'ampermeter;', 
					90, 90, '', 'Ampermeter', null, null, this.getTagsForStencil(gnmein, 'ampermeter', dtmein).join(' ')),
			this.createVertexTemplateEntry(mein + 'galvanometer;', 
					90, 90, '', 'Galvanometer', null, null, this.getTagsForStencil(gnmein, 'galvanometer', dtmein).join(' ')),
			this.createVertexTemplateEntry(mein + 'oscilloscope;', 
					90, 90, '', 'Oscilloscope', null, null, this.getTagsForStencil(gnmein, 'oscilloscope', dtmein).join(' ')),
			this.createVertexTemplateEntry(mein + 'signal_generator;', 
					90, 90, '', 'Signal Generator', null, null, this.getTagsForStencil(gnmein, 'signal_generator', dtmein).join(' ')),
			this.createVertexTemplateEntry(mein + 'voltmeter;', 
					90, 90, '', 'Voltmeter', null, null, this.getTagsForStencil(gnmein, 'voltmeter', dtmein).join(' '))
		]);

		this.addPaletteFunctions('electrical\Misc', 'Electrical / Misc', false,
		[
			this.createVertexTemplateEntry(mer + 'aerial_-_antenna_1;', 
					80, 100, '', 'Antenna', null, null, this.getTagsForStencil(gnmer, 'aerial_-_antenna_1', dtmer).join(' ')),
			this.createVertexTemplateEntry(mer + 'aerial_-_antenna_2;', 
					79, 100, '', 'Antenna', null, null, this.getTagsForStencil(gnmer, 'aerial_-_antenna_2', dtmer).join(' ')),
			this.createVertexTemplateEntry(mer + 'loop_antenna;', 
					64.8, 69.78, '', 'Loop Antenna', null, null, this.getTagsForStencil(gnmer, 'loop_antenna', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'loop_antenna', 
					100, 100, '', 'Loop Antenna', null, null, this.getTagsForStencil(gnmess, 'loop antenna', dtmem).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.electrical.electro-mechanical.motor_1;html=1;shadow=0;dashed=0;fillColor=#ffffff;align=center;fontSize=30;strokeColor=#000000;strokeWidth=1;', 
					100, 60, 'M', 'Electrical Motor', null, null, this.getTagsForStencil(gnmeem, 'motor_1', dtmeem).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.electrical.electro-mechanical.motor_2;html=1;shadow=0;dashed=0;fillColor=#ffffff;align=center;fontSize=30;strokeColor=#000000;strokeWidth=1;', 
					100, 60, '', 'Motor Armature', null, null, this.getTagsForStencil(gnmeem, 'motor_2', dtmeem).join(' ')),
			this.createVertexTemplateEntry(mem + 'co-ax;', 
					40, 60, '', 'Co-Ax', null, null, this.getTagsForStencil(gnmem, 'co-ax', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'crystal_1;', 
					100, 40, '', 'Crystal', null, null, this.getTagsForStencil(gnmem, 'crystal_1', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'fuse_1;', 
					100, 20, '', 'Fuse (IEC)', null, null, this.getTagsForStencil(gnmem, 'fuse_1', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'fuse_2;', 
					100, 20, '', 'Fuse (IEEE)', null, null, this.getTagsForStencil(gnmem, 'fuse_2', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'fuse_3;', 
					100, 12, '', 'Fuse (obsolete)', null, null, this.getTagsForStencil(gnmem, 'fuse_3', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'fuse_4;', 
					100, 32, '', 'Fuse (IEEE)', null, null, this.getTagsForStencil(gnmem, 'fuse_4', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'light_bulb;', 
					60, 50, '', 'Light Bulb', null, null, this.getTagsForStencil(gnmem, 'light_bulb', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'illuminating_bulb;', 
					60, 50, '', 'Illuminating Bulb', null, null, this.getTagsForStencil(gnmem, 'illuminating_bulb', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'light_bulb;', 
					60, 50, '', 'Pilot Light', null, null, this.getTagsForStencil(gnmem, 'light_bulb', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'neon_lamp_2;', 
					60, 50, '', 'Neon Lamp', null, null, this.getTagsForStencil(gnmem, 'neon_lamp_2', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'flourescent_lamp', 
					80, 30, '', 'Flourescent Lamp', null, null, this.getTagsForStencil(gnmess, 'flourescent lamp', dtmem).join(' ')),
			this.createVertexTemplateEntry(meoe + 'lamp', 
					50, 100, '', 'Lamp', null, null, this.getTagsForStencil(gnmess, 'lamp', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(mem + 'thermocouple;', 
					80, 81, '', 'Thermocouple', null, null, this.getTagsForStencil(gnmem, 'thermocouple', dtmem).join(' ')),
			this.createVertexTemplateEntry(mea + 'amplifier;', 
					90, 100, '', 'Amplifier', null, null, this.getTagsForStencil(gnmea, 'amplifier', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'controlled_amplifier;', 
					100, 90, '', 'Controlled Amplifier', null, null, this.getTagsForStencil(gnmea, 'controlled_amplifier', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'dac;', 
					70, 46, '', 'DAC', null, null, this.getTagsForStencil(gnmea, 'dac', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'mux;',
					60, 90, '', 'Mux', null, null, this.getTagsForStencil(gnmea, 'mux', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'demux;', 
					60, 90, '', 'Demux', null, null, this.getTagsForStencil(gnmea, 'demux', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'mux-demux;', 
					60, 90, '', 'Mux-Demux', null, null, this.getTagsForStencil(gnmea, 'mux-demux', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'operational_amp_1;', 
					98, 90, '', 'Operational Amp', null, null, this.getTagsForStencil(gnmea, 'operational_amp_1', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'operational_amp_2;', 
					98, 90, '', 'Operational Amp', null, null, this.getTagsForStencil(gnmea, 'operational_amp_2', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'ota_1;', 
					100, 90, '', 'OTA', null, null, this.getTagsForStencil(gnmea, 'ota_1', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'ota_2;', 
					100, 90, '', 'OTA', null, null, this.getTagsForStencil(gnmea, 'ota_2', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'ota_3;', 
					100, 90, '', 'OTA', null, null, this.getTagsForStencil(gnmea, 'ota_3', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'quantizer;', 
					52, 46, '', 'Quantizer', null, null, this.getTagsForStencil(gnmea, 'quantizer', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'delta;', 
					50, 50, '', 'Delta', null, null, this.getTagsForStencil(gnmea, 'delta', dtmea).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.electrical.abstract.function;html=1;shadow=0;dashed=0;fillColor=#ffffff;align=center;strokeColor=#000000;strokeWidth=1;fontSize=24', 
					50, 50, 'fn', 'Function', null, null, this.getTagsForStencil(gnmea, 'function', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'integrator;', 
					50, 50, '', 'Integrator', null, null, this.getTagsForStencil(gnmea, 'integrator', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'multiplier;', 
					50, 50, '', 'Multiplier', null, null, this.getTagsForStencil(gnmea, 'multiplier', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'sum;', 
					50, 50, '', 'Sum', null, null, this.getTagsForStencil(gnmea, 'sum', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'summation_point;', 
					50, 50, '', 'Summation Point', null, null, this.getTagsForStencil(gnmea, 'summation_point', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'filter;', 
					52, 46, '', 'Filter', null, null, this.getTagsForStencil(gnmea, 'filter', dtmea).join(' ')),
			this.createVertexTemplateEntry(s + '=mxgraph.electrical.logic_gates.bandpass_filter;', 
					52, 46, '', 'Bandpass Filter', null, null, this.getTagsForStencil('mxgraph.electrical.logic_gates', 'bandpass_filter', '').join(' ')),
			this.createVertexTemplateEntry(s + '=mxgraph.electrical.logic_gates.highpass_filter;', 
					52, 46, '', 'Highpass Filter', null, null, this.getTagsForStencil('mxgraph.electrical.logic_gates', 'highpass_filter', '').join(' ')),
			this.createVertexTemplateEntry(s + '=mxgraph.electrical.logic_gates.lowpass_filter;', 
					52, 46, '', 'Lowpass Filter', null, null, this.getTagsForStencil('mxgraph.electrical.logic_gates', 'lowpass_filter', '').join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.electrical.abstract.thermistor_with_independent_integral_heater;html=1;shadow=0;dashed=0;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;align=center;overflow=fill;fontSize=12;', 
					100, 94.25, 
					'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;">' +
					'<tr height="45%">' +
					'<td align="center">\\temp\\</td>' +
					'</tr>' +
					'<tr height="55%">' +
					'<td></td>' +
					'</tr>' +
					'</table>', 
					'Thermistor With Independent Integral Heater', null, null, this.getTagsForStencil(gnmea, 'thermistor_with_independent_integral_heater', dtmea).join(' ')),
			this.createVertexTemplateEntry(mea + 'voltage_regulator;', 
					70, 58, '', 'Voltage Regulator', null, null, this.getTagsForStencil(gnmea, 'voltage_regulator', dtmea).join(' ')),
			this.createVertexTemplateEntry(mess + 'vdd;fontSize=24;', 
					60, 40, 
					'V<sub>dd</sub>', 'Vdd', null, null, this.getTagsForStencil(gnmess, 'vdd', dtmess).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;' + mxConstants.STYLE_SHAPE + '=mxgraph.electrical.signal_sources.vss2;shadow=0;dashed=0;fillColor=#ffffff;align=center;strokeColor=#000000;strokeWidth=1;fontSize=24;html=1;', 
					60, 40, 
					'V<sub>ss</sub>', 'Vss', null, null, this.getTagsForStencil(gnmess, 'vss2', dtmess).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;' + mxConstants.STYLE_SHAPE + '=mxgraph.electrical.signal_sources.current_flow;shadow=0;dashed=0;fillColor=#ffffff;align=center;strokeColor=#000000;strokeWidth=1;fontSize=10;html=1;', 
					70, 10, 
					'5 mA',	'Current Flow', null, null, this.getTagsForStencil(gnmess, 'current_flow', dtmess).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_LABEL_POSITION + '=right;' + mxConstants.STYLE_ALIGN + '=left;' + mxConstants.STYLE_SHAPE + '=mxgraph.electrical.signal_sources.voltage;shadow=0;dashed=0;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=10;html=1;', 
					10, 70, 
					'1.2 V', 'Voltage', null, null, this.getTagsForStencil(gnmess, 'voltage', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'equipotential;', 
					90, 90, '', 'Equipotential', null, null, this.getTagsForStencil(gnmess, 'equipotential', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'protective_earth;', 
					25, 20, '', 'Equipotential', null, null, this.getTagsForStencil(gnmess, 'protective_earth', dtmess).join(' ')),
			this.createVertexTemplateEntry(mess + 'signal_ground;', 
					45, 30, '', 'Ground', null, null, this.getTagsForStencil(gnmess, 'signal_ground', dtmess).join(' ')),
			this.createVertexTemplateEntry(mem + 'chassis;', 
					65, 32, '', 'Chassis', null, null, this.getTagsForStencil(gnmess, 'chassis', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'circuit_breaker;', 
					100, 13, '', 'Circuit Breaker', null, null, this.getTagsForStencil(gnmess, 'circuit breaker', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'generic_component', 
					60, 60, '', 'Generic Component', null, null, this.getTagsForStencil(gnmess, 'generic component', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'permanent_magnet', 
					20, 70, '', 'Permanent Magnet', null, null, this.getTagsForStencil(gnmess, 'permanent magnet', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'thermal_element', 
					100, 32, '', 'Thermal Element', null, null, this.getTagsForStencil(gnmess, 'thermal element', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'igniter_plug', 
					72, 39, '', 'Igniter Plug', null, null, this.getTagsForStencil(gnmess, 'igniter plug', dtmem).join(' ')),
			this.createVertexTemplateEntry('shape=mxgraph.arrows2.arrow;verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;verticalAlign=top;strokeWidth=1;dy=0;dx=10;notch=0;', 
					100, 30, '', 'Pickup Head', null, null, this.getTagsForStencil(gnmess, 'pickup head', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'squib_ignitor', 
					100, 100, '', 'Squib Ignitor', null, null, this.getTagsForStencil(gnmess, 'squib ignitor', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'transducer', 
					70, 60, '', 'Transducer', null, null, this.getTagsForStencil(gnmess, 'transducer', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'transducer_2', 
					80, 100, '', 'Transducer', null, null, this.getTagsForStencil(gnmess, 'transducer', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'thermopile', 
					80, 82, '', 'Thermopile', null, null, this.getTagsForStencil(gnmess, 'thermopile', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'indicator', 
					60, 60, '', 'Indicator', null, null, this.getTagsForStencil(gnmess, 'indicator', dtmem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.miscellaneous.surge_protector;', 
					70, 20, '', 'Surge Protector', null, null, this.getTagsForStencil(gnmess, 'surge protector', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'surge_protector_2;', 
					70, 24, '', 'Surge Protector', null, null, this.getTagsForStencil(gnmess, 'surge protector', dtmem).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;verticalAlign=top;strokeWidth=1;shape=rect;', 
					130, 50, '', 'Material', null, null, this.getTagsForStencil(gnmess, 'material', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'sensing_link_squib', 
					130, 40, '', 'Sensing Link Squib', null, null, this.getTagsForStencil(gnmess, 'sensing link squib', dtmem).join(' ')),
			this.createVertexTemplateEntry(mem + 'delay_element', 
					100, 100, '', 'Delay Element', null, null, this.getTagsForStencil(gnmess, 'delay_element', dtmem).join(' ')),
			this.createVertexTemplateEntry(mer + 'buzzer', 
					80, 50, '', 'Buzzer', null, null, this.getTagsForStencil(gnmess, 'buzzer', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'adapter', 
					100, 40, '', 'Adapter', null, null, this.getTagsForStencil(gnmess, 'adapter', dtmer).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;verticalAlign=top;strokeWidth=1;shape=ellipse;perimeter=ellipsePerimeter;', 
					15, 15, '', 'Circuit Terminal', null, null, this.getTagsForStencil(gnmess, 'circuit terminal', dtmer).join(' ')),
			this.createEdgeTemplateEntry('endArrow=open;html=1;strokeColor=#000000;strokeWidth=1;endFill=0;endSize=20;',
					100, 0, '', 'M/F Contact', null, this.getTagsForStencil(gnmess, '', 'mf contact').join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.miscellaneous.mf_contact_2', 
					100, 10, '', 'MF Contact 2', null, null, this.getTagsForStencil(gnmess, 'mf contact', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'terminal_board', 
					75, 150, '', 'Terminal Board', null, null, this.getTagsForStencil(gnmess, 'terminal board', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'cable_termination', 
					100, 50, '', 'Cable Termination', null, null, this.getTagsForStencil(gnmess, 'cable termination', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + '2_conductor_jack', 
					100, 50, '', '2-Conductor Jack', null, null, this.getTagsForStencil(gnmess, '2 conductor jack two', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + '3_conductor_jack', 
					100, 50, '', '3-Conductor Jack', null, null, this.getTagsForStencil(gnmess, '3 conductor jack three', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + '2_conductor_plug', 
					53, 24, '', '2-Conductor Plug', null, null, this.getTagsForStencil(gnmess, '2 conductor plug two', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + '3_conductor_plug', 
					53, 24, '', '3 Conductor Plug', null, null, this.getTagsForStencil(gnmess, '3 conductor plug', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'normalled_jacks', 
					230, 65, '', 'Normalled Jacks', null, null, this.getTagsForStencil(gnmess, 'normalled jacks', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'normalled_jack', 
					110, 65, '', 'Normalled Jack', null, null, this.getTagsForStencil(gnmess, 'normalled jack', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'coaxial_outside_conductor', 
					300, 150, '', 'Coaxial Outside Conductor', null, null, this.getTagsForStencil(gnmess, 'coaxial outside conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'coaxial_center_conductor', 
					300, 150, '', 'Coaxial Center Conductor', null, null, this.getTagsForStencil(gnmess, 'coaxial center conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'large_d_connector', 
					375, 75, '', 'Large D Connector', null, null, this.getTagsForStencil(gnmess, 'large d connector', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'small_d_connector', 
					150, 75, '', 'Small D Connector', null, null, this.getTagsForStencil(gnmess, 'small d connector', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'c_header_connector', 
					200, 75, '', 'C Header Connector', null, null, this.getTagsForStencil(gnmess, 'c header connector', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'ac_out', 
					200, 100, '', 'AC Out', null, null, this.getTagsForStencil(gnmess, 'ac out alternate current', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'shielded_jack_plug', 
					50, 100, '', 'Shielded Jack/Plug', null, null, this.getTagsForStencil(gnmess, 'shielded jack plug', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'coaxial_jack_plug', 
					50, 100, '', 'Coaxial Jack/Plug', null, null, this.getTagsForStencil(gnmess, 'coaxial jack/plug', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_2_conductor_1', 
					100, 100, '', 'F/M 2 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_2_conductor_2', 
					100, 100, '', 'F/M 2 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_2_conductor_3', 
					100, 50, '', 'F/M 2 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_3_conductor_1', 
					100, 100, '', 'F/M 3 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_3_conductor_2', 
					100, 100, '', 'F/M 3 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_3_conductor_3', 
					100, 100, '', 'F/M 3 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_3_conductor_4', 
					100, 100, '', 'F/M 3 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' ')),
			this.createVertexTemplateEntry(mem + 'f_m_3_conductor_5', 
					100, 100, '', 'F/M 3 Conductor', null, null, this.getTagsForStencil(gnmess, 'fm 2 conductor', dtmer).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Audio', 'Electrical / Audio', false,
		[
			this.createVertexTemplateEntry(mer + 'dipole;', 
					100, 40, '', 'Dipole', null, null, this.getTagsForStencil(gnmer, 'dipole', dtmer).join(' ')),
			this.createVertexTemplateEntry(mer + 'electret_microphone;', 
					70, 70, '', 'Electret Microphone', null, null, this.getTagsForStencil(gnmer, 'electret_microphone', dtmer).join(' ')),
			this.createVertexTemplateEntry(mer + 'microphone_1;', 
					70, 70, '', 'Microphone', null, null, this.getTagsForStencil(gnmer, 'microphone_1', dtmer).join(' ')),
			this.createVertexTemplateEntry(mer + 'microphone_2;', 
					42, 70, '', 'Microphone', null, null, this.getTagsForStencil(gnmer, 'microphone_2', dtmer).join(' ')),
			this.createVertexTemplateEntry(meem + 'piezo_sounder;', 
					100, 40, '', 'Piezo Sounder', null, null, this.getTagsForStencil(gnmeem, 'piezo_sounder', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'buzzer;', 
					45, 60, '', 'Buzzer', null, null, this.getTagsForStencil(gnmeem, 'buzzer', dtmeem).join(' ')),
			this.createVertexTemplateEntry(meem + 'loudspeaker;', 
					25, 50, '', 'Loudspeaker', null, null, this.getTagsForStencil(gnmeem, 'loudspeaker', dtmeem).join(' ')),
			this.createVertexTemplateEntry(mer + 'headphones;', 
					66, 56, '', 'Headphones', null, null, this.getTagsForStencil(gnmer, 'headphones', dtmer).join(' ')),
			this.createVertexTemplateEntry(meem + 'bell;', 
					47, 60, '', 'Bell', null, null, this.getTagsForStencil(gnmeem, 'bell', dtmeem).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\PlcLadder', 'Electrical / PLC Ladder', false,
		[
			this.createVertexTemplateEntry(mep + 'contact;', 
					50, 25, '', 'Contact', null, null, this.getTagsForStencil(gnmep, 'contact', dtmep).join(' ')),
			this.createVertexTemplateEntry(mep + 'not_contact;', 
					50, 25, '', 'Contact (N)', null, null, this.getTagsForStencil(gnmep, 'not_contact', dtmep).join(' ')),
			this.createVertexTemplateEntry(mep + 'not_output_1;', 
					50, 25, '', 'Output (N)', null, null, this.getTagsForStencil(gnmep, 'not_output_1;', dtmep).join(' ')),
			this.createVertexTemplateEntry(mep + 'not_output_2;', 
					50, 25, '', 'Output (N)', null, null, this.getTagsForStencil(gnmep, 'not_output_2', dtmep).join(' ')),
			this.createVertexTemplateEntry(mep + 'output_1;', 
					50, 25, '', 'Output', null, null, this.getTagsForStencil(gnmep, 'output_1', dtmep).join(' ')),
			this.createVertexTemplateEntry(mep + 'output_2;', 
					50, 25, '', 'Output', null, null, this.getTagsForStencil(gnmep, 'output_2', dtmep).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Optical', 'Electrical / Optical', false,
		[
			this.createVertexTemplateEntry(meoe + '7_segment_display;', 
					74.7, 96.1, '', '7 Segment Display', null, null, this.getTagsForStencil(gnmeoe, '7_segment_display', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + '7_segment_display_with_dp;', 
					79.8, 96.9, '', '7 Segment Display with DP', null, null, this.getTagsForStencil(gnmeoe, '7_segment_display_with_dp', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + '9_segment_display;', 
					74.7, 96.1, '', '9 Segment Display', null, null, this.getTagsForStencil(gnmeoe, '9_segment_display', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + '9_segment_display_with_dp;', 
					79.8, 96.9, '', '9 Segment Display with DP', null, null, this.getTagsForStencil(gnmeoe, '9_segment_display_with_dp', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'led_1;', 
					100, 65, '', 'LED', null, null, this.getTagsForStencil(gnmeoe, 'led_1', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'led_2;', 
					100, 70, '', 'LED', null, null, this.getTagsForStencil(gnmeoe, 'led_2', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'light-activated_scr;', 
					100, 70, '', 'Light Activated SCR', null, null, this.getTagsForStencil(gnmeoe, 'light-activated_scr', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'opto-coupler;', 
					99, 60, '', 'Opto-coupler', null, null, this.getTagsForStencil(gnmeoe, 'opto-coupler', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'opto-transistor;', 
					100, 110, '', 'Opto-transistor', null, null, this.getTagsForStencil(gnmeoe, 'opto-transistor', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'photodiode;', 
					100, 70, '', 'Photodiode', null, null, this.getTagsForStencil(gnmeoe, 'photodiode', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'photo_resistor_1;', 
					100, 90, '', 'Photo Resistor', null, null, this.getTagsForStencil(gnmeoe, 'photo_resistor_1', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'photo_resistor_2;', 
					100, 50, '', 'Photo Resistor', null, null, this.getTagsForStencil(gnmeoe, 'photo_resistor_2', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'photo_resistor_3;', 
					100, 90, '', 'Photo Resistor', null, null, this.getTagsForStencil(gnmeoe, 'photo_resistor_3', dtmeoe).join(' ')),
			this.createVertexTemplateEntry(meoe + 'solar_cell;', 
					100, 70, '', 'Solar Cell', null, null, this.getTagsForStencil(gnmeoe, 'solar_cell', dtmeoe).join(' '))
		]);

		this.addPaletteFunctions('electrical\VacuumTubes', 'Electrical / Vacuum Tubes', false,
		[
			this.createVertexTemplateEntry(metd + 'diode;', 
					70, 77, '', 'Diode', null, null, this.getTagsForStencil(gnmetd, 'diode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'double_diode;', 
					70, 77, '', 'Double Diode', null, null, this.getTagsForStencil(gnmetd, 'double_diode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'triode;', 
					70, 77, '', 'Triode', null, null, this.getTagsForStencil(gnmetd, 'triode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'double_triode;', 
					70, 77, '', 'Double Triode', null, null, this.getTagsForStencil(gnmetd, 'double_triode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'tetrode;', 
					70, 77, '', 'Tetrode', null, null, this.getTagsForStencil(gnmetd, 'tetrode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'pentode;', 
					70, 77, '', 'Pentode', null, null, this.getTagsForStencil(gnmetd, 'pentode', dtmetd).join(' ')),
			this.createVertexTemplateEntry(metd + 'photocell;', 
					70, 87, '', 'Photocell', null, null, this.getTagsForStencil(gnmetd, 'photocell', dtmetd).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\Waveforms', 'Electrical / Waveforms', false,
		[
			this.createVertexTemplateEntry(mew + 'pulse_1;', 
					90, 90, '', 'Pulse', null, null, this.getTagsForStencil(gnmew, 'pulse_1', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'pulse_2;', 
					90, 90, '', 'Pulse', null, null, this.getTagsForStencil(gnmew, 'pulse_2', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'sawtooth;', 
					90, 40, '', 'Sawtooth', null, null, this.getTagsForStencil(gnmew, 'sawtooth', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'sine_wave;', 
					90, 66.18, '', 'Sine Wave', null, null, this.getTagsForStencil(gnmew, 'sine_wave', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'slow_square_wave;', 
					90, 80, '', 'Chopped Square Wave', null, null, this.getTagsForStencil(gnmew, 'slow_square_wave', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'square_wave;', 
					90, 80, '', 'square_wave', null, null, this.getTagsForStencil(gnmew, 'square_wave', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'step_1;', 
					90, 90, '', 'Step', null, null, this.getTagsForStencil(gnmew, 'step_1', dtmew).join(' ')),
			this.createVertexTemplateEntry(mew + 'step_2;', 
					90, 90, '', 'Step', null, null, this.getTagsForStencil(gnmew, 'step_2', dtmew).join(' '))
		]);
		
		this.addPaletteFunctions('electrical\RotMech', 'Electrical / Rotating Equipment & Mechanical Functions', false,
		[
			this.createVertexTemplateEntry('verticalLabelPosition=middle;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;verticalAlign=middle;strokeWidth=1;shape=ellipse;fontSize=32;fontColor=#000000;perimeter=ellipsePerimeter;', 
					100, 100, 'M', 'Rotating Machine', null, null, this.getTagsForStencil(gnmerm, 'rotating machine', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'armature;', 
					100, 100, '', 'Armature', null, null, this.getTagsForStencil(gnmerm, 'armature', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'field;', 
					90, 15, '', 'Field', null, null, this.getTagsForStencil(gnmerm, 'field', dtmerm).join(' ')),
			this.createVertexTemplateEntry(mem + 'permanent_magnet;', 
					20, 70, '', 'Permanent Magnet', null, null, this.getTagsForStencil(gnmerm, 'permanent magnet', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'winding_connection;', 
					100, 100, '', 'Winding Connection', null, null, this.getTagsForStencil(gnmerm, 'winding connection', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'synchro;', 
					80, 100, '', 'Synchro', null, null, this.getTagsForStencil(gnmerm, 'synchro', dtmerm).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;html=1;verticalAlign=top;strokeWidth=1;shape=trapezoid;perimeter=none;', 
					75, 25, '', 'Brake', null, null, this.getTagsForStencil(gnmerm, 'brake', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'gearing;', 
					100, 64, '', 'Gearing', null, null, this.getTagsForStencil(gnmerm, 'gearing', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=mxgraph.electrical.rot_mech.rotation;', 
					69, 54, '', 'Rotation', null, null, this.getTagsForStencil(gnmerm, 'rotation', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'clutch;', 
					100, 20, '', 'Clutch', null, null, this.getTagsForStencil(gnmerm, 'clutch', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'clutch_2;', 
					90, 60, '', 'Clutch', null, null, this.getTagsForStencil(gnmerm, 'clutch', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'delayed_action;', 
					72, 50, '', 'Delayed Action', null, null, this.getTagsForStencil(gnmerm, 'delayed action', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'manual_control;', 
					50, 50, '', 'Manual Control', null, null, this.getTagsForStencil(gnmerm, 'manual control', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'blocking_device;', 
					100, 15, '', 'Blocking Device', null, null, this.getTagsForStencil(gnmerm, 'blocking device', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'latching_device;', 
					100, 22, '', 'Latching Device', null, null, this.getTagsForStencil(gnmerm, 'latching device', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'mechanical_interlock;', 
					100, 30, '', 'Mechanical Interlock', null, null, this.getTagsForStencil(gnmerm, 'mechanical interlock', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'automatic_return;', 
					100, 12, '', 'Automatic Return', null, null, this.getTagsForStencil(gnmerm, 'automatic_return', dtmerm).join(' ')),
			this.createVertexTemplateEntry(merm + 'detent;', 
					100, 8, '', 'Detent', null, null, this.getTagsForStencil(gnmerm, 'detent', dtmerm).join(' '))
		]);
		
		var sb = this;
		
		var fns =
		[
			this.createVertexTemplateEntry(metr + 'bus_width;', 
					130, 156, '', 'Bus Width', null, null, this.getTagsForStencil(gnmetr, 'bus width', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'line_concentrator;', 
					130, 130, '', 'Line Concentrator', null, null, this.getTagsForStencil(gnmetr, 'line concentrator', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'cable_group;', 
					130, 130, '', 'Cable Group', null, null, this.getTagsForStencil(gnmetr, 'cable group', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'overground_enclosure;', 
					130, 136, '', 'Overground Enclosure', null, null, this.getTagsForStencil(gnmetr, 'overground enclosure', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'optical_fiber;', 
					130, 80, '', 'Optical Fiber', null, null, this.getTagsForStencil(gnmetr, 'optical fiber', dtmetr).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=bottom;shadow=0;dashed=0;align=center;fillColor=#ffffff;strokeColor=#000000;html=1;verticalAlign=top;strokeWidth=1;shape=ellipse;', 
					10, 10, '', 'Terminal', null, null, this.getTagsForStencil(gnmetr, 'terminal', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'terminal_3_phase;', 
					43, 10, '', 'Terminal 3 Phase', null, null, this.getTagsForStencil(gnmetr, 'Terminal 3 Phase', dtmetr).join(' ')),
			this.createVertexTemplateEntry('verticalLabelPosition=middle;shadow=0;dashed=0;align=center;fillColor=#ffffff;strokeColor=#000000;html=1;verticalAlign=middle;strokeWidth=1;shape=ellipse;fontColor=#000000;fontSize=50;fontStyle=1;perimeter=ellipsePerimeter;', 
					130, 130, 'T', 'Terminal', null, null, this.getTagsForStencil(gnmetr, 'terminal', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'line_cable;', 
					130, 60, '', 'Line/Cable', null, null, this.getTagsForStencil(gnmetr, 'line cable', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'anticreepage_device;', 
					130, 88, '', 'Anticreepage Device', null, null, this.getTagsForStencil(gnmetr, 'anticreepage device', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'testPoint;', 
					60, 130, '', 'Test Point', null, null, this.getTagsForStencil(gnmetr, 'test point', dtmetr).join(' ')),
			this.createEdgeTemplateEntry('endArrow=none;html=1;strokeColor=#000000;strokeWidth=1;',
					100, 0, '', 'Transmission Path', null, this.getTagsForStencil(gnmess, '', 'transmission path').join(' ')),
			this.createEdgeTemplateEntry('endArrow=classicThin;html=1;strokeColor=#000000;strokeWidth=1;endSize=20;',
					100, 0, '', 'Direction of Flow', null, this.getTagsForStencil(gnmess, '', 'direction flow').join(' ')),
			this.createVertexTemplateEntry(metr + 'straightBus;', 
					90, 130, '', 'Straight Bus', null, null, this.getTagsForStencil(gnmetr, 'straight bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry('html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.bendArrow;dy=15;dx=38;notch=0;arrowHead=55;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;', 
					130, 130, '', 'Elbow Bus', null, null, this.getTagsForStencil(gnmetr, 'elbow bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry('html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.bendArrow;dy=15;dx=38;notch=0;arrowHead=55;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;flipH=1;', 
					130, 130, '', 'Elbow Bus', null, null, this.getTagsForStencil(gnmetr, 'elbow bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + '2_line_bus;', 
					130, 25, '', '2-Line Bus', null, null, this.getTagsForStencil(gnmetr, '2 two line bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + '3_line_bus;', 
					130, 30, '', '3-Line Bus', null, null, this.getTagsForStencil(gnmetr, '3 three line bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + '4_line_bus;', 
					130, 75, '', '4-Line Bus', null, null, this.getTagsForStencil(gnmetr, '3 three line bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + '8_line_bus;', 
					130, 180, '', '8-Line Bus', null, null, this.getTagsForStencil(gnmetr, '3 three line bus', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'twoLineBusElbow;notch=25;', 
					120, 120, '', '2-Line Bus Elbow', null, null, this.getTagsForStencil(gnmetr, '2 two line bus elbow', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'threeLineBusElbow;notch=30;', 
					120, 120, '', '3-Line Bus Elbow', null, null, this.getTagsForStencil(gnmetr, '3 two line bus elbow', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'fourLineBusElbow;notch=75;', 
					120, 120, '', '4-Line Bus Elbow', null, null, this.getTagsForStencil(gnmetr, '4 two line bus elbow', dtmetr).join(' ')),
			this.createVertexTemplateEntry(metr + 'eightLineBusElbow;notch=180;', 
					200, 200, '', '8-Line Bus Elbow', null, null, this.getTagsForStencil(gnmetr, '8 two line bus elbow', dtmetr).join(' '))
		];

		this.addPalette('electrical\Transmission', 'Electrical / Transmission Paths', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
})();

(function()
{
	// Adds Floorplan shapes
	Sidebar.prototype.addFloorplanPalette = function()
	{
		var w = 100;
		var h = 100;
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;align=center;' + mxConstants.STYLE_STROKEWIDTH + '=1;shape=mxgraph.floorplan.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;align=center;' + mxConstants.STYLE_STROKEWIDTH + '=1;shape=mxgraph.floorplan.';
		var gn = 'mxgraph.floorplan';
		var dt = 'floorplan ';

		var fns =
			[
			this.createVertexTemplateEntry(s + 'wall;fillColor=#000000;', 
					w, 10, '', 'Wall (Horizontal)', null, null, this.getTagsForStencil(gn, 'wall', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wall;fillColor=#000000;direction=south;', 
					10, h, '', 'Wall (Vertical)', null, null, this.getTagsForStencil(gn, 'wall', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallCorner;fillColor=#000000;', 
					w, h, '', 'Wall (Corner NW)', null, null, this.getTagsForStencil(gn, 'wallCorner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallCorner;fillColor=#000000;direction=south;', 
					w, h, '', 'Wall (Corner NE)', null, null, this.getTagsForStencil(gn, 'wallCorner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallCorner;fillColor=#000000;direction=west', 
					w, h, '', 'Wall (Corner SE)', null, null, this.getTagsForStencil(gn, 'wallCorner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallCorner;fillColor=#000000;direction=north', 
					w, h, '', 'Wall (Corner SW)', null, null, this.getTagsForStencil(gn, 'wallCorner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallU;fillColor=#000000;', 
					w, h, '', 'Wall (U)', null, null, this.getTagsForStencil(gn, 'wallU', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'room;fillColor=#000000;', 
					w, h, '', 'Room', null, null, this.getTagsForStencil(gn, 'room', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'window;fillColor=#ffffff;', 
					w, 10, '', 'Window', null, null, this.getTagsForStencil(gn, 'window', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dimension;verticalAlign=top;', 
					w * 2, 40, '100', 'Dimension', null, null, this.getTagsForStencil(gn, 'dimension', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dimensionBottom;verticalAlign=bottom;', 
					w * 2, 40, '100', 'Dimension', null, null, this.getTagsForStencil(gn, 'dimensionBottom', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stairs;', 
					300, 100, '', 'Stairs', null, null, this.getTagsForStencil(gn, 'stairs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stairs;direction=south;', 
					100, 300, '', 'Stairs', null, null, this.getTagsForStencil(gn, 'stairs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stairsRest;', 
					300, 200, '', 'Stairs', null, null, this.getTagsForStencil(gn, 'stairsRest', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'doorLeft;', 
					80, 85, '', 'Door', null, null, this.getTagsForStencil(gn, 'doorLeft', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'doorRight;', 
					80, 85, '', 'Door', null, null, this.getTagsForStencil(gn, 'doorRight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'doorDouble;', 
					160, 85, '', 'Door, Double', null, null, this.getTagsForStencil(gn, 'doorDouble', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bathtub;', 
					180, 60, '', 'Bathtub', null, null, this.getTagsForStencil(gn, 'bathtub', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bed_double;', 
					200, 180, '', 'Bed, Double', null, null, this.getTagsForStencil(gn, 'bed_double', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bed_single;', 
					100, 180, '', 'Bed Single', null, null, this.getTagsForStencil(gn, 'bed_single', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bookcase;', 
					120, 30, '', 'Bookcase', null, null, this.getTagsForStencil(gn, 'bookcase', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'chair;', 
					41, 52, '', 'Chair', null, null, this.getTagsForStencil(gn, 'chair', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'copier;', 
					110, 60, '', 'Copier', null, null, this.getTagsForStencil(gn, 'copier', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'couch;', 
					150, 80, '', 'Couch', null, null, this.getTagsForStencil(gn, 'couch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'crt_tv;', 
					60, 40, '', 'CRT TV', null, null, this.getTagsForStencil(gn, 'crt_tv', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'desk_corner;', 
					150, 150, '', 'Desk Corner', null, null, this.getTagsForStencil(gn, 'desk_corner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'desk_corner_2;', 
					150, 120, '', 'Desk Corner 2', null, null, this.getTagsForStencil(gn, 'desk_corner_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dresser;', 
					100, 65, '', 'Dresser', null, null, this.getTagsForStencil(gn, 'dresser', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'elevator;', 
					100, 100, '', 'Elevator', null, null, this.getTagsForStencil(gn, 'elevator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'fireplace;', 
					304, 200, '', 'Fireplace', null, null, this.getTagsForStencil(gn, 'fireplace', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flat_tv;', 
					70, 10, '', 'Flat TV', null, null, this.getTagsForStencil(gn, 'flat_tv', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'floor_lamp;', 
					50, 50, '', 'Floor Lamp', null, null, this.getTagsForStencil(gn, 'floor_lamp', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop;', 
					40, 35, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'office_chair;', 
					40, 43, '', 'Office Chair', null, null, this.getTagsForStencil(gn, 'office_chair', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'piano;', 
					135, 143, '', 'Piano', null, null, this.getTagsForStencil(gn, 'piano', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'plant;', 
					47, 51, '', 'Plant', null, null, this.getTagsForStencil(gn, 'plant', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'printer;', 
					40, 47, '', 'Printer', null, null, this.getTagsForStencil(gn, 'printer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'range_1;', 
					50, 62, '', 'Range 1', null, null, this.getTagsForStencil(gn, 'range_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'range_2;', 
					75, 62, '', 'Range 2', null, null, this.getTagsForStencil(gn, 'range_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'refrigerator;', 
					60, 62, '', 'Refrigerator', null, null, this.getTagsForStencil(gn, 'refrigerator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'shower;', 
					100, 100, '', 'Shower', null, null, this.getTagsForStencil(gn, 'shower', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sink_1;', 
					40, 35, '', 'Sink 1', null, null, this.getTagsForStencil(gn, 'sink_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sink_2;', 
					40, 35, '', 'Sink 2', null, null, this.getTagsForStencil(gn, 'sink_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sink_double;', 
					80, 35, '', 'Sink Double', null, null, this.getTagsForStencil(gn, 'sink_double', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sofa;', 
					90, 80, '', 'Sofa', null, null, this.getTagsForStencil(gn, 'sofa', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'spiral_stairs;', 
					200, 200, '', 'Spiral Stairs', null, null, this.getTagsForStencil(gn, 'spiral_stairs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'table;', 
					90, 50, '', 'Table', null, null, this.getTagsForStencil(gn, 'table', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'toilet;', 
					50, 67, '', 'Toilet', null, null, this.getTagsForStencil(gn, 'toilet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'water_cooler;', 
					40, 40, '', 'Water Cooler', null, null, this.getTagsForStencil(gn, 'water_cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workstation;', 
					50, 40, '', 'Workstation', null, null, this.getTagsForStencil(gn, 'workstation', dt).join(' ')),
					
			this.addEntry(dt + 'kitchen table small', function()
			{
			   	var table = new mxCell('', new mxGeometry(0, 20, 80, 80), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(20, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(20, 68, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;rotation=180;');
			   	chair2.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, table], 80, 120, 'Small kitchen table');
			}),
					
			this.addEntry(dt + 'kitchen table', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 100, 100), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(88, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, table], 140, 140, 'Kitchen table');
			}),
			
			this.addEntry(dt + 'kitchen table', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 100, 100), 'shape=ellipse;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(88, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, table], 140, 140, 'Round kitchen table');
			}),
			
			this.addEntry(dt + 'kitchen table large', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 160, 100), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(148, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, table], 200, 140, 'Large kitchen table');
			}),
			
			this.addEntry(dt + 'kitchen table large', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 160, 100), 'shape=ellipse;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(148, 50, 52, 40), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 88, 40, 52), s + 'chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, table], 200, 140, 'Large kitchen table');
			}),
			
			this.addEntry(dt + 'office table', function()
			{
			   	var table = new mxCell('', new mxGeometry(0, 20, 80, 50), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(20, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var item1 = new mxCell('', new mxGeometry(15, 30, 50, 40), s + 'workstation;fillColor=#ffffff;strokeColor=#000000;shadow=0;flipV=1;');
			   	item1.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, table, item1], 80, 70, 'Office table');
			}),
					
			this.addEntry(dt + 'office table', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 100, 100), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(97, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, table], 140, 140, 'Office table');
			}),
			
			this.addEntry(dt + 'office table large', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 160, 100), 'shape=rect;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(157, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, table], 200, 140, 'Large office table');
			}),
					
			this.addEntry(dt + 'office table large', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 160, 100), 'shape=ellipse;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(157, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, table], 200, 140, 'Large office table');
			}),

			this.addEntry(dt + 'office table large', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 280, 100), 'shape=ellipse;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(277, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;
			   	var chair7 = new mxCell('', new mxGeometry(170, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair7.vertex = true;
			   	var chair8 = new mxCell('', new mxGeometry(170, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair8.vertex = true;
			   	var chair9 = new mxCell('', new mxGeometry(230, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair9.vertex = true;
			   	var chair10 = new mxCell('', new mxGeometry(230, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair10.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, chair7, chair8, chair9, chair10, table], 320, 140, 'Large office table');
			}),

			this.addEntry(dt + 'office table conference large huge', function()
			{
			   	var table = new mxCell('', new mxGeometry(20, 20, 520, 100), 'shape=ellipse;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	table.vertex = true;
			   	var chair1 = new mxCell('', new mxGeometry(50, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair1.vertex = true;
			   	var chair2 = new mxCell('', new mxGeometry(50, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair2.vertex = true;
			   	var chair3 = new mxCell('', new mxGeometry(0, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=north;');
			   	chair3.vertex = true;
			   	var chair4 = new mxCell('', new mxGeometry(517, 50, 43, 40), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=south');
			   	chair4.vertex = true;
			   	var chair5 = new mxCell('', new mxGeometry(110, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair5.vertex = true;
			   	var chair6 = new mxCell('', new mxGeometry(110, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair6.vertex = true;
			   	var chair7 = new mxCell('', new mxGeometry(170, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair7.vertex = true;
			   	var chair8 = new mxCell('', new mxGeometry(170, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair8.vertex = true;
			   	var chair9 = new mxCell('', new mxGeometry(230, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair9.vertex = true;
			   	var chair10 = new mxCell('', new mxGeometry(230, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair10.vertex = true;
			   	var chair11 = new mxCell('', new mxGeometry(290, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair11.vertex = true;
			   	var chair12 = new mxCell('', new mxGeometry(290, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair12.vertex = true;
			   	var chair13 = new mxCell('', new mxGeometry(350, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair13.vertex = true;
			   	var chair14 = new mxCell('', new mxGeometry(350, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair14.vertex = true;
			   	var chair15 = new mxCell('', new mxGeometry(410, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair15.vertex = true;
			   	var chair16 = new mxCell('', new mxGeometry(410, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair16.vertex = true;
			   	var chair17 = new mxCell('', new mxGeometry(470, 0, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;');
			   	chair17.vertex = true;
			   	var chair18 = new mxCell('', new mxGeometry(470, 97, 40, 43), s + 'office_chair;fillColor=#ffffff;strokeColor=#000000;shadow=0;direction=west;');
			   	chair18.vertex = true;

	   			return sb.createVertexTemplateFromCells([chair1, chair2, chair3, chair4, chair5, chair6, chair7, chair8, chair9, chair10, chair11, chair12, chair13, chair14, chair15, chair16, chair17, chair18, table], 560, 140, 'Conference table');
			})
		];

		this.addPalette('floorplan', mxResources.get('floorplans'), false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	Sidebar.prototype.addFlowchartPalette = function()
	{
		var w = 100;
		var h = 100;
		var s = 'strokeWidth=2;html=1;shape=mxgraph.flowchart.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;strokeWidth=2;shape=mxgraph.flowchart.';
		var gn = 'mxgraph.flowchart';
		var dt = '';
		
		this.addPaletteFunctions('flowchart', mxResources.get('flowchart'), false,
		[
			this.createVertexTemplateEntry(s + 'annotation_1;align=left;', w * 0.5, h, '', 'Annotation', null, null, this.getTagsForStencil(gn, 'annotation_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'annotation_2;align=left;', w * 0.5, h, '', 'Annotation', null, null, this.getTagsForStencil(gn, 'annotation_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'card;whiteSpace=wrap;', w, h * 0.6, '', 'Card', null, null, this.getTagsForStencil(gn, 'card', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'collate;', w, h, '', 'Collate', null, null, this.getTagsForStencil(gn, 'collate', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'data;whiteSpace=wrap;', w, h * 0.6, '', 'Data', null, null, this.getTagsForStencil(gn, 'data', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;whiteSpace=wrap;', w * 0.6, h * 0.6, '', 'Database', null, null, this.getTagsForStencil(gn, 'database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'decision;whiteSpace=wrap;', w, h, '', 'Decision', null, null, this.getTagsForStencil(gn, 'decision', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'delay;whiteSpace=wrap;', w, h * 0.6, '', 'Delay', null, null, this.getTagsForStencil(gn, 'delay', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'direct_data;whiteSpace=wrap;', w, h * 0.6, '', 'Direct Data', null, null, this.getTagsForStencil(gn, 'direct_data', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'display;whiteSpace=wrap;', w, h * 0.6, '', 'Display', null, null, this.getTagsForStencil(gn, 'display', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document;whiteSpace=wrap;', w, h * 0.6, '', 'Document', null, null, this.getTagsForStencil(gn, 'document', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'extract_or_measurement;whiteSpace=wrap;', w * 0.95, h * 0.6, '', 'Extract or Measurement', null, null, this.getTagsForStencil(gn, 'extract_or_measurement', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'internal_storage;whiteSpace=wrap;', w * 0.7, h * 0.7, '', 'Internal Storage', null, null, this.getTagsForStencil(gn, 'internal_storage', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'loop_limit;whiteSpace=wrap;', w, h * 0.6, '', 'Loop Limit', null, null, this.getTagsForStencil(gn, 'loop_limit', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'manual_input;whiteSpace=wrap;', w, h * 0.6, '', 'Manual Input', null, null, this.getTagsForStencil(gn, 'manual_input', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'manual_operation;whiteSpace=wrap;', w, h * 0.6, '', 'Manual Operation', null, null, this.getTagsForStencil(gn, 'manual_operation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'merge_or_storage;whiteSpace=wrap;', w * 0.95, h * 0.6, '', 'Merge or Storage', null, null, this.getTagsForStencil(gn, 'merge_or_storage', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'multi-document;whiteSpace=wrap;', w * 0.88, h * 0.6, '', 'Multi-Document', null, null, this.getTagsForStencil(gn, 'multi-document', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'off-page_reference;', w * 0.6, h * 0.6, '', 'Off-Page Reference', null, null, this.getTagsForStencil(gn, 'off-page_reference', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'on-page_reference;', w * 0.6, h * 0.6, '', 'On-Page Reference', null, null, this.getTagsForStencil(gn, 'on-page_reference', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'summing_function;', w * 0.7, h * 0.7, '', 'Or', null, null, this.getTagsForStencil(gn, 'summing_function', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'paper_tape;whiteSpace=wrap;', w, h * 0.65, '', 'Paper Tape', null, null, this.getTagsForStencil(gn, 'paper_tape', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'parallel_mode;', w * 0.95, h * 0.4, '', 'Parallel Mode', null, null, this.getTagsForStencil(gn, 'parallel_mode', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'predefined_process;whiteSpace=wrap;', w, h * 0.6, '', 'Predefined Process', null, null, this.getTagsForStencil(gn, 'predefined_process', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'preparation;whiteSpace=wrap;', w, h * 0.6, '', 'Preparation', null, null, this.getTagsForStencil(gn, 'preparation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'process;whiteSpace=wrap;', w, h, '', 'Process', null, null, this.getTagsForStencil(gn, 'process', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sequential_data;whiteSpace=wrap;', w, h, '', 'Sequential Data', null, null, this.getTagsForStencil(gn, 'sequential_data', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sort;', w, h, '', 'Sort', null, null, this.getTagsForStencil(gn, 'sort', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'start_1;whiteSpace=wrap;', w, h * 0.6, '', 'Start', null, null, this.getTagsForStencil(gn, 'start_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'start_2;whiteSpace=wrap;', w, h, '', 'Start', null, null, this.getTagsForStencil(gn, 'start_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stored_data;whiteSpace=wrap;', w, h * 0.6, '', 'Stored Data', null, null, this.getTagsForStencil(gn, 'stored_data', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'or;', w * 0.7, h * 0.7, '', 'Summing Junction', null, null, this.getTagsForStencil(gn, 'or', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'terminator;whiteSpace=wrap;', w, h * 0.6, '', 'Terminator', null, null, this.getTagsForStencil(gn, 'terminator', dt).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;strokeWidth=2;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;', w, h * 0.7, '', 'Transfer', null, null, this.getTagsForStencil(gn, 'transfer', dt).join(' '))
		]);
};
		
})();

(function()
{
	// Adds GCP (Google Cloud Platform) shapes
	Sidebar.prototype.addGoogleCloudPlatformCardsPalette = function()
	{
		var sb = this;
		var n = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + '=mxgraph.gcp.compute.';
		var n1 = 'dashed=0;html=1;strokeColor=#dddddd;fillcolor=#ffffff;gradientColor=none;shadow=1;strokeWidth=1;';
		var gn = 'mxgraph.gcp.product_cards';
		var dt = 'gcp google cloud platform card';
		var s = 0.3; //scale

		var fns =
		[
			this.addEntry(dt + 'product', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 170, 55), n1);
			   	bg.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 10);
			   	bg.insert(icon);
			   	var text1 = new mxCell('Compute Engine', new mxGeometry(0, 0.5, 110, 20), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(60, -12);
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Product Card');
			}),

			this.addEntry(dt + 'product', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 190, 55), n1);
			   	bg.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 10);
			   	bg.insert(icon);
			   	var text1 = new mxCell('Analytics Backend', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(60, -20);
			   	bg.insert(text1);
			   	var text2 = new mxCell('Compute Engine', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text2.vertex = true;
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(60, 0);
			   	bg.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Product Card');
			}),

			this.addEntry(dt + 'product', function()
			{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 190, 55), n1);
			   	bg1.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 10);
			   	bg1.insert(icon);
			   	var text1 = new mxCell('Analytics Backend', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(60, -20);
			   	bg1.insert(text1);
			   	var text2 = new mxCell('Compute Engine', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text2.vertex = true;
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(60, 0);
			   	bg1.insert(text2);

			   	var bg2 = new mxCell('', new mxGeometry(0, 55, 190, 55), n1);
			   	bg2.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 10);
			   	bg2.insert(icon);
			   	var text1 = new mxCell('Analytics Backend', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(60, -20);
			   	bg2.insert(text1);
			   	var text2 = new mxCell('Compute Engine', new mxGeometry(0, 0.5, 130, 20), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text2.vertex = true;
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(60, 0);
			   	bg2.insert(text2);

	   			return sb.createVertexTemplateFromCells([bg1, bg2], bg1.geometry.width, bg1.geometry.height * 2, 'Product Card');
			}),

			this.addEntry(dt + 'expanded product', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 190, 80), n1);
			   	bg.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 10);
			   	bg.insert(icon);
			   	var text1 = new mxCell('Batch Processing', new mxGeometry(0, 0, 130, 20), 'text;fontSize=13;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(60, 8);
			   	bg.insert(text1);
			   	var text2 = new mxCell('Compute Engine', new mxGeometry(0, 0, 130, 20), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text2.vertex = true;
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(60, 28);
			   	bg.insert(text2);
			   	var part = new mxCell('', new mxGeometry(0, 0, 130, 10), 'shape=line;strokeColor=#dddddd;');
			   	part.vertex = true;
			   	part.geometry.relative = true;
			   	part.geometry.offset = new mxPoint(60, 48);
			   	bg.insert(part);
			   	var text3 = new mxCell('Multiple Instances', new mxGeometry(0, 0, 130, 20), 'text;fontSize=12;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text3.vertex = true;
			   	text3.geometry.relative = true;
			   	text3.geometry.offset = new mxPoint(60, 58);
			   	bg.insert(text3);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Expanded Product Card');
			}),
			
			this.addEntry(dt + 'expanded product', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 100), n1);
			   	bg.vertex = true;
			   	var icon1 = new mxCell('', new mxGeometry(0, 0, s * 65, s * 58), n + 'compute_engine;fillColor=#757575;gradientColor=none;strokeColor=none;');
			   	icon1.vertex = true;
			   	icon1.geometry.relative = true;
			   	icon1.geometry.offset = new mxPoint(10, 10);
			   	bg.insert(icon1);
			   	var text1 = new mxCell('Compute Engine', new mxGeometry(0, 0, 110, 20), 'text;fontSize=13;fontColor=#444444;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(40, 8);
			   	bg.insert(text1);
			   	var part = new mxCell('', new mxGeometry(0, 0, 110, 10), 'shape=line;strokeColor=#dddddd;');
			   	part.vertex = true;
			   	part.geometry.relative = true;
			   	part.geometry.offset = new mxPoint(40, 28);
			   	bg.insert(part);
			   	var text2 = new mxCell('10GB PD', new mxGeometry(0, 0, 110, 20), 'text;fontSize=12;fontColor=#888888;align=left;verticalAlign=middle;');
			   	text2.vertex = true;
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(40, 38);
			   	bg.insert(text2);
			   	var icon2 = new mxCell('', new mxGeometry(0, 0, 17, 17), 'dashed=0;html=1;shape=mxgraph.gcp.product_cards.standard_machine;fillColor=#757575;gradientColor=none;strokeColor=none;');
			   	icon2.vertex = true;
			   	icon2.geometry.relative = true;
			   	icon2.geometry.offset = new mxPoint(30, 60);
			   	bg.insert(icon2);
			   	var icon3 = new mxCell('', new mxGeometry(0, 0, 17, 17), 'dashed=0;html=1;shape=mxgraph.gcp.product_cards.disk;fillColor=#757575;gradientColor=none;strokeColor=none;');
			   	icon3.vertex = true;
			   	icon3.geometry.relative = true;
			   	icon3.geometry.offset = new mxPoint(70, 60);
			   	bg.insert(icon3);
			   	var icon4 = new mxCell('', new mxGeometry(0, 0, 17, 17), 'dashed=0;html=1;shape=mxgraph.gcp.product_cards.close;fillColor=#757575;gradientColor=none;strokeColor=none;');
			   	icon4.vertex = true;
			   	icon4.geometry.relative = true;
			   	icon4.geometry.offset = new mxPoint(110, 60);
			   	bg.insert(icon4);
			   	var icon5 = new mxCell('4', new mxGeometry(0, 0, 14, 14), 'dashed=0;html=1;ellipse;fillColor=#3979F1;gradientColor=none;strokeColor=none;fontColor=#FFFFFF;fontSize=10;verticalAlign=middle;spacing=0;spacingBottom=1;');
			   	icon5.vertex = true;
			   	icon5.geometry.relative = true;
			   	icon5.geometry.offset = new mxPoint(22, 68);
			   	bg.insert(icon5);
			   	var icon6 = new mxCell('2', new mxGeometry(0, 0, 14, 14), 'dashed=0;html=1;ellipse;fillColor=#3979F1;gradientColor=none;strokeColor=none;fontColor=#FFFFFF;fontSize=10;verticalAlign=middle;spacing=0;spacingBottom=1;');
			   	icon6.vertex = true;
			   	icon6.geometry.relative = true;
			   	icon6.geometry.offset = new mxPoint(42, 68);
			   	bg.insert(icon6);
			   	var icon7 = new mxCell('1', new mxGeometry(0, 0, 14, 14), 'dashed=0;html=1;ellipse;fillColor=#3979F1;gradientColor=none;strokeColor=none;fontColor=#FFFFFF;fontSize=10;verticalAlign=middle;spacing=0;spacingBottom=1;');
			   	icon7.vertex = true;
			   	icon7.geometry.relative = true;
			   	icon7.geometry.offset = new mxPoint(82, 68);
			   	bg.insert(icon7);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Expanded Product Card');
			}),
			
			this.addEntry(dt + 'service', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 110, 50), n1);
			   	bg.vertex = true;
			   	var icon = new mxCell('', new mxGeometry(0, 0, s * 129, s * 115), n + 'compute_engine;fillColor=#757575;gradientColor=none;strokeColor=none;');
			   	icon.vertex = true;
			   	icon.geometry.relative = true;
			   	icon.geometry.offset = new mxPoint(10, 8);
			   	bg.insert(icon);
			   	var text1 = new mxCell('Local\nCompute', new mxGeometry(0, 0, 60, 50), 'text;fontSize=13;fontColor=#808080;align=left;verticalAlign=middle;');
			   	text1.vertex = true;
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(50, 0);
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Service Card');
			})


		];

		this.addPalette('gcpCards', 'GCP / Cards', false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	//Adds Google Media Design shapes
	Sidebar.prototype.addGMDLBottomNavigationPalette = function(expand)
	{
		var s = "dashed=0;align=center;fontSize=12;shape=";
		var s2 = "dashed=0;html=1;shape=mxgraph.gmdl.";
		var anc = "shape=rect;fillColor=none;strokeColor=none;";
		var fac = 'shape=ellipse;dashed=0;fillColor=#ffffff;strokeColor=none;shadow=1;fontSize=13;fontColor=#000000;align=center;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;html=1;aspect=fixed;';
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library bottom navigation ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'bottom navigation', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 48), s + 'rect;fillColor=#ffffff;strokeColor=none;shadow=0;');
				bg.vertex = true;
				var text1 = new mxCell('Recents', new mxGeometry(0.15, 0.5, 20, 20), s2 + 'recents;fillColor=#808080;strokeColor=none;fontColor=#808080;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-6;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-10, -15);
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Favorites', new mxGeometry(0.5, 0.5, 20, 18), s2 + 'heart;fillColor=#00796B;strokeColor=none;fontColor=#00796B;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-5;');
				text2.geometry.offset = new mxPoint(-10, -14);
				text2.geometry.relative = true;
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('Nearby', new mxGeometry(0.85, 0.5, 20, 20), s2 + 'nearby;fillColor=#808080;strokeColor=none;fontColor=#808080;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-6;');
				text3.geometry.offset = new mxPoint(-10, -15);
				text3.geometry.relative = true;
				text3.vertex = true;
				bg.insert(text3);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Bottom Navigation');
			}),
			this.addEntry(dt + 'dropdown menu', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 48), s + 'rect;fillColor=#00796B;strokeColor=none;shadow=0;');
				bg.vertex = true;
				var text1 = new mxCell('', new mxGeometry(0.15, 0.5, 20, 16), s2 + 'video_2;fillColor=#ffffff;strokeColor=none;fontColor=#ffffff;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-6;opacity=60;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-10, -8);
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Music', new mxGeometry(0.38, 0.5, 14, 20), s2 + 'music;fillColor=#ffffff;strokeColor=none;fontColor=#ffffff;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-5;');
				text2.geometry.offset = new mxPoint(-10, -14);
				text2.geometry.relative = true;
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('', new mxGeometry(0.62, 0.5, 16, 20), s2 + 'book;fillColor=#ffffff;strokeColor=none;fontColor=#ffffff;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-6;opacity=60;');
				text3.geometry.offset = new mxPoint(-8, -10);
				text3.geometry.relative = true;
				text3.vertex = true;
				bg.insert(text3);
				var text4 = new mxCell('', new mxGeometry(0.85, 0.5, 20, 20), s2 + 'webpage;fillColor=#ffffff;strokeColor=none;fontColor=#ffffff;verticalAlign=top;spacingLeft=0;fontSize=10;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingBottom=0;spacingTop=-6;opacity=60;');
				text4.geometry.offset = new mxPoint(-10, -15);
				text4.geometry.relative = true;
				text4.vertex = true;
				bg.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Bottom Navigation');
			})
   		];
		  
		this.addPalette('gmdlBottom Navigation', 'GMDL / Bottom Navigation', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLBottomSheetsPalette = function(expand)
	{
		var s = "dashed=0;align=center;fontSize=12;shape=";
		var s2 = "dashed=0;html=1;shape=mxgraph.gmdl.";
		var anc = "shape=rect;fillColor=none;strokeColor=none;";
		var fac = 'shape=ellipse;dashed=0;fillColor=#ffffff;strokeColor=none;shadow=1;fontSize=13;fontColor=#000000;align=center;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;html=1;aspect=fixed;';
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library bottom sheets ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'bottom sheet', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 320), s + 'rect;fillColor=#ffffff;strokeColor=none;shadow=0;recursiveResize=0;');
				bg.vertex = true;
				var text1 = new mxCell('Open in', new mxGeometry(10, 15, 200, 20), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#808080;fontSize=14;');
				text1.vertex = true;
				bg.insert(text1);
				var icon1 = new mxCell('Keep', new mxGeometry(10, 60, 20, 20), 'shape=mxgraph.gmdl.keep;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
				icon1.vertex = true;
				bg.insert(icon1);
				var icon2 = new mxCell('Inbox', new mxGeometry(10, 110, 22, 20), 'shape=mxgraph.gmdl.inbox;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
				icon2.vertex = true;
				bg.insert(icon2);
				var icon3 = new mxCell('Hangouts', new mxGeometry(10, 160, 20, 22), 'shape=mxgraph.gmdl.hangout;strokeColor=none;fillColor=#0F9755;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
				icon3.vertex = true;
				bg.insert(icon3);
				var icon4 = new mxCell('Messenger', new mxGeometry(10, 210, 22, 20), 'shape=mxgraph.gmdl.messenger;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
				icon4.vertex = true;
				bg.insert(icon4);
				var icon5 = new mxCell('Google+', new mxGeometry(10, 260, 20, 20), 'shape=mxgraph.gmdl.google_plus;strokeColor=none;fillColor=#D14235;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
				icon5.vertex = true;
				bg.insert(icon5);
				
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Bottom Sheet');
			}),
			this.addEntry(dt + 'grid style options', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'edit;strokeColor=none;fillColor=#ffffff;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-20, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar8 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 81);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 20, 24), s2 + 'telephone;strokeColor=none;fillColor=#3F51B5;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(25, -12);
				icon12.vertex = true;
				bar8.insert(icon12);
				var text8 = new mxCell('(650) 555-1234', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar8.insert(text8);
				var text9 = new mxCell('Mobile', new mxGeometry(0, 0.5, 150, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar8.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar8.insert(icon13);
				var bar9 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 146);
				bar9.vertex = true;
				bg1.insert(bar9);
				var text8 = new mxCell('(323) 555-6789', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar9.insert(text8);
				var text9 = new mxCell('Work', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar9.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('', new mxGeometry(0, 0, 358, 20), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 211);
				bar10.vertex = true;
				bg1.insert(bar10);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0.5, 286, 10), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, -5);
				line1.vertex = true;
				bar10.insert(line1);
				var bar11 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 231);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'mail;strokeColor=#ffffff;fillColor=#3F51B5;strokeWidth=2;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(24, -8);
				icon12.vertex = true;
				bar11.insert(icon12);
				var text10 = new mxCell('aliconnors@example.com', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, -21);
				text10.vertex = true;
				bar11.insert(text10);
				var text11 = new mxCell('Personal', new mxGeometry(0, 0.5, 150, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text11.geometry.relative = true;
				text11.vertex = true;
				bar11.insert(text11);
				var bar12 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, 296);
				bar12.vertex = true;
				bg1.insert(bar12);
				var text12 = new mxCell('ali_connors@example.com', new mxGeometry(0, 0.5, 150, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, -21);
				text12.vertex = true;
				bar12.insert(text12);
				var text13 = new mxCell('Work', new mxGeometry(0, 0.5, 150, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text13.geometry.relative = true;
				text13.vertex = true;
				bar12.insert(text13);
				var line2 = new mxCell('', new mxGeometry(0, 0, 358, 10), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line2.geometry.relative = true;
				line2.geometry.offset = new mxPoint(0, 356);
				line2.vertex = true;
				bg1.insert(line2);
				var icon13 = new mxCell('Gmail', new mxGeometry(0.148, 0, 46, 34), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.gmail;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=6;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-23, 392);
				icon13.vertex = true;
				bg1.insert(icon13);
				var icon14 = new mxCell('Hangout', new mxGeometry(0.5, 0, 40, 46), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.hangout;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;fillColor=#19A05E;strokeColor=none;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-20, 386);
				icon14.vertex = true;
				bg1.insert(icon14);
				var icon15 = new mxCell('Google+', new mxGeometry(0.8547, 0, 46, 46), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.google_plus;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;strokeColor=none;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-23, 386);
				icon15.vertex = true;
				bg1.insert(icon15);
				var icon16 = new mxCell('Mail', new mxGeometry(0.148, 0, 40, 32), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.mail;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=4;fillColor=#BDBDBD;strokeColor=#ffffff;strokeWidth=3;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-20, 494);
				icon16.vertex = true;
				bg1.insert(icon16);
				var icon17 = new mxCell('Message', new mxGeometry(0.5, 0, 44, 42), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.message;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=-1;fillColor=#BDBDBD;strokeColor=#ffffff;strokeWidth=4;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-22, 489);
				icon17.vertex = true;
				bg1.insert(icon17);
				var icon18 = new mxCell('More', new mxGeometry(0.8547, 0, 40, 12), 'dashed=0;fontSize=10;shape=mxgraph.gmdl.more;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=16;fillColor=#BDBDBD;strokeColor=none;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-20, 504);
				icon18.vertex = true;
				bg1.insert(icon18);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Grid Style With Some Options');
			}),
			this.addEntry(dt + 'grid style all options', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'edit;strokeColor=none;fillColor=#ffffff;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-20, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar8 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 81);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 20, 24), s2 + 'telephone;strokeColor=none;fillColor=#3F51B5;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(25, -12);
				icon12.vertex = true;
				bar8.insert(icon12);
				var text8 = new mxCell('(650) 555-1234', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar8.insert(text8);
				var text9 = new mxCell('Mobile', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar8.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar8.insert(icon13);
				var bar9 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 146);
				bar9.vertex = true;
				bg1.insert(bar9);
				var text8 = new mxCell('(323) 555-6789', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar9.insert(text8);
				var text9 = new mxCell('Work', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar9.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('', new mxGeometry(0, 0, 358, 20), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 211);
				bar10.vertex = true;
				bg1.insert(bar10);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0.5, 286, 10), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, -5);
				line1.vertex = true;
				bar10.insert(line1);
				var bar11 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 231);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'mail;strokeColor=#ffffff;fillColor=#3F51B5;strokeWidth=2;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(24, -8);
				icon12.vertex = true;
				bar11.insert(icon12);
				var text10 = new mxCell('aliconnors@example.com', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, -21);
				text10.vertex = true;
				bar11.insert(text10);
				var text11 = new mxCell('Personal', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text11.geometry.relative = true;
				text11.vertex = true;
				bar11.insert(text11);
				var line2 = new mxCell('', new mxGeometry(0, 0, 358, 10), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line2.geometry.relative = true;
				line2.geometry.offset = new mxPoint(0, 291);
				line2.vertex = true;
				bg1.insert(line2);
				var icon13 = new mxCell('Gmail', new mxGeometry(0.148, 0, 46, 34), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.gmail;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=6;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-23, 327);
				icon13.vertex = true;
				bg1.insert(icon13);
				var icon14 = new mxCell('Hangout', new mxGeometry(0.5, 0, 40, 46), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.hangout;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;fillColor=#19A05E;strokeColor=none;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-20, 321);
				icon14.vertex = true;
				bg1.insert(icon14);
				var icon15 = new mxCell('Google+', new mxGeometry(0.8547, 0, 46, 46), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.google_plus;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;strokeColor=none;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-23, 321);
				icon15.vertex = true;
				bg1.insert(icon15);
				var icon16 = new mxCell('Mail', new mxGeometry(0.148, 0, 40, 32), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.mail;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=4;fillColor=#BDBDBD;strokeColor=#ffffff;strokeWidth=3;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-20, 422);
				icon16.vertex = true;
				bg1.insert(icon16);
				var icon17 = new mxCell('Message', new mxGeometry(0.5, 0, 44, 42), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.message;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=-1;fillColor=#BDBDBD;strokeColor=#ffffff;strokeWidth=4;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-22, 417);
				icon17.vertex = true;
				bg1.insert(icon17);
				var icon18 = new mxCell('Copy', new mxGeometry(0.8547, 0, 34, 40), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.copy;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=2;fillColor=none;strokeColor=#BDBDBD;strokeWidth=4;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-17, 418);
				icon18.vertex = true;
				bg1.insert(icon18);
				var icon19 = new mxCell('Facebook', new mxGeometry(0.148, 0, 46, 46), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.facebook;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;fillColor=#BDBDBD;strokeColor=none;');
				icon19.geometry.relative = true;
				icon19.geometry.offset = new mxPoint(-23, 513);
				icon19.vertex = true;
				bg1.insert(icon19);
				var icon19 = new mxCell('Twitter', new mxGeometry(0.5, 0, 46, 46), 'dashed=0;fontSize=12;shape=mxgraph.gmdl.twitter;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;fontColor=#504F4F;spacingTop=1;fillColor=#BDBDBD;strokeColor=none;');
				icon19.geometry.relative = true;
				icon19.geometry.offset = new mxPoint(-23, 513);
				icon19.vertex = true;
				bg1.insert(icon19);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Grid Style With All Options');
			}),
			this.addEntry(dt + 'list style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('All', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(0, 0.5, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(104, -3);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Janet Perkins', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 23, 21), s2 + 'star;strokeColor=none;fillColor=#D3396E;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, -10);
				icon5.vertex = true;
				bar2.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-50, -18);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Mary Johnson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-50, -18);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar4 = new mxCell('Peter Carlsson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 191);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-50, -18);
				icon8.vertex = true;
				bar4.insert(icon8);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 246);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon9 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-50, -18);
				icon9.vertex = true;
				bar5.insert(icon9);
				var bar6 = new mxCell('', new mxGeometry(0, 0, 358, 18), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 301);
				bar6.vertex = true;
				bg1.insert(bar6);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0.5, 286, 8), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, -4);
				line1.vertex = true;
				bar6.insert(line1);
				var bar7 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 319);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text6 = new mxCell('A', new mxGeometry(0, 0.5, 24, 24), 'text;fontSize=24;fontColor=#D3396E;verticalAlign=middle;fontStyle=0;align=center;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(16, -12);
				text6.vertex = true;
				bar7.insert(text6);
				var icon11 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(-50, -18);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('Share', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 374);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 17, 20), s2 + 'share;strokeColor=#666666;fillColor=#666666;strokeWidth=2;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(21, -10);
				icon12.vertex = true;
				bar8.insert(icon12);
				var bar9 = new mxCell('Upload', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 429);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon13 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'upload;strokeColor=none;fillColor=#666666;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(16, -8);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('Copy', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 484);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon14 = new mxCell('', new mxGeometry(0, 0.5, 17, 20), s2 + 'copy;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(21, -10);
				icon14.vertex = true;
				bar10.insert(icon14);
				var bar11 = new mxCell('Print this page', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 539);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon15 = new mxCell('', new mxGeometry(0, 0.5, 18, 16), s2 + 'print;strokeColor=#666666;fillColor=#666666;strokeWidth=2;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(20, -8);
				icon15.vertex = true;
				bar11.insert(icon15);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'List Style');
			}),
			this.addEntry(dt + 'bottom sheet menu items subtext', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 360), s + 'rect;fillColor=#ffffff;strokeColor=none;shadow=0;recursiveResize=0;');
				bg.vertex = true;
				var icon1 = new mxCell('Caribbean vacation<div><font style="font-size: 12px" color="#999999">August 13 - 22</font></div>', new mxGeometry(15, 25, 40, 40), 'shape=mxgraph.gmdl.image;strokeColor=#000000;fillColor=#ffffff;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=10;fontSize=14;html=1;');
				icon1.vertex = true;
				bg.insert(icon1);
				var icon2 = new mxCell('Pablo at the beach house<div><font style="font-size: 12px" color="#999999">July 19 - 24</font></div>', new mxGeometry(15, 95, 40, 40), 'shape=mxgraph.gmdl.image;strokeColor=#000000;fillColor=#ffffff;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=10;fontSize=14;html=1;');
				icon2.vertex = true;
				bg.insert(icon2);
				var icon3 = new mxCell('July 4th weekend at Joey\'s<div><font style="font-size: 12px" color="#999999">July 4th, 2015</font></div>', new mxGeometry(15, 165, 40, 40), 'shape=mxgraph.gmdl.image;strokeColor=#000000;fillColor=#ffffff;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=10;fontSize=14;html=1;');
				icon3.vertex = true;
				bg.insert(icon3);
				var icon4 = new mxCell('Meg\'s Birthday<div><font style="font-size: 12px" color="#999999">June 29, 2015</font></div>', new mxGeometry(15, 235, 40, 40), 'shape=mxgraph.gmdl.image;strokeColor=#000000;fillColor=#ffffff;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=10;fontSize=14;html=1;');
				icon4.vertex = true;
				bg.insert(icon4);
				var icon5 = new mxCell('Mike \& Kristin\'s wedding<div><font style="font-size: 12px" color="#999999">June 3, 2015</font></div>', new mxGeometry(15, 305, 40, 40), 'shape=mxgraph.gmdl.image;strokeColor=#000000;fillColor=#ffffff;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=10;fontSize=14;html=1;');
				icon5.vertex = true;
				bg.insert(icon5);
				
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Bottom Sheet (menu items with subtext)');
			}),
			this.addEntry(dt + 'grid style options', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				
				
				var item1 = new mxCell(
						'Mary had liked to look at her mother from a distance and she had thought her very pretty, but as she knew very little of her she could scarcely have been expected to love her or to miss her very much when she was ' + 
						'gone. She did not miss her at all, in fact, and as she was a self-absorbed child she gave her entire thought to herself, as she had always done. If she had been older she would no doubt have been very anxious ' + 
						'at being left alone in the world, but she was very young, and as she had always been taken care of, she supposed she always would be. What she thought was that she would like to know if she was going to nice people, ' + 
						'who would be polite to her and give her her own way as her Ayah and the other native servants had done.\n\n She knew that she was not going to stay at the English clergyman\'s house where she was taken at first. ' + 
						'She did not want to stay. The English clergyman was poor and he had five children nearly all the same age and they wore shabby clothes and were always quarreling and snatching toys from each other. Mary hated their ' + 
						'untidy bungalow and was so disagreeable to them that after the first day or two nobody would play with her. By the second day they had given her a nickname which made her furious.', 
						new mxGeometry(0, 0, 358, 370), 'shape=rect;strokeColor=none;fillColor=#CFCECE;resizeWidth=1;whiteSpace=wrap;spacing=10;verticalAlign=top;align=left;');
				item1.geometry.relative = true;
				item1.geometry.offset = new mxPoint(0, 24);
				item1.vertex = true;
				bg1.insert(item1);
				var item2 = new mxCell('fer·vor<div><font color="#808080" style="font-size: 16px">/\'f&#601;rv&#601;r/</font></div>', new mxGeometry(0, 1, 358, 110), 
						'dashed=0;align=left;fontSize=24;shape=rect;strokeColor=none;fillColor=#FFC107;resizeWidth=1;spacingLeft=15;spacingTop=10;html=1;');
				item2.geometry.relative = true;
				item2.geometry.offset = new mxPoint(0, -338);
				item2.vertex = true;
				bg1.insert(item2);
				var item3 = new mxCell('<font color="#808080" style="font-size: 14px;">noun</font><div>\n</div><div>intense and passionate feeling.</div><div>"he talked with all the fervor of a new convert"</div><div>\n</div>' + 
						'<div><font color="#808080" style="font-size: 14px;">synonyms: passion, ardor, intensity, zeal, vehemerence, emotion, warmth, earnestness, avidity, eagerness, keenness, enthusiasm, excitement, animation, vigor, ' + 
						'energy, fire, spirit, zest, fervency</font></div>', 
						new mxGeometry(0, 1, 358, 180), 'dashed=0;align=left;fontSize=14;shape=rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;spacingTop=0;spacing=15;verticalAlign=top;html=1;whiteSpace=wrap;');
				item3.geometry.relative = true;
				item3.geometry.offset = new mxPoint(0, -228);
				item3.vertex = true;
				bg1.insert(item3);

				var icon1 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), s2 + 'volume;strokeColor=none;fillColor=#856504;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-80, -10);
				icon1.vertex = true;
				item2.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 20, 18), s2 + 'star;strokeColor=none;strokeColor=#856504;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-40, -9);
				icon2.vertex = true;
				item2.insert(icon2);

				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Deep-linked modal bottom sheet');
			}),
			this.addEntry(dt + 'long list', function()
					{
						var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
						bg1.vertex = true;
						var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#0973AE;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
						topBar.geometry.relative = true;
						topBar.vertex = true;
						bg1.insert(topBar);
						var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#0973AE;strokeColor=none;');
						topBarIcons.geometry.relative = true;
						topBarIcons.geometry.offset = new mxPoint(-92, -7);
						topBarIcons.vertex = true;
						topBar.insert(topBarIcons);
						var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 60), s + 'rect;strokeColor=none;fillColor=#098DCA;resizeWidth=1;');
						bar1.geometry.relative = true;
						bar1.geometry.offset = new mxPoint(0, 24);
						bar1.vertex = true;
						bg1.insert(bar1);
						var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#084560;');
						icon1.geometry.relative = true;
						icon1.geometry.offset = new mxPoint(16, 20);
						icon1.vertex = true;
						bar1.insert(icon1);
						var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#084560;fillColor=none;strokeWidth=2;');
						icon3.geometry.relative = true;
						icon3.geometry.offset = new mxPoint(-73, 20);
						icon3.vertex = true;
						bar1.insert(icon3);
						var icon4 = new mxCell('', new mxGeometry(1, 0, 18, 16), s2 + 'rects;strokeColor=none;fillColor=#084560;');
						icon4.geometry.relative = true;
						icon4.geometry.offset = new mxPoint(-34, 20);
						icon4.vertex = true;
						bar1.insert(icon4);
						
						var text1 = new mxCell('Open in', new mxGeometry(0, 0, 200, 20), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#808080;fontSize=14;');
						text1.geometry.relative = true;
						text1.geometry.offset = new mxPoint(10, 99);
						text1.vertex = true;
						bg1.insert(text1);
						var icon5 = new mxCell('Keep', new mxGeometry(0, 0, 20, 20), 'shape=mxgraph.gmdl.keep;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon5.geometry.relative = true;
						icon5.geometry.offset = new mxPoint(10, 144);
						icon5.vertex = true;
						bg1.insert(icon5);
						var icon6 = new mxCell('Inbox', new mxGeometry(0, 0, 22, 20), 'shape=mxgraph.gmdl.inbox;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon6.geometry.relative = true;
						icon6.geometry.offset = new mxPoint(10, 194);
						icon6.vertex = true;
						bg1.insert(icon6);
						var icon7 = new mxCell('Hangouts', new mxGeometry(0, 0, 20, 22), 'shape=mxgraph.gmdl.hangout;strokeColor=none;fillColor=#0F9755;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon7.geometry.relative = true;
						icon7.geometry.offset = new mxPoint(10, 244);
						icon7.vertex = true;
						bg1.insert(icon7);
						var icon8 = new mxCell('Messenger', new mxGeometry(0, 0, 22, 20), 'shape=mxgraph.gmdl.messenger;strokeColor=none;fillColor=#F4B70B;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon8.geometry.relative = true;
						icon8.geometry.offset = new mxPoint(10, 294);
						icon8.vertex = true;
						bg1.insert(icon8);
						var icon9 = new mxCell('Google+', new mxGeometry(0, 0, 20, 20), 'shape=mxgraph.gmdl.google_plus;strokeColor=none;fillColor=#D14235;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon9.geometry.relative = true;
						icon9.geometry.offset = new mxPoint(10, 344);
						icon9.vertex = true;
						bg1.insert(icon9);
						var icon10 = new mxCell('Sheets', new mxGeometry(0, 0, 16, 20), 'shape=mxgraph.gmdl.sheets;strokeColor=none;fillColor=#21A464;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon10.geometry.relative = true;
						icon10.geometry.offset = new mxPoint(12, 394);
						icon10.vertex = true;
						bg1.insert(icon10);
						var icon11 = new mxCell('Docs', new mxGeometry(0, 0, 16, 20), 'shape=mxgraph.gmdl.docs;strokeColor=none;fillColor=#4F8EF5;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon11.geometry.relative = true;
						icon11.geometry.offset = new mxPoint(12, 444);
						icon11.vertex = true;
						bg1.insert(icon11);
						var icon12 = new mxCell('Slides', new mxGeometry(0, 0, 16, 20), 'shape=mxgraph.gmdl.slides;strokeColor=none;fillColor=#F5B910;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon12.geometry.relative = true;
						icon12.geometry.offset = new mxPoint(12, 494);
						icon12.vertex = true;
						bg1.insert(icon12);
						var icon13 = new mxCell('Photos', new mxGeometry(0, 0, 20, 20), 'shape=mxgraph.gmdl.photos;align=left;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingLeft=20;fontSize=14;');
						icon13.geometry.relative = true;
						icon13.geometry.offset = new mxPoint(10, 544);
						icon13.vertex = true;
						bg1.insert(icon13);
						var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
						bar12.geometry.relative = true;
						bar12.geometry.offset = new mxPoint(0, -48);
						bar12.vertex = true;
						bg1.insert(bar12);
						var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
						icon16.geometry.relative = true;
						icon16.geometry.offset = new mxPoint(-7, -7);
						icon16.vertex = true;
						bar12.insert(icon16);
						var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
						icon17.geometry.relative = true;
						icon17.geometry.offset = new mxPoint(-7, -7);
						icon17.vertex = true;
						bar12.insert(icon17);
						var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
						icon18.geometry.relative = true;
						icon18.geometry.offset = new mxPoint(-7, -7);
						icon18.vertex = true;
						bar12.insert(icon18);
					   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Long list');
					})
   		];
		  
		this.addPalette('gmdlBottom Sheets', 'GMDL / Bottom Sheets', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLButtonsPalette = function(expand)
	{
		var s = "dashed=0;align=center;fontSize=12;shape=";
		var s2 = "dashed=0;html=1;shape=mxgraph.gmdl.";
		var anc = "shape=rect;fillColor=none;strokeColor=none;";
		var fac = 'shape=ellipse;dashed=0;fillColor=#ffffff;strokeColor=none;shadow=1;fontSize=13;fontColor=#000000;align=center;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;html=1;aspect=fixed;';
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library button ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s + 'rect;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;shadow=1;fontColor=#000000;',
					100, 36, 'NORMAL', 'Raised Button (Normal)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;shadow=1;fontColor=#000000;',
					100, 36, 'HOVER', 'Raised Button (Hover)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;shadow=1;',
					100, 36, 'FOCUSED', 'Raised Button (Focused)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;shadow=1;fontColor=#000000;',
					100, 36, 'PRESSED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#000000;strokeColor=none;fontStyle=1;opacity=12;fontColor=#BDBDBD;',
					100, 36, 'DISABLED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#2196F3;strokeColor=none;fontStyle=1;shadow=1;fontColor=#ffffff;',
					100, 36, 'NORMAL', 'Raised Button (Normal)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#2196F3;strokeColor=none;fontStyle=1;shadow=1;fontColor=#ffffff;',
					100, 36, 'HOVER', 'Raised Button (Hover)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#2196F3;strokeColor=none;fontStyle=1;shadow=1;fontColor=#ffffff;',
					100, 36, 'FOCUSED', 'Raised Button (Focused)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#2196F3;strokeColor=none;fontStyle=1;shadow=1;fontColor=#ffffff;',
					100, 36, 'PRESSED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#ffffff;strokeColor=none;fontStyle=1;opacity=12;fontColor=#BDBDBD;shadow=0;',
					100, 36, 'DISABLED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=none;strokeColor=none;fontStyle=1;fontColor=#000000;shadow=0;',
					100, 36, 'NORMAL', 'Raised Button (Normal)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#999999;opacity=20;strokeColor=none;fontStyle=1;fontColor=#000000;shadow=0;',
					100, 36, 'HOVER', 'Raised Button (Hover)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#999999;opacity=20;strokeColor=none;fontStyle=1;fontColor=#000000;shadow=0;',
					100, 36, 'FOCUSED', 'Raised Button (Focused)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#999999;opacity=40;strokeColor=none;fontStyle=1;',
					100, 36, 'PRESSED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#ffffff;opacity=26;strokeColor=none;fontStyle=1;opacity=12;fontColor=#BDBDBD;shadow=0;',
					100, 36, 'DISABLED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=none;strokeColor=none;fontStyle=1;fontColor=#ffffff;shadow=0;',
					100, 36, 'NORMAL', 'Raised Button (Normal)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#cccccc;opacity=15;strokeColor=none;fontStyle=1;fontColor=#ffffff;shadow=0;',
					100, 36, 'HOVER', 'Raised Button (Hover)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#cccccc;opacity=15;strokeColor=none;fontStyle=1;fontColor=#ffffff;shadow=0;',
					100, 36, 'FOCUSED', 'Raised Button (Focused)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=#cccccc;opacity=25;strokeColor=none;fontStyle=1;fontColor=#ffffff;shadow=0;',
					100, 36, 'PRESSED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rect;fillColor=none;strokeColor=none;fontStyle=1;opacity=12;fontColor=#BDBDBD;shadow=1;',
					100, 36, 'DISABLED', 'Raised Button (Pressed)', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),
			this.addEntry(dt + 'dropdown menu', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 100, 180), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('State 1', new mxGeometry(0, 0, 100, 45), 'text;fontColor=#FF4081;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('State 2', new mxGeometry(0, 0, 100, 45), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;fillColor=#eeeeee;resizeWidth=1;');
				text2.geometry.offset = new mxPoint(0, 45);
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('State 3', new mxGeometry(0, 0, 100, 45), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text3.geometry.offset = new mxPoint(0, 90);
				text3.geometry.relative = true;
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('State 4', new mxGeometry(0, 0, 100, 45), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text4.geometry.offset = new mxPoint(0, 135);
				text4.geometry.relative = true;
				text4.vertex = true;
				bg1.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg1], 100, 180, 'Dropdown Menu');
			}),
			this.addEntry(dt + 'dropdown button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 100, 40), s + 'rect;fillColor=#ffffff;strokeColor=#cccccc;');
				bg1.vertex = true;
				var text1 = new mxCell('Arial', new mxGeometry(0, 0, 100, 40), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;');
				text1.vertex = true;
				bg1.insert(text1);
				var icon1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s2 + 'triangle;fillColor=#cccccc;strokeColor=none;');
		 		icon1.geometry.offset = new mxPoint(-25, -2.5);
				icon1.geometry.relative = true;
				icon1.vertex = true;
				bg1.insert(icon1);
				return sb.createVertexTemplateFromCells([bg1], 100, 30, 'Dropdown Button');
			}),
			this.addEntry(dt + 'dropdown button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 100, 40), s + 'rect;fillColor=#ffffff;strokeColor=#cccccc;');
				bg1.vertex = true;
				var text1 = new mxCell('Arial', new mxGeometry(0, 0, 100, 40), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(1, 0, 40, 40), 'shape=rect;fillColor=none;strokeColor=#cccccc;resizeHeight=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-40, 0);
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(0.5, 0.5, 10, 5), s2 + 'triangle;fillColor=#cccccc;strokeColor=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-5, -2.5);
				icon1.vertex = true;
				part1.insert(icon1);
			   	return sb.createVertexTemplateFromCells([bg1], 100, 40, 'Dropdown Button (Editable)');
			}),
			this.addEntry(dt + 'dropdown button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 100, 150), s + 'rect;fillColor=#ffffff;strokeColor=#cccccc;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Arial', new mxGeometry(0, 0, 100, 40), 'shape=rect;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;strokeColor=#cccccc;align=left;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var icon1 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s2 + 'triangle;fillColor=#cccccc;strokeColor=none;');
				icon1.geometry.offset = new mxPoint(-25, -2.5);
				icon1.geometry.relative = true;
				icon1.vertex = true;
				text1.insert(icon1);
				var text2 = new mxCell('Calibri', new mxGeometry(0, 0, 100, 30), 'shape=rect;align=left;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;fillColor=#eeeeee;strokeColor=none;resizeWidth=1;');
				text2.geometry.offset = new mxPoint(0, 50);
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Courier', new mxGeometry(0, 0, 100, 30), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text3.geometry.offset = new mxPoint(0, 80);
				text3.geometry.relative = true;
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Verdana', new mxGeometry(0, 0, 100, 30), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text4.geometry.offset = new mxPoint(0, 110);
				text4.geometry.relative = true;
				text4.vertex = true;
				bg1.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg1], 100, 150, 'Dropdown Button (Selected)');
			}),
			this.addEntry(dt + 'dropdown button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 100, 150), s + 'rect;fillColor=#ffffff;strokeColor=#cccccc;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Arial', new mxGeometry(0, 0, 100, 40), 'shape=rect;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;strokeColor=#cccccc;align=left;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(1, 0, 40, 40), 'shape=rect;fillColor=none;strokeColor=#cccccc;resizeHeight=1;');
				part1.geometry.offset = new mxPoint(-40, 0);
				part1.geometry.relative = true;
				part1.vertex = true;
				text1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(0.5, 0.5, 10, 5), s2 + 'triangle;fillColor=#cccccc;strokeColor=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-5, - 2.5);
				icon1.vertex = true;
				part1.insert(icon1);
				var text2 = new mxCell('Calibri', new mxGeometry(0, 0, 100, 30), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text2.geometry.offset = new mxPoint(0, 50);
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Courier', new mxGeometry(0, 0, 100, 30), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text3.geometry.offset = new mxPoint(0, 80);
				text3.geometry.relative = true;
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Verdana', new mxGeometry(0, 0, 100, 30), 'text;fontColor=#000000;verticalAlign=middle;spacingLeft=13;fontSize=14;resizeWidth=1;');
				text4.geometry.offset = new mxPoint(0, 110);
				text4.geometry.relative = true;
				text4.vertex = true;
				bg1.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg1], 100, 150, 'Dropdown Button (Selected, Editable)');
			}),
			this.addEntry(dt + 'persistent footer button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 300, 40), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;');
				bg1.vertex = true;
				var part1 = new mxCell('BUTTON', new mxGeometry(0, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;');
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('BUTTON', new mxGeometry(75, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('BUTTON', new mxGeometry(150, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;');
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('BUTTON', new mxGeometry(225, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;');
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 40, 'Persistent Footer Buttons');
			}),
			this.addEntry(dt + 'persistent footer button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 300, 40), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;');
				bg1.vertex = true;
				var part1 = new mxCell('BUTTON', new mxGeometry(0, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;resizeHeight=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('BUTTON', new mxGeometry(0, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;resizeHeight=1;');
				part2.geometry.offset = new mxPoint(75, 0);
				part2.geometry.relative = true;
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('BUTTON', new mxGeometry(0, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;resizeHeight=1;');
				part3.geometry.offset = new mxPoint(150, 0);
				part3.geometry.relative = true;
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('BUTTON', new mxGeometry(0, 0, 75, 40), 'shape=rect;strokeColor=none;fillColor=none;fontSize=12;fontColor=#2196F3;dashed=0;resizeHeight=1;');
				part4.geometry.offset = new mxPoint(225, 0);
				part4.geometry.relative = true;
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 40, 'Persistent Footer Buttons (fixed)');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), 'shape=ellipse;fillColor=#FF4081;strokeColor=none;shadow=1;aspect=fixed;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(20, 20, 16, 16), s2 + 'plus;strokeColor=#ffffff;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'edit;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'star;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 19, 20, 18), s2 + 'heart;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 19, 20, 18), s2 + 'reply;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 20, 24, 16), s2 + 'users;strokeColor=#ffffff;fillColor=#737373;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'gps;strokeColor=#737373;fillColor=#737373;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'share2;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'navigate;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'chat;strokeColor=#737373;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(22, 18, 12, 20), s2 + 'voice;strokeColor=#737373;fillColor=#737373;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(20, 16, 16, 24), s2 + 'google;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 20, 24, 16), s2 + 'video;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 17, 24, 22), s2 + 'gallery;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 17, 24, 22), s2 + 'birthday;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 20, 24, 16), s2 + 'cloud;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(20, 20, 16, 16), s2 + 'x;strokeColor=#737373;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(22, 18, 12, 20), s2 + 'bookmark;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'calendar;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(17, 20, 22, 16), s2 + 'attractions;strokeColor=#ffffff;fillColor=#737373;strokeWidth=1;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(20, 18, 16, 20), s2 + 'dining;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'education;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'family;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 19, 20, 18), s2 + 'health;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'office;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'promotions;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'radio;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'recipes;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'sports;strokeColor=none;fillColor=#737373;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 56, 56), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(18, 18, 20, 20), s2 + 'travel;strokeColor=none;fillColor=#737373;direction=south;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 56, 56, 'Floating Action Button');
			}),
			this.addEntry(dt + 'floating action button mini', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 40, 40), fac);
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(12, 12, 16, 16), s2 + 'plus;strokeColor=#737373;strokeWidth=2;shadow=0;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 40, 40, 'Floating Action Button (Mini)');
			}),
			this.addEntry(dt + 'toolbar', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 64), 'shape=rect;fillColor=#ffffff;strokeColor=none;graientColor=none;');
				bg.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0.25, 0.5, 24, 18), s2 + 'camera;strokeColor=#ffffff;fillColor=#737373;strokeWidth=2;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-12, -9);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 24, 18), s2 + 'video;strokeColor=none;fillColor=#737373;strokeWidth=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-12, -9);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0.75, 0.5, 20, 22), s2 + 'gallery;strokeColor=none;fillColor=#737373;strokeWidth=2;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-10, -11);
				part3.vertex = true;
				bg.insert(part3);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Toolbar');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var part1 = new mxCell('', new mxGeometry(8, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#D1D3D4;shadow=1;gradientColor=none;');
				part1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 16), s2 +'copy;strokeColor=#666666;fillColor=#666666;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-6, -8);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('', new mxGeometry(8, 50, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#D1D3D4;shadow=1;gradientColor=none;');
				part2.vertex = true;
				var icon2 = new mxCell('', new mxGeometry(0.5, 0.5, 18, 16), s2 +'print;strokeColor=none;fillColor=#666666;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-9, -8);
				icon2.vertex = true;
				part2.insert(icon2);
				var part3 = new mxCell('', new mxGeometry(0, 100, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#FF4081;shadow=1;gradientColor=none;');
				part3.vertex = true;
				var icon3 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 +'x;strokeColor=#ffffff;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-8, -8);
				icon3.vertex = true;
				part3.insert(icon3);
			   	return sb.createVertexTemplateFromCells([part1, part2, part3], 50, 156, 'Floating action buttons');
			}),
			this.addEntry(dt + 'related actions', function()
			{
				var part1 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#ffffff;shadow=1;gradientColor=none;');
				part1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 16), s2 +'doc;strokeColor=#ffffff;fillColor=#737373;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-7, -8);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('', new mxGeometry(80, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#ffffff;shadow=1;gradientColor=none;');
				part2.vertex = true;
				var icon2 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 +'spreadsheet;strokeColor=#ffffff;fillColor=#737373;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-9, -8);
				icon2.vertex = true;
				part2.insert(icon2);
				var part3 = new mxCell('', new mxGeometry(160, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#ffffff;shadow=1;gradientColor=none;');
				part3.vertex = true;
				var icon3 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 +'sheet;strokeColor=none;fillColor=#737373;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-8, -8);
				icon3.vertex = true;
				part3.insert(icon3);
			   	return sb.createVertexTemplateFromCells([part1, part2, part3], 200, 40, 'Related actions');
			}),
			this.addEntry(dt + 'floating action button', function()
			{
				var part1 = new mxCell('', new mxGeometry(8, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;shadow=1;gradientColor=none;');
				part1.vertex = true;
				var part2 = new mxCell('', new mxGeometry(8, 80, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;shadow=1;gradientColor=none;');
				part2.vertex = true;
				var part3 = new mxCell('', new mxGeometry(8, 160, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;shadow=1;gradientColor=none;');
				part3.vertex = true;
				var part4 = new mxCell('', new mxGeometry(8, 240, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;shadow=1;gradientColor=none;');
				part4.vertex = true;
				var part5 = new mxCell('', new mxGeometry(8, 320, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;shadow=1;gradientColor=none;');
				part5.vertex = true;
				var part6 = new mxCell('', new mxGeometry(0, 400, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#ffffff;shadow=1;gradientColor=none;');
				part6.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 +'x;strokeColor=#737373;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-8, -8);
				icon1.vertex = true;
				part6.insert(icon1);
			   	return sb.createVertexTemplateFromCells([part1, part2, part3, part4, part5, part6], 50, 456, 'Floating action buttons');
			})
   		];
		  
		this.addPalette('gmdlButtons', 'GMDL / Buttons', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLCardsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var anc = "shape=rect;fillColor=none;strokeColor=none;";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library card ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 356), 'shape=rect;fillColor=#ffffff;strokeColor=none;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 342, 196), 'shape=rect;strokeColor=none;fillColor=#BDBDBD;whiteSpace=wrap;');
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('Kangaroo Valley Safari', new mxGeometry(0, 0.5506, 342, 45), 'text;verticalAlign=bottom;fontSize=23;spacingLeft=16;spacing=0;spacingBottom=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('Located two hours south of Sydney in the Southern Highlands of New Sout Wales, ...', 
						new mxGeometry(0, 0.5506, 342, 76), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=14;resizeWidth=1;resizeHeight=1;');
				part3.geometry.relative = 1;
				part3.geometry.offset = new mxPoint(0, 50);
				part3.vertex = true;
				bg1.insert(part3);
				var anchor1 = new mxCell('', new mxGeometry(0, 356, 0, 0), anc);
				anchor1.vertex = true;
				bg1.insert(anchor1);
				var part4 = new mxCell('SHARE', 
						new mxGeometry(0, -44, 80, 44), 'text;fontSize=12;fontColor=#FFA534;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, -44);
				part4.vertex = true;
				anchor1.insert(part4);
				var part5 = new mxCell('EXPLORE', 
						new mxGeometry(80, -44, 80, 44), 'text;fontSize=12;fontColor=#FFA534;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(80, -44);
				part5.vertex = true;
				anchor1.insert(part5);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 356, 'Card');
			}),
			this.addEntry(dt + 'card collection', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#455A64;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Travel stream', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#607D8B;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;spacingLeft=72;align=left;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-30, - 8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 358, 366), s2 + 'marginRect;rectMargin=8;fillColor=#ffffff;strokeColor=none;shadow=1;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('Top 10 Australian beaches', 
						new mxGeometry(0, 0, 358, 204), s2 + 'marginRect;rectMargin=8;rectMarginBottom=-8;strokeColor=none;fillColor=#BDBDBD;whiteSpace=wrap;fontColor=#FFFFFF;verticalAlign=bottom;align=left;fontSize=24;spacing=16;');
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('Number 10', new mxGeometry(0, 0.555, 358, 34), 'text;verticalAlign=middle;fontSize=14;spacingLeft=24;spacing=0;spacingBottom=-5;fontColor=#999999;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('Whiteheaven Beach\nWhitsunday Island, Whitsunday Islands', 
						new mxGeometry(0, 0.555, 358, 50), 'text;whiteSpace=wrap;spacingLeft=24;spacingRight=16;spacing=0;fontSize=14;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 34);
				part3.vertex = true;
				bg2.insert(part3);
				var part4 = new mxCell('SHARE', 
						new mxGeometry(0, 1, 80, 44), 'text;fontSize=12;fontColor=#FFA534;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(8, -52);
				part4.vertex = true;
				bg2.insert(part4);
				var part5 = new mxCell('EXPLORE', 
						new mxGeometry(0, 1, 80, 44), 'text;fontSize=12;fontColor=#FFA534;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(88, -52);
				part5.vertex = true;
				bg2.insert(part5);
				var part6 = new mxCell('Kangaroo Valley Safari', new mxGeometry(0, 0.695, 358, 180), s2 + 'marginRect;rectMargin=8;strokeColor=none;fillColor=#BDBDBD;whiteSpace=wrap;fontColor=#FFFFFF;verticalAlign=bottom;align=left;fontSize=24;spacing=16;spacingBottom=24;resizeWidth=1;resizeHeight=1;');
				part6.geometry.relative = true;
				part6.vertex = true;
				bg1.insert(part6);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Card Collection');
			}),
			this.addEntry(dt + 'card collection', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('My music', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;spacingLeft=72;align=left;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#6F0E2F;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#2D566B;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-30, - 8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 358, 172), s2 + 'marginRect;rectMargin=8;rectMarginBottom=-4;fillColor=#2D566B;strokeColor=none;shadow=1;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('Unlimited music now', 
						new mxGeometry(0, 0, 342, 60), 'text;whiteSpace=wrap;fontColor=#FFFFFF;verticalAlign=bottom;align=left;fontSize=24;spacing=16;spacingBottom=-8;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('Listen to your favorite artists and albums whenever wherever online and offline.', 
						new mxGeometry(0, 0, 342, 50), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=14;fontColor=#FFFFFF;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 55);
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('LISTEN NOW', new mxGeometry(0, 1, 120, 52), 'text;verticalAlign=middle;fontSize=13;spacingLeft=0;spacing=0;spacingBottom=0;fontColor=#FFFFFF;align=center;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(8, -52);
				part3.vertex = true;
				bg2.insert(part3);
				var bg3 = new mxCell('', new mxGeometry(0, 255, 358, 156), s2 + 'marginRect;rectMargin=8;rectMarginTop=-4;rectMarginBottom=-4;fillColor=#227586;strokeColor=none;shadow=1;');
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('Supermodel', 
						new mxGeometry(0, 0, 342, 60), 'text;whiteSpace=wrap;fontColor=#FFFFFF;verticalAlign=bottom;align=left;fontSize=24;spacing=16;spacingBottom=-8;');
				part1.vertex = true;
				bg3.insert(part1);
				var part2 = new mxCell('Foster the People', 
						new mxGeometry(0, 55, 342, 50), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=14;fontColor=#FFFFFF;');
				part2.vertex = true;
				bg3.insert(part2);
				var part3 = new mxCell('', new mxGeometry(194, 0, 164, 156), s2 + 'marginRect;rectMargin=24;rectMarginRight=8;fillColor=#BDBDBD;strokeColor=none;');
				part3.geometry.offset = new mxPoint(-160, 0);
				part3.vertex = true;
				bg3.insert(part3);
				var bg4 = new mxCell('', new mxGeometry(0, 411, 358, 156), s2 + 'marginRect;rectMargin=8;rectMarginTop=-4;rectMarginBottom=-4;fillColor=#871E6A;strokeColor=none;shadow=1;');
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('Halcyon Days', 
						new mxGeometry(0, 0, 342, 60), 'text;whiteSpace=wrap;fontColor=#FFFFFF;verticalAlign=bottom;align=left;fontSize=24;spacing=16;spacingBottom=-8;');
				part1.vertex = true;
				bg4.insert(part1);
				var part2 = new mxCell('Ellie Goulding', 
						new mxGeometry(0, 55, 342, 50), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=14;fontColor=#FFFFFF;');
				part2.vertex = true;
				bg4.insert(part2);
				var part3 = new mxCell('', new mxGeometry(194, 0, 164, 156), s2 + 'marginRect;rectMargin=24;rectMarginRight=8;fillColor=#BDBDBD;strokeColor=none;');
				part3.geometry.offset = new mxPoint(-160, 0);
				part3.vertex = true;
				bg4.insert(part3);
				var bg5 = new mxCell('', new mxGeometry(0, 567, 358, 35), s2 + 'marginRect;rectMargin=8;rectMarginTop=-4;rectMarginBottom=-4;fillColor=#AB1656;strokeColor=none;shadow=1;');
				bg5.vertex = true;
				bg1.insert(bg5);
				var part3 = new mxCell('', new mxGeometry(194, 0, 164, 35), s2 + 'marginRect;rectMargin=24;rectMarginRight=8;fillColor=#BDBDBD;strokeColor=none;');
				part3.geometry.offset = new mxPoint(-160, 0);
				part3.vertex = true;
				bg5.insert(part3);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Card Collection');
			}),
			this.addEntry(dt + 'card collection varied layouts', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#303F9F;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Discover', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#3F51B5;;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;spacingLeft=72;align=left;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-30, - 8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var bg2 = new mxCell('Pre-fab homes', new mxGeometry(0, 0, 358, 233), s2 + 'marginRect;rectMargin=6;rectMarginBottom=-3;fillColor=#BDBDBD;strokeColor=none;shadow=1;fontColor=#FFFFFF;fontSize=24;verticalAlign=bottom;spacingBottom=54;spacing=22;align=left;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('', 
						new mxGeometry(0, 1, 358, 51), s2 + 'marginRect;rectMargin=6;rectMarginBottom=-3;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -51);
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 18, 16), s2 + 'heart;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-155, -8);
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'bookmark;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-102, -10);
				part3.vertex = true;
				part1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'share;fillColor=#BDBDBD;strokeColor=#BDBDBD;fontStyle=1;fontColor=#999999;fontSize=12;strokeWidth=2;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(-49, -10);
				part4.vertex = true;
				part1.insert(part4);
				var bg3 = new mxCell('Favorite\nroad trips', new mxGeometry(0, 0.3656, 179, 222), s2 + 'marginRect;rectMargin=3;rectMarginLeft=3;fillColor=#BDBDBD;strokeColor=none;shadow=1;fontColor=#ffffff;fontSize=24;whiteSpace=wrap;spacing=16;verticalAlign=bottom;align=left;spacingBottom=48;resizeWidth=1;resizeHeight=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 81);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part5 = new mxCell('', 
						new mxGeometry(0, 1, 179, 51), s2 + 'marginRect;rectMargin=6;rectMarginBottom=-3;rectMarginRight=-3;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, -51);
				part5.vertex = true;
				bg3.insert(part5);
				var part6 = new mxCell('', new mxGeometry(1, 0.5, 18, 16), s2 + 'heart;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(-155, -8);
				part6.vertex = true;
				part5.insert(part6);
				var part7 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'bookmark;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(-102, -10);
				part7.vertex = true;
				part5.insert(part7);
				var part8 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'share;fillColor=#BDBDBD;strokeColor=#BDBDBD;fontStyle=1;fontColor=#999999;fontSize=12;strokeWidth=2;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(-49, -10);
				part8.vertex = true;
				part5.insert(part8);
				var bg4 = new mxCell('Best\nairlines', new mxGeometry(0.5, 0.3656, 179, 222), s2 + 'marginRect;rectMargin=3;rectMarginRight=3;fillColor=#BDBDBD;strokeColor=none;shadow=1;fontColor=#ffffff;fontSize=24;whiteSpace=wrap;spacing=16;verticalAlign=bottom;align=left;spacingBottom=48;resizeWidth=1;resizeHeight=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0,81);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part9 = new mxCell('', 
						new mxGeometry(0, 1, 179, 51), s2 + 'marginRect;rectMargin=6;rectMarginBottom=-3;rectMarginLeft=-3;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, -51);
				part9.vertex = true;
				bg4.insert(part9);
				var part10 = new mxCell('', new mxGeometry(1, 0.5, 18, 16), s2 + 'heart;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(-155, -8);
				part10.vertex = true;
				part9.insert(part10);
				var part11 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'bookmark;fillColor=#BDBDBD;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(-102, -10);
				part11.vertex = true;
				part9.insert(part11);
				var part12 = new mxCell('', new mxGeometry(1, 0.5, 16, 20), s2 + 'share;fillColor=#BDBDBD;strokeColor=#BDBDBD;fontStyle=1;fontColor=#999999;fontSize=12;strokeWidth=2;');
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(-49, -10);
				part12.vertex = true;
				part9.insert(part12);
				var bg5 = new mxCell('', new mxGeometry(0, 0.71, 358, 60), s2 + 'marginRect;rectMargin=6;rectMarginBottom=-3;fillColor=#BDBDBD;strokeColor=none;shadow=1;resizeWidth=1;resizeHeight=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 81);
				bg5.vertex = true;
				bg1.insert(bg5);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Card collection with varied layouts');
			}),
			this.addEntry(dt + 'card collection', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Feed reader', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;spacingLeft=72;align=left;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#00423B;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'refresh;strokeColor=#00423B;fillColor=#00423B;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#00423B;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 358, 272), s2 + 'marginRect;rectMargin=8;rectMarginBottom=-4;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;resizeHeight=1;resizeWidth=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('', new mxGeometry(1, 0, 76, 76), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-96, 20);
				part1.vertex = true;
				bg2.insert(part1);
				var text2 = new mxCell('Travel', new mxGeometry(0, 0, 250, 40), 'text;verticalAlign=bottom;spacingLeft=24;fontSize=13;fontColor=#999999;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 8);
				text2.vertex = true;
				bg2.insert(text2);
				var text3 = new mxCell('New York City', new mxGeometry(0, 0, 250, 40), 'text;verticalAlign=middle;spacingLeft=24;fontSize=22;fontColor=#000000;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 42);
				text3.vertex = true;
				bg2.insert(text3);
				var text4 = new mxCell('Day reappeared. The tempest still raged with undiminished fury; but the window returned to the south-east. It was a favourable change and the Tankadere again.', 
						new mxGeometry(0, 0, 342, 88), 'text;whitespace=wrap;whiteSpace=wrap;spacing=16;fontSize=14;verticalAlign=top;spacingBottom=0;spacingTop=-10;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 108);
				text4.vertex = true;
				bg2.insert(text4);
				var text5 = new mxCell('ACTION 1', new mxGeometry(0, 1, 98, 48), 'text;verticalAlign=middle;spacingLeft=0;fontSize=13;fontColor=#4C5DBA;align=center;spacing=0;fontStyle=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, -52);
				text5.vertex = true;
				bg2.insert(text5);
				var text6 = new mxCell('ACTION 2', new mxGeometry(0, 1, 90, 48), 'text;verticalAlign=middle;spacingLeft=8;fontSize=13;fontColor=#4C5DBA;align=center;spacing=0;fontStyle=1');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(98, -52);
				text6.vertex = true;
				bg2.insert(text6);
				var bg3 = new mxCell('', new mxGeometry(0, 0.425, 358, 222), s2 + 'marginRect;rectMargin=8;rectMarginTop=-4;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;resizeHeight=1;resizeWidth=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 81);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('', new mxGeometry(1, 0, 76, 76), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-96, 20);
				part1.vertex = true;
				bg3.insert(part1);
				var text2 = new mxCell('Recreation', new mxGeometry(0, 0, 250, 40), 'text;verticalAlign=bottom;spacingLeft=24;fontSize=13;fontColor=#999999;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 8);
				text2.vertex = true;
				bg3.insert(text2);
				var text3 = new mxCell('Fun at the Beach', new mxGeometry(0, 0, 250, 40), 'text;verticalAlign=middle;spacingLeft=24;fontSize=22;fontColor=#000000;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 42);
				text3.vertex = true;
				bg3.insert(text3);
				var text4 = new mxCell('There were some signs of a calm at noon and these became more distinct as the sun.', 
						new mxGeometry(0, 0, 342, 88), 'text;whitespace=wrap;whiteSpace=wrap;spacing=16;fontSize=14;verticalAlign=top;spacingBottom=0;spacingTop=-10;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 108);
				text4.vertex = true;
				bg3.insert(text4);
				var text5 = new mxCell('ACTION 1', new mxGeometry(0, 1, 98, 48), 'text;verticalAlign=middle;spacingLeft=0;fontSize=13;fontColor=#4C5DBA;align=center;spacing=0;fontStyle=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, -52);
				text5.vertex = true;
				bg3.insert(text5);
				var text6 = new mxCell('ACTION 2', new mxGeometry(0, 1, 90, 48), 'text;verticalAlign=middle;spacingLeft=8;fontSize=13;fontColor=#4C5DBA;align=center;spacing=0;fontStyle=1');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(98, -52);
				text6.vertex = true;
				bg3.insert(text6);
				var bg4 = new mxCell('', new mxGeometry(0, 0.76, 358, 40), s2 + 'marginRect;rectMargin=8;;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;resizeHeight=1;resizeWidth=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 81);
				bg4.vertex = true;
				bg1.insert(bg4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Card collection');
			}),
			this.addEntry(dt + 'card collection', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ECECEC;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#B4B4B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Notes', new mxGeometry(0, 0, 358, 57), 'text;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=20;fontColor=#333333;spacingTop=-3;verticalAlign=middle;spacingLeft=72;align=left;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#333333;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#333333;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-30, - 8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var bg2 = new mxCell('Call\nJennifer', new mxGeometry(0, 0, 179, 140), s2 + 'marginRect;rectMargin=4;rectMarginTop=4;rectMarginLeft=4;fillColor=#00BCD4;strokeColor=none;shadow=1;fontColor=#FFFFFF;align=left;verticalAlign=top;fontSize=24;spacingLeft=24;spacingTop=14;resizeHeight=1;resizeWidth=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('', new mxGeometry(0, 1, 167, 20), 'shape=line;strokeColor=#00AEC4;shadow=0;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(8, -54);
				part1.vertex = true;
				bg2.insert(part1);
				var text1 = new mxCell('May 24, 2017', new mxGeometry(0, 1, 179, 40), 'text;fontColor=#FFFFFF;verticalAlign=middle;spacingLeft=24;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg2.insert(text1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 20, 24), s2 + 'telephone;fillColor=#ffffff;strokeColor=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-33, -36);
				icon1.vertex = true;
				bg2.insert(icon1);
				var bg3 = new mxCell('To bring:\n\n- camping gear\n- lantern\n- smores\n- extra blankets\n- towel for pup\n- warm socks\n- first aid kit', 
						new mxGeometry(0, 0.217, 179, 196), s2 + 'marginRect;rectMargin=4;rectMarginLeft=4;fillColor=#3F51B5;strokeColor=none;shadow=1;fontColor=#FFFFFF;align=left;verticalAlign=top;fontSize=13;spacingLeft=24;spacingTop=10;resizeHeight=1;resizeWidth=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 81);
				bg3.vertex = true;
				bg1.insert(bg3);
				var bg4 = new mxCell('Yuna\ntickets on\nsale 6/24', new mxGeometry(0, 0.52, 179, 168), s2 + 'marginRect;rectMargin=4;rectMarginLeft=4;fillColor=#607D8B;strokeColor=none;shadow=1;fontColor=#FFFFFF;align=left;verticalAlign=top;fontSize=24;spacingLeft=24;spacingTop=10;resizeHeight=1;resizeWidth=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 81);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 167, 20), 'shape=line;strokeColor=#597481;shadow=0;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(8, -54);
				part1.vertex = true;
				bg4.insert(part1);
				var text1 = new mxCell('Marh 24, 2017', new mxGeometry(0, 1, 179, 40), 'text;fontColor=#FFFFFF;verticalAlign=middle;spacingLeft=16;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg4.insert(text1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 18, 20), s2 + 'calendar;fillColor=#ffffff;strokeColor=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-32, -34);
				icon1.vertex = true;
				bg4.insert(icon1);
				var bg5 = new mxCell('To bring:\n\n- camping gear\n- lantern\n- smores\n- extra blankets\n- towel for pup\n- warm socks\n- first aid kit', 
						new mxGeometry(0, 0.78, 179, 40), s2 + 'marginRect;rectMargin=4;rectMarginLeft=4;fillColor=#FFEB3B;strokeColor=none;shadow=1;fontColor=#FFFFFF;align=left;verticalAlign=top;fontSize=13;spacingLeft=16;spacingTop=6;resizeWidth=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 81);
				bg5.vertex = true;
				bg1.insert(bg5);
				var bg6 = new mxCell('Groceries', new mxGeometry(0.5, 0, 179, 236), s2 + 'marginRect;rectMargin=4;rectMarginTop=4;rectMarginRight=4;fillColor=#455A64;strokeColor=none;shadow=1;fontColor=#bbbbbb;align=left;verticalAlign=top;fontSize=13;spacingLeft=20;spacingTop=14;resizeHeight=1;resizeWidth=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 81);
				bg6.vertex = true;
				bg1.insert(bg6);
				var part1 = new mxCell('', new mxGeometry(0, 1, 168, 20), 'shape=line;strokeColor=#597481;shadow=0;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(4, -54);
				part1.vertex = true;
				bg6.insert(part1);
				var part2 = new mxCell('almond milk', new mxGeometry(0, 0, 18, 18), s2 + 'checkbox;strokeColor=#ffffff;shadow=0;fontColor=#FFFFFF;fillColor=none;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=10;fontSize=13;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(20, 52);
				part2.vertex = true;
				bg6.insert(part2);
				var part3 = new mxCell('coconut water', new mxGeometry(0, 0, 18, 18), s2 + 'checkbox;strokeColor=#ffffff;shadow=0;fontColor=#FFFFFF;fillColor=none;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=10;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(20, 86);
				part3.vertex = true;
				bg6.insert(part3);
				var part4 = new mxCell('cucumber', new mxGeometry(0, 0, 18, 18), s2 + 'checkbox;strokeColor=none;shadow=0;fontColor=#FFFFFF;fillColor=#089953;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=10;fontSize=13;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(20, 120);
				part4.vertex = true;
				bg6.insert(part4);
				var part5 = new mxCell('green apples', new mxGeometry(0, 0, 18, 18), s2 + 'checkbox;strokeColor=#ffffff;shadow=0;fontColor=#FFFFFF;fillColor=none;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=10;fontSize=13;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(20, 154);
				part5.vertex = true;
				bg6.insert(part5);
				var text1 = new mxCell('Campbell', new mxGeometry(0, 1, 168, 40), 'text;fontColor=#FFFFFF;verticalAlign=middle;spacingLeft=20;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg6.insert(text1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 14, 22), s2 + 'location;fillColor=#ffffff;strokeColor=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-36, -35);
				icon1.vertex = true;
				bg6.insert(icon1);
				var bg7 = new mxCell('Clean desk', 
						new mxGeometry(0.5, 0.365, 179, 62), s2 + 'marginRect;rectMargin=4;rectMarginRight=4;fillColor=#607D8B;strokeColor=none;shadow=1;fontColor=#FFFFFF;fontSize=24;align=left;spacingLeft=20;spacingTop=-2;resizeWidth=1;resizeHeight=1;');
				bg7.geometry.relative = true;
				bg7.geometry.offset = new mxPoint(0, 81);
				bg7.vertex = true;
				bg1.insert(bg7);
				var bg8 = new mxCell('', new mxGeometry(0.5, 0.46, 179, 230), s2 + 'marginRect;rectMargin=4;rectMarginRight=4;fillColor=#BDBDBD;strokeColor=none;shadow=1;resizeWidth=1;resizeHeight=1;');
				bg8.geometry.relative = true;
				bg8.geometry.offset = new mxPoint(0, 81);
				bg8.vertex = true;
				bg1.insert(bg8);
				var part1 = new mxCell('New exhibition at Dan\n"Food to Love"\n6.25.14-6.26-14\n740 Valencia St.', 
						new mxGeometry(0, 126, 179, 104), s2 + 'marginRect;rectMargin=4;rectMarginRight=4;strokeColor=#FF7043;fillColor=#FF7043;shadow=0;fontColor=#FFFFFF;align=left;fontSize=10;spacingLeft=20;');
				part1.vertex = true;
				bg8.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 1, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#EEFF41;shadow=0;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-75, -128);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(21, 21, 14, 14), s2 + 'plus;strokeColor=#767E1F;strokeWidth=2;shadow=0;');
				part3.vertex = true;
				part2.insert(part3);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Card collection');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 344, 254), 'shape=rect;fillColor=#BDBDBD;strokeColor=#BDBDBD;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Greyhound divisively hello couldly wonderfully marginally far upon excluding.', 
						new mxGeometry(0, 172, 344, 82), 'shape=rect;strokeColor=none;fillColor=#ffffff;;whiteSpace=wrap;align=left;spacingLeft=16;fontColor=#666666;fontSize=14;');
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 230, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 378), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 342, 70), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#999999;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(15, 15);
				icon1.vertex = true;
				part1.insert(icon1);
				var text1 = new mxCell('Title', new mxGeometry(0, 0, 235, 20), 'text;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(65, 15);
				text1.vertex = true;
				part1.insert(text1);
				var text2 = new mxCell('Subhead', new mxGeometry(0, 0, 235, 20), 'text;fontColor=#999999;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(65, 35);
				text2.vertex = true;
				part1.insert(text2);
				var part2 = new mxCell('Greyhound divisively hello couldly wonderfully marginally far upon excluding.',
						new mxGeometry(0, 250, 342, 128), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;;whiteSpace=wrap;align=left;spacingLeft=16;fontColor=#666666;verticalAlign=top;spacingTop=10;fontSize=13;spacingRight=16;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 1, 342, 48), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;;whiteSpace=wrap;align=left;spacingLeft=14;fontColor=#BDBDBD;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -48);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 1, 24, 24), 'shape=rect;strokeColor=none;fillColor=#F27CC2;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(15, -38);
				part4.vertex = true;
				part3.insert(part4);
				var icon2 = new mxCell('', new mxGeometry(3, 4, 18, 16), s2 + 'heart;strokeColor=none;fillColor=#B53E85;');
				icon2.vertex = true;
				part4.insert(icon2);
				var part5 = new mxCell('', new mxGeometry(0, 1, 24, 24), 'shape=rect;strokeColor=none;fillColor=#F6BBDE;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(63, -38);
				part5.vertex = true;
				part3.insert(part5);
				var icon3 = new mxCell('', new mxGeometry(3, 4, 18, 16), s2 + 'reply;strokeColor=none;fillColor=#995E81;');
				icon3.vertex = true;
				part5.insert(icon3);
				var part6 = new mxCell('ACTION', new mxGeometry(1, 1, 70, 36), 'shape=rect;strokeColor=none;fillColor=#F6BBDE;fontColor=#6A2F52;fontStyle=1;fontSize=13;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(-152, -42);
				part6.vertex = true;
				part3.insert(part6);
				var part7 = new mxCell('ACTION', new mxGeometry(1, 1, 70, 36), 'shape=rect;strokeColor=none;fillColor=#F37DC3;fontColor=#8C155C;fontStyle=1;fontSize=13;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(-75, -42);
				part7.vertex = true;
				part3.insert(part7);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 378, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 344, 420), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#999999;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(15, 15);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('Title', new mxGeometry(0, 0, 235, 20), 'text;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(65, 15);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Subhead', new mxGeometry(0, 0, 235, 20), 'text;fontColor=#999999;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(65, 35);
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(0.0116, 0, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 70);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0.2587, 0, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 70);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0.5058, 0, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 70);
				part4.vertex = true;
				bg1.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0.7529, 0, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 70);
				part5.vertex = true;
				bg1.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0.0116, 0.2024, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 70);
				part6.vertex = true;
				bg1.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0.2587, 0.2024, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 70);
				part7.vertex = true;
				bg1.insert(part7);
				var part8 = new mxCell('', new mxGeometry(0.5058, 0.2024, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(0, 70);
				part8.vertex = true;
				bg1.insert(part8);
				var part9 = new mxCell('', new mxGeometry(0.7529, 0.2024, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 70);
				part9.vertex = true;
				bg1.insert(part9);
				var part10 = new mxCell('', new mxGeometry(0.0116, 0.4048, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(0, 70);
				part10.vertex = true;
				bg1.insert(part10);
				var part11 = new mxCell('', new mxGeometry(0.2587, 0.4048, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(0, 70);
				part11.vertex = true;
				bg1.insert(part11);
				var part12 = new mxCell('', new mxGeometry(0.5058, 0.4048, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(0, 70);
				part12.vertex = true;
				bg1.insert(part12);
				var part13 = new mxCell('', new mxGeometry(0.7529, 0.4048, 81, 81), 'shape=rect;strokeColor=none;fillColor=#666666;resizeWidth=1;resizeHeight=1;');
				part13.geometry.relative = true;
				part13.geometry.offset = new mxPoint(0, 70);
				part13.vertex = true;
				part13.vertex = true;
				bg1.insert(part13);
				var part14 = new mxCell('ACTION', new mxGeometry(0, 1, 344, 48), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;;whiteSpace=wrap;align=left;spacingLeft=14;fontColor=#737373;fontStyle=1;fontSize=14;resizeWidth=1;');
				part14.geometry.relative = true;
				part14.geometry.offset = new mxPoint(0, -96);
				part14.vertex = true;
				bg1.insert(part14);
				var part15 = new mxCell('ACTION', new mxGeometry(0, 1, 344, 48), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;;whiteSpace=wrap;align=left;spacingLeft=14;fontColor=#737373;fontStyle=1;fontSize=14;resizeWidth=1;');
				part15.geometry.relative = true;
				part15.geometry.offset = new mxPoint(0, -48);
				part15.vertex = true;
				bg1.insert(part15);
			   	return sb.createVertexTemplateFromCells([bg1], 344, 420, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 344, 162), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 344, 48), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -48);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('Action area 3', new mxGeometry(248, 0, 96, 162), 'shape=rect;fillColor=#F37DC3;strokeColor=none;fontColor=#EC1996;opacity=30;fontSize=10;fontStyle=1');
				part2.vertex = true;
				bg1.insert(part2);
				var text1 = new mxCell('Title', new mxGeometry(0, 0, 248, 40), 'text;fontSize=20;fontColor=#666666;spacingTop=10;verticalAlign=middle;spacingLeft=10;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Subhead', new mxGeometry(0, 0, 248, 20), 'text;fontSize=12;fontColor=#666666;spacingTop=0;verticalAlign=middle;spacingLeft=10;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 40);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Greyhound divisively hello', new mxGeometry(0, 0, 248, 20), 'text;fontSize=13;fontColor=#3C3C3C;spacingTop=0;verticalAlign=middle;spacingLeft=10;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 65);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('ACTION', new mxGeometry(0, 1, 70, 36), 'shape=rect;strokeColor=none;fillColor=#F37DC3;fontColor=#8C155C;fontStyle=1;fontSize=12;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(5, -42);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('ACTION', new mxGeometry(0, 1, 70, 36), 'shape=rect;strokeColor=none;fillColor=#F6BBDE;fontColor=#6A2F52;fontStyle=1;fontSize=12;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(85, -42);
				text5.vertex = true;
				bg1.insert(text5);
			   	return sb.createVertexTemplateFromCells([bg1], 344, 162, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 344, 162), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 344, 48), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -48);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(248, 0, 96, 162), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;');
				part2.vertex = true;
				bg1.insert(part2);
				var text1 = new mxCell('Rate this album', new mxGeometry(0, 0, 248, 40), 'text;fontSize=23;fontColor=#666666;spacingTop=10;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Mac Miller', new mxGeometry(0, 0, 248, 20), 'text;fontSize=12;fontColor=#666666;spacingTop=0;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 44);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Live From Space', new mxGeometry(0, 0, 248, 20), 'text;fontSize=13;fontColor=#3C3C3C;spacingTop=0;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 65);
				text3.vertex = true;
				bg1.insert(text3);
				var icon1 = new mxCell('', new mxGeometry(0, 1, 18, 18), s2 + 'star;strokeColor=#666666;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(11, -33);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(0, 1, 18, 18), s2 + 'star;strokeColor=#666666;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(45, -33);
				icon2.vertex = true;
				bg1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(0, 1, 18, 18), s2 + 'star;strokeColor=#666666;fillColor=#ffffff;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(79, -33);
				icon3.vertex = true;
				bg1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(0, 1, 18, 18), s2 + 'star;strokeColor=#666666;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(113, -33);
				icon4.vertex = true;
				bg1.insert(icon4);
				var icon5 = new mxCell('', new mxGeometry(0, 1, 18, 18), s2 + 'star;strokeColor=#666666;fillColor=#ffffff;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(147, -33);
				icon5.vertex = true;
				bg1.insert(icon5);
			   	return sb.createVertexTemplateFromCells([bg1], 344, 162, 'Card with UI controls');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 522), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 342, 328), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;fontColor=#666666;fontSize=10;fontStyle=1;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -328);
				part1.vertex = true;
				bg1.insert(part1);
				var text1 = new mxCell('Basilico', new mxGeometry(0, 0, 260, 50), 'text;fontColor=#000000;fontSize=26;fontStyle=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				part1.insert(text1);
				var icon1 = new mxCell('250ft', new mxGeometry(1, 0, 10, 15), s2 + 'location;strokeColor=none;fillColor=#C8C8C8;fontColor=#999999;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=10;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-72, 25);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 13, 13), s2 + 'star;strokeColor=none;fillColor=#FACB43;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(10, 61);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(0, 0, 13, 13), s2 + 'star;strokeColor=none;fillColor=#FACB43;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(27, 61);
				icon2.vertex = true;
				part1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(0, 0, 13, 13), s2 + 'star;strokeColor=none;fillColor=#FACB43;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(44, 61);
				icon3.vertex = true;
				part1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(0, 0, 13, 13), s2 + 'star;strokeColor=none;fillColor=#FACB43;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(61, 61);
				icon4.vertex = true;
				part1.insert(icon4);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 13, 13), s2 + 'star;strokeColor=none;fillColor=#FACB43;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(78, 61);
				icon5.vertex = true;
				part1.insert(icon5);
				var text3 = new mxCell('4.7 (51)', new mxGeometry(0, 0, 50, 20), 'text;fontColor=#999999;verticalAlign=middle;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(100, 58);
				text3.vertex = true;
				part1.insert(text3);
				var text4 = new mxCell('$$$ - Italian Restaurant', new mxGeometry(0, 0, 342, 20), 'text;fontColor=#000000;verticalAlign=middle;fontSize=15;spacingLeft=10;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 90);
				text4.vertex = true;
				part1.insert(text4);
				var text5 = new mxCell('Creative Italian dishes offered with signature pasta & a robust wine list in a cozy, rustic setting', 
						new mxGeometry(0, 0, 340, 60), 'text;fontColor=#999999;verticalAlign=middle;fontSize=13;spacingLeft=16;whiteSpace=wrap;spacingRight=16;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 111);
				text5.vertex = true;
				part1.insert(text5);
				var part3 = new mxCell('', new mxGeometry(0, 1, 342, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -154);
				part3.vertex = true;
				part1.insert(part3);
				var text6 = new mxCell("Tonight's availability", new mxGeometry(0, 1, 342, 40), 'text;fontColor=#000000;verticalAlign=middle;fontSize=14;spacingLeft=10;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, -144);
				text6.vertex = true;
				part1.insert(text6);
				var icon6 = new mxCell('', new mxGeometry(0, 1, 20, 20), s2 + 'clock;strokeColor=#999999;fillColor=#ffffff;strokeWidth=2;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(16, -94);
				icon6.vertex = true;
				part1.insert(icon6);
				var text6 = new mxCell("5:30PM", new mxGeometry(0.117, 1, 100, 40), 'text;fontColor=#999999;verticalAlign=middle;fontSize=13;spacingLeft=0;fontStyle=1;align=center;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, -104);
				text6.vertex = true;
				part1.insert(text6);
				var text7 = new mxCell("7:30PM", new mxGeometry(0.4094, 1, 100, 40), 'shape=rect;fontColor=#000000;verticalAlign=middle;fontSize=13;spacingLeft=0;strokeColor=none;fillColor=#D3D3D3;fontStyle=1;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, -104);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell("9:00PM", new mxGeometry(0.7018, 1, 100, 40), 'text;fontColor=#999999;verticalAlign=middle;fontSize=13;spacingLeft=0;fontStyle=1;align=center;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -104);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell("RESERVE", new mxGeometry(0, 1, 110, 48), 'text;fontColor=#2E78F2;verticalAlign=middle;fontSize=13;spacingLeft=0;fontStyle=1;align=center;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, -48);
				text9.vertex = true;
				bg1.insert(text9);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 522, 'Card with segmented buttons');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 570), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('San Francisco', new mxGeometry(0, 0, 342, 70), 'text;fontColor=#000000;fontSize=25;fontStyle=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Mon, 12:30 PM, Mostly sunny', new mxGeometry(0, 0, 300, 40), 'text;fontColor=#000000;fontSize=14;fontStyle=0;verticalAlign=middle;spacingBottom=2;spacingLeft=10;align=left;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 70);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('66', new mxGeometry(0, 110, 100, 100), 'text;fontColor=#757575;fontSize=90;fontStyle=0;verticalAlign=top;spacingBottom=2;spacingLeft=10;align=left;spacingTop=-15;');
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell(String.fromCharCode(176) + 'F', new mxGeometry(0, 0.193, 70, 70), 'text;fontColor=#757575;fontSize=45;fontStyle=0;verticalAlign=middle;spacingBottom=2;spacingLeft=10;align=left;spacingTop=-15;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(100, 0);
				text4.vertex = true;
				bg1.insert(text4);
				var icon1 = new mxCell('', new mxGeometry(1, 0.2105, 80, 70), s2 + 'mostly_sunny;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-102, 0);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('10mph', new mxGeometry(0, 0.2105, 20, 15), s2 + 'wind;strokeWidth=2;strokeColor=#757575;fontColor=#757575;fontSize=14;fontStyle=0;verticalAlign=middle;align=left;labelPosition=right;spacingLeft=30;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(20, 110);
				icon2.vertex = true;
				bg1.insert(icon2);
				var icon3 = new mxCell('3%', new mxGeometry(0, 0.2105, 20, 18), s2 + 'mostly_cloudy;strokeWidth=2;fontColor=#757575;fontSize=14;fontStyle=0;verticalAlign=middle;align=left;labelPosition=right;spacingLeft=30;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(20, 150);
				icon3.vertex = true;
				bg1.insert(icon3);
				var part1 = new mxCell('', new mxGeometry(0, 0.5263, 342, 60), 'shape=rect;fillColor=none;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 0);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(16, 15, 310, 20), s2 + 'scale;strokeWidth=2;strokeColor=#cccccc;');
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0.365, 0.25, 30, 30), s2 + 'handle;fillColor=#666666;strokeColor=none;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -15);
				part3.vertex = true;
				part1.insert(part3);
				var text7 = new mxCell('8 AM', new mxGeometry(21, 35, 50, 20), 'text;fontColor=#666666;fontSize=10;fontStyle=0;verticalAlign=middle;align=center;');
				text7.vertex = true;
				part1.insert(text7);
				var text8 = new mxCell('11 AM', new mxGeometry(82, 35, 50, 20), 'text;fontColor=#666666;fontSize=10;fontStyle=0;verticalAlign=middle;align=center;');
				text8.vertex = true;
				part1.insert(text8);
				var text9 = new mxCell('2 PM', new mxGeometry(145, 35, 50, 20), 'text;fontColor=#666666;fontSize=10;fontStyle=0;verticalAlign=middle;align=center;');
				text9.vertex = true;
				part1.insert(text9);
				var text10 = new mxCell('5 PM', new mxGeometry(206, 35, 50, 20), 'text;fontColor=#666666;fontSize=10;fontStyle=0;verticalAlign=middle;align=center;');
				text10.vertex = true;
				part1.insert(text10);
				var text11 = new mxCell('8 PM', new mxGeometry(269, 35, 50, 20), 'text;fontColor=#666666;fontSize=10;fontStyle=0;verticalAlign=middle;align=center;');
				text11.vertex = true;
				part1.insert(text11);
				var text12 = new mxCell('Tuesday', new mxGeometry(0, 1, 220, 20), 'text;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;spacingLeft=16;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, -190);
				text12.vertex = true;
				bg1.insert(text12);
				var icon4 = new mxCell('75°<font color="#999999">/52°</font>', new mxGeometry(1, 1, 20, 20), 'shape=ellipse;fillColor=#FFD85D;strokeColor=none;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;labelPosition=right;verticalLabelPosition=middle;spacingLeft=30;html=1;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-115, -190);
				icon4.vertex = true;
				bg1.insert(icon4);
				var text12 = new mxCell('Wednesday', new mxGeometry(0, 1, 220, 20), 'text;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;spacingLeft=16;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, -143);
				text12.vertex = true;
				bg1.insert(text12);
				var icon4 = new mxCell('73°<font color="#999999">/50°</font>', new mxGeometry(1, 1, 20, 20), 'shape=ellipse;fillColor=#FFD85D;strokeColor=none;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;labelPosition=right;verticalLabelPosition=middle;spacingLeft=30;html=1;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-115, -143);
				icon4.vertex = true;
				bg1.insert(icon4);
				var text12 = new mxCell('Thursday', new mxGeometry(0, 1, 220, 20), 'text;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;spacingLeft=16;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, -96);
				text12.vertex = true;
				bg1.insert(text12);
				var icon4 = new mxCell('64°<font color="#999999">/52°</font>', new mxGeometry(1, 1, 22, 20), s2 + 'mostly_sunny;fillColor=#FFD85D;strokeColor=none;fontColor=#666666;fontSize=13;fontStyle=0;verticalAlign=middle;align=left;labelPosition=right;verticalLabelPosition=middle;spacingLeft=30;html=1;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-115, -96);
				icon4.vertex = true;
				bg1.insert(icon4);
				var part4 = new mxCell('', new mxGeometry(0, 1, 342, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, -53);
				part4.vertex = true;
				bg1.insert(part4);
				var text13 = new mxCell('FULL REPORT', new mxGeometry(0, 1, 342, 48), 'text;fontColor=#999999;fontSize=14;fontStyle=1;verticalAlign=middle;align=left;spacingLeft=16;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, -48);
				text13.vertex = true;
				bg1.insert(text13);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 570, 'Card with slider');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 236), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Word of the Day', new mxGeometry(0, 0, 342, 40), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=16;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('be·nev·o·lent', new mxGeometry(0, 0, 342, 40), 'text;fontColor=#444444;fontSize=22;fontStyle=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 44);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('adjective', new mxGeometry(0, 0, 342, 30), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=16;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 80);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('well meaning and kindly\n"a benevolent smile"', 
						new mxGeometry(0, 0, 342, 40), 'text;fontColor=#444444;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=2;spacingLeft=16;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 130);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('LEARN MORE', new mxGeometry(0, 1, 342, 48), 'text;fontColor=#444444;fontSize=14;fontStyle=1;verticalAlign=middle;spacingBottom=2;spacingLeft=16;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, -48);
				text5.vertex = true;
				bg1.insert(text5);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 236, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 530), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Title goes here', new mxGeometry(0, 1, 342, 338), s + 'rect;fillColor=#ffffff;strokeColor=none;fontSize=23;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=16;resizeWidth=1;align=left;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -338);
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Subtitle here', new mxGeometry(0, 0, 342, 20), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 60);
				text2.vertex = true;
				part1.insert(text2);
				var part2 = new mxCell('ACTION 1', new mxGeometry(0, 0, 85, 40), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;fontSize=13;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 100);
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('ACTION 2', new mxGeometry(0, 0, 85, 40), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(85, 100);
				part3.vertex = true;
				part1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(1, 0, 20, 10), s2 + 'up;strokeWidth=2;strokeColor=#999999;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(-40, 115);
				part4.vertex = true;
				part1.insert(part4);
				var part5 = new mxCell(
						"I'm a thing. But, like most politicians, he promised more than he could deliver. You won't have time for sleeping, soldier, not with all the bed making you'll" +
						" be doing. Then we'll go with that data file! Hey, you add a one and two zeros to that or we walk! You're going to do his laundry? I've got to find a way " +
						"to escape.", 
						new mxGeometry(0, 0, 342, 196), 'text;whiteSpace=wrap;fontSize=14;spacing=16;spacingTop=-4;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 142);
				part5.vertex = true;
				part1.insert(part5);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 530, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 386), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 342, 72), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#BDBDBD;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(16, 16);
				part2.vertex = true;
				bg1.insert(part2);
				var text1 = new mxCell('Title', new mxGeometry(0, 0, 240, 20), 'text;spacingLeft=10;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(56, 16);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Subhead', new mxGeometry(0, 0, 240, 20), 'text;spacingLeft=10;fontColor=#999999;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(56, 36);
				text2.vertex = true;
				bg1.insert(text2);
				var part3 = new mxCell('Greyhound divisively hello coldly wonderfully marginally far upon excluding.', 
						new mxGeometry(0, 1, 342, 122), s + 'rect;whiteSpace=wrap;align=left;spacingLeft=0;fontColor=#444444;spacing=16;fontSize=13;resizeWidth=1;fillColor=#ffffff;strokeColor=none;verticalAlign=top;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -122);
				part3.vertex = true;
				bg1.insert(part3);
				var part5 = new mxCell('ACTION 1', new mxGeometry(0, 1, 70, 32), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(8, -40);
				part5.vertex = true;
				part3.insert(part5);
				var part6 = new mxCell('ACTION 2', new mxGeometry(0, 1, 70, 32), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(86, -40);
				part6.vertex = true;
				part3.insert(part6);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 386, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 356), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 342, 72), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#BDBDBD;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(16, 16);
				part2.vertex = true;
				bg1.insert(part2);
				var text1 = new mxCell('Title', new mxGeometry(0, 0, 240, 20), 'text;spacingLeft=10;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(56, 16);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Subhead', new mxGeometry(0, 0, 240, 20), 'text;spacingLeft=10;fontColor=#999999;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(56, 36);
				text2.vertex = true;
				bg1.insert(text2);
				var part3 = new mxCell('', new mxGeometry(0, 1, 342, 92), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -92);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('ACTION 1', new mxGeometry(0, 1, 70, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(8, -76);
				part4.vertex = true;
				part3.insert(part4);
				var part5 = new mxCell('ACTION 2', new mxGeometry(0, 1, 70, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(8, -40);
				part5.vertex = true;
				part3.insert(part5);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 356, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 334), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Title goes here', new mxGeometry(0, 1, 342, 142), s + 'rect;fillColor=#ffffff;strokeColor=none;fontSize=23;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=16;resizeWidth=1;align=left;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -142);
				part1.vertex = true;
				bg1.insert(part1);
				var text1 = new mxCell('Subtitle here', new mxGeometry(0, 0, 342, 20), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 58);
				text1.vertex = true;
				part1.insert(text1);
				var part2 = new mxCell('ACTION 1', new mxGeometry(0, 1, 70, 32), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;fontSize=13;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(8, -40);
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('ACTION 2', new mxGeometry(0, 1, 70, 32), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(86, -40);
				part3.vertex = true;
				part1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(1, 1, 16, 8), s2 + 'up;strokeWidth=3;strokeColor=#666666;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(-38, -25);
				part4.vertex = true;
				part1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 334, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('Title goes here', new mxGeometry(0, 0, 300, 266), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontColor=#000000;fontSize=23;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=20;align=left;');
				bg1.vertex = true;
				var text1 = new mxCell('Subtitle here', new mxGeometry(0, 0, 300, 20), 'text;fontColor=#999999;fontSize=12;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 59);
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell(
						"I'm a thing. But, like most politicians, he promised more than he could deliver. You won't have time for sleeping, soldier, not with all the bed making you'll" +
						" be doing. Then we'll go with that data file! Hey, you add a one and two zeros to that or we walk! You're going to do his laundry? I've got to find a way " +
						"to escape", 
						new mxGeometry(0, 0, 300, 148), 'text;whiteSpace=wrap;fontSize=13;spacing=16;spacingTop=-4;resizeWidth=1;resizeHeight=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 70);
				part1.vertex = true;
				bg1.insert(part1);
				var part3 = new mxCell('ACTION 1', new mxGeometry(0, 1, 70, 40), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(8, -48);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('ACTION 2', new mxGeometry(0, 1, 70, 40), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(86, -48);
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 266, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 246), 'shape=rect;fillColor=#BDBDBD;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 342, 54), 'shape=rect;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -54);
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'heart;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-147, -36);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 1, 14, 20), s2 + 'bookmark;strokeColor=none;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-92, -37);
				icon2.vertex = true;
				part1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'reply;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-49, -36);
				icon3.vertex = true;
				part1.insert(icon3);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 246, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 342), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;fontColor=#000000;fontSize=12;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=0;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Title goes here', new mxGeometry(0, 1, 342, 138), 'shape=rect;fillColor=#000000;strokeColor=none;opacity=25;fontColor=#FFFFFF;fontSize=23;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=17;align=left;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -138);
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Subtitle here', new mxGeometry(0, 0, 342, 20), 'text;fontColor=#FFFFFF;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 54);
				text2.vertex = true;
				part1.insert(text2);
				var part2 = new mxCell('ACTION 1', new mxGeometry(0, 1, 80, 32), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=13;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(8, - 40);
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('ACTION 2', new mxGeometry(0, 1, 80, 32), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(96, - 40);
				part3.vertex = true;
				part1.insert(part3);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 342, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('Title', new mxGeometry(0, 0, 168, 216), s + 'rect;fillColor=#BDBDBD;strokeColor=none;fontColor=#FFFFFF;fontSize=22;fontStyle=0;verticalAlign=bottom;spacingBottom=48;spacingLeft=0;align=left;spacing=12;gradientColor=#606060;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 168, 48), 'shape=rect;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -48);
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'heart;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-146, -33);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 1, 14, 20), s2 + 'bookmark;strokeColor=none;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-91, -34);
				icon2.vertex = true;
				icon2.vertex = true;
				part1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'reply;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-42, -33);
				icon3.vertex = true;
				icon3.vertex = true;
				part1.insert(icon3);
				var bg2 = new mxCell('Title', new mxGeometry(174, 0, 168, 216), s + 'rect;fillColor=#BDBDBD;strokeColor=none;fontColor=#FFFFFF;fontSize=22;fontStyle=0;verticalAlign=bottom;spacingBottom=48;spacingLeft=0;align=left;spacing=12;gradientColor=#606060;shadow=1;');
				bg2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 1, 168, 48), 'shape=rect;fillColor=#ffffff;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -48);
				part1.vertex = true;
				bg2.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'heart;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-146, -33);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 1, 14, 20), s2 + 'bookmark;strokeColor=none;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-91, -34);
				icon2.vertex = true;
				icon2.vertex = true;
				part1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 1, 20, 18), s2 + 'reply;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-42, -33);
				icon3.vertex = true;
				icon3.vertex = true;
				part1.insert(icon3);
			   	return sb.createVertexTemplateFromCells([bg1, bg2], 342, 216, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('Title here', new mxGeometry(0, 0, 342, 146), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontColor=#000000;fontSize=24;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=15;align=left;');
				bg1.vertex = true;
				var text2 = new mxCell('Subtitle here', new mxGeometry(0, 0, 246, 20), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 59);
				text2.vertex = true;
				bg1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(1, 0, 80, 80), 'shape=rect;fillColor=#bbbbbb;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-96, 16);
				part1.vertex = true;
				bg1.insert(part1);
				var part3 = new mxCell('ACTION 1', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(8, -40);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('ACTION 2', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(96, -40);
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 146, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('Title here', new mxGeometry(0, 0, 342, 176), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontColor=#000000;fontSize=24;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=15;align=left;');
				bg1.vertex = true;
				var text2 = new mxCell('Subtitle here', new mxGeometry(0, 0, 246, 20), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 59);
				text2.vertex = true;
				bg1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(1, 0, 112, 112), 'shape=rect;fillColor=#bbbbbb;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-128, 16);
				part1.vertex = true;
				bg1.insert(part1);
				var part3 = new mxCell('ACTION 1', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(8, -40);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('ACTION 2', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(96, -40);
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 176, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('Title here', new mxGeometry(0, 0, 342, 228), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontColor=#000000;fontSize=24;fontStyle=0;verticalAlign=top;spacingBottom=0;spacingLeft=16;spacingTop=15;align=left;');
				bg1.vertex = true;
				var text2 = new mxCell('Subtitle here', new mxGeometry(0, 0, 246, 20), 'text;fontColor=#999999;fontSize=13;fontStyle=0;verticalAlign=middle;spacingBottom=0;spacingLeft=16;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 59);
				text2.vertex = true;
				bg1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(1, 0, 152, 152), 'shape=rect;fillColor=#bbbbbb;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-168, 16);
				part1.vertex = true;
				bg1.insert(part1);
				var part3 = new mxCell('ACTION 1', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(8, -40);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('ACTION 2', new mxGeometry(0, 1, 80, 32), 'shape=rect;fontSize=13;strokeColor=none;fillColor=#ffffff;fontColor=#444444;fontStyle=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(96, -40);
				part4.vertex = true;
				bg1.insert(part4);
			   	return sb.createVertexTemplateFromCells([bg1], 300, 224, 'Card');
			}),
			this.addEntry(dt + 'card', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 272), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 240, 240), 'shape=rect;fillColor=#bbbbbb;strokeColor=none;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, 16);
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 20, 18), s2 + 'heart;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-53, 38);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 14, 20), s2 + 'bookmark;strokeColor=none;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-51, 86);
				icon2.vertex = true;
				bg1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 20, 18), s2 + 'reply;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-53, 135);
				icon3.vertex = true;
				bg1.insert(icon3);
			   	return sb.createVertexTemplateFromCells([bg1], 342, 272, 'Card');
			})
   		];
		  
		this.addPalette('gmdlCards', 'GMDL / Cards', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLChipsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library chip ';
		var sb = this;
		
		var fns = [
            this.addEntry(dt + 'chip', function()
		    {
				var bg = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 170, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;align=center;');
				bg.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0, 32, 32), s2 + 'user;strokeColor=none;fillColor=#666666;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), 'shape=ellipse;strokeColor=none;fillColor=#A5A5A5;aspect=fixed;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-24, -8);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('', new mxGeometry(5, 5, 6, 6), s2 + 'x;strokeColor=#ffffff;strokeWidth=2;');
				part3.vertex = true;
				part2.insert(part3);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Chip with text and icon');
		    }),
            this.addEntry(dt + 'chip', function()
		    {
				var bg = new mxCell('ANZ Bank', new mxGeometry(0, 0, 170, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;align=center;');
				bg.vertex = true;
				var part1 = new mxCell('A', new mxGeometry(0, 0, 32, 32), 'shape=ellipse;strokeColor=none;fillColor=#009587;fontColor=#ffffff;fontSize=14;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Chip with text and icon');
		    }),
			this.addEntry(dt + 'list style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Compose', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 22, 22), s2 + 'send;strokeColor=none;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, -11);
				icon2.vertex = true;
				bar1.insert(icon2);
				var bar2 = new mxCell('To', new mxGeometry(0, 0, 358, 54), s + 'rect;strokeColor=#eeeeee;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#999999;spacingTop=-3;align=left;spacingLeft=16;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var part1 = new mxCell('Trevor Hansen', new mxGeometry(0, 0.5, 130, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(70, -16);
				part1.vertex = true;
				bar2.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0, 0, 32, 32), s2 + 'user;strokeColor=none;fillColor=#666666;aspect=fixed;');
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('Alex Nelson', new mxGeometry(0, 0.5, 120, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(208, -16);
				part3.vertex = true;
				bar2.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 0, 32, 32), s2 + 'user;strokeColor=none;fillColor=#666666;aspect=fixed');
				part4.vertex = true;
				part3.insert(part4);
				var bar3 = new mxCell('Plans for the weekend', new mxGeometry(0, 0, 358, 54), 'shape=rect;fontSize=13;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacingLeft=16;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 135);
				bar3.vertex = true;
				bg1.insert(bar3);
				var part5 = new mxCell(
						"Hi,\nI just wanted to check in and see if you had any plans this upcoming weekend. We are thinking of heading up to Napa. Let us know " +
						"if you'd like to go and we'll make reservations.", 
						new mxGeometry(0, 0, 358, 400), 'shape=rect;fontSize=14;strokeColor=none;fillColor=none;whiteSpace=wrap;verticalAlign=top;align=left;spacing=16;resizeWidth=1;resizeHeight=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 189);
				part5.vertex = true;
				bg1.insert(part5);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'List Style');
			}),
			this.addEntry(dt + 'list style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Compose', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 22, 22), s2 + 'send;strokeColor=none;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, -11);
				icon2.vertex = true;
				bar1.insert(icon2);
				var bar2 = new mxCell('To', new mxGeometry(0, 0, 358, 54), s + 'rect;strokeColor=#eeeeee;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#999999;spacingTop=-3;align=left;spacingLeft=16;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var part1 = new mxCell('Trevor Hansen', new mxGeometry(0, 0.5, 130, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(70, -16);
				part1.vertex = true;
				bar2.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0, 0, 32, 32), s2 + 'user;strokeColor=none;fillColor=#666666;aspect=fixed;');
				part2.vertex = true;
				part1.insert(part2);
				var part3 = new mxCell('Alex Nelson', new mxGeometry(0, 0.5, 120, 32), 'shape=rect;arcSize=50;strokeColor=none;fillColor=#eeeeee;rounded=1;spacingLeft=24;fontSize=13;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(208, -16);
				part3.vertex = true;
				bar2.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 0, 32, 32), s2 + 'user;strokeColor=none;fillColor=#666666;aspect=fixed');
				part4.vertex = true;
				part3.insert(part4);
				var bar3 = new mxCell('Plans for the weekend', new mxGeometry(0, 0, 358, 54), 'shape=rect;fontSize=13;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacingLeft=16;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 135);
				bar3.vertex = true;
				bg1.insert(bar3);
				var part5 = new mxCell(
						"Hi,\nI just wanted to check in and see if you had any plans this upcoming weekend. We are thinking of heading up to Napa. Let us know " +
						"if you'd like to go and we'll make reservations.", 
						new mxGeometry(0, 0, 358, 400), 'shape=rect;fontSize=14;strokeColor=none;fillColor=none;whiteSpace=wrap;verticalAlign=top;align=left;spacing=16;resizeWidth=1;resizeHeight=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 189);
				part5.vertex = true;
				bg1.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 294, 184), s + 'rect;strokeColor=none;fillColor=#ffffff;shadow=1;resizeWidth=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(56, 88);
				part6.vertex = true;
				bg1.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0, 0, 294, 72), s + 'rect;strokeColor=none;fillColor=#00B8D4;');
				part7.vertex = true;
				part6.insert(part7);
				var part8 = new mxCell('', new mxGeometry(0, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#666666;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(10, -18);
				part8.vertex = true;
				part7.insert(part8);
				var text3 = new mxCell('Contact name', new mxGeometry(0, 4, 294, 30), 'text;fontSize=16;fontColor=#ffffff;spacingTop=-3;verticalAlign=bottom;spacingLeft=55;');
				text3.vertex = true;
				part7.insert(text3);
				var text4 = new mxCell('trevor_h@example.com', new mxGeometry(0, 34, 294, 30), 'text;fontSize=14;fontColor=#ffffff;spacingTop=-3;verticalAlign=top;textOpacity=60;spacingLeft=55;');
				text4.vertex = true;
				part7.insert(text4);
				var part9 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), s + 'ellipse;strokeColor=none;fillColor=#ffffff;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(-32, -10);
				part9.vertex = true;
				part7.insert(part9);
				var part10 = new mxCell('', new mxGeometry(6, 6, 8, 8), s2 + 'x;strokeColor=#00B8D4;strokeWidth=2;');
				part10.vertex = true;
				part9.insert(part10);
				var part11 = new mxCell('', new mxGeometry(0, 0.535, 36, 36), s2 + 'user;strokeColor=none;fillColor=#666666;');
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(10, -18);
				part11.vertex = true;
				part6.insert(part11);
				var text5 = new mxCell('trevorh@example.com', new mxGeometry(0, 85, 294, 30), 'text;fontSize=13;fontColor=#999999;spacingTop=0;verticalAlign=middle;spacingLeft=55;');
				text5.vertex = true;
				part6.insert(text5);
				var part12 = new mxCell('', new mxGeometry(0, 0.84, 36, 36), s2 + 'user;strokeColor=none;fillColor=#666666;');
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(10, -18);
				part12.vertex = true;
				part6.insert(part12);
				var text6 = new mxCell('hansen_t@example.com', new mxGeometry(0, 140, 294, 30), 'text;fontSize=13;fontColor=#999999;spacingTop=0;verticalAlign=middle;spacingLeft=55;');
				text6.vertex = true;
				part6.insert(text6);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'List Style');
			})
   		];
		  
		this.addPalette('gmdlChips', 'GMDL / Chips', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLDialogsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library dialog ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'dialog persistent footer', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 280, 472), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Google Wi-Fi', new mxGeometry(0, 0, 280, 60), 'text;verticalAlign=middle;spacing=16;fontSize=20;fontStyle=1;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Signal strength', new mxGeometry(0, 0, 280, 30), 'text;spacingLeft=16;fontColor=#808080;fontSize=11;spacingTop=6;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 60);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Excellent', new mxGeometry(0, 0, 280, 30), 'text;fontSize=15;spacing=2;spacingLeft=16;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 90);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Security', new mxGeometry(0, 0, 280, 50), 'text;verticalAlign=bottom;spacingLeft=16;spacingBottom=5;fontSize=11;fontColor=#808080;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 120);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('802.1x EAP', new mxGeometry(0, 0, 280, 40), 'text;spacingLeft=16;fontSize=15;fontStyle=1;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 170);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Password', new mxGeometry(0, 0, 280, 30), 'text;verticalAlign=middle;spacingLeft=16;fontColor=#009688;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 210);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('|', new mxGeometry(0, 0, 280, 30), 'text;verticalAlign=bottom;spacingBottom=0;spacingLeft=16;fontSize=20;fontColor=#009688;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 235);
				text7.vertex = true;
				bg1.insert(text7);
				var part1 = new mxCell('', new mxGeometry(0.0571, 0, 248, 30), 'shape=line;strokeWidth=2;noLabel=1;strokeColor=#009688;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 260);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('Show password', new mxGeometry(0, 0, 20, 20), 'shape=rect;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontColor=#000000;strokeColor=#666666;fontSize=14;rounded=1;size=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(20, 305);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('Show advanced options', new mxGeometry(0, 0, 20, 20), 'shape=rect;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontColor=#000000;strokeColor=#666666;fontSize=14;rounded=1;size=2;resizeWidht=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(20, 350);
				part3.vertex = true;
				bg1.insert(part3);
				var text8 = new mxCell('CANCEL', new mxGeometry(1, 1, 75, 42), 'text;fontSize=13;fontStyle=1;fontColor=#009688;verticalAlign=middle;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(-160, -42);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('CONNECT', new mxGeometry(1, 1, 85, 42), 'text;fontSize=13;fontStyle=1;fontColor=#009688;verticalAlign=middle;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-85, -42);
				text9.vertex = true;
				bg1.insert(text9);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 472, 'Dialog with persistent footer button');
			}),
			this.addEntry(dt + 'scrollable dialog persistent footer', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 280, 345), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Google Wi-Fi', new mxGeometry(0, 0, 280, 60), 'text;verticalAlign=middle;spacing=16;fontSize=20;fontStyle=1;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Signal strength', new mxGeometry(0, 0, 280, 30), 'text;spacingLeft=16;fontColor=#808080;fontSize=11;spacingTop=6;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 60);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Excellent', new mxGeometry(0, 0, 280, 30), 'text;fontSize=15;spacing=2;spacingLeft=16;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 90);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Security', new mxGeometry(0, 0, 280, 50), 'text;verticalAlign=bottom;spacingLeft=16;spacingBottom=5;fontSize=11;fontColor=#808080;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 120);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('802.1x EAP', new mxGeometry(0, 0, 280, 40), 'text;spacingLeft=16;fontSize=15;fontStyle=1;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 170);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Password', new mxGeometry(0, 0, 280, 30), 'text;verticalAlign=middle;spacingLeft=16;fontColor=#009688;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 210);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('|', new mxGeometry(0, 0, 280, 30), 'text;verticalAlign=bottom;spacingBottom=0;spacingLeft=16;fontSize=20;fontColor=#009688;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 235);
				text7.vertex = true;
				bg1.insert(text7);
				var part1 = new mxCell('', new mxGeometry(0.0571, 0, 248, 30), 'shape=line;strokeWidth=2;noLabel=1;strokeColor=#009688;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 260);
				part1.vertex = true;
				bg1.insert(part1);
				var part1 = new mxCell('', new mxGeometry(0.0571, 1, 248, 30), 'shape=line;strokeWidth=2;noLabel=1;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, - 56);
				part1.vertex = true;
				bg1.insert(part1);
				var text8 = new mxCell('CANCEL', new mxGeometry(1, 1, 75, 42), 'text;fontSize=13;fontStyle=1;fontColor=#009688;verticalAlign=middle;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(-160, -42);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('CONNECT', new mxGeometry(1, 1, 85, 42), 'text;fontSize=13;fontStyle=1;fontColor=#009688;verticalAlign=middle;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-85, -42);
				text9.vertex = true;
				bg1.insert(text9);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 345, 'Scrollable dialog with persistent footer button');
			}),
			this.addEntry(dt + 'message dialog', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 480, 480), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('New message', new mxGeometry(0, 0, 480, 48), s + 'rect;verticalAlign=middle;spacing=16;fontSize=13;fontStyle=1;resizeWidth=1;fillColor=none;strokeColor=#eeeeee;align=left;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(1, 0.5, 14, 14), s2 + 'x;strokeWidth=2;strokeColor=#666666;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-34, -7);
				part1.vertex = true;
				text1.insert(part1);
				var text2 = new mxCell('To', new mxGeometry(0, 0, 480, 30), 'text;spacingLeft=16;fontColor=#808080;fontSize=13;spacingTop=6;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 60);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Subject', new mxGeometry(0, 0, 480, 30), 'text;fontSize=13;spacing=2;spacingLeft=16;fontStyle=0;fontColor=#808080;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 105);
				text3.vertex = true;
				bg1.insert(text3);
				var part3 = new mxCell('', new mxGeometry(0, 1, 480, 65), s2 + 'rect;strokeWidth=1;strokeColor=#eeeeee;fillColor=none;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, -65);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('A', new mxGeometry(0, 1, 24, 4), 'shape=rect;strokeWidth=2;strokeColor=none;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;fontSize=20;spacingBottom=-3;fontColor=#666666;fillColor=#cccccc;fontStyle=0;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(25, -24);
				part4.vertex = true;
				part3.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0, 1, 9, 24), s2 + 'attachment;strokeWidth=2;strokeColor=#666666;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(74, -44);
				part5.vertex = true;
				part3.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 1, 14, 14), s2 + 'plus;strokeWidth=2;strokeColor=#666666;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(110, -39);
				part6.vertex = true;
				part3.insert(part6);
				var text9 = new mxCell('SEND', new mxGeometry(1, 1, 90, 65), 'text;fontSize=13;fontStyle=1;fontColor=#2E78F2;spacingTop=0;verticalAlign=middle;align=center;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-90, -65);
				text9.vertex = true;
				bg1.insert(text9);
			   	return sb.createVertexTemplateFromCells([bg1], 480, 480, 'Message dialog');
			}),
			this.addEntry(dt + 'dialog', function()
			{
				var bg1 = new mxCell("Use Google's location service?", new mxGeometry(0, 0, 280, 273), s + 'rect;fillColor=#ffffff;strokeColor=none;shadow=1;fontSize=19;fontColor=#000000;spacingTop=-6;whiteSpace=wrap;spacing=16;align=left;verticalAlign=top;');
				bg1.vertex = true;
				var text2 = new mxCell(
						"Let Google help apps determine location. This means sending anonymous location data to Google, even when no apps are running.", 
						new mxGeometry(0, 0, 280, 160), 'text;fontSize=16;fontColor=#999999;spacingTop=-6;whiteSpace=wrap;spacing=16;resizeWidth=1;resizeHeight=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 70);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell("DISAGREE", new mxGeometry(1, 1, 80, 48), 'text;fontSize=13;fontColor=#2E78F2;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(-160, -48);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell("AGREE", new mxGeometry(1, 1, 80, 48), 'text;fontSize=13;fontColor=#2E78F2;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, -48);
				text4.vertex = true;
				bg1.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 273, 'Dialog');
			}),
			this.addEntry(dt + 'fullscreen dialog', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('New event', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;fontSize=20;fontColor=#FFFFFF;spacingTop=-8;verticalAlign=middle;align=left;spacingLeft=60;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 14, 14), s2 + 'x;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(20, -9);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('SAVE', new mxGeometry(1, 1, 60, 42), 'text;fontSize=13;fontColor=#FFFFFF;spacingTop=0;verticalAlign=middle;spacingBottom=0;spacingLeft=8;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-61, -42);
				text2.vertex = true;
				bar1.insert(text2);
				var bar2 = new mxCell('heyfromjonathan@gmail.com', new mxGeometry(0, 0, 358, 56), s + 'rect;rect;strokeColor=#eeeeee;align=left;spacing=16;fontSize=14;resizeWidth=1;verticalAlign=middle;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-27, -4);
				icon2.vertex = true;
				bar2.insert(icon2);
				var text3 = new mxCell('Event name', new mxGeometry(0, 0, 358, 86), 'text;fontSize=31;fontColor=#bbbbbb;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=8;spacing=8;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 137);
				text3.vertex = true;
				bg1.insert(text3);
				var part1 = new mxCell('', new mxGeometry(0.0419, 0, 327, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 218);
				part1.vertex = true;
				bg1.insert(part1);
				var text4 = new mxCell('Location', new mxGeometry(0, 0, 358, 70), 'text;fontSize=14;fontColor=#bbbbbb;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;spacing=8;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 223);
				text4.vertex = true;
				bg1.insert(text4);
				var part2 = new mxCell('', new mxGeometry(0.0419, 0, 328, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 288);
				part2.vertex = true;
				bg1.insert(part2);
				var text5 = new mxCell('From', new mxGeometry(0, 0, 358, 40), 'text;fontSize=11;fontColor=#666666;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;spacing=8;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 293);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Fri, May 12 2017', new mxGeometry(0, 0, 200, 40), 'text;fontSize=15;fontColor=#000000;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;spacing=8;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 323);
				text6.vertex = true;
				bg1.insert(text6);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-118, 341);
				icon3.vertex = true;
				bg1.insert(icon3);
				var text7 = new mxCell('4:30 PM', new mxGeometry(1, 0, 70, 40), 'text;fontSize=15;fontColor=#000000;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=0;spacing=8;fontStyle=0');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(-98, 323);
				text7.vertex = true;
				bg1.insert(text7);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-27, 341);
				icon4.vertex = true;
				bg1.insert(icon4);
				var part3 = new mxCell('', new mxGeometry(0.0419, 0, 328, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 358);
				part3.vertex = true;
				bg1.insert(part3);
				var text8 = new mxCell('To', new mxGeometry(0, 0, 358, 40), 'text;fontSize=11;fontColor=#666666;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;spacing=8;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 368);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('Fri, May 12 2017', new mxGeometry(0, 0, 200, 40), 'text;fontSize=15;fontColor=#000000;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=10;spacing=8;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 393);
				text9.vertex = true;
				bg1.insert(text9);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-118,410);
				icon5.vertex = true;
				bg1.insert(icon5);
				var text10 = new mxCell('5:30 PM', new mxGeometry(1, 0, 70, 40), 'text;fontSize=15;fontColor=#000000;spacingTop=0;verticalAlign=bottom;spacingBottom=2;spacingLeft=0;spacing=8;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(-98, 393);
				text10.vertex = true;
				bg1.insert(text10);
				var icon6 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-27, 410);
				icon6.vertex = true;
				bg1.insert(icon6);
				var part4 = new mxCell('', new mxGeometry(0.0419, 0, 328, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 428);
				part4.vertex = true;
				bg1.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0.0419, 0, 328, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 560);
				part5.vertex = true;
				bg1.insert(part5);
				var icon7 = new mxCell('All-Day', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=30;fontSize=15;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(16, 456);
				icon7.vertex = true;
				bg1.insert(icon7);
				var text11 = new mxCell('Pacific Standard Time', new mxGeometry(0, 0, 358, 15), 'text;fontSize=17;fontColor=#000000;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 536);
				text11.vertex = true;
				bg1.insert(text11);
				var icon8 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#999999;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-27, 539);
				icon8.vertex = true;
				bg1.insert(icon8);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fullscreen dialog');
			}),
			this.addEntry(dt + 'dialog scrollable list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 280, 270), 'shape=rect;fontSize=18;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var item1 = new mxCell('None', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=15;fontColor=#000000;spacingTop=0;whiteSpace=wrap;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item1.geometry.relative = true;
				item1.geometry.offset = new mxPoint(16,55);
				item1.vertex = true;
				bg1.insert(item1);
				var item2 = new mxCell('Callisto', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=15;fontColor=#000000;spacingTop=0;whiteSpace=wrap;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item2.geometry.relative = true;
				item2.geometry.offset = new mxPoint(16, 102);
				item2.vertex = true;
				bg1.insert(item2);
				var item3 = new mxCell('Ganymede', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=15;fontColor=#000000;spacingTop=0;whiteSpace=wrap;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item3.geometry.relative = true;
				item3.geometry.offset = new mxPoint(16, 157);
				item3.vertex = true;
				bg1.insert(item3);
				var item4 = new mxCell('Luna', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=15;fontColor=#000000;spacingTop=0;whiteSpace=wrap;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#009688;fillColor=#009688;');
				item4.geometry.relative = true;
				item4.geometry.offset = new mxPoint(16, 202);
				item4.vertex = true;
				bg1.insert(item4);
				var bar1 = new mxCell("Phone Ringtone", new mxGeometry(0, 0, 280, 58), 'shape=rect;fontSize=17;fontColor=#000000;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;fontStyle=1;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var bar2 = new mxCell("", new mxGeometry(0, 1, 280, 52), 'shape=rect;fontSize=17;fontColor=#000000;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, -52);
				bar2.vertex = true;
				bg1.insert(bar2);
				var text3 = new mxCell("CANCEL", new mxGeometry(1, 1, 60, 52), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(-140, -52);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell("OK", new mxGeometry(1, 1, 80, 52), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, -52);
				text4.vertex = true;
				bg1.insert(text4);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 270, 'Dialog with scrollable list');
			}),
			this.addEntry(dt + 'dialog scrollable list', function()
			{
				var bg1 = new mxCell("Discard draft?", new mxGeometry(0, 0, 280, 112), 'shape=rect;fontSize=18;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontSize=17;fontColor=#666666;align=left;spacing=16;align=left;verticalAlign=top;');
				bg1.vertex = true;
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 52), 'text;fontSize=13;fontColor=#0083F1;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -52);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("DISCARD", new mxGeometry(1, 1, 90, 52), 'text;fontSize=13;fontColor=#0083F1;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -52);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 112, 'Dialog with scrollable list');
			}),
			this.addEntry(dt + 'simple dialog', function()
			{
				var bg1 = new mxCell('Set backup account', new mxGeometry(0, 0, 280, 250), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontSize=20;fontColor=#000000;align=left;spacing=16;verticalAlign=top;fontStyle=0;spacingTop=-5;recursiveResize=0');
				bg1.vertex = true;
				var icon1 = new mxCell("username@gmail.com", new mxGeometry(15, 65, 40, 40), s2 + 'user;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;fillColor=#5E97F6;strokeColor=none;labelPosition=right;verticalLabelPosition=middle;');
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell("user02@gmail.com", new mxGeometry(15, 130, 40, 40), s2 + 'user;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;fillColor=#5E97F6;strokeColor=none;labelPosition=right;verticalLabelPosition=middle;');
				icon2.vertex = true;
				bg1.insert(icon2);
				var icon3 = new mxCell("add account", new mxGeometry(15, 195, 40, 40), 'shape=ellipse;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;fillColor=#bdbdbd;strokeColor=none;labelPosition=right;verticalLabelPosition=middle;');
				icon3.vertex = true;
				bg1.insert(icon3);
				var icon4 = new mxCell("", new mxGeometry(12, 12, 16, 16), s2 + 'plus;strokeColor=#ffffff;strokeWidth=2;');
				icon4.vertex = true;
				icon3.insert(icon4);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 250, 'Simple dialog');
			}),
			this.addEntry(dt + 'confirmation dialog', function()
			{
				var bg1 = new mxCell('Phone ringtone', new mxGeometry(0, 0, 280, 520), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;fontSize=20;fontColor=#000000;spacingTop=-7;spacing=20;labelPosition=center;align=left;verticalAlign=top;');
				bg1.vertex = true;
				var item1 = new mxCell('None', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item1.geometry.relative = true;
				item1.geometry.offset = new mxPoint(16, 71);
				item1.vertex = true;
				bg1.insert(item1);
				var item2 = new mxCell('Callisto', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item2.geometry.relative = true;
				item2.geometry.offset = new mxPoint(16, 122);
				item2.vertex = true;
				bg1.insert(item2);
				var item3 = new mxCell('Dione', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item3.geometry.relative = true;
				item3.geometry.offset = new mxPoint(16, 173);
				item3.vertex = true;
				bg1.insert(item3);
				var item4 = new mxCell('Ganymede', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item4.geometry.relative = true;
				item4.geometry.offset = new mxPoint(16, 224);
				item4.vertex = true;
				bg1.insert(item4);
				var item5 = new mxCell('Hangouts Call', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item5.geometry.relative = true;
				item5.geometry.offset = new mxPoint(16, 275);
				item5.vertex = true;
				bg1.insert(item5);
				var item6 = new mxCell('Luna', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#009688;fillColor=#009688;');
				item6.geometry.relative = true;
				item6.geometry.offset = new mxPoint(16, 326);
				item6.vertex = true;
				bg1.insert(item6);
				var item7 = new mxCell('Oberon', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item7.geometry.relative = true;
				item7.geometry.offset = new mxPoint(16, 377);
				item7.vertex = true;
				bg1.insert(item7);
				var item8 = new mxCell('Phobos', new mxGeometry(0, 0, 20, 20), s2 + 'radiobutton;fontSize=16;fontColor=#000000;spacingTop=0;spacing=20;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeWidth=2;strokeColor=#666666;');
				item8.geometry.relative = true;
				item8.geometry.offset = new mxPoint(16, 428);
				item8.vertex = true;
				bg1.insert(item8);
				var bar2 = new mxCell("", new mxGeometry(0, 1, 280, 52), 'shape=rect;fontSize=17;fontColor=#000000;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, -52);
				bar2.vertex = true;
				bg1.insert(bar2);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 52), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -52);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 52), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -52);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 520, 'Confirmation dialog');
			})
   		];
		  
		this.addPalette('gmdlDialogs', 'GMDL / Dialogs', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLDividersPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library divider ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'email list full bleed divider', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Inbox', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;verticalAlign=middle;align=left;spacingLeft=72;spacingTop=-4;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-78, -8);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), 'ellipse;strokeColor=none;fillColor=#ffffff;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-37, -10);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(5, 6, 12, 8), s2 + 'check;strokeColor=#E91E63;fillColor=none;strokeWidth=2;');
				icon4.vertex = true;
				icon3.insert(icon4);
				var bar2 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var text2 = new mxCell('Brunch this weekend?', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar2.insert(text2);
				var text3 = new mxCell("I'll be in your neighbourheed doing errands ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar2.insert(text3);
				var text4 = new mxCell("15 min", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar2.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar2.insert(icon5);
				var bar3 = new mxCell('me, Scott, Jennifer', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 167);
				bar3.vertex = true;
				bg1.insert(bar3);
				var text2 = new mxCell('Summer BBQ', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar3.insert(text2);
				var text3 = new mxCell("Wish I could come, but I'm out of town this ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar3.insert(text3);
				var text4 = new mxCell("2 hr", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar3.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar3.insert(icon5);
				var bar4 = new mxCell('Sandra Adams', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 253);
				bar4.vertex = true;
				bg1.insert(bar4);
				var text2 = new mxCell('Oui oui', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar4.insert(text2);
				var text3 = new mxCell("Do you have any recommendations? Have ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar4.insert(text3);
				var text4 = new mxCell("6 hr", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar4.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar4.insert(icon5);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 339);
				bar5.vertex = true;
				bg1.insert(bar5);
				var text2 = new mxCell('Birthday gift', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar5.insert(text2);
				var text3 = new mxCell("Have any ideas about what to get Heidi for ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar5.insert(text3);
				var text4 = new mxCell("12 hr", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar5.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar5.insert(icon5);
				var bar6 = new mxCell('Britta Holt', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 425);
				bar6.vertex = true;
				bg1.insert(bar6);
				var text2 = new mxCell('Recipe to try', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar6.insert(text2);
				var text3 = new mxCell("We should eat this: grated squash, corn and ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar6.insert(text3);
				var text4 = new mxCell("18 hr", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar6.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar6.insert(icon5);
				var bar7 = new mxCell('David Park', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=16;spacingTop=-10;resizeWidth=1;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 511);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text2 = new mxCell('Giants game', new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=middle;spacingLeft=16;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar7.insert(text2);
				var text3 = new mxCell("Any interest in seeing the Giants play next ...", new mxGeometry(0, 0, 300, 20), 'text;fontSize=13;verticalAlign=top;spacingLeft=16;fontColor=#999999;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 50);
				text3.vertex = true;
				bar7.insert(text3);
				var text4 = new mxCell("23 hr", new mxGeometry(1, 0, 80, 20), 'text;fontSize=12;verticalAlign=top;spacingLeft=16;align=right;spacingTop=2;spacingRight=16;fontColor=#999999;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-80, 0);
				text4.vertex = true;
				bar7.insert(text4);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 50);
				icon5.vertex = true;
				bar7.insert(icon5);
				var icon5 = new mxCell('', new mxGeometry(1, 1, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#18FFFF;shadow=1;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-78, -129);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(20, 20, 16, 16), s2 + 'plus;strokeColor=#084560;strokeWidth=2;');
				icon6.vertex = true;
				icon5.insert(icon6);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Full-bleed dividers');
			}),
			this.addEntry(dt + 'full bleed divider compose email', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Compose', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 22, 22), s2 + 'send;strokeColor=none;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, -11);
				icon2.vertex = true;
				bar1.insert(icon2);
				var bar2 = new mxCell('heyfromjonathan@gmail.com', new mxGeometry(0, 0, 358, 54), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;fontSize=13;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-30, -3);
				icon2.vertex = true;
				bar2.insert(icon2);
				var bar3 = new mxCell('To', new mxGeometry(0, 0, 358, 54), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;fontSize=13;fontColor=#bbbbbb;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 135);
				bar3.vertex = true;
				bg1.insert(bar3);
				var bar4 = new mxCell('Subject', new mxGeometry(0, 0, 358, 54), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;align=left;spacing=16;fontSize=13;fontColor=#bbbbbb;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 189);
				bar4.vertex = true;
				bg1.insert(bar4);
				var bar5 = new mxCell('Message', new mxGeometry(0, 0, 358, 54), 'text;align=left;spacing=16;fontSize=13;fontColor=#bbbbbb;resizeWidth=1;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 243);
				bar5.vertex = true;
				bg1.insert(bar5);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Full-bleed dividers');
			}),
			this.addEntry(dt + 'image based content divider', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#757575;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Albums', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=20;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;spacingTop=-4;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#757575;fillColor=none;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(24, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), s2 + 'search;strokeWidth=2;fillColor=none;strokeColor=#757575;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-37, -10);
				icon3.vertex = true;
				bar1.insert(icon3);
				var text1 = new mxCell('May', new mxGeometry(0, 78, 358, 50), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#757575;align=left;spacingLeft=10;fontSize=14;');
				text1.vertex = true;
				bg1.insert(text1);
				var icon4 = new mxCell('', new mxGeometry(4, 128, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon4.vertex = true;
				bg1.insert(icon4);
				var icon5 = new mxCell('', new mxGeometry(122, 128, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(240, 128, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon6.vertex = true;
				bg1.insert(icon6);
				var icon7 = new mxCell('', new mxGeometry(4, 247, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon7.vertex = true;
				bg1.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(122, 247, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon8.vertex = true;
				bg1.insert(icon8);
				var icon9 = new mxCell('', new mxGeometry(240, 247, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon9.vertex = true;
				bg1.insert(icon9);
				
				var text2 = new mxCell('June', new mxGeometry(0, 362, 358, 50), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#757575;align=left;spacingLeft=10;fontSize=14;');
				text2.vertex = true;
				bg1.insert(text2);
				var icon10 = new mxCell('', new mxGeometry(4, 412, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon10.vertex = true;
				bg1.insert(icon10);
				var icon11 = new mxCell('', new mxGeometry(122, 412, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon11.vertex = true;
				bg1.insert(icon11);
				var icon12 = new mxCell('', new mxGeometry(240, 412, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon12.vertex = true;
				bg1.insert(icon12);
				var icon13 = new mxCell('', new mxGeometry(4, 531, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon13.vertex = true;
				bg1.insert(icon13);
				var icon14 = new mxCell('', new mxGeometry(122, 531, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon14.vertex = true;
				bg1.insert(icon14);
				var icon15 = new mxCell('', new mxGeometry(240, 531, 115, 115), s2 + 'image;strokeColor=#bbbbbb;fillColor=#ffffff;');
				icon15.vertex = true;
				bg1.insert(icon15);
				
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Image based content dividers');
			}),
			this.addEntry(dt + 'full bleed divider', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Feed reader', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#00423B;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'refresh;strokeColor=#00423B;fillColor=#00423B;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#00423B;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('Day reappeared. The tempest still raged with undiminished', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('Corned beef prosciutto ground...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('10 min', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg2.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg2.insert(part4);
				var bg3 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 184);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('There were some signs of a calm at noon', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg3.insert(part1);
				var part2 = new mxCell('Things to enjoy', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg3.insert(part2);
				var part3 = new mxCell('1 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg3.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg3.insert(part4);
				var bg4 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 287);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('Fun tropical escapes', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg4.insert(part1);
				var part2 = new mxCell('The night was comparatively quiet. Some of the sails were again.', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 30);
				part2.vertex = true;
				bg4.insert(part2);
				var part3 = new mxCell('1 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg4.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg4.insert(part4);
				var bg5 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 390);
				bg5.vertex = true;
				bg1.insert(bg5);
				var part1 = new mxCell('Pork loin sausage shankle, kielbasa bacon beef ribs', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg5.insert(part1);
				var part2 = new mxCell('Drumstick turkey shoulder square...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg5.insert(part2);
				var part3 = new mxCell('2 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg5.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg5.insert(part4);
				var bg6 = new mxCell('', new mxGeometry(0, 0, 358, 101), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 493);
				bg6.vertex = true;
				bg1.insert(bg6);
				var part1 = new mxCell('Cherry blossoms in bloom', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg6.insert(part1);
				var part2 = new mxCell('Spring is here and we all know...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 30);
				part2.vertex = true;
				bg6.insert(part2);
				var part3 = new mxCell('3 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg6.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg6.insert(part4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Full-bleed dividers');
			}),
			this.addEntry(dt + 'inset divider', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('All', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(0, 0.5, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#ffffff;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(104, -3);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Janet Perkins', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;spacingLeft=72;align=left;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 23, 21), s2 + 'star;strokeColor=none;fillColor=#D3396E;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, -11);
				icon5.vertex = true;
				bar2.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-50, -18);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Mary Johnson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-50, -18);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar4 = new mxCell('Peter Carlsson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 191);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-50, -18);
				icon8.vertex = true;
				bar4.insert(icon8);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 246);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon9 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-50, -18);
				icon9.vertex = true;
				bar5.insert(icon9);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0, 286, 8), 'shape=line;strokeColor=#eeeeee;strokeWidth=1;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 306);
				line1.vertex = true;
				bg1.insert(line1);
				var bar7 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 319);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text6 = new mxCell('A', new mxGeometry(0, 0.5, 24, 24), 'text;fontSize=24;fontColor=#D3396E;verticalAlign=middle;fontStyle=0;align=center;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(16, -12);
				text6.vertex = true;
				bar7.insert(text6);
				var icon11 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(-50, -18);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 374);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-50, -18);
				icon12.vertex = true;
				bar8.insert(icon12);
				var bar9 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 429);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-50, -18);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('Alex Nelson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 484);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon14 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-50, -18);
				icon14.vertex = true;
				bar10.insert(icon14);
				var bar11 = new mxCell('Anthony Stevens', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 539);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon15 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-50, -18);
				icon15.vertex = true;
				bar11.insert(icon15);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Inset dividers');
			})
   		];
		  
		this.addPalette('gmdlDividers', 'GMDL / Dividers', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLGridListsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library grid list ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'grid titles', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#0288D1;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#0973AE;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 126), s + 'rect;strokeColor=none;fillColor=#03A9F4;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'left;strokeColor=#084560;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text1 = new mxCell('tos >', new mxGeometry(0, 1, 56, 24), 'text;fontSize=22;fontColor=#57C4F5;spacingTop=-3;verticalAlign=middle;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -50);
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('Beach', new mxGeometry(0, 1, 250, 24), 'text;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(56, -50);
				text2.vertex = true;
				bar1.insert(text2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#084560;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-73, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 18, 16), s2 + 'menu;strokeColor=none;fillColor=#084560;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-34, 17);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 179, 179), s2 + 'marginRect;rectMargin=4;rectMarginBottom=-2;rectMarginRight=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 150);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('IMG_4130.jpg', 
						new mxGeometry(0, 1, 179, 50), s2 + 'marginRect;rectMarginLeft=4;rectMarginRight=2;rectMarginBottom=2;strokeColor=none;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=middle;align=left;fontSize=15;spacing=20;spacingBottom=0;spacingTop=0;fillColor=#000000;opacity=25;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -50);
				part1.vertex = true;
				bg2.insert(part1);
				var part3 = new mxCell('i', new mxGeometry(1, 0.5, 16, 16), 'shape=ellipse;fillColor=#cccccc;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-34, -8);
				part3.vertex = true;
				part1.insert(part3);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#1AD2D2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(18, 130);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), s2 + 'plus;strokeColor=#084560;strokeWidth=2;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-7, -7);
				icon6.vertex = true;
				icon5.insert(icon6);
				var bg3 = new mxCell('', new mxGeometry(0.5, 0, 179, 179), s2 + 'marginRect;rectMargin=2;rectMarginTop=2;rectMarginRight=2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 150);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('IMG_4131.jpg', 
						new mxGeometry(0, 1, 179, 50), s2 + 'marginRect;rectMarginLeft=2;rectMarginBottom=2;rectMarginRight=4;whiteSpace=wrap;strokeColor=none;fontColor=#ffffff;verticalAlign=middle;align=left;fontSize=15;spacing=20;spacingBottom=0;spacingTop=0;fillColor=#000000;opacity=25;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -50);
				part1.vertex = true;
				bg3.insert(part1);
				var part3 = new mxCell('i', new mxGeometry(1, 0.5, 16, 16), 'shape=ellipse;fillColor=#cccccc;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-34, -8);
				part3.vertex = true;
				part1.insert(part3);
				var bg4 = new mxCell('', new mxGeometry(0, 0.2788, 179, 179), s2 + 'marginRect;rectMargin=2;rectMarginLeft=2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 150);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('IMG_4132.jpg', 
						new mxGeometry(0, 1, 179, 50), s2 + 'marginRect;rectMargin=2;rectMarginLeft=2;whiteSpace=wrap;strokeColor=none;fontColor=#ffffff;verticalAlign=middle;align=left;fontSize=15;spacing=20;spacingBottom=0;spacingTop=0;fillColor=#000000;opacity=25;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -50);
				part1.vertex = true;
				bg4.insert(part1);
				var part3 = new mxCell('i', new mxGeometry(1, 0.5, 16, 16), 'shape=ellipse;fillColor=#cccccc;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-34, -8);
				part3.vertex = true;
				part1.insert(part3);
				var bg5 = new mxCell('', new mxGeometry(0.5, 0.2788, 179, 179), s2 + 'marginRect;rectMargin=2;rectMarginRight=2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 150);
				bg5.vertex = true;
				bg1.insert(bg5);
				var part1 = new mxCell('IMG_4133.jpg', 
						new mxGeometry(0, 1, 179, 50), s2 + 'marginRect;rectMarginLeft=2;rectMarginBottom=2;rectMarginRight=4;whiteSpace=wrap;strokeColor=none;fontColor=#ffffff;verticalAlign=middle;align=left;fontSize=15;spacing=20;spacingBottom=0;spacingTop=0;fillColor=#000000;opacity=25;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -50);
				part1.vertex = true;
				bg5.insert(part1);
				var part3 = new mxCell('i', new mxGeometry(1, 0.5, 16, 16), 'shape=ellipse;fillColor=#cccccc;strokeColor=none;fontStyle=1;fontColor=#999999;fontSize=12;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-34, -8);
				part3.vertex = true;
				part1.insert(part3);
				var bg6 = new mxCell('', new mxGeometry(0, 0.5576, 179, 100), s2 + 'marginRect;rectMargin=2;rectMarginLeft=2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 150);
				bg6.vertex = true;
				bg1.insert(bg6);
				var bg7 = new mxCell('', new mxGeometry(0.5, 0.5576, 179, 100), s2 + 'marginRect;rectMargin=2;rectMarginRight=2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeHeight=1;resizeWidth=1;');
				bg7.geometry.relative = true;
				bg7.geometry.offset = new mxPoint(0, 150);
				bg7.vertex = true;
				bg1.insert(bg7);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Grid titles');
			}),
			this.addEntry(dt + 'grid style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Favorites', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon6 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(25, -15);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(25, -15);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar4 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 191);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon8 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(25, -15);
				icon8.vertex = true;
				bar4.insert(icon8);
				var bar5 = new mxCell('Alex Nelson', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 246);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon9 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(25, - 15);
				icon9.vertex = true;
				bar5.insert(icon9);
				var bar6 = new mxCell('Anthony Stevens', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 301);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon10 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon10.geometry.relative = true;
				icon10.geometry.offset = new mxPoint(25, -15);
				icon10.vertex = true;
				bar6.insert(icon10);
				var bar7 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#ffffff;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 356);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon11 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#BDBDBD;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(25, -15);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 411);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 20, 24), s2 + 'telephone;strokeColor=none;fillColor=#3F51B5;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(25, -12);
				icon12.vertex = true;
				bar8.insert(icon12);
				var text8 = new mxCell('(650) 555-1234', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar8.insert(text8);
				var text9 = new mxCell('Mobile', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar8.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar8.insert(icon13);
				var bar9 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 476);
				bar9.vertex = true;
				bg1.insert(bar9);
				var text8 = new mxCell('(323) 555-6789', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar9.insert(text8);
				var text9 = new mxCell('Work', new mxGeometry(0, 0.5, 150, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar9.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Grid Style');
			}),
			this.addEntry(dt + 'grid style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Favorites', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;resizeWidth=1;strokeColor=none;fillColor=#000000;opacity=20;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon6 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(25, -15);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#ffffff;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(25, -15);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar7 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 191);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon11 = new mxCell('', new mxGeometry(0, 0.5, 22, 30), 'shape=actor;strokeColor=none;fillColor=#BDBDBD;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(25, -15);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 246);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 20, 24), s2 + 'telephone;strokeColor=none;fillColor=#3F51B5;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(25, -12);
				icon12.vertex = true;
				bar8.insert(icon12);
				var text8 = new mxCell('(650) 555-1234', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, - 21);
				text8.vertex = true;
				bar8.insert(text8);
				var text9 = new mxCell('Mobile', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar8.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar8.insert(icon13);
				var bar9 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 311);
				bar9.vertex = true;
				bg1.insert(bar9);
				var text8 = new mxCell('(323) 555-6789', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, -21);
				text8.vertex = true;
				bar9.insert(text8);
				var text9 = new mxCell('Work', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text9.geometry.relative = true;
				text9.vertex = true;
				bar9.insert(text9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 17, 20), s2 + 'hangout;strokeColor=none;fillColor=#BDBDBD;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-40, -10);
				icon13.vertex = true;
				bar9.insert(icon13);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0, 286, 20), 'shape=line;strokeColor=#000000;strokeWidth=1;opacity=20;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 376);
				line1.vertex = true;
				bg1.insert(line1);
				var bar11 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 396);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'mail;strokeColor=#ffffff;fillColor=#3F51B5;strokeWidth=2;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(24, -8);
				icon12.vertex = true;
				bar11.insert(icon12);
				var text10 = new mxCell('aliconnors@example.com', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, -21);
				text10.vertex = true;
				bar11.insert(text10);
				var text11 = new mxCell('Personal', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text11.geometry.relative = true;
				text11.vertex = true;
				bar11.insert(text11);
				var bar12 = new mxCell('', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, 451);
				bar12.vertex = true;
				bg1.insert(bar12);
				var text12 = new mxCell('ali_connors@example.com', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=14;fontColor=#000000;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, -21);
				text12.vertex = true;
				bar12.insert(text12);
				var text13 = new mxCell('Work', new mxGeometry(0, 0.5, 358, 20), 'text;fontSize=13;fontColor=#504F4F;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text13.geometry.relative = true;
				text13.vertex = true;
				bar12.insert(text13);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Grid Style');
			}),
			this.addEntry(dt + 'two line grid list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#000000;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#000000;strokeColor=none;fontColor=#ffffff;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Browse', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#222222;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(25, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 179, 183), s2 + 'marginRect;rectMargin=2;rectMarginTop=2;rectMarginLeft=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('Top Lists', new mxGeometry(0, 0, 179, 71), s2 + 'marginRect;rectMarginTop=4;rectMarginRight=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-6;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var text1 = new mxCell('Anthony Freeman, Zen', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg2.insert(text1);
				var bg3 = new mxCell('', new mxGeometry(0.5, 0, 179, 183), s2 + 'marginRect;rectMargin=2;rectMarginTop=2;rectMarginRight=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 81);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('Alternative', new mxGeometry(0, 0, 179, 71), s2 + 'marginRect;rectMarginTop=4;rectMarginLeft=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=18;spacingBottom=0;spacingTop=-6;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg3.insert(part1);
				var text1 = new mxCell('Hellhounds, Felix White and ...', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=18;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg3.insert(text1);
				var bg4 = new mxCell('', new mxGeometry(0, 0.285, 179, 181), s2 + 'marginRect;rectMargin=2;rectMarginLeft=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 81);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('Dance', new mxGeometry(0, 0, 179, 69), s2 + 'marginRect;rectMarginTop=2;rectMarginRight=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-8;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg4.insert(part1);
				var text1 = new mxCell('Mirah McNeil, Paul Nixon', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg4.insert(text1);
				var bg5 = new mxCell('', new mxGeometry(0.5, 0.285, 179, 181), s2 + 'marginRect;rectMargin=2;rectMarginRight=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 81);
				bg5.vertex = true;
				bg1.insert(bg5);
				var part1 = new mxCell('Electronic', new mxGeometry(0, 0, 179, 69), s2 + 'marginRect;rectMarginTop=2;rectMarginLeftt=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=18;spacingBottom=0;spacingTop=-8;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg5.insert(part1);
				var text1 = new mxCell('Tronixx, Astral Revival', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=18;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg5.insert(text1);
				var bg6 = new mxCell('', new mxGeometry(0, 0.567, 179, 181), s2 + 'marginRect;rectMargin=2;rectMarginLeft=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 81);
				bg6.vertex = true;
				bg1.insert(bg6);
				var part1 = new mxCell('Pop', new mxGeometry(0, 0, 179, 69), s2 + 'marginRect;rectMarginTop=2;rectMarginRight=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-8;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg6.insert(part1);
				var text1 = new mxCell('Sun, Bad Joke', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg6.insert(text1);
				var bg7 = new mxCell('', new mxGeometry(0.5, 0.567, 179, 181), s2 + 'marginRect;rectMargin=2;rectMarginRight=-2;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg7.geometry.relative = true;
				bg7.geometry.offset = new mxPoint(0, 81);
				bg7.vertex = true;
				bg1.insert(bg7);
				var part1 = new mxCell('R & B', new mxGeometry(0, 0, 179, 69), s2 + 'marginRect;rectMarginTop=2;rectMarginLeft=2;whiteSpace=wrap;fontColor=#ffffff;verticalAlign=top;align=left;fontSize=15;spacing=18;spacingBottom=0;spacingTop=-8;fillColor=#000000;opacity=25;strokeColor=none;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg7.insert(part1);
				var text1 = new mxCell('Brooklyn All Stars, Kelly ...', new mxGeometry(0, 0, 177, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=18;verticalAlign=middle;fontSize=11;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 36);
				text1.vertex = true;
				bg7.insert(text1);
				var part2 = new mxCell('Lights and Camera <font color="#999999" style="font-weight: normal">Yuna</font>', 
						new mxGeometry(0.162, 1, 300, 50), s2 + 'player;fontColor=#666666;fontSize=13;fontStyle=1;align=left;spacingLeft=16;html=1;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, -98);
				part2.vertex = true;
				bg1.insert(part2);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Two-line grid list');
			}),
			this.addEntry(dt + 'two line grid list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#1976D2;strokeColor=none;fontColor=#ffffff;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 110), s + 'rect;strokeColor=none;fillColor=#2196F3;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var part1 = new mxCell('Search People & Places', new mxGeometry(0, 0, 358, 60), s2 + 'marginRect;rectMargin=6;strokeColor=none;fillColor=#ffffff;fontColor=#B3B3B3;fontSize=13;spacingRight=50;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bar1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 18, 18), s2 + 'search;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(22, -9);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 11, 20), s2 + 'voice;strokeColor=#666666;fillColor=#666666;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-70, -10);
				icon2.vertex = true;
				part1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 6, 18), s2 + 'settings;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-31, -9);
				icon3.vertex = true;
				part1.insert(icon3);
				var text1 = new mxCell('SPEED DIAL', new mxGeometry(0, 1, 119, 48), 'text;align=center;fontColor=#FFFFFF;fontStyle=0;verticalAlign=middle;fontSize=14;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -48);
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('RECENTS', new mxGeometry(0.3333, 1, 119, 48), 'text;align=center;fontColor=#FFFFFF;fontStyle=0;verticalAlign=middle;fontSize=14;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('CONTACTS', new mxGeometry(0.6667, 1, 119, 48), 'text;align=center;fontColor=#FFFFFF;fontStyle=0;verticalAlign=middle;fontSize=14;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var bg2 = new mxCell('Mobile', new mxGeometry(0, 0, 178, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;align=left;verticalAlign=bottom;spacing=0;spacingLeft=16;spacingBottom=8;fontColor=#FFFFFF;resizeWidth=1;resizeHeight=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 135);
				bg2.vertex = true;
				bg1.insert(bg2);
				var text1 = new mxCell('Ali Connors &#9733;', new mxGeometry(0, 1, 178, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=14;html=1;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg2.insert(text1);
				var bg3 = new mxCell('Mobile', new mxGeometry(0.5, 0, 179, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;align=left;verticalAlign=bottom;spacing=0;spacingLeft=16;spacingBottom=8;fontColor=#FFFFFF;resizeWidth=1;resizeHeight=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 135);
				bg3.vertex = true;
				bg1.insert(bg3);
				var text1 = new mxCell('Abbey Christensen &#9733;', new mxGeometry(0, 1, 179, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=14;html=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg3.insert(text1);
				var bg4 = new mxCell('Mobile', new mxGeometry(0, 0.2134, 178, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;align=left;verticalAlign=bottom;spacing=0;spacingLeft=16;spacingBottom=8;fontColor=#FFFFFF;resizeWidth=1;resizeHeight=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 135);
				bg4.vertex = true;
				bg1.insert(bg4);
				var text1 = new mxCell('Mary Johnson &#9733;', new mxGeometry(0, 1, 178, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=14;html=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg4.insert(text1);
				var bg5 = new mxCell('Mobile', new mxGeometry(0.5, 0.2134, 179, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;align=left;verticalAlign=bottom;spacing=0;spacingLeft=16;spacingBottom=8;fontColor=#FFFFFF;resizeWidth=1;resizeHeight=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 135);
				bg5.vertex = true;
				bg1.insert(bg5);
				var text1 = new mxCell('Britta Holt &#9733;', new mxGeometry(0, 1, 179, 20), 'text;whiteSpace=wrap;fontColor=#ffffff;spacingLeft=16;verticalAlign=middle;fontSize=14;html=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -44);
				text1.vertex = true;
				bg5.insert(text1);
				var bg6 = new mxCell('', new mxGeometry(0, 0.4268, 178, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 135);
				bg6.vertex = true;
				bg1.insert(bg6);
				var bg7 = new mxCell('', new mxGeometry(0.5, 0.4268, 179, 136), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg7.geometry.relative = true;
				bg7.geometry.offset = new mxPoint(0, 135);
				bg7.vertex = true;
				bg1.insert(bg7);
				var bg8 = new mxCell('', new mxGeometry(0, 0.6402, 178, 70), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg8.geometry.relative = true;
				bg8.geometry.offset = new mxPoint(0, 135);
				bg8.vertex = true;
				bg1.insert(bg8);
				var bg9 = new mxCell('', new mxGeometry(0.5, 0.6402, 179, 70), 'shape=rect;fillColor=#BDBDBD;strokeColor=none;shadow=0;resizeWidth=1;resizeHeight=1;');
				bg9.geometry.relative = true;
				bg9.geometry.offset = new mxPoint(0, 135);
				bg9.vertex = true;
				bg1.insert(bg9);
				var icon5 = new mxCell('', new mxGeometry(0.5, 1, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#2196F3;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-28, -119);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(20, 18, 16, 22), s2 + 'more2;strokeColor=none;fillColor=#ffffff;');
				icon6.vertex = true;
				icon5.insert(icon6);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Two-line grid list');
			})
   		];
		  
		this.addPalette('gmdlGrid Lists', 'GMDL / Grid Lists', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLIconsPalette = function(expand)
	{
		var s2 = "dashed=0;aspect=fixed;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library icon ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s2 + 'edit;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Edit', null, null, this.getTagsForStencil(gn, 'edit', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'star;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Star', null, null, this.getTagsForStencil(gn, 'star', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'heart;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 18, '', 'Heart', null, null, this.getTagsForStencil(gn, 'heart', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'reply;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 18, '', 'Reply', null, null, this.getTagsForStencil(gn, 'reply', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'users;strokeColor=none;fillColor=#737373;shadow=0;',
					24, 16, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'gps;strokeColor=#737373;fillColor=#737373;shadow=0;strokeWidth=2;',
					20, 20, '', 'GPS', null, null, this.getTagsForStencil(gn, 'gps', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'share2;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Share', null, null, this.getTagsForStencil(gn, 'share', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'navigate;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Navigate', null, null, this.getTagsForStencil(gn, 'navigate', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'chat;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Chat', null, null, this.getTagsForStencil(gn, 'chat', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'voice;strokeColor=#737373;fillColor=#737373;shadow=0;strokeWidth=2;',
					12, 20, '', 'Voice', null, null, this.getTagsForStencil(gn, 'voice', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'google;strokeColor=none;fillColor=#737373;shadow=0;',
					16, 24, '', 'Google', null, null, this.getTagsForStencil(gn, 'google', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'video;strokeColor=none;fillColor=#737373;shadow=0;',
					24, 16, '', 'Video', null, null, this.getTagsForStencil(gn, 'video', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'gallery;strokeColor=none;fillColor=#737373;shadow=0;',
					24, 22, '', 'Gallery', null, null, this.getTagsForStencil(gn, 'gallery', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'birthday;strokeColor=none;fillColor=#737373;shadow=0;',
					24, 22, '', 'Birthday', null, null, this.getTagsForStencil(gn, 'birthday', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cloud;strokeColor=none;fillColor=#737373;shadow=0;',
					24, 16, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'x;strokeColor=#737373;fillColor=#737373;shadow=0;strokeWidth=2;',
					16, 16, '', 'X', null, null, this.getTagsForStencil(gn, 'x', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'bookmark;strokeColor=none;fillColor=#737373;shadow=0;',
					12, 20, '', 'Bookmark', null, null, this.getTagsForStencil(gn, 'bookmark', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'calendar;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Calendar', null, null, this.getTagsForStencil(gn, 'calendar', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'attractions;strokeColor=#ffffff;fillColor=#737373;shadow=0;strokeWidth=1;',
					22, 18, '', 'Attraction', null, null, this.getTagsForStencil(gn, 'attraction', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dining;strokeColor=none;fillColor=#737373;shadow=0;',
					18, 20, '', 'Dining', null, null, this.getTagsForStencil(gn, 'dining', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'education;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Education', null, null, this.getTagsForStencil(gn, 'education', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'family;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Family', null, null, this.getTagsForStencil(gn, 'family', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'health;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 18, '', 'Health', null, null, this.getTagsForStencil(gn, 'health', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'office;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Office', null, null, this.getTagsForStencil(gn, 'office', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'promotions;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Promotion', null, null, this.getTagsForStencil(gn, 'promotion', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'radio;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Radio', null, null, this.getTagsForStencil(gn, 'radio', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'recipes;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Recipe', null, null, this.getTagsForStencil(gn, 'recipe', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sports;strokeColor=none;fillColor=#737373;shadow=0;',
					20, 20, '', 'Sports', null, null, this.getTagsForStencil(gn, 'sports', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'travel;strokeColor=none;fillColor=#737373;shadow=0;direction=south;',
					20, 20, '', 'Travel', null, null, this.getTagsForStencil(gn, 'travel', dt).join(' '))
   		];
		  
		this.addPalette('gmdlIcons', 'GMDL / Icons', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLListsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library list ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'scannable list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Feed reader', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#00423B;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'refresh;strokeColor=#00423B;fillColor=#00423B;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#00423B;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bg2 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg2.geometry.relative = true;
				bg2.geometry.offset = new mxPoint(0, 81);
				bg2.vertex = true;
				bg1.insert(bg2);
				var part1 = new mxCell('Day reappeared. The tempest still raged with undiminished', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('Corned beef prosciutto ground...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('10 min', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg2.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg2.insert(part4);
				var bg3 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg3.geometry.relative = true;
				bg3.geometry.offset = new mxPoint(0, 184);
				bg3.vertex = true;
				bg1.insert(bg3);
				var part1 = new mxCell('There were some signs of a calm at noon', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg3.insert(part1);
				var part2 = new mxCell('Things to enjoy', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg3.insert(part2);
				var part3 = new mxCell('1 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg3.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg3.insert(part4);
				var bg4 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg4.geometry.relative = true;
				bg4.geometry.offset = new mxPoint(0, 287);
				bg4.vertex = true;
				bg1.insert(bg4);
				var part1 = new mxCell('Fun tropical escapes', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg4.insert(part1);
				var part2 = new mxCell('The night was comparatively quiet. Some of the sails were again.', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 30);
				part2.vertex = true;
				bg4.insert(part2);
				var part3 = new mxCell('1 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg4.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg4.insert(part4);
				var bg5 = new mxCell('', new mxGeometry(0, 0, 358, 103), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg5.geometry.relative = true;
				bg5.geometry.offset = new mxPoint(0, 390);
				bg5.vertex = true;
				bg1.insert(bg5);
				var part1 = new mxCell('Pork loin sausage shankle, kielbasa bacon beef ribs', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg5.insert(part1);
				var part2 = new mxCell('Drumstick turkey shoulder square...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 48);
				part2.vertex = true;
				bg5.insert(part2);
				var part3 = new mxCell('2 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg5.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg5.insert(part4);
				var bg6 = new mxCell('', new mxGeometry(0, 0, 358, 101), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=0;resizeWidth=1;');
				bg6.geometry.relative = true;
				bg6.geometry.offset = new mxPoint(0, 493);
				bg6.vertex = true;
				bg1.insert(bg6);
				var part1 = new mxCell('Cherry blossoms in bloom', 
						new mxGeometry(0, 0, 244, 60), 'text;whiteSpace=wrap;fontColor=#000000;verticalAlign=top;align=left;fontSize=15;spacing=16;spacingBottom=0;spacingTop=-12;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg6.insert(part1);
				var part2 = new mxCell('Spring is here and we all know...', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=13;fontColor=#000000;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 30);
				part2.vertex = true;
				bg6.insert(part2);
				var part3 = new mxCell('3 hr', 
						new mxGeometry(0, 0, 244, 20), 'text;whiteSpace=wrap;spacingLeft=16;spacingRight=16;spacing=0;fontSize=12;fontColor=#999999;spacingBottom=0;spacingTop=-5;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 72);
				part3.vertex = true;
				bg6.insert(part3);
				var part4 = new mxCell('', new mxGeometry(244, 0, 112, 103), s2 + 'marginRect;rectMargin=12;rectMarginLeft=-12;fillColor=#BDBDBD;strokeColor=none;');
				part4.vertex = true;
				bg6.insert(part4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Scannable list');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Janet Perkins', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 23, 21), s2 + 'star;strokeColor=none;fillColor=#D3396E;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, -11);
				icon5.vertex = true;
				bar2.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-50, -18);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Mary Johnson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-50, -18);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar4 = new mxCell('Peter Carlsson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 191);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-50, -18);
				icon8.vertex = true;
				bar4.insert(icon8);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 246);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon9 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-50, -18);
				icon9.vertex = true;
				bar5.insert(icon9);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0, 286, 8), 'shape=line;strokeColor=#eeeeee;strokeWidth=1;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 306);
				line1.vertex = true;
				bg1.insert(line1);
				var bar7 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 319);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text6 = new mxCell('A', new mxGeometry(0, 0.5, 24, 24), 'text;fontSize=24;fontColor=#D3396E;verticalAlign=middle;fontStyle=0;align=center;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(16, -12);
				text6.vertex = true;
				bar7.insert(text6);
				var icon11 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(-50, -18);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 374);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-50, -18);
				icon12.vertex = true;
				bar8.insert(icon12);
				var bar9 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 429);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-50, -18);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('Alex Nelson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 484);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon14 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-50, -18);
				icon14.vertex = true;
				bar10.insert(icon14);
				var bar11 = new mxCell('Anthony Stevens', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 539);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon15 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-50, -18);
				icon15.vertex = true;
				bar11.insert(icon15);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Item list');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#2D3986;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#2D3986;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#394797;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, -8);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, -8);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Janet Perkins', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 23, 21), s2 + 'star;strokeColor=none;fillColor=#D3396E;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, -11);
				icon5.vertex = true;
				bar2.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-50, -18);
				icon6.vertex = true;
				bar2.insert(icon6);
				var bar3 = new mxCell('Mary Johnson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 136);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon7 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-50, -18);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar4 = new mxCell('Peter Carlsson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 191);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-50, -18);
				icon8.vertex = true;
				bar4.insert(icon8);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 246);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon9 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-50, -18);
				icon9.vertex = true;
				bar5.insert(icon9);
				var line1 = new mxCell('', new mxGeometry(0.2011, 0, 286, 8), 'shape=line;strokeColor=#eeeeee;strokeWidth=1;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 306);
				line1.vertex = true;
				bg1.insert(line1);
				var bar7 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 319);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text6 = new mxCell('A', new mxGeometry(0, 0.5, 24, 24), 'text;fontSize=24;fontColor=#D3396E;verticalAlign=middle;fontStyle=0;align=center;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(16, -12);
				text6.vertex = true;
				bar7.insert(text6);
				var icon11 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(-50, -18);
				icon11.vertex = true;
				bar7.insert(icon11);
				var bar8 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 374);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon12 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-50, -18);
				icon12.vertex = true;
				bar8.insert(icon12);
				var bar9 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 429);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon13 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(-50, -18);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('Alex Nelson', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 484);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon14 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-50, -18);
				icon14.vertex = true;
				bar10.insert(icon14);
				var bar11 = new mxCell('Anthony Stevens', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;resizeWidth=1;fontSize=14;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 539);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon15 = new mxCell('', new mxGeometry(1, 0.5, 36, 36), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-50, -18);
				icon15.vertex = true;
				bar11.insert(icon15);
				var part1 = new mxCell('', new mxGeometry(1, 0, 168, 208), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-178, 30);
				part1.vertex = true;
				bg1.insert(part1);
				var text13 = new mxCell('Refresh', new mxGeometry(0, 0, 168, 52), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.vertex = true;
				part1.insert(text13);
				var text14 = new mxCell('Help & feedback', new mxGeometry(0, 0, 168, 52), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text14.geometry.relative = true;
				text14.geometry.offset = new mxPoint(0, 52);
				text14.vertex = true;
				part1.insert(text14);
				var text15 = new mxCell('Settings', new mxGeometry(0, 0, 168, 52), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text15.geometry.relative = true;
				text15.geometry.offset = new mxPoint(0, 104);
				text15.vertex = true;
				part1.insert(text15);
				var text16 = new mxCell('Sign out', new mxGeometry(0, 0, 168, 52), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text16.geometry.relative = true;
				text16.geometry.offset = new mxPoint(0, 156);
				text16.vertex = true;
				part1.insert(text16);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Item list');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 152, 631), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Roboto', new mxGeometry(0, 0, 152, 55), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(0, 0, 152, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 50);
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Arial', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 55);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Calibri', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 103);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Cambria', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 151);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('Comic sans', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 199);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Consolas', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 247);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('Corsiva', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 295);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('Courier New', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 343);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('Droid Sans', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 391);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('Droid Serif', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 439);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('Georgia', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 487);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('Helvetica Neue', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, 535);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('Impact', new mxGeometry(0, 0, 152, 48), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, 583);
				text13.vertex = true;
				bg1.insert(text13);
				var part2 = new mxCell('', new mxGeometry(1, 0, 4, 40), 'shape=rect;strokeColor=none;fillColor=#B3B3B3;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-11, 75);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 152, 631, 'Item list');
			}),
			this.addEntry(dt + 'list style', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#0973AE;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#0973AE;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 126), s + 'rect;strokeColor=none;fillColor=#098DCA;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#084560;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text1 = new mxCell('My Files', new mxGeometry(0, 0, 358, 24), 'text;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 60);
				text1.vertex = true;
				bar1.insert(text1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#084560;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-73, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 18, 16), s2 + 'rects;strokeColor=none;fillColor=#084560;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-34, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Folders', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;align=left;verticalAlign=top;spacingTop=6;fontSize=13;fontColor=#666666;fontStyle=1;resizeWidth=1;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 150);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#1AD2D2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(18, 130);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), s2 + 'plus;strokeColor=#084560;strokeWidth=2;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-7, -7);
				icon6.vertex = true;
				icon5.insert(icon6);
				var bar3 = new mxCell('Photos', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=#000000;opacity=20;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 205);
				bar3.vertex = true;
				bg1.insert(bar3);
				var text4 = new mxCell('Jan 9, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 25);
				text4.vertex = true;
				bar3.insert(text4);
				var icon7 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#959595;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(18, 9);
				icon7.vertex = true;
				bar3.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(0.5, 0.5, 24, 18), s2 + 'folder;fillColor=#CFCECE;strokeColor=none;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-12, -10);
				icon8.vertex = true;
				icon7.insert(icon8);
				var icon9 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#959595;strokeColor=#CFCECE;fontSize=13;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-34, 14);
				icon9.vertex = true;
				bar3.insert(icon9);
				var bar4 = new mxCell('Create', new mxGeometry(0, 0, 358, 48), 'shape=rect;dashed=0;strokeColor=none;fillColor=#ffffff;fontSize=16;fontColor=#959595;verticalAlign=middle;align=left;spacingLeft=14;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 270);
				bar4.vertex = true;
				bg1.insert(bar4);
				var bar5 = new mxCell('Document', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 318);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon10 = new mxCell('', new mxGeometry(0, 0.5, 18, 18), s2 + 'doc;fillColor=#4285F4;strokeColor=#FFFFFF;strokeWidth=2;');
				icon10.geometry.relative = true;
				icon10.geometry.offset = new mxPoint(16, -9);
				icon10.vertex = true;
				bar5.insert(icon10);
				var bar6 = new mxCell('Spreadsheet', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 366);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon11 = new mxCell('', new mxGeometry(0, 0.5, 18, 18), s2 + 'spreadsheet;fillColor=#0F9D58;strokeColor=#FFFFFF;strokeWidth=2;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(16, -9);
				icon11.vertex = true;
				bar6.insert(icon11);
				var bar7 = new mxCell('Folder', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 414);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon12 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'folder;fillColor=#BDBDBD;strokeColor=#FFFFFF;strokeWidth=2;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(16, -9);
				icon12.vertex = true;
				bar7.insert(icon12);
				var line1 = new mxCell('', new mxGeometry(0, 0, 358, 8), 'shape=line;strokeColor=#bbbbbb;strokeWidth=1;opacity=20;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 467);
				line1.vertex = true;
				bg1.insert(line1);
				var bar9 = new mxCell('Upload photos or videos', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 480);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon13 = new mxCell('', new mxGeometry(0, 0.5, 24, 18), s2 + 'upload;fillColor=#BDBDBD;strokeColor=#FFFFFF;strokeWidth=2;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(17, -9);
				icon13.vertex = true;
				bar9.insert(icon13);
				var bar10 = new mxCell('Use Camera', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;fontSize=16;fontColor=#000000;verticalAlign=middle;align=left;spacingLeft=72;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 528);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon14 = new mxCell('', new mxGeometry(0, 0.5, 24, 17), s2 + 'camera;fillColor=#BDBDBD;strokeColor=#FFFFFF;strokeWidth=2;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(17, -9);
				icon14.vertex = true;
				bar10.insert(icon14);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'List Style');
			}),
			this.addEntry(dt + 'avatar text icon', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#0288D1;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;fillColor=#0973AE;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 126), s + 'rect;strokeColor=none;fillColor=#03A9F4;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#084560;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text1 = new mxCell('My Files', new mxGeometry(0, 0, 358, 24), 'text;fontSize=22;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 60);
				text1.vertex = true;
				bar1.insert(text1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#084560;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-73, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 18, 16), s2 + 'rects;strokeColor=none;fillColor=#084560;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-34, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar2 = new mxCell('Folders', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;align=left;verticalAlign=top;spacingTop=6;fontSize=13;fontColor=#666666;fontStyle=1;resizeWidth=1;spacingLeft=72;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 150);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#18FFFF;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(18, 130);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), s2 + 'plus;strokeColor=#0B7676;strokeWidth=2;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-7, -7);
				icon6.vertex = true;
				icon5.insert(icon6);
				var bar3 = new mxCell('Photos', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 205);
				bar3.vertex = true;
				bg1.insert(bar3);
				var text4 = new mxCell('Jan 9, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 25);
				text4.vertex = true;
				bar3.insert(text4);
				var icon7 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#B2B2B2;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(18, 9);
				icon7.vertex = true;
				bar3.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(0.5, 0.5, 24, 18), s2 + 'folder;fillColor=#ffffff;strokeColor=none;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-12, -10);
				icon8.vertex = true;
				icon7.insert(icon8);
				var icon9 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#B2B2B2;strokeColor=#CFCECE;fontSize=13;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(-34, 14);
				icon9.vertex = true;
				bar3.insert(icon9);
				var bar4 = new mxCell('Recipes', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 270);
				bar4.vertex = true;
				bg1.insert(bar4);
				var text5 = new mxCell('Jan 17, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 25);
				text5.vertex = true;
				bar4.insert(text5);
				var icon10 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#B2B2B2;');
				icon10.geometry.relative = true;
				icon10.geometry.offset = new mxPoint(18, 9);
				icon10.vertex = true;
				bar4.insert(icon10);
				var icon11 = new mxCell('', new mxGeometry(0.5, 0.5, 24, 18), s2 + 'folder;fillColor=#ffffff;strokeColor=none;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(-12, -10);
				icon11.vertex = true;
				icon10.insert(icon11);
				var icon12 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#B2B2B2;strokeColor=#CFCECE;fontSize=13;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-34, 14);
				icon12.vertex = true;
				bar4.insert(icon12);
				var bar5 = new mxCell('Work', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 335);
				bar5.vertex = true;
				bg1.insert(bar5);
				var text5 = new mxCell('Jan 28, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 25);
				text5.vertex = true;
				bar5.insert(text5);
				var icon13 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#B2B2B2;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(18, 9);
				icon13.vertex = true;
				bar5.insert(icon13);
				var icon14 = new mxCell('', new mxGeometry(0.5, 0.5, 24, 18), s2 + 'folder;fillColor=#ffffff;strokeColor=none;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-12, -10);
				icon14.vertex = true;
				icon13.insert(icon14);
				var icon15 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#B2B2B2;strokeColor=#CFCECE;fontSize=13;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(-34, 14);
				icon15.vertex = true;
				bar5.insert(icon15);
				var item1 = new mxCell('', new mxGeometry(70, 400, 288, 10), 'shape=line;strokeColor=#E6E6E6;');
				item1.vertex = true;
				bg1.insert(item1);
				var bar6 = new mxCell('Files', new mxGeometry(0, 0, 358, 55), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;align=left;verticalAlign=top;spacingTop=6;fontSize=13;fontColor=#666666;fontStyle=1;resizeWidth=1;spacingLeft=72;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 410);
				bar6.vertex = true;
				bg1.insert(bar6);
				var bar7 = new mxCell('Vacation itinerary', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 465);
				bar7.vertex = true;
				bg1.insert(bar7);
				var text6 = new mxCell('Jan 20, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 25);
				text6.vertex = true;
				bar7.insert(text6);
				var icon16 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#2196F3;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(18, 9);
				icon16.vertex = true;
				bar7.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 18, 18), s2 + 'doc;fillColor=#ffffff;strokeColor=#2196F3;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-9, -9);
				icon17.vertex = true;
				icon16.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#B2B2B2;strokeColor=#CFCECE;fontSize=13;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-34, 14);
				icon18.vertex = true;
				bar7.insert(icon18);
				var bar8 = new mxCell('Kitchen remodel', new mxGeometry(0, 0, 358, 65), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=17;fontColor=#000000;verticalAlign=top;align=left;spacingLeft=72;spacingTop=-1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 530);
				bar8.vertex = true;
				bg1.insert(bar8);
				var text6 = new mxCell('Jan 10, 2014', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontColor=#959595;verticalAlign=middle;spacingBottom=12;spacingTop=2;resizeWidth=1;align=left;spacingLeft=72;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 25);
				text6.vertex = true;
				bar8.insert(text6);
				var icon16 = new mxCell('', new mxGeometry(0, 0, 40, 40), 'shape=ellipse;strokeColor=none;fillColor=#F9CE1D;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(18, 9);
				icon16.vertex = true;
				bar8.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 18, 18), s2 + 'sheet;fillColor=#ffffff;strokeColor=none;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-9, -9);
				icon17.vertex = true;
				icon16.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'info;fillColor=#B2B2B2;strokeColor=#CFCECE;fontSize=13;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-34, 14);
				icon18.vertex = true;
				bar8.insert(icon18);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Avatar with text and icon');
			}),
			this.addEntry(dt + 'three line list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#0097A7;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Inbox', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#00BAD2;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;fillColor=#005864;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#005864;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-32, -8);
				icon2.vertex = true;
				bar1.insert(icon2);
				var bar2 = new mxCell('Brunch this weekend?', new mxGeometry(0, 0, 358, 136), 'text;fontSize=16;align=left;verticalAlign=top;spacingTop=57;resizeWidth=1;spacingLeft=72;resizeWidth=1;strokeColor=#eeeeee;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 64);
				icon1.vertex = true;
				bar2.insert(icon1);
				var text2 = new mxCell('<font color="#000000" style="font-size: 14px">Ali Connors</font>' + " - I'll be in your neighborhood doing errands this weekend. Do you want ...", 
						new mxGeometry(0, 0, 358, 66), 'text;fontSize=13;verticalAlign=middle;spacingLeft=72;whiteSpace=wrap;fontColor=#666666;html=1;spacingRight=14;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 70);
				text2.vertex = true;
				bar2.insert(text2);
				var text1 = new mxCell('Today', new mxGeometry(0, 0, 358, 40), 'text;spacingLeft=16;spacing=2;spacingTop=8;fontSize=14;fontColor=#666666;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 81);
				text1.vertex = true;
				bg1.insert(text1);
				var bar3 = new mxCell('Summer BBQ <font color="#999999">4</font>', new mxGeometry(0, 0, 358, 86), 'text;fontSize=16;align=left;verticalAlign=top;spacing=16;spacingTop=-6;html=1;spacingLeft=56;resizeWidth=1;strokeColor=#eeeeee;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 217);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon2 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(16, 13);
				icon2.vertex = true;
				bar3.insert(icon2);
				var text2 = new mxCell('<font color="#000000" style="font-size: 14px">to Alex, Scott, Jennifer</font>' + " - Wish I could come, but I'm out of town this weekend.", 
						new mxGeometry(0, 0, 358, 66), 'text;fontSize=13;verticalAlign=top;whiteSpace=wrap;spacingRight=16;fontColor=#666666;html=1;resizeWidth=1;spacingLeft=72;spacingTop=2;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 30);
				text2.vertex = true;
				bar3.insert(text2);
				var bar4 = new mxCell('Oui Oui', new mxGeometry(0, 0, 358, 86), 'text;fontSize=16;align=left;verticalAlign=top;spacing=16;spacingTop=-6;html=1;spacingLeft=56;resizeWidth=1;strokeColor=#eeeeee;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 303);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon3 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, 13);
				icon3.vertex = true;
				bar4.insert(icon3);
				var text2 = new mxCell('<font color="#000000" style="font-size: 14px">Sandra Adams</font> - Do you have Paris recommendations? Have you ever been?', 
						new mxGeometry(0, 0, 358, 66), 'text;fontSize=13;verticalAlign=top;whiteSpace=wrap;spacingRight=16;fontColor=#666666;html=1;resizeWidth=1;spacingLeft=72;spacingTop=2;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 30);
				text2.vertex = true;
				bar4.insert(text2);
				var bar5 = new mxCell('Birthday gift', new mxGeometry(0, 0, 358, 86), 'text;fontSize=16;align=left;verticalAlign=top;spacing=16;spacingTop=-6;html=1;spacingLeft=56;resizeWidth=1;strokeColor=#eeeeee;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 389);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon4 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(16, 13);
				icon4.vertex = true;
				bar5.insert(icon4);
				var text2 = new mxCell('<font color="#000000" style="font-size: 14px">Trevor Hansen</font> - Have any ideas about what to get Heidi for her birthday?', 
						new mxGeometry(0, 0, 358, 66), 'text;fontSize=13;verticalAlign=top;whiteSpace=wrap;spacingRight=16;fontColor=#666666;html=1;resizeWidth=1;spacingLeft=72;spacingTop=2;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 30);
				text2.vertex = true;
				bar5.insert(text2);
				var bar6 = new mxCell('Recipe to try', new mxGeometry(0, 0, 358, 86), 'text;fontSize=16;align=left;verticalAlign=top;spacing=16;spacingTop=-6;html=1;spacingLeft=56;resizeWidth=1;strokeColor=#eeeeee;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 475);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, 13);
				icon5.vertex = true;
				bar6.insert(icon5);
				var text2 = new mxCell('<font color="#000000" style="font-size: 14px">Britta Holt</font> - We should eat this: Grated Squash, Corn and tomatillo Tacos ...', 
						new mxGeometry(0, 0, 358, 66), 'text;fontSize=13;verticalAlign=top;whiteSpace=wrap;spacingRight=16;fontColor=#666666;html=1;resizeWidth=1;spacingLeft=72;spacingTop=2;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 30);
				text2.vertex = true;
				bar6.insert(text2);
				var bar7 = new mxCell('Giants game', new mxGeometry(0, 0, 358, 86), 'text;fontSize=16;align=left;verticalAlign=top;spacing=16;spacingTop=-6;html=1;spacingLeft=56;resizeWidth=1;strokeColor=#eeeeee;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 561);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon6 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(16, 13);
				icon6.vertex = true;
				bar7.insert(icon6);
				var icon7 = new mxCell('', new mxGeometry(1, 1, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#EEFF41;shadow=1;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-78, -130);
				icon7.vertex = true;
				bg1.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 + 'plus;strokeColor=#6D751E;strokeWidth=2;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-8, -8);
				icon8.vertex = true;
				icon7.insert(icon8);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Three-line list');
			}),
			this.addEntry(dt + 'single line item avatar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('New chat', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=21;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#004840;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#004840;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-34, -8);
				icon2.vertex = true;
				bar1.insert(icon2);
				var text2 = new mxCell('Recent chat', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 81);
				text2.vertex = true;
				bg1.insert(text2);
				var bar2 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 141);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon3 = new mxCell('Abbey Christensen', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar2.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 18, 17), s2 + 'chat2;strokeColor=none;fillColor=#4DB6AC;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-39, -9);
				icon4.vertex = true;
				bar2.insert(icon4);
				var bar3 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 199);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon3 = new mxCell('Alex Nelson', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar3.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 18, 17), s2 + 'chat2;strokeColor=none;fillColor=#4DB6AC;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-39, -9);
				icon4.vertex = true;
				bar3.insert(icon4);
				var bar4 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 257);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon3 = new mxCell('Mary Johnson', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar4.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 18, 17), s2 + 'chat2;strokeColor=none;fillColor=#bdbdbd;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-39, -9);
				icon4.vertex = true;
				bar4.insert(icon4);
				var bar5 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 315);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon3 = new mxCell('Peter Carlsson', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -10);
				icon3.vertex = true;
				bar5.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 18, 17), s2 + 'chat2;strokeColor=none;fillColor=#bdbdbd;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-39, -9);
				icon4.vertex = true;
				bar5.insert(icon4);
				var bar6 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 373);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon3 = new mxCell('Trevor Hansen', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar6.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 18, 17), s2 + 'chat2;strokeColor=none;fillColor=#bdbdbd;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-39, -9);
				icon4.vertex = true;
				bar6.insert(icon4);
				var part1 = new mxCell('', new mxGeometry(0, 0, 358, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 426);
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Previous chats', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 431);
				text2.vertex = true;
				bg1.insert(text2);
				var bar7 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 479);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon3 = new mxCell('Britta Holt', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar7.insert(icon3);
				var bar8 = new mxCell('', new mxGeometry(0, 0, 358, 58), 'shape=rect;strokeColor=none;fillColor=none;resizeWidth=1;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 537);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon3 = new mxCell('Sandra Adams', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=16;fontSize=16;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(16, -20);
				icon3.vertex = true;
				bar8.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 1, 56, 56), 'shape=ellipse;fillColor=#18FFFF;strokeColor=none;shadow=1;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-73, -120);
				icon4.vertex = true;
				bg1.insert(icon4);
				var part1 = new mxCell('', new mxGeometry(0.5, 0.5, 16, 16), s2 + 'plus;strokeColor=#0C7F7F;strokeWidth=2;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-8, -8);
				part1.vertex = true;
				icon4.insert(part1);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Single-line item with avatar');
			}),
			this.addEntry(dt + 'two line item list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Settings', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=21;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#004840;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('General', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 81);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Profile photo', new mxGeometry(0, 0, 358, 30), 'text;fontSize=16;fontStyle=0;spacingLeft=16;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 141);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Change your Google+ profile photo', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontStyle=0;spacingLeft=16;fontColor=#999999;verticalAlign=top;spacingTop=-6;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 171);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('Show your status', new mxGeometry(0, 0, 358, 30), 'text;fontSize=16;fontStyle=0;spacingLeft=16;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 221);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Your status is visible to everyone you use with', new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontStyle=0;spacingLeft=16;fontColor=#999999;verticalAlign=top;spacingTop=-6;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 251);
				text6.vertex = true;
				bg1.insert(text6);
				var part1 = new mxCell('', new mxGeometry(0, 0, 358, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 276);
				part1.vertex = true;
				bg1.insert(part1);
				var text7 = new mxCell('Hangout notifications', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 281);
				text7.vertex = true;
				bg1.insert(text7);
				var part2 = new mxCell('Notifications\n<font style="font-size: 14px" color="#999999">Allow notifications</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(16, 351);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('Sound\n<font style="font-size: 14px" color="#999999">Hangouts message</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(16, 423);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('Video sounds\n<font style="font-size: 14px" color="#999999">Hangouts video call</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(16, 495);
				part4.vertex = true;
				bg1.insert(part4);
				var part5 = new mxCell('Invites\n<font style="font-size: 14px" color="#999999">Also notify when receiving invites</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(16, 567);
				part5.vertex = true;
				bg1.insert(part5);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Two-line item list');
			}),
			this.addEntry(dt + 'three line list icon', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#7B1FA2;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Settings', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#9C27B0;resizeWidth=1;fontSize=21;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-34, -8);
				icon2.vertex = true;
				bar1.insert(icon2);
				var text2 = new mxCell('User controls', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 81);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('Content filtering', new mxGeometry(0, 0, 358, 30), 'text;fontSize=16;fontStyle=0;spacingLeft=16;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 141);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('Set the content filtering level to restrict apps that can be downloaded', 
						new mxGeometry(0, 0, 358, 30), 'text;fontSize=14;fontStyle=0;spacingLeft=16;fontColor=#999999;verticalAlign=top;spacingTop=-8;whiteSpace=wrap;spacingRight=16;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 172);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('Password', new mxGeometry(0, 0, 358, 30), 'text;fontSize=16;fontStyle=0;spacingLeft=16;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 215);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('Require password for purchase or use password to restrict purchase', new mxGeometry(0, 0, 358, 30), 'text;fontSize=13;fontStyle=0;spacingLeft=16;fontColor=#999999;verticalAlign=top;spacingTop=-6;whiteSpace=wrap;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 244);
				text6.vertex = true;
				bg1.insert(text6);
				var part1 = new mxCell('', new mxGeometry(0, 0, 358, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 310);
				part1.vertex = true;
				bg1.insert(part1);
				var text7 = new mxCell('General', new mxGeometry(0, 0, 358, 40), 'text;fontSize=13;fontColor=#666666;spacingLeft=16;spacingTop=8;fontStyle=1;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 315);
				text7.vertex = true;
				bg1.insert(text7);
				var part2 = new mxCell('Notifications\n<font style="font-size: 14px" color="#999999">Notify me about updates to apps or games<br>that I download</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(16, 380);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('Sound\n<font style="font-size: 14px" color="#999999">Auto-update apps at anytime. Data charges<br>may apply</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(16, 472);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('Auto-add widgets\n<font style="font-size: 14px" color="#999999">Automatically add home screen widgets</font>', 
						new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;html=1;strokeColor=#666666;strokeWidth=2;fillColor=none;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=top;spacingLeft=32;spacingTop=-18;fontSize=17;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(16, 562);
				part4.vertex = true;
				bg1.insert(part4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Three-line list with icon');
			}),
			this.addEntry(dt + 'three line list avatar icon', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;fontSize=13;align=right;fillColor=#C2185B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Inbox', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#E91E63;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=-3;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=#ffffff;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-78, -8);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), 'ellipse;strokeColor=none;fillColor=#ffffff;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-37, -10);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 8), s2 + 'check;strokeColor=#E91E63;fillColor=none;strokeWidth=2;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-6, -4);
				icon4.vertex = true;
				icon3.insert(icon4);
				var bar2 = new mxCell('Ali Connors', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;spacingLeft=72;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, 16);
				icon5.vertex = true;
				bar2.insert(icon5);
				var text2 = new mxCell('Brunch this weekend?', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar2.insert(text2);
				var text3 = new mxCell("I'll be in your neighbourheed doing errands ...", new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 54);
				text3.vertex = true;
				bar2.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar2.insert(icon5);
				var bar3 = new mxCell('me, Scott, Jennifer', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;spacingLeft=72;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 167);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon5 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, 16);
				icon5.vertex = true;
				bar3.insert(icon5);
				var text2 = new mxCell('Summer BBQ', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;fontSize=13;verticalAlign=middle;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar3.insert(text2);
				var text3 = new mxCell("Wish I could come, but I'm out of town ...", new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 54);
				text3.vertex = true;
				bar3.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar3.insert(icon5);
				var bar4 = new mxCell('Sandra Adams', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;spacingLeft=72;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 253);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon6 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(16, 16);
				icon6.vertex = true;
				bar4.insert(icon6);
				var text2 = new mxCell('Oui oui', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar4.insert(text2);
				var text3 = new mxCell("Do you have Paris recommendations ...", new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 54);
				text3.vertex = true;
				bar4.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar4.insert(icon5);
				var bar5 = new mxCell('Trevor Hansen', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;resizeWidth=1;spacingLeft=72;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 339);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon7 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(16, 16);
				icon7.vertex = true;
				bar5.insert(icon7);
				var text2 = new mxCell('Order confirmation', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar5.insert(text2);
				var text3 = new mxCell("Thank you for your recent order from ...", new mxGeometry(0, 0, 230, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 54);
				text3.vertex = true;
				bar5.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar5.insert(icon5);
				var bar6 = new mxCell('Britta Holt', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;spacingLeft=72;resizeWidth=1;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 425);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon8 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(16, 16);
				icon8.vertex = true;
				bar6.insert(icon8);
				var text2 = new mxCell('Recipe to try', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar6.insert(text2);
				var text3 = new mxCell("We should eat this: grated squash, corn ...", new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.offset = new mxPoint(0, 54);
				text3.geometry.relative = true;
				text3.vertex = true;
				bar6.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar6.insert(icon5);
				var bar7 = new mxCell('David Park', new mxGeometry(0, 0, 358, 86), 'shape=rect;fontSize=16;strokeColor=#eeeeee;fillColor=#ffffff;align=left;verticalAlign=top;spacing=0;spacingTop=5;spacingLeft=72;resizeWidth=1;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 511);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon9 = new mxCell('', new mxGeometry(0, 0, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(16, 16);
				icon9.vertex = true;
				bar7.insert(icon9);
				var text2 = new mxCell('Giants game', new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;resizeWidth=1;align=left;spacingLeft=72;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 31);
				text2.vertex = true;
				bar7.insert(text2);
				var text3 = new mxCell("Any interest in seeing the Giants play ...", new mxGeometry(0, 0, 358, 20), 'text;fontSize=13;verticalAlign=middle;fontColor=#999999;resizeWidth=1;align=left;spacingLeft=72;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 54);
				text3.vertex = true;
				bar7.insert(text3);
				var icon5 = new mxCell('', new mxGeometry(1, 0, 17, 16), s2 + 'star;strokeColor=#B3B3B3;fillColor=#ffffff;strokeWidth=2;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-39, 20);
				icon5.vertex = true;
				bar7.insert(icon5);
				var icon5 = new mxCell('', new mxGeometry(1, 1, 56, 56), 'shape=ellipse;strokeColor=none;fillColor=#18FFFF;shadow=1;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-78, -129);
				icon5.vertex = true;
				bg1.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'plus;strokeColor=#084560;strokeWidth=2;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(20, 20);
				icon6.vertex = true;
				icon5.insert(icon6);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Three-line list with avatar and icons');
			}),
			this.addEntry(dt + 'line item checkbox', function()
			{
				var bg1 = new mxCell('Line item selected', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 18, 18), s2 + 'checkbox;strokeColor=none;fillColor=#089953;strokeWidth=2;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -9);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 20, 18), s2 + 'message;strokeColor=#ffffff;fillColor=#666666;strokeWidth=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-36, -9);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Line item with primary checkbox');
			}),
			this.addEntry(dt + 'line item checkbox', function()
			{
				var bg1 = new mxCell('Line item unselected', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 18, 18), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -9);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 20, 18), s2 + 'message;strokeColor=#ffffff;fillColor=#666666;strokeWidth=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-36, -9);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Line item with primary checkbox');
			}),
			this.addEntry(dt + 'line item checkbox', function()
			{
				var bg1 = new mxCell('Line item selected', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -20);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 18, 18), s2 + 'checkbox;strokeColor=none;fillColor=#089953;strokeWidth=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-36, -9);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Line item with primary checkbox');
			}),
			this.addEntry(dt + 'line item checkbox', function()
			{
				var bg1 = new mxCell('Line item unselected', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -20);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 18, 18), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-36, -9);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Line item with primary checkbox');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('Wi-Fi', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 24, 22), s2 + 'wifi;strokeColor=none;fillColor=#666666;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -11);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 36, 20), s2 + 'switch;aspect=fixed;switchState=on;strokeColor=none;fillColor=#0E9D57;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-51, -10);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Item list');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('Bluetooth', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 10, 18), s2 + 'bluetooth;strokeColor=#666666;strokeWidth=2;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(21, -9);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 36, 20), s2 + 'switch;aspect=fixed;switchState=off;strokeColor=#bbbbbb;fillColor=#0E9D57;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-51, -10);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Item list');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('Data usage', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 22, 22), s2 + 'data_usage;strokeColor=#666666;strokeWidth=3;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(17, -11);
				part1.vertex = true;
				bg1.insert(part1);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Item list');
			}),
			this.addEntry(dt + 'line item checkbox', function()
			{
				var bg1 = new mxCell('Janet Perkins', new mxGeometry(0, 0, 358, 56), s + 'rect;fillColor=#ffffff;strokeColor=none;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;spacingLeft=72;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#808080;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(16, -20);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(1, 0.5, 18, 18), s2 + 'preferences;strokeColor=none;fillColor=#666666;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-36, -9);
				part2.vertex = true;
				bg1.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 56, 'Line item with primary checkbox');
			}),
			this.addEntry(dt + 'item list', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Topics', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=21;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var part1 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-24, -8);
				part1.vertex = true;
				bar1.insert(part1);
				var bar2 = new mxCell('Attractions', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;strokeWidth=1;fontSize=17;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon2 = new mxCell('', new mxGeometry(0, 0.5, 24, 18), s2 + 'attractions;strokeColor=#FFFFFF;fillColor=#737373;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(16, -9);
				icon2.vertex = true;
				bar2.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-32, -3);
				icon3.vertex = true;
				bar2.insert(icon3);
				var bar3 = new mxCell('Dining', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 129);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon3 = new mxCell('', new mxGeometry(0, 0.5, 15, 18), s2 + 'dining;strokeColor=none;fillColor=#737373;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(20, -9);
				icon3.vertex = true;
				bar3.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-32, -3);
				icon4.vertex = true;
				bar3.insert(icon4);
				var bar4 = new mxCell('Education', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 177);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'education;strokeColor=none;fillColor=#737373;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(16, -9);
				icon5.vertex = true;
				bar4.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-32, -3);
				icon6.vertex = true;
				bar4.insert(icon6);
				var bar5 = new mxCell('Family', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 225);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon7 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'family;strokeColor=none;fillColor=#737373;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(17, -9);
				icon7.vertex = true;
				bar5.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-32, -3);
				icon8.vertex = true;
				bar5.insert(icon8);
				var bar6 = new mxCell('Health', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 273);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon9 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'health;strokeColor=none;fillColor=#737373;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(17, -9);
				icon9.vertex = true;
				bar6.insert(icon9);
				var icon10 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon10.geometry.relative = true;
				icon10.geometry.offset = new mxPoint(-32, -3);
				icon10.vertex = true;
				bar6.insert(icon10);
				var bar7 = new mxCell('Office', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 321);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon11 = new mxCell('', new mxGeometry(0, 0.5, 20, 22), s2 + 'office;strokeColor=none;fillColor=#737373;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(18, -11);
				icon11.vertex = true;
				bar7.insert(icon11);
				var icon12 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-32, -3);
				icon12.vertex = true;
				bar7.insert(icon12);
				var bar8 = new mxCell('Promotions', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 369);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon13 = new mxCell('', new mxGeometry(0, 0.5, 24, 24), s2 + 'promotions;strokeColor=none;fillColor=#737373;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(16, -12);
				icon13.vertex = true;
				bar8.insert(icon13);
				var icon14 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-32, -3);
				icon14.vertex = true;
				bar8.insert(icon14);
				var bar9 = new mxCell('Radio', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar9.geometry.relative = true;
				bar9.geometry.offset = new mxPoint(0, 417);
				bar9.vertex = true;
				bg1.insert(bar9);
				var icon15 = new mxCell('', new mxGeometry(0, 0.5, 22, 24), s2 + 'radio;strokeColor=none;fillColor=#737373;');
				icon15.geometry.relative = true;
				icon15.geometry.offset = new mxPoint(18, -12);
				icon15.vertex = true;
				bar9.insert(icon15);
				var icon16 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-32, -3);
				icon16.vertex = true;
				bar9.insert(icon16);
				var bar10 = new mxCell('Recipes', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar10.geometry.relative = true;
				bar10.geometry.offset = new mxPoint(0, 465);
				bar10.vertex = true;
				bg1.insert(bar10);
				var icon17 = new mxCell('', new mxGeometry(0, 0.5, 24, 24), s2 + 'recipes;strokeColor=none;fillColor=#737373;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(16, -12);
				icon17.vertex = true;
				bar10.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-32, -3);
				icon18.vertex = true;
				bar10.insert(icon18);
				var bar11 = new mxCell('Sports', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar11.geometry.relative = true;
				bar11.geometry.offset = new mxPoint(0, 513);
				bar11.vertex = true;
				bg1.insert(bar11);
				var icon19 = new mxCell('', new mxGeometry(0, 0.5, 22, 22), s2 + 'sports;strokeColor=none;fillColor=#737373;');
				icon19.geometry.relative = true;
				icon19.geometry.offset = new mxPoint(17, -11);
				icon19.vertex = true;
				bar11.insert(icon19);
				var icon20 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon20.geometry.relative = true;
				icon20.geometry.offset = new mxPoint(-32, -3);
				icon20.vertex = true;
				bar11.insert(icon20);
				var bar12 = new mxCell('Travel', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, 561);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon19 = new mxCell('', new mxGeometry(0, 0.5, 24, 20), s2 + 'travel;strokeColor=none;fillColor=#737373;direction=south;');
				icon19.geometry.relative = true;
				icon19.geometry.offset = new mxPoint(16, -10);
				icon19.vertex = true;
				bar12.insert(icon19);
				var icon20 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon20.geometry.relative = true;
				icon20.geometry.offset = new mxPoint(-32, -3);
				icon20.vertex = true;
				bar12.insert(icon20);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Item list');
			}),
			this.addEntry(dt + 'item list expanded', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00796B;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Topics', new mxGeometry(0, 0, 358, 57), s + 'rect;strokeColor=none;fillColor=#009688;resizeWidth=1;fontSize=21;fontColor=#FFFFFF;spacingTop=-3;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, -8);
				icon1.vertex = true;
				bar1.insert(icon1);
				var part1 = new mxCell('', new mxGeometry(1, 0.5, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(-24, -8);
				part1.vertex = true;
				bar1.insert(part1);
				var bar2 = new mxCell('Attractions', new mxGeometry(0, 0, 358, 62), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 81);
				bar2.vertex = true;
				bg1.insert(bar2);
				var icon2 = new mxCell('', new mxGeometry(0, 0.5, 24, 18), s2 + 'attractions;strokeColor=#FFFFFF;fillColor=#737373;strokeWidth=1;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(16, -9);
				icon2.vertex = true;
				bar2.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-32, -3);
				icon3.vertex = true;
				bar2.insert(icon3);
				var line1 = new mxCell('', new mxGeometry(0, 0, 358, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				line1.geometry.relative = true;
				line1.geometry.offset = new mxPoint(0, 138);
				line1.vertex = true;
				bg1.insert(line1);
				var bar3 = new mxCell('Dining', new mxGeometry(0, 0, 358, 62), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;fontColor=#009688;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 143);
				bar3.vertex = true;
				bg1.insert(bar3);
				var icon3 = new mxCell('', new mxGeometry(0, 0.5, 15, 18), s2 + 'dining;strokeColor=none;fillColor=#009688;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(27, -9);
				icon3.vertex = true;
				bar3.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-32, -3);
				icon4.vertex = true;
				bar3.insert(icon4);
				var text1 = new mxCell('Breakfast & brunch', new mxGeometry(0, 0, 358, 48), 'text;verticalAlign=middle;spacingLeft=70;fontSize=17;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 205);
				text1.vertex = true;
				bg1.insert(text1);
				var text1 = new mxCell('New American', new mxGeometry(0, 0, 358, 48), 'text;verticalAlign=middle;spacingLeft=70;fontSize=17;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 253);
				text1.vertex = true;
				bg1.insert(text1);
				var text1 = new mxCell('Sushi bars', new mxGeometry(0, 0, 358, 48), 'text;verticalAlign=middle;spacingLeft=70;fontSize=17;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 301);
				text1.vertex = true;
				bg1.insert(text1);
				var line2 = new mxCell('', new mxGeometry(0, 0, 358, 10), s + 'line;strokeColor=#eeeeee;resizeWidth=1;');
				line2.geometry.relative = true;
				line2.geometry.offset = new mxPoint(0, 344);
				line2.vertex = true;
				bg1.insert(line2);
				var bar4 = new mxCell('Education', new mxGeometry(0, 0, 358, 62), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 349);
				bar4.vertex = true;
				bg1.insert(bar4);
				var icon5 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'education;strokeColor=none;fillColor=#737373;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(17, -9);
				icon5.vertex = true;
				bar4.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-32, -3);
				icon6.vertex = true;
				bar4.insert(icon6);
				var bar5 = new mxCell('Family', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 406);
				bar5.vertex = true;
				bg1.insert(bar5);
				var icon7 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'family;strokeColor=none;fillColor=#737373;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(17, -9);
				icon7.vertex = true;
				bar5.insert(icon7);
				var icon8 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon8.geometry.relative = true;
				icon8.geometry.offset = new mxPoint(-32, -3);
				icon8.vertex = true;
				bar5.insert(icon8);
				var bar6 = new mxCell('Health', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar6.geometry.relative = true;
				bar6.geometry.offset = new mxPoint(0, 456);
				bar6.vertex = true;
				bg1.insert(bar6);
				var icon9 = new mxCell('', new mxGeometry(0, 0.5, 22, 18), s2 + 'health;strokeColor=none;fillColor=#737373;');
				icon9.geometry.relative = true;
				icon9.geometry.offset = new mxPoint(17, -9);
				icon9.vertex = true;
				bar6.insert(icon9);
				var icon10 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon10.geometry.relative = true;
				icon10.geometry.offset = new mxPoint(-32, -3);
				icon10.vertex = true;
				bar6.insert(icon10);
				var bar7 = new mxCell('Office', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar7.geometry.relative = true;
				bar7.geometry.offset = new mxPoint(0, 502);
				bar7.vertex = true;
				bg1.insert(bar7);
				var icon11 = new mxCell('', new mxGeometry(0, 0.5, 20, 22), s2 + 'office;strokeColor=none;fillColor=#737373;');
				icon11.geometry.relative = true;
				icon11.geometry.offset = new mxPoint(18, -11);
				icon11.vertex = true;
				bar7.insert(icon11);
				var icon12 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon12.geometry.relative = true;
				icon12.geometry.offset = new mxPoint(-32, -3);
				icon12.vertex = true;
				bar7.insert(icon12);
				var bar8 = new mxCell('Promotions', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#ffffff;resizeWidth=1;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=72;fontSize=17;');
				bar8.geometry.relative = true;
				bar8.geometry.offset = new mxPoint(0, 550);
				bar8.vertex = true;
				bg1.insert(bar8);
				var icon13 = new mxCell('', new mxGeometry(0, 0.5, 24, 24), s2 + 'promotions;strokeColor=none;fillColor=#737373;');
				icon13.geometry.relative = true;
				icon13.geometry.offset = new mxPoint(16, -12);
				icon13.vertex = true;
				bar8.insert(icon13);
				var icon14 = new mxCell('', new mxGeometry(1, 0.5, 12, 6), s2 + 'up;strokeColor=#737373;strokeWidth=2;flipV=1;');
				icon14.geometry.relative = true;
				icon14.geometry.offset = new mxPoint(-32, -3);
				icon14.vertex = true;
				bar8.insert(icon14);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Item list (expanded)');
			})
   		];
		  
		this.addPalette('gmdlLists', 'GMDL / Lists', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLMenusPalette = function(expand)
	{
		var s = "perimeter=none;dashed=0;shape=";
		var s2 = "perimeter=none;dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library menu ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'menu simple', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 170, 168), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Refresh', new mxGeometry(0, 0, 170, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 0);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Help & feedback', new mxGeometry(0, 0, 170, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('Settings', new mxGeometry(0, 0, 170, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg.insert(part3);
				var part5 = new mxCell('Sign out', new mxGeometry(0, 0, 170, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 126);
				part5.vertex = true;
				bg.insert(part5);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu');
			}),
			this.addEntry(dt + 'menu simple', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 170, 272), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Preview', new mxGeometry(0, 0, 16, 12), s2 + 'preview;verticalAlign=middle;align=left;labelPosition=right;fontSize=15;spacing=16;resizeWidth=1;strokeColor=none;fillColor=#747474;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(17, 16);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Share', new mxGeometry(0, 0, 18, 14), s2 + 'share3;verticalAlign=middle;align=left;labelPosition=right;fontSize=15;spacing=16;resizeWidth=1;strokeColor=none;fillColor=#747474;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(16, 57);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('Get link', new mxGeometry(0, 0, 18, 10), s2 + 'link;verticalAlign=middle;align=left;labelPosition=right;fontSize=15;spacing=16;resizeWidth=1;strokeColor=none;fillColor=#747474;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(16, 101);
				part3.vertex = true;
				bg.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 0, bg.geometry.width, 10), 'shape=line;resizeWidth=1;perimeter=none;strokeColor=#eeeeee;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 126);
				part4.vertex = true;
				bg.insert(part4);
				var part5 = new mxCell('Make a copy', new mxGeometry(0, 0, 12, 16), s2 + 'copy;verticalAlign=middle;align=left;labelPosition=right;strokeWidth=2;fontSize=15;spacing=16;resizeWidth=1;strokeColor=#747474;fillColor=none;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(20, 150);
				part5.vertex = true;
				bg.insert(part5);
				var part6 = new mxCell('Download', new mxGeometry(0, 0, 12, 16), s2 + 'download;verticalAlign=middle;align=left;labelPosition=right;fontSize=15;spacing=16;resizeWidth=1;strokeColor=none;fillColor=#747474;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(16, 192);
				part6.vertex = true;
				bg.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0, 0, bg.geometry.width, 10), 'shape=line;resizeWidth=1;perimeter=none;strokeColor=#eeeeee;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 220);
				part7.vertex = true;
				bg.insert(part7);
				var part8 = new mxCell('Remove', new mxGeometry(0, 0, 12, 16), s2 + 'remove;verticalAlign=middle;align=left;labelPosition=right;fontSize=15;spacing=16;resizeWidth=1;strokeColor=none;fillColor=#747474;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(16, 242);
				part8.vertex = true;
				bg.insert(part8);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu');
			}),
			this.addEntry(dt + 'simple menu', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 280, 160), 'shape=rect;fillColor=#FAFAFA;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell("Show all notification content", new mxGeometry(0, 0, 280, 50), 'text;fontSize=13;fontColor=#000000;align=left;spacing=16;fillColor=#eeeeee;verticalAlign=middle;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 10);
				bar1.vertex = true;
				bg1.insert(bar1);
				var bar2 = new mxCell("Hide sensitive notification content", new mxGeometry(0, 0, 280, 50), 'text;fontSize=13;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 60);
				bar2.vertex = true;
				bg1.insert(bar2);
				var bar3 = new mxCell("Hide all notification content", new mxGeometry(0, 0, 280, 50), 'text;fontSize=13;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 110);
				bar3.vertex = true;
				bg1.insert(bar3);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 160, 'Simple menu');
			}),
			this.addEntry(dt + 'simple menu multi line', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 280, 328), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell("Title goes here", new mxGeometry(0, 0, 280, 68), 'text;fontSize=19;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;fontStyle=1;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var bar2 = new mxCell("Single line text goes here", new mxGeometry(0, 0, 280, 50), 'text;fontSize=15;fontColor=#000000;align=left;spacing=16;fillColor=#e0e0e0;verticalAlign=middle;resizeWidth=1;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 68);
				bar2.vertex = true;
				bg1.insert(bar2);
				var bar3 = new mxCell("Two line wrapped text goes here making it wrap to next line", 
						new mxGeometry(0, 0, 280, 70), 'text;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;whiteSpace=wrap;resizeWidth=1;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, 118);
				bar3.vertex = true;
				bg1.insert(bar3);
				var bar4 = new mxCell("Single line text goes here", new mxGeometry(0, 0, 280, 50), 'text;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;resizeWidth=1;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(0, 188);
				bar4.vertex = true;
				bg1.insert(bar4);
				var bar5 = new mxCell("Three line wrapped text goes here making it wrap to next line and continues longer to be here", 
						new mxGeometry(0, 0, 280, 90), 'text;fontSize=15;fontColor=#000000;align=left;spacing=16;verticalAlign=middle;whiteSpace=wrap;resizeWidth=1;');
				bar5.geometry.relative = true;
				bar5.geometry.offset = new mxPoint(0, 238);
				bar5.vertex = true;
				bg1.insert(bar5);
			   	return sb.createVertexTemplateFromCells([bg1], 280, 328, 'Simple menu (multi-line)');
			}),
			this.addEntry(dt + 'menu items', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 318, 126), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Menu item one', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=top;fontSize=15;spacing=16;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-27, 0);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('Menu item two', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg1.insert(part2);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-27, -5);
				icon2.vertex = true;
				part2.insert(icon2);
				var part3 = new mxCell('Menu item three', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=bottom;fontSize=15;spacing=16;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg1.insert(part3);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-27, -10);
				icon3.vertex = true;
				part3.insert(icon3);
			   	return sb.createVertexTemplateFromCells([bg1], 318, 126, 'Menu items');
			}),
			this.addEntry(dt + 'menu', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 318, 126), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Open', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var icon1 = new mxCell('Cmnd+O', new mxGeometry(1, 0.5, 106, 20), 'text;labelPosition=center;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-120, -10);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('Paste in place', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var icon2 = new mxCell('Shift + V', new mxGeometry(1, 0.5, 106, 20), 'text;labelPosition=center;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=15;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-120, -10);
				icon2.vertex = true;
				part2.insert(icon2);
				var part3 = new mxCell('Research', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg.insert(part3);
				var icon3 = new mxCell('Opt + Shift + Cmnd + I', new mxGeometry(1, 0.5, 106, 20), 'text;labelPosition=center;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=15;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-120, -10);
				icon3.vertex = true;
				part3.insert(icon3);
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu');
			}),
			this.addEntry(dt + 'menu', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 318, 126), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Open', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var icon1 = new mxCell('O', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('Paste in place', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var icon2 = new mxCell('V', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-41, -6);
				icon2.vertex = true;
				part2.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 12, 12), 'shape=mxgraph.arrows2.arrow;direction=north;dy=0.6;dx=4.8;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-57, -6);
				icon3.vertex = true;
				part2.insert(icon3);
				var part3 = new mxCell('Research', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg.insert(part3);
				var icon4 = new mxCell('I', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-33, -6);
				icon4.vertex = true;
				part3.insert(icon4);
				var icon5 = new mxCell('', new mxGeometry(1, 0.5, 12, 12), 'shape=mxgraph.arrows2.arrow;direction=north;dy=0.6;dx=4.8;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-49, -6);
				icon5.vertex = true;
				part3.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 12, 12), s2 + 'opt;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-65, -6);
				icon6.vertex = true;
				part3.insert(icon6);
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu');
			}),
			this.addEntry(dt + 'cascading menu', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 318, 524), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Bold', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('B', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('Italic', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg1.insert(part2);
				var icon1 = new mxCell('I', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part2.insert(icon1);
				var part3 = new mxCell('Underline', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg1.insert(part3);
				var icon1 = new mxCell('U', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part3.insert(icon1);
				var part4 = new mxCell('Striketrough', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 126);
				part4.vertex = true;
				bg1.insert(part4);
				var icon1 = new mxCell('Alt+Shift+5', new mxGeometry(1, 0.5, 106, 20), 'text;labelPosition=center;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=15;perimeter=none;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-120, -10);
				icon1.vertex = true;
				part4.insert(icon1);
				var part5 = new mxCell('Superscript', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 168);
				part5.vertex = true;
				bg1.insert(part5);
				var icon1 = new mxCell('.', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part5.insert(icon1);
				var part6 = new mxCell('Subscript', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 210);
				part6.vertex = true;
				bg1.insert(part6);
				var icon1 = new mxCell(',', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part6.insert(icon1);
				var part7 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;perimeter=none;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 252);
				part7.vertex = true;
				bg1.insert(part7);
				var part8 = new mxCell('Paragraph styles', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;perimeter=none;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(0, 262);
				part8.vertex = true;
				bg1.insert(part8);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-38, -5);
				icon2.vertex = true;
				part8.insert(icon2);
				var part9 = new mxCell('Align', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;perimeter=none;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 304);
				part9.vertex = true;
				bg1.insert(part9);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-38, -5);
				icon3.vertex = true;
				part9.insert(icon3);
				var part10 = new mxCell('Line Spacing', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;fillColor=#eeeeee;resizeWidth=1;perimeter=none;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(0, 346);
				part10.vertex = true;
				bg1.insert(part10);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-38, -5);
				icon4.vertex = true;
				part10.insert(icon4);
				var part11 = new mxCell('Numbered List', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;perimeter=none;');
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(0, 388);
				part11.vertex = true;
				bg1.insert(part11);
				var icon5 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-38, -5);
				icon5.vertex = true;
				part11.insert(icon5);
				var part12 = new mxCell('List options', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;perimeter=none;');
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(0, 430);
				part12.vertex = true;
				bg1.insert(part12);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-38, -5);
				icon6.vertex = true;
				part12.insert(icon6);
				var part13 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;perimeter=none;');
				part13.geometry.relative = true;
				part13.geometry.offset = new mxPoint(0, 472);
				part13.vertex = true;
				bg1.insert(part13);
				var part14 = new mxCell('Clear formatting', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;perimeter=none;');
				part14.geometry.relative = true;
				part14.geometry.offset = new mxPoint(0, 482);
				part14.vertex = true;
				bg1.insert(part14);
				var icon7 = new mxCell('/', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(-41, -6);
				icon7.vertex = true;
				part14.insert(icon7);
				var bg2 = new mxCell('', new mxGeometry(318, 346, 318, 286), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;perimeter=none;');
				bg2.vertex = true;
				var part1 = new mxCell('Single', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('1.15', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('Double', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg2.insert(part3);
				var part4 = new mxCell('Custom: 1.2', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 126);
				part4.vertex = true;
				bg2.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0, 0.5, 18, 14), s2 + 'check;fillColor=none;strokeWidth=2;strokeColor=#666666;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(36, -7);
				part5.vertex = true;
				part4.insert(part5);
				var part6 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(-38, -5);
				part6.vertex = true;
				part4.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;perimeter=none;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 168);
				part7.vertex = true;
				bg2.insert(part7);
				var part8 = new mxCell('Add space before paragraph', new mxGeometry(0, 0, 318, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;perimeter=none;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(0, 178);
				part8.vertex = true;
				bg2.insert(part8);
				var part9 = new mxCell('Add space after paragraph', new mxGeometry(0, 0, 318, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;perimeter=none;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 210);
				part9.vertex = true;
				bg2.insert(part9);
				var part10 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;perimeter=none;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(0, 242);
				part10.vertex = true;
				bg2.insert(part10);
				var part9 = new mxCell('Custom spacing...', new mxGeometry(0, 0, 318, 34), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;perimeter=none;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 252);
				part9.vertex = true;
				bg2.insert(part9);
				return sb.createVertexTemplateFromCells([bg1, bg2], 636, 632, 'Cascading menu');
			}),
			this.addEntry(dt + 'cascading menu', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 192, 146), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;perimeter=none;');
				bg.vertex = true;
				var part1 = new mxCell('Show', new mxGeometry(0, 0, 192, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;perimeter=none;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Grid lines', new mxGeometry(0, 0, 192, 32), 'text;verticalAlign=middle;fontSize=15;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0.5, 18, 14), s2 + 'check;fillColor=none;strokeWidth=2;strokeColor=#666666;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(36, -7);
				part3.vertex = true;
				part2.insert(part3);
				var part4 = new mxCell('Page breaks', new mxGeometry(0, 0, 192, 32), 'text;verticalAlign=middle;fontSize=15;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 74);
				part4.vertex = true;
				bg.insert(part4);
				var part5 = new mxCell('Rules', new mxGeometry(0, 0, 192, 32), 'text;verticalAlign=middle;fontSize=15;spacingLeft=72;resizeWidth=1;perimeter=none;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 106);
				part5.vertex = true;
				bg.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0.5, 18, 14), s2 + 'check;fillColor=none;strokeWidth=2;strokeColor=#666666;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(36, -7);
				part6.vertex = true;
				part5.insert(part6);
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Cascading menu');
			}),
			this.addEntry(dt + 'menu disabled actions', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 85, 190), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Undo', new mxGeometry(0, 0, 85, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 10);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Redo', new mxGeometry(0, 0, 85, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;fontColor=#b3b3b3;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 85, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 74);
				part3.vertex = true;
				bg.insert(part3);
				var part4 = new mxCell('Cut', new mxGeometry(0, 0, 85, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;fontColor=#b3b3b3;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 84);
				part4.vertex = true;
				bg.insert(part4);
				var part5 = new mxCell('Copy', new mxGeometry(0, 0, 85, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;fontColor=#b3b3b3;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 116);
				part5.vertex = true;
				bg.insert(part5);
				var part6 = new mxCell('Paste', new mxGeometry(0, 0, 85, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 148);
				part6.vertex = true;
				bg.insert(part6);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu with disabled actions');
			}),
			this.addEntry(dt + 'menu disabled actions', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 170, 222), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg.vertex = true;
				var part1 = new mxCell('Home', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 10);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Back', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg.insert(part2);
				var part3 = new mxCell('Forward', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;fontColor=#b3b3b3;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 74);
				part3.vertex = true;
				bg.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 0, 170, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 106);
				part4.vertex = true;
				bg.insert(part4);
				var part5 = new mxCell('Recently closed', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;fontColor=#b3b3b3;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 116);
				part5.vertex = true;
				bg.insert(part5);
				var part6 = new mxCell('Google', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 148);
				part6.vertex = true;
				bg.insert(part6);
				var part7 = new mxCell('Youtube', new mxGeometry(0, 0, 170, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 180);
				part7.vertex = true;
				bg.insert(part7);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu with disabled actions');
			}),
			this.addEntry(dt + 'scrollable menu', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 272, 420), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;');
				bg.vertex = true;
				var text1 = new mxCell('Option item 1', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Option item 2', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 42);
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('Option item 3', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 84);
				text3.vertex = true;
				bg.insert(text3);
				var text4 = new mxCell('Option item 4', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 126);
				text4.vertex = true;
				bg.insert(text4);
				var text5 = new mxCell('Option item 5', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 168);
				text5.vertex = true;
				bg.insert(text5);
				var text6 = new mxCell('Option item 6', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 210);
				text6.vertex = true;
				bg.insert(text6);
				var text7 = new mxCell('Option item 7', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 252);
				text7.vertex = true;
				bg.insert(text7);
				var text8 = new mxCell('Option item 8', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 294);
				text8.vertex = true;
				bg.insert(text8);
				var text9 = new mxCell('Option item 9', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;fillColor=#eeeeee;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 336);
				text9.vertex = true;
				bg.insert(text9);
				var text10 = new mxCell('Option item 10', new mxGeometry(0, 0, bg.geometry.width, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 378);
				text10.vertex = true;
				bg.insert(text10);
				var part2 = new mxCell('', new mxGeometry(1, 0, 4, 190), 'shape=rect;strokeColor=none;fillColor=#dddddd;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-4, 125);
				part2.vertex = true;
				bg.insert(part2);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Scrollable menu');
			}),
			this.addEntry(dt + 'cascading menu', function()
			{
				var bg1 = new mxCell('', new mxGeometry(116, 0, 318, 436), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var part1 = new mxCell('Bold', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg1.insert(part1);
				var icon1 = new mxCell('B', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part1.insert(icon1);
				var part2 = new mxCell('Italic', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg1.insert(part2);
				var icon1 = new mxCell('I', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part2.insert(icon1);
				var part3 = new mxCell('Underline', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg1.insert(part3);
				var icon1 = new mxCell('U', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part3.insert(icon1);
				var part4 = new mxCell('Striketrough', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 126);
				part4.vertex = true;
				bg1.insert(part4);
				var icon1 = new mxCell('Alt+Shift+5', new mxGeometry(1, 0.5, 106, 20), 'text;labelPosition=center;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-120, -10);
				icon1.vertex = true;
				part4.insert(icon1);
				var part5 = new mxCell('Superscript', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 168);
				part5.vertex = true;
				bg1.insert(part5);
				var icon1 = new mxCell('.', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part5.insert(icon1);
				var part6 = new mxCell('Subscript', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;spacing=0;spacingLeft=16;fontSize=15;resizeWidth=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 210);
				part6.vertex = true;
				bg1.insert(part6);
				var icon1 = new mxCell(',', new mxGeometry(1, 0.5, 12, 12), s2 + 'command;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=15;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-41, -6);
				icon1.vertex = true;
				part6.insert(icon1);
				var part7 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 252);
				part7.vertex = true;
				bg1.insert(part7);
				var part8 = new mxCell('Paragraph styles', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(0, 262);
				part8.vertex = true;
				bg1.insert(part8);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-38, -5);
				icon2.vertex = true;
				part8.insert(icon2);
				var part9 = new mxCell('Line spacing', new mxGeometry(0, 0, 318, 42), 'text;fillColor=#eeeeee;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 304);
				part9.vertex = true;
				bg1.insert(part9);
				var part10 = new mxCell('Numbered list', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(0, 346);
				part10.vertex = true;
				bg1.insert(part10);
				var part11 = new mxCell('List options', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;resizeWidth=1;');
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(0, 388);
				part11.vertex = true;
				bg1.insert(part11);
				var part12 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(0, 420);
				part12.vertex = true;
				bg1.insert(part12);
				var bg2 = new mxCell('', new mxGeometry(286, 304, 318, 286), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;');
				bg2.vertex = true;
				var part1 = new mxCell('Single', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg2.insert(part1);
				var part2 = new mxCell('1.15', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 42);
				part2.vertex = true;
				bg2.insert(part2);
				var part3 = new mxCell('Double', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 84);
				part3.vertex = true;
				bg2.insert(part3);
				var part4 = new mxCell('Custom: 1.2', new mxGeometry(0, 0, 318, 42), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=72;fillColor=#eeeeee;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 126);
				part4.vertex = true;
				bg2.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0, 0.5, 18, 14), s2 + 'check;fillColor=none;strokeWidth=2;strokeColor=#666666;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(36, -7);
				part5.vertex = true;
				part4.insert(part5);
				var part6 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), s2 + 'triangle;strokeColor=none;fillColor=#666666;direction=north;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(-38, -5);
				part6.vertex = true;
				part4.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(0, 168);
				part7.vertex = true;
				bg2.insert(part7);
				var part8 = new mxCell('Add space before paragraph', new mxGeometry(0, 0, 318, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;');
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(0, 178);
				part8.vertex = true;
				bg2.insert(part8);
				var part9 = new mxCell('Add space after paragraph', new mxGeometry(0, 0, 318, 32), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 210);
				part9.vertex = true;
				bg2.insert(part9);
				var part10 = new mxCell('', new mxGeometry(0, 0, 318, 10), 'shape=line;strokeColor=#eeeeee;resizeWidth=1;');
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(0, 242);
				part10.vertex = true;
				bg2.insert(part10);
				var part9 = new mxCell('Custom spacing...', new mxGeometry(0, 0, 318, 34), 'text;verticalAlign=middle;fontSize=15;spacing=16;spacingLeft=16;resizeWidth=1;');
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(0, 252);
				part9.vertex = true;
				bg2.insert(part9);
				var bg3 = new mxCell('', new mxGeometry(0, 428, 286, 128), 'shape=rect;strokeColor=#eeeeee;fillColor=#ffffff;shadow=1;');
				bg3.vertex = true;
				var text1 = new mxCell('Line spacing', new mxGeometry(0, 0, 220, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingLeft=16;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg3.insert(text1);
				var text2 = new mxCell('1.2', new mxGeometry(1, 0, 66, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingRight=16;align=right;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-66, 0);
				text2.vertex = true;
				bg3.insert(text2);
				var text3 = new mxCell('Paragraph spacing before', new mxGeometry(0, 0, 220, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingLeft=16;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 42);
				text3.vertex = true;
				bg3.insert(text3);
				var text4 = new mxCell('1.2', new mxGeometry(1, 0, 66, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingRight=16;align=right;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(-66, 42);
				text4.vertex = true;
				bg3.insert(text4);
				var text5 = new mxCell('Paragraph spacing after', new mxGeometry(0, 0, 220, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingLeft=16;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 84);
				text5.vertex = true;
				bg3.insert(text5);
				var text6 = new mxCell('1.5', new mxGeometry(1, 0, 66, 42), 'text;verticalAlign=middle;fontSize=15;spacing=0;spacingRight=16;align=right;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(-66, 84);
				text6.vertex = true;
				bg3.insert(text6);
				return sb.createVertexTemplateFromCells([bg1, bg2, bg3], 604, 590, 'Cascading menu');
			})
   		];
		  
		this.addPalette('gmdlMenus', 'GMDL / Menus', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLMiscPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library misc ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry('shape=rect;fillColor=#eeeeee;strokeColor=none;',
					358, 642, '', 'Background (Light)', null, null, this.getTagsForStencil(gn, 'background', dt).join(' ')),
			this.createVertexTemplateEntry('shape=rect;fillColor=#333333;strokeColor=none;',
					358, 642, '', 'Background (Dark)', null, null, this.getTagsForStencil(gn, 'background', dt).join(' ')),
			this.addEntry(dt + 'keyboard', function()
			{
				var ts1 = 'text;fontColor=#bbbbbb;fontSize=24;verticalAlign=middle;align=center;';
				var ts2 = 'text;fontColor=#999999;fontSize=10;verticalAlign=middle;align=center;';
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 224), s + 'rect;fillColor=#263238;strokeColor=none;aspect=fixed;');
				bg1.vertex = true;
				var text1 = new mxCell('q', new mxGeometry(12, 22, 30, 30), ts1);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('w', new mxGeometry(46, 22, 30, 30), ts1);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('e', new mxGeometry(80, 22, 30, 30), ts1);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('r', new mxGeometry(114, 22, 30, 30), ts1);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('t', new mxGeometry(148, 22, 30, 30), ts1);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('y', new mxGeometry(182, 22, 30, 30), ts1);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('u', new mxGeometry(216, 22, 30, 30), ts1);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('i', new mxGeometry(250, 22, 30, 30), ts1);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('o', new mxGeometry(284, 22, 30, 30), ts1);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('p', new mxGeometry(318, 22, 30, 30), ts1);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('a', new mxGeometry(27, 75, 30, 30), ts1);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('s', new mxGeometry(61, 75, 30, 30), ts1);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('d', new mxGeometry(95, 75, 30, 30), ts1);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('f', new mxGeometry(129, 75, 30, 30), ts1);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('g', new mxGeometry(163, 75, 30, 30), ts1);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('h', new mxGeometry(197, 75, 30, 30), ts1);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('j', new mxGeometry(231, 75, 30, 30), ts1);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('k', new mxGeometry(265, 75, 30, 30), ts1);
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('l', new mxGeometry(299, 75, 30, 30), ts1);
				text19.vertex = true;
				bg1.insert(text19);
				var text12 = new mxCell('z', new mxGeometry(61, 126, 30, 30), ts1);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('x', new mxGeometry(95, 126, 30, 30), ts1);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('c', new mxGeometry(129, 126, 30, 30), ts1);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('v', new mxGeometry(163, 126, 30, 30), ts1);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('b', new mxGeometry(197, 126, 30, 30), ts1);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('n', new mxGeometry(231, 126, 30, 30), ts1);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('m', new mxGeometry(265, 126, 30, 30), ts1);
				text18.vertex = true;
				bg1.insert(text18);
				var text1 = new mxCell('1', new mxGeometry(22, 12, 30, 30), ts2);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('2', new mxGeometry(56, 12, 30, 30), ts2);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('3', new mxGeometry(90, 12, 30, 30), ts2);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('4', new mxGeometry(124, 12, 30, 30), ts2);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('5', new mxGeometry(158, 12, 30, 30), ts2);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('6', new mxGeometry(192, 12, 30, 30), ts2);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('7', new mxGeometry(226, 12, 30, 30), ts2);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('8', new mxGeometry(260, 12, 30, 30), ts2);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('9', new mxGeometry(294, 12, 30, 30), ts2);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('0', new mxGeometry(328, 12, 30, 30), ts2);
				text10.vertex = true;
				bg1.insert(text10);
				var part1 = new mxCell('', new mxGeometry(21, 135, 22, 22), s2 + 'shift;strokeColor=none;fillColor=#A1A7A9;');
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('', new mxGeometry(310, 132, 26, 18), s2 + 'backspace;strokeColor=none;fillColor=#A1A7A9;');
				part2.vertex = true;
				bg1.insert(part2);
				var text11 = new mxCell('?123', new mxGeometry(17, 177, 30, 30), 'text;fontColor=#bbbbbb;fontSize=14;verticalAlign=middle;align=center;');
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell(',', new mxGeometry(62, 174, 30, 30), ts1);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('.', new mxGeometry(265, 170, 30, 30), ts1);
				text13.vertex = true;
				bg1.insert(text13);
				var part3 = new mxCell('', new mxGeometry(308, 167, 36, 36), 'shape=ellipse;strokeColor=none;fillColor=#4CB5AB;');
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('', new mxGeometry(10, 12, 16, 12), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part4.vertex = true;
				part3.insert(part4);
				var part5 = new mxCell('', new mxGeometry(105, 174, 145, 25), 'shape=rect;strokeColor=none;fillColor=#3C474C;rounded=1;size=3;');
				part5.vertex = true;
				bg1.insert(part5);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 224, 'Keyboard');
			}),
			this.addEntry(dt + 'snackbar', function()
			{
				var bg1 = new mxCell('Archived', new mxGeometry(0, 0, 358, 48), 'shape=rect;strokeColor=none;fillColor=#333333;fontColor=#FFFFFF;align=left;spacing=16;fontSize=13;spacingLeft=8;');
				bg1.vertex = true;
				var text1 = new mxCell('UNDO', new mxGeometry(1, 0, 88, 48), 'text;verticalAlign=middle;align=center;fontColor=#EEFF41;fontSize=14;resizeHeight=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-88, 0);
				text1.vertex = true;
				bg1.insert(text1);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 48, 'Snackbar');
			})
   		];
		  
		this.addPalette('gmdlMisc', 'GMDL / Misc', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLPickersPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library picker ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'date picker portrait', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu, Apr 13', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=bottom;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 328, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('<', new mxGeometry(0, 0, 48, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 96);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('April 2017', new mxGeometry(0.1463, 0, 232, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=13;align=center;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 96);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('>', new mxGeometry(0.8537, 0, 48, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 96);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('S', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 146);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('M', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 146);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('T', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 146);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('W', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 146);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('T', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 146);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('F', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 146);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('S', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 146);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('1', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, 186);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, 226);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text14.geometry.relative = true;
				text14.geometry.offset = new mxPoint(0, 226);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text15.geometry.relative = true;
				text15.geometry.offset = new mxPoint(0, 226);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text16.geometry.relative = true;
				text16.geometry.offset = new mxPoint(0, 226);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text17.geometry.relative = true;
				text17.geometry.offset = new mxPoint(0, 226);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#009688;fontStyle=1;resizeWidth=1;');
				text18.geometry.relative = true;
				text18.geometry.offset = new mxPoint(0, 226);
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text19.geometry.relative = true;
				text19.geometry.offset = new mxPoint(0, 226);
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text20.geometry.relative = true;
				text20.geometry.offset = new mxPoint(0, 266);
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text21.geometry.relative = true;
				text21.geometry.offset = new mxPoint(0, 266);
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text22.geometry.relative = true;
				text22.geometry.offset = new mxPoint(0, 266);
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text23.geometry.relative = true;
				text23.geometry.offset = new mxPoint(0, 266);
				text23.vertex = true;
				bg1.insert(text23);
				var text24 = new mxCell('13', new mxGeometry(0.6402, 0, 40, 40), 'shape=ellipse;fillColor=#009688;strokeColor=none;verticalAlign=middle;align=center;fontColor=#ffffff;fontStyle=1;');
				text24.geometry.relative = true;
				text24.geometry.offset = new mxPoint(-20, 266);
				text24.vertex = true;
				bg1.insert(text24);
				var text25 = new mxCell('14', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text25.geometry.relative = true;
				text25.geometry.offset = new mxPoint(0, 266);
				text25.vertex = true;
				bg1.insert(text25);
				var text26 = new mxCell('15', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text26.geometry.relative = true;
				text26.geometry.offset = new mxPoint(0, 266);
				text26.vertex = true;
				bg1.insert(text26);
				var text27 = new mxCell('16', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text27.geometry.relative = true;
				text27.geometry.offset = new mxPoint(0, 306);
				text27.vertex = true;
				bg1.insert(text27);
				var text28 = new mxCell('17', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text28.geometry.relative = true;
				text28.geometry.offset = new mxPoint(0, 306);
				text28.vertex = true;
				bg1.insert(text28);
				var text29 = new mxCell('18', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text29.geometry.relative = true;
				text29.geometry.offset = new mxPoint(0, 306);
				text29.vertex = true;
				bg1.insert(text29);
				var text30 = new mxCell('19', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text30.geometry.relative = true;
				text30.geometry.offset = new mxPoint(0, 306);
				text30.vertex = true;
				bg1.insert(text30);
				var text31 = new mxCell('20', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text31.geometry.relative = true;
				text31.geometry.offset = new mxPoint(0, 306);
				text31.vertex = true;
				bg1.insert(text31);
				var text32 = new mxCell('21', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text32.geometry.relative = true;
				text32.geometry.offset = new mxPoint(0, 306);
				text32.vertex = true;
				bg1.insert(text32);
				var text33 = new mxCell('22', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text33.geometry.relative = true;
				text33.geometry.offset = new mxPoint(0, 306);
				text33.vertex = true;
				bg1.insert(text33);
				var text34 = new mxCell('23', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text34.geometry.relative = true;
				text34.geometry.offset = new mxPoint(0, 346);
				text34.vertex = true;
				bg1.insert(text34);
				var text35 = new mxCell('24', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text35.geometry.relative = true;
				text35.geometry.offset = new mxPoint(0, 346);
				text35.vertex = true;
				bg1.insert(text35);
				var text36 = new mxCell('25', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text36.geometry.relative = true;
				text36.geometry.offset = new mxPoint(0, 346);
				text36.vertex = true;
				bg1.insert(text36);
				var text37 = new mxCell('26', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text37.geometry.relative = true;
				text37.geometry.offset = new mxPoint(0, 346);
				text37.vertex = true;
				bg1.insert(text37);
				var text38 = new mxCell('27', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text38.geometry.relative = true;
				text38.geometry.offset = new mxPoint(0, 346);
				text38.vertex = true;
				bg1.insert(text38);
				var text39 = new mxCell('28', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text39.geometry.relative = true;
				text39.geometry.offset = new mxPoint(0, 346);
				text39.vertex = true;
				bg1.insert(text39);
				var text40 = new mxCell('29', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text40.geometry.relative = true;
				text40.geometry.offset = new mxPoint(0, 346);
				text40.vertex = true;
				bg1.insert(text40);
				var text41 = new mxCell('30', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text41.geometry.relative = true;
				text41.geometry.offset = new mxPoint(0, 386);
				text41.vertex = true;
				bg1.insert(text41);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.vertex = true;
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Date picker (portrait)');
			}),
			this.addEntry(dt + 'date picker portrait dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#424242;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu, Apr 13', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=bottom;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 328, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('<', new mxGeometry(0, 0, 48, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 96);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('April 2017', new mxGeometry(0.1463, 0, 232, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=13;align=center;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 96);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('>', new mxGeometry(0.8537, 0, 48, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 96);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('S', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 146);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('M', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 146);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('T', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 146);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('W', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 146);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('T', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 146);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('F', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 146);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('S', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 146);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('1', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, 186);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, 226);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text14.geometry.relative = true;
				text14.geometry.offset = new mxPoint(0, 226);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text15.geometry.relative = true;
				text15.geometry.offset = new mxPoint(0, 226);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text16.geometry.relative = true;
				text16.geometry.offset = new mxPoint(0, 226);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text17.geometry.relative = true;
				text17.geometry.offset = new mxPoint(0, 226);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#80CBC4;resizeWidth=1;');
				text18.geometry.relative = true;
				text18.geometry.offset = new mxPoint(0, 226);
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text19.geometry.relative = true;
				text19.geometry.offset = new mxPoint(0, 226);
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text20.geometry.relative = true;
				text20.geometry.offset = new mxPoint(0, 266);
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text21.geometry.relative = true;
				text21.geometry.offset = new mxPoint(0, 266);
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text22.geometry.relative = true;
				text22.geometry.offset = new mxPoint(0, 266);
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text23.geometry.relative = true;
				text23.geometry.offset = new mxPoint(0, 266);
				text23.vertex = true;
				bg1.insert(text23);
				var text24 = new mxCell('13', new mxGeometry(0.6402, 0, 40, 40), 'shape=ellipse;fillColor=#80CBC4;strokeColor=none;verticalAlign=middle;align=center;fontColor=#424242;fontStyle=1;');
				text24.geometry.relative = true;
				text24.geometry.offset = new mxPoint(-20, 266);
				text24.vertex = true;
				bg1.insert(text24);
				var text25 = new mxCell('14', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text25.geometry.relative = true;
				text25.geometry.offset = new mxPoint(0, 266);
				text25.vertex = true;
				bg1.insert(text25);
				var text26 = new mxCell('15', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text26.geometry.relative = true;
				text26.geometry.offset = new mxPoint(0, 266);
				text26.vertex = true;
				bg1.insert(text26);
				var text27 = new mxCell('16', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text27.geometry.relative = true;
				text27.geometry.offset = new mxPoint(0, 306);
				text27.vertex = true;
				bg1.insert(text27);
				var text28 = new mxCell('17', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text28.geometry.relative = true;
				text28.geometry.offset = new mxPoint(0, 306);
				text28.vertex = true;
				bg1.insert(text28);
				var text29 = new mxCell('18', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text29.geometry.relative = true;
				text29.geometry.offset = new mxPoint(0, 306);
				text29.vertex = true;
				bg1.insert(text29);
				var text30 = new mxCell('19', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text30.geometry.relative = true;
				text30.geometry.offset = new mxPoint(0, 306);
				text30.vertex = true;
				bg1.insert(text30);
				var text31 = new mxCell('20', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text31.geometry.relative = true;
				text31.geometry.offset = new mxPoint(0, 306);
				text31.vertex = true;
				bg1.insert(text31);
				var text32 = new mxCell('21', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text32.geometry.relative = true;
				text32.geometry.offset = new mxPoint(0, 306);
				text32.vertex = true;
				bg1.insert(text32);
				var text33 = new mxCell('22', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text33.geometry.relative = true;
				text33.geometry.offset = new mxPoint(0, 306);
				text33.vertex = true;
				bg1.insert(text33);
				var text34 = new mxCell('23', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text34.geometry.relative = true;
				text34.geometry.offset = new mxPoint(0, 346);
				text34.vertex = true;
				bg1.insert(text34);
				var text35 = new mxCell('24', new mxGeometry(0.1463, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text35.geometry.relative = true;
				text35.geometry.offset = new mxPoint(0, 346);
				text35.vertex = true;
				bg1.insert(text35);
				var text36 = new mxCell('25', new mxGeometry(0.2896, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text36.geometry.relative = true;
				text36.geometry.offset = new mxPoint(0, 346);
				text36.vertex = true;
				bg1.insert(text36);
				var text37 = new mxCell('26', new mxGeometry(0.4299, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text37.geometry.relative = true;
				text37.geometry.offset = new mxPoint(0, 346);
				text37.vertex = true;
				bg1.insert(text37);
				var text38 = new mxCell('27', new mxGeometry(0.5701, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text38.geometry.relative = true;
				text38.geometry.offset = new mxPoint(0, 346);
				text38.vertex = true;
				bg1.insert(text38);
				var text39 = new mxCell('28', new mxGeometry(0.7104, 0, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text39.geometry.relative = true;
				text39.geometry.offset = new mxPoint(0, 346);
				text39.vertex = true;
				bg1.insert(text39);
				var text40 = new mxCell('29', new mxGeometry(0.8506, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text40.geometry.relative = true;
				text40.geometry.offset = new mxPoint(0, 346);
				text40.vertex = true;
				bg1.insert(text40);
				var text41 = new mxCell('30', new mxGeometry(0, 0, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text41.geometry.relative = true;
				text41.geometry.offset = new mxPoint(0, 386);
				text41.vertex = true;
				bg1.insert(text41);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.vertex = true;
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Date picker (portrait, dark)');
			}),
			this.addEntry(dt + 'date picker landscape', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu,\nApr 13', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=top;spacingTop=14;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 168, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('<', new mxGeometry(0.3262, 0, 50, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('April 2017', new mxGeometry(0.4297, 0, 242, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=13;align=center;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('>', new mxGeometry(0.9023, 0, 50, 40), 'text;verticalAlign=middle;fontColor=#4D4D4D;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('S', new mxGeometry(0.3262, 0, 52, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 36);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('M', new mxGeometry(0.4297, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 36);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('T', new mxGeometry(0.5234, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 36);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('W', new mxGeometry(0.6172, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 36);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('T', new mxGeometry(0.7109, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 36);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('F', new mxGeometry(0.8047, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 36);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('S', new mxGeometry(0.8984, 0, 52, 32), 'text;verticalAlign=middle;align=center;fontColor=#808080;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 36);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('1', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, 68);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, 100);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text14.geometry.relative = true;
				text14.geometry.offset = new mxPoint(0, 100);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text15.geometry.relative = true;
				text15.geometry.offset = new mxPoint(0, 100);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text16.geometry.relative = true;
				text16.geometry.offset = new mxPoint(0, 100);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text17.geometry.relative = true;
				text17.geometry.offset = new mxPoint(0, 100);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#009688;fontStyle=1;resizeWidth=1;');
				text18.geometry.relative = true;
				text18.geometry.offset = new mxPoint(0, 100);
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text19.geometry.relative = true;
				text19.geometry.offset = new mxPoint(0, 100);
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text20.geometry.relative = true;
				text20.geometry.offset = new mxPoint(0, 132);
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text21.geometry.relative = true;
				text21.geometry.offset = new mxPoint(0, 132);
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text22.geometry.relative = true;
				text22.geometry.offset = new mxPoint(0, 132);
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text23.geometry.relative = true;
				text23.geometry.offset = new mxPoint(0, 132);
				text23.vertex = true;
				bg1.insert(text23);
				var text24 = new mxCell('13', new mxGeometry(0.755, 0, 32, 32), 'shape=ellipse;fillColor=#009688;strokeColor=none;verticalAlign=middle;align=center;fontColor=#ffffff;fontStyle=1;');
				text24.geometry.relative = true;
				text24.geometry.offset = new mxPoint(-16, 132);
				text24.vertex = true;
				bg1.insert(text24);
				var text25 = new mxCell('14', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text25.geometry.relative = true;
				text25.geometry.offset = new mxPoint(0, 132);
				text25.vertex = true;
				bg1.insert(text25);
				var text26 = new mxCell('15', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text26.geometry.relative = true;
				text26.geometry.offset = new mxPoint(0, 132);
				text26.vertex = true;
				bg1.insert(text26);
				var text27 = new mxCell('16', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text27.geometry.relative = true;
				text27.geometry.offset = new mxPoint(0, 164);
				text27.vertex = true;
				bg1.insert(text27);
				var text28 = new mxCell('17', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text28.geometry.relative = true;
				text28.geometry.offset = new mxPoint(0, 164);
				text28.vertex = true;
				bg1.insert(text28);
				var text29 = new mxCell('18', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text29.geometry.relative = true;
				text29.geometry.offset = new mxPoint(0, 164);
				text29.vertex = true;
				bg1.insert(text29);
				var text30 = new mxCell('19', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text30.geometry.relative = true;
				text30.geometry.offset = new mxPoint(0, 164);
				text30.vertex = true;
				bg1.insert(text30);
				var text31 = new mxCell('20', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text31.geometry.relative = true;
				text31.geometry.offset = new mxPoint(0, 164);
				text31.vertex = true;
				bg1.insert(text31);
				var text32 = new mxCell('21', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text32.geometry.relative = true;
				text32.geometry.offset = new mxPoint(0, 164);
				text32.vertex = true;
				bg1.insert(text32);
				var text33 = new mxCell('22', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text33.geometry.relative = true;
				text33.geometry.offset = new mxPoint(0, 164);
				text33.vertex = true;
				bg1.insert(text33);
				var text34 = new mxCell('23', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text34.geometry.relative = true;
				text34.geometry.offset = new mxPoint(0, 196);
				text34.vertex = true;
				bg1.insert(text34);
				var text35 = new mxCell('24', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text35.geometry.relative = true;
				text35.geometry.offset = new mxPoint(0, 196);
				text35.vertex = true;
				bg1.insert(text35);
				var text36 = new mxCell('25', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text36.geometry.relative = true;
				text36.geometry.offset = new mxPoint(0, 196);
				text36.vertex = true;
				bg1.insert(text36);
				var text37 = new mxCell('26', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text37.geometry.relative = true;
				text37.geometry.offset = new mxPoint(0, 196);
				text37.vertex = true;
				bg1.insert(text37);
				var text38 = new mxCell('27', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text38.geometry.relative = true;
				text38.geometry.offset = new mxPoint(0, 196);
				text38.vertex = true;
				bg1.insert(text38);
				var text39 = new mxCell('28', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text39.geometry.relative = true;
				text39.geometry.offset = new mxPoint(0, 196);
				text39.vertex = true;
				bg1.insert(text39);
				var text40 = new mxCell('29', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text40.geometry.relative = true;
				text40.geometry.offset = new mxPoint(0, 196);
				text40.vertex = true;
				bg1.insert(text40);
				var text41 = new mxCell('30', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontStyle=1;resizeWidth=1;');
				text41.geometry.relative = true;
				text41.geometry.offset = new mxPoint(0, 228);
				text41.vertex = true;
				bg1.insert(text41);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Date picker (landscape)');
			}),
			this.addEntry(dt + 'date picker landscape dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#424242;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu,\nApr 13', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=top;spacingTop=14;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 168, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('<', new mxGeometry(0.3262, 0, 50, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('April 2017', new mxGeometry(0.4297, 0, 242, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=13;align=center;fontStyle=1;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('>', new mxGeometry(0.9023, 0, 50, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=20;align=center;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('S', new mxGeometry(0.3262, 0, 52, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 36);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('M', new mxGeometry(0.4297, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 36);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('T', new mxGeometry(0.5234, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 36);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('W', new mxGeometry(0.6172, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 36);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('T', new mxGeometry(0.7109, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(0, 36);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell('F', new mxGeometry(0.8047, 0, 48, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(0, 36);
				text10.vertex = true;
				bg1.insert(text10);
				var text11 = new mxCell('S', new mxGeometry(0.8984, 0, 52, 32), 'text;verticalAlign=middle;align=center;fontColor=#cccccc;resizeWidth=1;');
				text11.geometry.relative = true;
				text11.geometry.offset = new mxPoint(0, 36);
				text11.vertex = true;
				bg1.insert(text11);
				var text12 = new mxCell('1', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text12.geometry.relative = true;
				text12.geometry.offset = new mxPoint(0, 68);
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text13.geometry.relative = true;
				text13.geometry.offset = new mxPoint(0, 100);
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text14.geometry.relative = true;
				text14.geometry.offset = new mxPoint(0, 100);
				text14.vertex = true;
				bg1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text15.geometry.relative = true;
				text15.geometry.offset = new mxPoint(0, 100);
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text16.geometry.relative = true;
				text16.geometry.offset = new mxPoint(0, 100);
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text17.geometry.relative = true;
				text17.geometry.offset = new mxPoint(0, 100);
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#80CBC4;resizeWidth=1;');
				text18.geometry.relative = true;
				text18.geometry.offset = new mxPoint(0, 100);
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text19.geometry.relative = true;
				text19.geometry.offset = new mxPoint(0, 100);
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text20.geometry.relative = true;
				text20.geometry.offset = new mxPoint(0, 132);
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text21.geometry.relative = true;
				text21.geometry.offset = new mxPoint(0, 132);
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text22.geometry.relative = true;
				text22.geometry.offset = new mxPoint(0, 132);
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text23.geometry.relative = true;
				text23.geometry.offset = new mxPoint(0, 132);
				text23.vertex = true;
				bg1.insert(text23);
				var text24 = new mxCell('13', new mxGeometry(0.755, 0, 32, 32), 'shape=ellipse;fillColor=#80CBC4;strokeColor=none;verticalAlign=middle;align=center;fontColor=#424242;fontStyle=1;');
				text24.geometry.relative = true;
				text24.geometry.offset = new mxPoint(-16, 132);
				text24.vertex = true;
				bg1.insert(text24);
				var text25 = new mxCell('14', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text25.geometry.relative = true;
				text25.geometry.offset = new mxPoint(0, 132);
				text25.vertex = true;
				bg1.insert(text25);
				var text26 = new mxCell('15', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text26.geometry.relative = true;
				text26.geometry.offset = new mxPoint(0, 132);
				text26.vertex = true;
				bg1.insert(text26);
				var text27 = new mxCell('16', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text27.geometry.relative = true;
				text27.geometry.offset = new mxPoint(0, 164);
				text27.vertex = true;
				bg1.insert(text27);
				var text28 = new mxCell('17', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text28.geometry.relative = true;
				text28.geometry.offset = new mxPoint(0, 164);
				text28.vertex = true;
				bg1.insert(text28);
				var text29 = new mxCell('18', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text29.geometry.relative = true;
				text29.geometry.offset = new mxPoint(0, 164);
				text29.vertex = true;
				bg1.insert(text29);
				var text30 = new mxCell('19', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text30.geometry.relative = true;
				text30.geometry.offset = new mxPoint(0, 164);
				text30.vertex = true;
				bg1.insert(text30);
				var text31 = new mxCell('20', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text31.geometry.relative = true;
				text31.geometry.offset = new mxPoint(0, 164);
				text31.vertex = true;
				bg1.insert(text31);
				var text32 = new mxCell('21', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text32.geometry.relative = true;
				text32.geometry.offset = new mxPoint(0, 164);
				text32.vertex = true;
				bg1.insert(text32);
				var text33 = new mxCell('22', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text33.geometry.relative = true;
				text33.geometry.offset = new mxPoint(0, 164);
				text33.vertex = true;
				bg1.insert(text33);
				var text34 = new mxCell('23', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text34.geometry.relative = true;
				text34.geometry.offset = new mxPoint(0, 196);
				text34.vertex = true;
				bg1.insert(text34);
				var text35 = new mxCell('24', new mxGeometry(0.4297, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text35.geometry.relative = true;
				text35.geometry.offset = new mxPoint(0, 196);
				text35.vertex = true;
				bg1.insert(text35);
				var text36 = new mxCell('25', new mxGeometry(0.5234, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text36.geometry.relative = true;
				text36.geometry.offset = new mxPoint(0, 196);
				text36.vertex = true;
				bg1.insert(text36);
				var text37 = new mxCell('26', new mxGeometry(0.6172, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text37.geometry.relative = true;
				text37.geometry.offset = new mxPoint(0, 196);
				text37.vertex = true;
				bg1.insert(text37);
				var text38 = new mxCell('27', new mxGeometry(0.7109, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text38.geometry.relative = true;
				text38.geometry.offset = new mxPoint(0, 196);
				text38.vertex = true;
				bg1.insert(text38);
				var text39 = new mxCell('28', new mxGeometry(0.8047, 0, 46, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text39.geometry.relative = true;
				text39.geometry.offset = new mxPoint(0, 196);
				text39.vertex = true;
				bg1.insert(text39);
				var text40 = new mxCell('29', new mxGeometry(0.8984, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text40.geometry.relative = true;
				text40.geometry.offset = new mxPoint(0, 196);
				text40.vertex = true;
				bg1.insert(text40);
				var text41 = new mxCell('30', new mxGeometry(0.3262, 0, 49, 32), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;resizeWidth=1;');
				text41.geometry.relative = true;
				text41.geometry.offset = new mxPoint(0, 228);
				text41.vertex = true;
				bg1.insert(text41);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Date picker (landscape, dark)');
			}),
			this.addEntry(dt + 'time picker', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;aspect=fixed;');
				bg1.vertex = true;
				var bar1 = new mxCell('3:30', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=center;spacing=0;fontSize=58;verticalAlign=middle;spacingBottom=10;spacingLeft=34;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('AM', new mxGeometry(248, 18, 40, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;fontStyle=0;textOpacity=70;');
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('PM', new mxGeometry(248, 42, 40, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;');
				text2.vertex = true;
				bar1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(16, 130, 296, 296), 'shape=ellipse;fillColor=#eeeeee;strokeColor=none;');
				part1.vertex = true;
				bg1.insert(part1);
				var text12 = new mxCell('1', new mxGeometry(200, 147, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(246, 190, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(145, 128, 145, 40), s2 + 'time_picker;fillColor=#009688;strokeColor=#009688;verticalAlign=middle;align=right;fontColor=#ffffff;strokeWidth=2;spacingRight=13;fontSize=15;');
				text14.vertex = true;
				part1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(246, 319, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(200, 366, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(140, 383, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(78, 366, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(33, 319, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(15, 258, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(33, 190, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(78, 147, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(140, 134, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text23.vertex = true;
				bg1.insert(text23);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Time picker');
			}),
			this.addEntry(dt + 'time picker dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#424242;strokeColor=none;shadow=1;aspect=fixed;');
				bg1.vertex = true;
				var bar1 = new mxCell('3:30', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=center;spacing=0;fontSize=58;verticalAlign=middle;spacingBottom=10;spacingLeft=34;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('AM', new mxGeometry(248, 18, 40, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;fontStyle=0;textOpacity=70;');
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('PM', new mxGeometry(248, 42, 40, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;');
				text2.vertex = true;
				bar1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(16, 130, 296, 296), 'shape=ellipse;fillColor=#555555;strokeColor=none;');
				part1.vertex = true;
				bg1.insert(part1);
				var text12 = new mxCell('1', new mxGeometry(200, 147, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(246, 190, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(145, 128, 145, 40), s2 + 'time_picker;fillColor=#80CBC4;strokeColor=#80CBC4;verticalAlign=middle;align=right;fontColor=#ffffff;strokeWidth=2;spacingRight=13;fontSize=15;');
				text14.vertex = true;
				part1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(246, 319, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(200, 366, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(140, 383, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(78, 366, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(33, 319, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(15, 258, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(33, 190, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(78, 147, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(140, 134, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text23.vertex = true;
				bg1.insert(text23);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Time picker (dark)');
			}),
			this.addEntry(dt + 'time picker landscape light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;aspect=fixed;');
				bg1.vertex = true;
				var bar1 = new mxCell('3:30', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=center;spacing=0;fontSize=52;verticalAlign=middle;spacingBottom=60;spacingLeft=16;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('AM', new mxGeometry(0, 146, 168, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;fontStyle=0;textOpacity=70;');
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('PM', new mxGeometry(0, 170, 168, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;');
				text2.vertex = true;
				bar1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(228, 16, 224, 224), 'shape=ellipse;fillColor=#eeeeee;strokeColor=none;');
				part1.vertex = true;
				bg1.insert(part1);
				var text12 = new mxCell('1', new mxGeometry(355, 30, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(392, 63, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(110, 100, 108, 30), s2 + 'time_picker;fillColor=#009688;strokeColor=#009688;verticalAlign=middle;align=right;fontColor=#ffffff;strokeWidth=2;spacingRight=9;fontSize=15;fontStyle=1;');
				text14.vertex = true;
				part1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(394, 150, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(358, 186, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(315, 200, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(271, 186, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(236, 150, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(221, 108, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(238, 63, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(271, 30, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(315, 16, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;');
				text23.vertex = true;
				bg1.insert(text23);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Time picker (landscape, light)');
			}),
			this.addEntry(dt + 'time picker landscape dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#424242;strokeColor=none;shadow=1;aspect=fixed;');
				bg1.vertex = true;
				var bar1 = new mxCell('3:30', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=center;spacing=0;fontSize=52;verticalAlign=middle;spacingBottom=60;spacingLeft=16;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('AM', new mxGeometry(0, 146, 168, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;fontStyle=0;textOpacity=70;');
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('PM', new mxGeometry(0, 170, 168, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=17;');
				text2.vertex = true;
				bar1.insert(text2);
				var part1 = new mxCell('', new mxGeometry(228, 16, 224, 224), 'shape=ellipse;fillColor=#555555;strokeColor=none;');
				part1.vertex = true;
				bg1.insert(part1);
				var text12 = new mxCell('1', new mxGeometry(355, 30, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text12.vertex = true;
				bg1.insert(text12);
				var text13 = new mxCell('2', new mxGeometry(392, 63, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text13.vertex = true;
				bg1.insert(text13);
				var text14 = new mxCell('3', new mxGeometry(110, 100, 108, 30), s2 + 'time_picker;fillColor=#80CBC4;strokeColor=#80CBC4;verticalAlign=middle;align=right;fontColor=#555555;strokeWidth=2;spacingRight=9;fontSize=15;fontStyle=1;');
				text14.vertex = true;
				part1.insert(text14);
				var text15 = new mxCell('4', new mxGeometry(394, 150, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text15.vertex = true;
				bg1.insert(text15);
				var text16 = new mxCell('5', new mxGeometry(358, 186, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text16.vertex = true;
				bg1.insert(text16);
				var text17 = new mxCell('6', new mxGeometry(315, 200, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text17.vertex = true;
				bg1.insert(text17);
				var text18 = new mxCell('7', new mxGeometry(271, 186, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text18.vertex = true;
				bg1.insert(text18);
				var text19 = new mxCell('8', new mxGeometry(236, 150, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text19.vertex = true;
				bg1.insert(text19);
				var text20 = new mxCell('9', new mxGeometry(221, 108, 49, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text20.vertex = true;
				bg1.insert(text20);
				var text21 = new mxCell('10', new mxGeometry(238, 63, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text21.vertex = true;
				bg1.insert(text21);
				var text22 = new mxCell('11', new mxGeometry(271, 30, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text22.vertex = true;
				bg1.insert(text22);
				var text23 = new mxCell('12', new mxGeometry(315, 16, 46, 40), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;');
				text23.vertex = true;
				bg1.insert(text23);
				var text1 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(-160, -50);
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-90, -50);
				text2.vertex = true;
				bg1.insert(text2);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Time picker (landscape, dark)');
			}),
			this.addEntry(dt + 'year picker light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu, Apr 13', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=bottom;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 328, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('2014', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 96);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('2015', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 144);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('2016', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 192);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('2017', new mxGeometry(0, 0, 328, 56), 'text;verticalAlign=middle;align=center;fontColor=#009688;fontSize=29;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 240);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('2018', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 296);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('2019', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 344);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('2020', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 392);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-160, -50);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(-90, -50);
				text10.vertex = true;
				bg1.insert(text10);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Year picker (light)');
			}),
			this.addEntry(dt + 'year picker dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 328, 484), 'shape=rect;fillColor=#424242;strokeColor=none;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu, Apr 13', new mxGeometry(0, 0, 328, 96), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=bottom;textOpacity=70;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 328, 40), 'text;verticalAlign=middle;fontColor=#ffffff;spacingTop=6;spacing=16;fontSize=15;fontOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('2014', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 96);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('2015', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 144);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('2016', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 192);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('2017', new mxGeometry(0, 0, 328, 56), 'text;verticalAlign=middle;align=center;fontColor=#80CBC4;fontSize=29;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 240);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('2018', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 296);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('2019', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 344);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('2020', new mxGeometry(0, 0, 328, 48), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 392);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-160, -50);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(-90, -50);
				text10.vertex = true;
				bg1.insert(text10);
			   	return sb.createVertexTemplateFromCells([bg1], 328, 484, 'Year picker (dark)');
			}),
			this.addEntry(dt + 'date picker landscape light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu,\nApr 13', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#009688;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=top;spacingTop=14;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 168, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('2014', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('2015', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 36);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('2016', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 72);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('2017', new mxGeometry(0.3281, 0, 344, 44), 'text;verticalAlign=middle;align=center;fontColor=#009688;fontSize=29;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 108);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('2018', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 152);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('2019', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 188);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('2020', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#4D4D4D;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 224);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-160, -50);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#009688;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(-90, -50);
				text10.vertex = true;
				bg1.insert(text10);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Date picker (landscape, light)');
			}),
			this.addEntry(dt + 'date picker landscape light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 512, 304), 'shape=rect;fillColor=#424242;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var bar1 = new mxCell('Thu,\nApr 13', new mxGeometry(0, 0, 168, 304), 'shape=rect;fillColor=#555555;fontColor=#ffffff;strokeColor=none;align=left;spacing=16;fontSize=33;verticalAlign=top;spacingTop=14;');
				bar1.vertex = true;
				bg1.insert(bar1);
				var text1 = new mxCell('2017', new mxGeometry(0, 0, 168, 40), 'text;verticalAlign=middle;fontColor=#FFFFFF;spacingTop=6;spacing=16;fontSize=15;textOpacity=70;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bar1.insert(text1);
				var text2 = new mxCell('2014', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('2015', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 36);
				text3.vertex = true;
				bg1.insert(text3);
				var text4 = new mxCell('2016', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 72);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('2017', new mxGeometry(0.3281, 0, 344, 44), 'text;verticalAlign=middle;align=center;fontColor=#80CBC4;fontSize=29;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 108);
				text5.vertex = true;
				bg1.insert(text5);
				var text6 = new mxCell('2018', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(0, 152);
				text6.vertex = true;
				bg1.insert(text6);
				var text7 = new mxCell('2019', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, 188);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('2020', new mxGeometry(0.3281, 0, 344, 36), 'text;verticalAlign=middle;align=center;fontColor=#ffffff;fontSize=15;resizeWidth=1;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(0, 224);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell("CANCEL", new mxGeometry(1, 1, 70, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-160, -50);
				text9.vertex = true;
				bg1.insert(text9);
				var text10 = new mxCell("OK", new mxGeometry(1, 1, 90, 50), 'text;fontSize=13;fontColor=#80CBC4;spacingTop=0;whiteSpace=wrap;spacing=0;verticalAlign=middle;align=center;fontStyle=1;');
				text10.geometry.relative = true;
				text10.geometry.offset = new mxPoint(-90, -50);
				text10.vertex = true;
				bg1.insert(text10);
			   	return sb.createVertexTemplateFromCells([bg1], 512, 304, 'Date picker (landscape, dark)');
			})
   		];
		  
		this.addPalette('gmdlPickers', 'GMDL / Pickers', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLSelectionControlsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library selection control ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'checkbox on hover light dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#009587;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (on, hover))');
			}),
			this.addEntry(dt + 'checkbox on focused pressed light dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#009587;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#009587;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (on, focused or pressed))');
			}),
			this.addEntry(dt + 'checkbox on disabled light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#B0B0B0;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (on, disabled, light))');
			}),
			this.addEntry(dt + 'checkbox on disabled focused light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#B0B0B0;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#B0B0B0;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (on, disabled, focused, light))');
			}),
			this.addEntry(dt + 'checkbox off hover light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (off, hover, light))');
			}),
			this.addEntry(dt + 'checkbox off focused pressed light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (off, focused or pressed, light))');
			}),
			this.addEntry(dt + 'checkbox off disabled light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=#B0B0B0;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (off, disabled, light))');
			}),
			this.addEntry(dt + 'checkbox off disabled focused light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=#B0B0B0;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (off, disabled, focused, light))');
			}),
			this.addEntry(dt + 'checkbox on disabled dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#676767;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (on, disabled, dark))');
			}),
			this.addEntry(dt + 'checkbox on disabled focused dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#B0B0B0;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=none;fillColor=#676767;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (on, disabled, focused, dark))');
			}),
			this.addEntry(dt + 'checkbox off hover dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=#ffffff;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (off, hover, dark))');
			}),
			this.addEntry(dt + 'checkbox off focused pressed dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (off, focused or pressed, dark))');
			}),
			this.addEntry(dt + 'checkbox off disabled dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Checkbox (off, disabled, dark))');
			}),
			this.addEntry(dt + 'checkbox off disabled focused dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'checkbox;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Checkbox (off, disabled, focused, dark))');
			}),
			this.addEntry(dt + 'radio button on hover light dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#009587;fillColor=#009587;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (on, hover))');
			}),
			this.addEntry(dt + 'radio button on focused pressed light dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#009587;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#009587;fillColor=#009587;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (on, focused or pressed))');
			}),
			this.addEntry(dt + 'radio button on disabled light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#B0B0B0;fillColor=#B0B0B0;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (on, disabled, light))');
			}),
			this.addEntry(dt + 'radio button on disabled focused light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#B0B0B0;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#B0B0B0;fillColor=#B0B0B0;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (on, disabled, focused, light))');
			}),
			this.addEntry(dt + 'radio button off hover light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#666666;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (off, hover, light))');
			}),
			this.addEntry(dt + 'radio button off focused pressed light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (off, focused or pressed, light))');
			}),
			this.addEntry(dt + 'radio button off disabled light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#B0B0B0;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (off, disabled, light))');
			}),
			this.addEntry(dt + 'radio button off disabled focused light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#B0B0B0;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (off, disabled, focused, light))');
			}),
			this.addEntry(dt + 'radio button on disabled dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#676767;fillColor=#676767;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (on, disabled, dark))');
			}),
			this.addEntry(dt + 'radio button on disabled focused dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#B0B0B0;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#676767;fillColor=#676767;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (on, disabled, focused, dark))');
			}),
			this.addEntry(dt + 'radio button off hover dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#ffffff;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (off, hover, dark))');
			}),
			this.addEntry(dt + 'radio button off focused pressed dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (off, focused or pressed, dark))');
			}),
			this.addEntry(dt + 'radio button off disabled dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'radiobutton;strokeColor=#666666;fillColor=none;strokeWidth=2;aspect=fixed;');
				bg1.vertex = true;
				return sb.createVertexTemplateFromCells([bg1], 16, 16, 'Radio button (off, disabled, dark))');
			}),
			this.addEntry(dt + 'radio button off disabled focused dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 48, 48), 'shape=ellipse;strokeColor=none;fillColor=#666666;opacity=10;');
				bg1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(16, 16, 16, 16), s2 + 'radiobutton;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				part1.vertex = true;
				bg1.insert(part1);
				return sb.createVertexTemplateFromCells([bg1], 48, 48, 'Radio button (off, disabled, focused, dark))');
			}),
			this.addEntry(dt + 'switch on light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 36, 20), s2 + 'switch;aspect=fixed;switchState=on;strokeColor=none;fillColor=#0E9D57;');
				bg1.vertex = true;
			   	return sb.createVertexTemplateFromCells([bg1], 36, 20, 'Switch (on, light)');
			}),
			this.addEntry(dt + 'switch on dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 36, 20), s2 + 'switch;aspect=fixed;switchState=on;strokeColor=none;fillColor=#80CBC4;');
				bg1.vertex = true;
			   	return sb.createVertexTemplateFromCells([bg1], 36, 20, 'Switch (on, dark)');
			}),
			this.addEntry(dt + 'switch off light dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 36, 20), s2 + 'switch;aspect=fixed;switchState=off;strokeColor=none;fillColor=#0E9D57;');
				bg1.vertex = true;
			   	return sb.createVertexTemplateFromCells([bg1], 36, 20, 'Switch (off)');
			})
   		];
		  
		this.addPalette('gmdlSelection Controls', 'GMDL / Selection Controls', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLSlidersPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library slider ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=0;strokeColor=#bbbbbb;opacity=100;strokeWidth=2;fillColor=#ffffff;handleSize=10;shadow=0;',
					200, 10, '', 'Slider (normal)', null, null, this.getTagsForStencil(gn, 'slider normal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=50;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=10;shadow=0;',
					200, 10, '', 'Slider (normal)', null, null, this.getTagsForStencil(gn, 'slider normal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=100;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=10;shadow=0;',
					200, 10, '', 'Slider (normal)', null, null, this.getTagsForStencil(gn, 'slider normal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderFocused;barPos=0;strokeColor=#bbbbbb;opacity=100;strokeWidth=2;fillColor=#ffffff;handleSize=30;shadow=0;',
					200, 30, '', 'Slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderFocused;barPos=50;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=30;shadow=0;',
					200, 30, '', 'Slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderFocused;barPos=100;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=30;shadow=0;',
					200, 30, '', 'Slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=0;strokeColor=#bbbbbb;opacity=100;strokeWidth=2;fillColor=#ffffff;handleSize=20;shadow=0;',
					200, 20, '', 'Slider (click)', null, null, this.getTagsForStencil(gn, 'slider click', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=50;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=20;shadow=0;',
					200, 20, '', 'Slider (click)', null, null, this.getTagsForStencil(gn, 'slider click', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=100;strokeColor=#3F51B5;opacity=100;strokeWidth=2;fillColor=#3F51B5;handleSize=20;shadow=0;',
					200, 20, '', 'Slider (click)', null, null, this.getTagsForStencil(gn, 'slider click', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=none;handleSize=6;shadow=0;hPos=0;',
					210, 20, '', 'Slider (disabled)', null, null, this.getTagsForStencil(gn, 'slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=#b0b0b0;handleSize=6;shadow=0;hPos=50;',
					210, 20, '', 'Slider (disabled)', null, null, this.getTagsForStencil(gn, 'slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=#b0b0b0;handleSize=6;shadow=0;hPos=100;',
					210, 20, '', 'Slider (disabled)', null, null, this.getTagsForStencil(gn, 'slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=0;strokeColor=#000000;opacity=100;strokeWidth=2;fillColor=#000000;handleSize=10;shadow=0;',
					200, 10, '', 'Discrete slider (normal, light)', null, null, this.getTagsForStencil(gn, 'discrete slider normal light', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=60;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;',
					200, 10, '', 'Discrete slider (normal)', null, null, this.getTagsForStencil(gn, 'slider normal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=100;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;',
					200, 10, '', 'Discrete slider (normal)', null, null, this.getTagsForStencil(gn, 'slider normal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscrete;barPos=1;strokeColor=#BEBEBE;opacity=100;strokeWidth=2;fillColor=#BEBEBE;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscrete;barPos=60;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscrete;barPos=100;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (focused)', null, null, this.getTagsForStencil(gn, 'slider focused', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=0;bright=1;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click)', null, null, this.getTagsForStencil(gn, 'slider click', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=60;bright=1;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click, light)', null, null, this.getTagsForStencil(gn, 'slider click light', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=100;bright=1;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click, light)', null, null, this.getTagsForStencil(gn, 'slider click light', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=#b0b0b0;handleSize=6;shadow=0;hPos=0;',
					200, 20, '', 'Discrete slider (disabled)', null, null, this.getTagsForStencil(gn, 'discrete slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=#b0b0b0;handleSize=6;shadow=0;hPos=50;',
					200, 20, '', 'Discrete slider (disabled)', null, null, this.getTagsForStencil(gn, 'discrete slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDisabled2;strokeColor=#b0b0b0;strokeWidth=2;fillColor=#b0b0b0;handleSize=6;shadow=0;hPos=100;',
					200, 20, '', 'Discrete slider (disabled)', null, null, this.getTagsForStencil(gn, 'discrete slider disabled', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider2;barPos=0;strokeColor=#ffffff;opacity=100;strokeWidth=2;fillColor=#ffffff;handleSize=10;shadow=0;',
					200, 10, '', 'Discrete slider (normal, dark)', null, null, this.getTagsForStencil(gn, 'discrete slider normal dark', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=0;bright=0;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click, dark)', null, null, this.getTagsForStencil(gn, 'discrete slider click dark', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=60;bright=0;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click, dark)', null, null, this.getTagsForStencil(gn, 'discrete slider click dark', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sliderDiscreteDots;barPos=100;bright=0;strokeColor=#0F9D58;opacity=100;strokeWidth=2;fillColor=#0F9D58;handleSize=10;shadow=0;fontSize=12;fontColor=#ffffff;',
					200, 45, '', 'Discrete slider (click, dark)', null, null, this.getTagsForStencil(gn, 'discrete slider click dark', dt).join(' '))
   		];
		  
		this.addPalette('gmdlSliders', 'GMDL / Sliders', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLSteppersPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library tab ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'stepper', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 704, 478), 'shape=rect;strokeColor=none;fillColor=#ffffff;');
				bg.vertex = true;
				var part1 = new mxCell('1', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 24);
				bg.insert(part1);
				var part2 = new mxCell('Name of step 1', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontStyle=1;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(56, 24);
				bg.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 10, 296), 'shape=line;direction=north;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(31, 54);
				bg.insert(part3);
				var part4 = new mxCell('', new mxGeometry(0, 0, 596, 190), 'shape=rect;strokeColor=none;fillColor=#bdbdbd;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(60, 58);
				bg.insert(part4);
				var part5 = new mxCell('CONTINUE', new mxGeometry(0, 0, 102, 36), 'shape=rect;strokeColor=none;fillColor=#4285f4;fontColor=#ffffff;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(60, 272);
				bg.insert(part5);
				var part6 = new mxCell('CANCEL', new mxGeometry(0, 0, 102, 36), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#808080;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(172, 272);
				bg.insert(part6);
				var part7 = new mxCell('2', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(24, 356);
				bg.insert(part7);
				var part8 = new mxCell('Name of step 2', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#aaaaaa;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(56, 356);
				bg.insert(part8);
				var part9 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part9.vertex = true;
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(24, 422);
				bg.insert(part9);
				var part10 = new mxCell('Name of step 3', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#aaaaaa;');
				part10.vertex = true;
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(56, 422);
				bg.insert(part10);
				var part11 = new mxCell('', new mxGeometry(0, 0, 10, 25), 'shape=line;direction=north;strokeColor=#b3b3b3;');
				part11.vertex = true;
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(31, 390);
				bg.insert(part11);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Stepper');
			}),
			this.addEntry(dt + 'editable steps', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 704, 72), 'shape=rect;strokeColor=none;fillColor=#ffffff;');
				bg.vertex = true;
				var part1 = new mxCell('Select campaign settings', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;fontStyle=1;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 24);
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 10, 10), s2 + 'edit;strokeColor=none;fillColor=#ffffff;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-5, -5);
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(206, 31);
				bg.insert(part3);
				var part4 = new mxCell('Create an ad group', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(306, 24);
				bg.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 10), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(-6, -5);
				part4.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(460, 31);
				bg.insert(part6);
				var part7 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(568, 24);
				bg.insert(part7);
				var part8 = new mxCell('Create an ad', new mxGeometry(0, 0, 110, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;fontColor=#808080;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(592, 24);
				bg.insert(part8);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Editable Steps');
			}),
			this.addEntry(dt + 'noneditable non editable steps', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 704, 72), 'shape=rect;strokeColor=none;fillColor=#ffffff;');
				bg.vertex = true;
				var part1 = new mxCell('Select campaign settings', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 24);
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 10), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-6, -5);
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(206, 31);
				bg.insert(part3);
				var part4 = new mxCell('2', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(306, 24);
				bg.insert(part4);
				var part5 = new mxCell('Create an ad group', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#000000;align=left;spacingLeft=10;fontStyle=1;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(330, 24);
				bg.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(460, 31);
				bg.insert(part6);
				var part7 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(568, 24);
				bg.insert(part7);
				var part8 = new mxCell('Create an ad', new mxGeometry(0, 0, 110, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;fontColor=#808080;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(592, 24);
				bg.insert(part8);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Non-editable Steps');
			}),
			this.addEntry(dt + 'mobile step text', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#BDBDBD;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#3367D6;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Create', new mxGeometry(0, 0, 358, 56), s + 'rect;strokeColor=none;fillColor=#4285F4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var bar2 = new mxCell('Step 4 of 6', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#f5f5f5;resizeWidth=1;fontSize=13;fontColor=#000000;spacingTop=9;verticalAlign=top;align=left;spacingLeft=16;');
				bar2.geometry.relative = true;
				bar2.geometry.offset = new mxPoint(0, 80);
				bar2.vertex = true;
				bg1.insert(bar2);
				var bar3 = new mxCell('<  BACK', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#f5f5f5;resizeWidth=1;fontSize=13;fontColor=#666666;verticalAlign=middle;align=left;spacingLeft=16;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, -96);
				bar3.vertex = true;
				bg1.insert(bar3);
				var bar4 = new mxCell('NEXT  >', new mxGeometry(1, 0, 100, 48), s + 'rect;strokeColor=none;fillColor=none;resizeWidth=1;fontSize=13;fontColor=#666666;verticalAlign=middle;align=right;spacingRight=16;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(-100, 0);
				bar4.vertex = true;
				bar3.insert(bar4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Mobile step (text)');
			}),
			this.addEntry(dt + 'mobile step dots', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#BDBDBD;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#3367D6;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Create', new mxGeometry(0, 0, 358, 56), s + 'rect;strokeColor=none;fillColor=#4285F4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var bar3 = new mxCell('<  BACK', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#f5f5f5;resizeWidth=1;fontSize=13;fontColor=#666666;verticalAlign=middle;align=left;spacingLeft=16;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, -96);
				bar3.vertex = true;
				bg1.insert(bar3);
				var bar4 = new mxCell('NEXT  >', new mxGeometry(1, 0, 100, 48), s + 'rect;strokeColor=none;fillColor=none;fontSize=13;fontColor=#666666;verticalAlign=middle;align=right;spacingRight=16;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(-100, 0);
				bar4.vertex = true;
				bar3.insert(bar4);
				var icon2 = new mxCell('', new mxGeometry(0.5, 0, 6, 6), 'shape=ellipse;strokeColor=none;fillColor=#aaaaaa;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-43, 21);
				icon2.vertex = true;
				bar3.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(0.5, 0, 6, 6), 'shape=ellipse;strokeColor=none;fillColor=#aaaaaa;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-28, 21);
				icon3.vertex = true;
				bar3.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(0.5, 0, 6, 6), 'shape=ellipse;strokeColor=none;fillColor=#aaaaaa;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-13, 21);
				icon4.vertex = true;
				bar3.insert(icon4);
				var icon5 = new mxCell('', new mxGeometry(0.5, 0, 8, 8), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(1, 20);
				icon5.vertex = true;
				bar3.insert(icon5);
				var icon6 = new mxCell('', new mxGeometry(0.5, 0, 6, 6), 'shape=ellipse;strokeColor=none;fillColor=#aaaaaa;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(17, 21);
				icon6.vertex = true;
				bar3.insert(icon6);
				var icon7 = new mxCell('', new mxGeometry(0.5, 0, 6, 6), 'shape=ellipse;strokeColor=none;fillColor=#aaaaaa;');
				icon7.geometry.relative = true;
				icon7.geometry.offset = new mxPoint(32, 21);
				icon7.vertex = true;
				bar3.insert(icon7);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Mobile step (dots)');
			}),
			this.addEntry(dt + 'mobile step progress bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#BDBDBD;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#3367D6;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Create', new mxGeometry(0, 0, 358, 56), s + 'rect;strokeColor=none;fillColor=#4285F4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var bar3 = new mxCell('<  BACK', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#f5f5f5;resizeWidth=1;fontSize=13;fontColor=#666666;verticalAlign=middle;align=left;spacingLeft=16;');
				bar3.geometry.relative = true;
				bar3.geometry.offset = new mxPoint(0, -96);
				bar3.vertex = true;
				bg1.insert(bar3);
				var bar4 = new mxCell('NEXT  >', new mxGeometry(1, 0, 100, 48), s + 'rect;strokeColor=none;fillColor=none;fontSize=13;fontColor=#666666;verticalAlign=middle;align=right;spacingRight=16;');
				bar4.geometry.relative = true;
				bar4.geometry.offset = new mxPoint(-100, 0);
				bar4.vertex = true;
				bar3.insert(bar4);
				var icon2 = new mxCell('', new mxGeometry(0.5, 0.5, 112, 10), s2 + 'progressBar;strokeColor=#4285F4;strokeWidth=3;dx1=0.7;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-66, -5);
				icon2.vertex = true;
				bar3.insert(icon2);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Mobile step (progress bar)');
			}),
			this.addEntry(dt + 'editable steps optional', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 704, 72), 'shape=rect;strokeColor=none;fillColor=#ffffff;');
				bg.vertex = true;
				var part1 = new mxCell('Select campaign settings', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;fontStyle=1;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 24);
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 10, 10), s2 + 'edit;strokeColor=none;fillColor=#ffffff;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-5, -5);
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(206, 31);
				bg.insert(part3);
				var part4 = new mxCell('Create an ad group<div><font style="font-size: 11px" color="#b3b3b3">Optional</font></div>', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;html=1;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(306, 24);
				bg.insert(part4);
				var part5 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 10), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(-6, -5);
				part4.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(460, 31);
				bg.insert(part6);
				var part7 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(568, 24);
				bg.insert(part7);
				var part8 = new mxCell('Create an ad', new mxGeometry(0, 0, 110, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;fontColor=#808080;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(592, 24);
				bg.insert(part8);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Editable Steps (with optional steps)');
			}),
			this.addEntry(dt + 'noneditable non editable steps optional', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 704, 72), 'shape=rect;strokeColor=none;fillColor=#ffffff;');
				bg.vertex = true;
				var part1 = new mxCell('Select campaign settings', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 24);
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 10), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-6, -5);
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(206, 31);
				bg.insert(part3);
				var part4 = new mxCell('2', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(306, 24);
				bg.insert(part4);
				var part5 = new mxCell('Create an ad group<div><font color="#b3b3b3" style="font-weight: normal ; font-size: 11px">Optional</font></div>', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;fontColor=#000000;align=left;spacingLeft=10;fontStyle=1;html=1;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(330, 24);
				bg.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 90, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(460, 31);
				bg.insert(part6);
				var part7 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(568, 24);
				bg.insert(part7);
				var part8 = new mxCell('Create an ad', new mxGeometry(0, 0, 110, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;spacingLeft=10;fontColor=#808080;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(592, 24);
				bg.insert(part8);
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Non-editable Steps (with optional steps)');
			}),
			this.addEntry(dt + 'mobile vertical stepper', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#3367D6;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Create', new mxGeometry(0, 0, 358, 56), s + 'rect;strokeColor=none;fillColor=#4285F4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var part1 = new mxCell('Select an app\n<font color="#999999">Summarize if needed</font>', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#000000;labelPosition=right;align=left;spacingLeft=10;html=1;');
				part1.vertex = true;
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(24, 102);
				bg.insert(part1);
				var part2 = new mxCell('', new mxGeometry(0.5, 0.5, 12, 10), s2 + 'check;strokeColor=#ffffff;strokeWidth=2;');
				part2.vertex = true;
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(-6, -5);
				part1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(0, 0, 10, 30), 'shape=line;direction=north;strokeColor=#b3b3b3;');
				part3.vertex = true;
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(31, 134);
				bg.insert(part3);
				var part4 = new mxCell('2', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;');
				part4.vertex = true;
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(24, 172);
				bg.insert(part4);
				var part5 = new mxCell('Configure analytics for this app', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontStyle=1;');
				part5.vertex = true;
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(56, 172);
				bg.insert(part5);
				var part6 = new mxCell('', new mxGeometry(0, 0, 10, 278), 'shape=line;direction=north;strokeColor=#b3b3b3;');
				part6.vertex = true;
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(31, 204);
				bg.insert(part6);
				var part7 = new mxCell('', new mxGeometry(0, 0, 276, 178), 'shape=rect;strokeColor=none;fillColor=#bdbdbd;');
				part7.vertex = true;
				part7.geometry.relative = true;
				part7.geometry.offset = new mxPoint(60, 208);
				bg.insert(part7);
				var part8 = new mxCell('CONTINUE', new mxGeometry(0, 0, 102, 36), 'shape=rect;strokeColor=none;fillColor=#4285f4;fontColor=#ffffff;');
				part8.vertex = true;
				part8.geometry.relative = true;
				part8.geometry.offset = new mxPoint(60, 400);
				bg.insert(part8);
				var part9 = new mxCell('CANCEL', new mxGeometry(0, 0, 102, 36), 'shape=rect;strokeColor=none;fillColor=#ffffff;fontColor=#808080;');
				part9.vertex = true;
				part9.geometry.relative = true;
				part9.geometry.offset = new mxPoint(172, 400);
				bg.insert(part9);
				var part10 = new mxCell('3', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part10.vertex = true;
				part10.geometry.relative = true;
				part10.geometry.offset = new mxPoint(24, 488);
				bg.insert(part10);
				var part11 = new mxCell('Select an ad format and name ad unit', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#4d4d4d;');
				part11.vertex = true;
				part11.geometry.relative = true;
				part11.geometry.offset = new mxPoint(56, 488);
				bg.insert(part11);
				var part12 = new mxCell('4', new mxGeometry(0, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part12.vertex = true;
				part12.geometry.relative = true;
				part12.geometry.offset = new mxPoint(24, 542);
				bg.insert(part12);
				var part13 = new mxCell('View setup instructions', new mxGeometry(0, 0, 200, 24), 'shape=rect;strokeColor=none;fillColor=none;align=left;fontColor=#4d4d4d;');
				part13.vertex = true;
				part13.geometry.relative = true;
				part13.geometry.offset = new mxPoint(56, 542);
				bg.insert(part13);
				var part14 = new mxCell('', new mxGeometry(0, 0, 10, 20), 'shape=line;direction=north;strokeColor=#b3b3b3;');
				part14.vertex = true;
				part14.geometry.relative = true;
				part14.geometry.offset = new mxPoint(31, 516);
				bg.insert(part14);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg], 358, 642, 'Mobile vertical stepper');
			}),
			this.addEntry(dt + 'stepper alternative label placing', function()
			{
				var part1 = new mxCell('1', new mxGeometry(38, 0, 24, 24), 'shape=ellipse;fontSize=12;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;align=center;verticalAlign=middle;');
				part1.vertex = true;
				var part2 = new mxCell('Ad unit details', new mxGeometry(0, 30, 100, 20), 'shape=rect;fontColor=#4d4d4dlfontSize=13;strokeColor=none;fillColor=none;');
				part2.vertex = true;
				var part3 = new mxCell('', new mxGeometry(70, 7, 110, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				var part4 = new mxCell('2', new mxGeometry(190, 0, 24, 24), 'shape=ellipse;fontSize=12;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;align=center;verticalAlign=middle;');
				part4.vertex = true;
				var part5 = new mxCell('Ad sizes', new mxGeometry(152, 30, 100, 20), 'shape=rect;fontColor=#4d4d4dlfontSize=13;strokeColor=none;fillColor=none;');
				part5.vertex = true;
				var part6 = new mxCell('', new mxGeometry(222, 7, 110, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				var part7 = new mxCell('3', new mxGeometry(342, 0, 24, 24), 'shape=ellipse;fontSize=12;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;');
				part7.vertex = true;
				var part8 = new mxCell('Create an ad', new mxGeometry(304, 30, 100, 20), 'shape=rect;fontColor=#4d4d4dlfontSize=13;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;');
				part8.vertex = true;
			   	return sb.createVertexTemplateFromCells([part1, part2, part3, part4, part5, part6, part7, part8], 404, 50, 'Stepper with alternative label placing');
			}),
			this.addEntry(dt + 'stepper alternative label placing optional', function()
			{
				var part1 = new mxCell('1', new mxGeometry(38, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#4285F4;fontColor=#ffffff;fontSize=12;align=center;verticalAlign=middle;');
				part1.vertex = true;
				var part2 = new mxCell('Ad unit details', new mxGeometry(0, 30, 100, 20), 'shape=rect;fontColor=#4d4d4dlfontSize=13;strokeColor=none;fillColor=none;');
				part2.vertex = true;
				var part3 = new mxCell('', new mxGeometry(70, 7, 110, 10), 'shape=line;strokeColor=#b3b3b3;');
				part3.vertex = true;
				var part4 = new mxCell('2', new mxGeometry(190, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontColor=#ffffff;fontSize=12;align=center;verticalAlign=middle;');
				part4.vertex = true;
				var part5 = new mxCell('Ad sizes\n<font style="font-size: 11px" color="#b3b3b3">optional</font>', new mxGeometry(152, 30, 100, 20), 'shape=rect;strokeColor=none;fillColor=none;html=1;verticalAlign=top;fontColor=#4d4d4dlfontSize=13;spacingTop=-4;');
				part5.vertex = true;
				var part6 = new mxCell('', new mxGeometry(222, 7, 110, 10), 'shape=line;strokeColor=#b3b3b3;');
				part6.vertex = true;
				var part7 = new mxCell('3', new mxGeometry(342, 0, 24, 24), 'shape=ellipse;strokeColor=none;fillColor=#9e9e9e;fontSize=12;fontColor=#ffffff;');
				part7.vertex = true;
				var part8 = new mxCell('Create an ad', new mxGeometry(304, 30, 100, 20), 'shape=rect;fontColor=#4d4d4dlfontSize=13;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;');
				part8.vertex = true;
			   	return sb.createVertexTemplateFromCells([part1, part2, part3, part4, part5, part6, part7, part8], 404, 50, 'Stepper with alternative optional label placing');
			})
   		];
		  
		this.addPalette('gmdlSteppers', 'GMDL / Steppers', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addGMDLTabsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library tab ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'fixed tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00A0B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 104), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.33, 1, 120, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0.67, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar');
			}),
			this.addEntry(dt + 'fixed tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00A0B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 160), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;fontSize=34;fontColor=#FFFFFF;spacingTop=-14;verticalAlign=middle;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.33, 1, 120, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0.67, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar');
			}),
			this.addEntry(dt + 'fixed tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 48), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.vertex = true;
				bg1.insert(bar1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.33, 1, 120, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0.67, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar');
			}),
			this.addEntry(dt + 'fixed tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00A0B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('', new mxGeometry(0, 0, 358, 104), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var part1 = new mxCell('Search People & Places', new mxGeometry(0, 0, 358, 64), s2 + 'marginRect;rectMargin=8;strokeColor=none;fillColor=#ffffff;shadow=1;fontColor=#CCCCCC;fontSize=14;align=left;spacingLeft=72;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bar1.insert(part1);
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'search;strokeColor=#ADADAD;fillColor=none;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(28, -8);
				icon1.vertex = true;
				part1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 10, 16), s2 + 'voice;strokeColor=#ADADAD;fillColor=#ADADAD;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-40, -8);
				icon2.vertex = true;
				part1.insert(icon2);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.33, 1, 120, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0.67, 1, 119, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar');
			}),
			this.addEntry(dt + 'scrollable tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00A0B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 104), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0.1899, 1, 90, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.4413, 1, 90, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('THE THIRD', new mxGeometry(0.6927, 1, 90, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var text5 = new mxCell('FO', new mxGeometry(1, 1, 20, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(-20, -48);
				text5.vertex = true;
				bar1.insert(text5);
				var part1 = new mxCell('', new mxGeometry(0.1899, 1, 90, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Scrollable tab bar');
			}),
			this.addEntry(dt + 'scrollable tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#757575;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 104), s + 'rect;strokeColor=none;fillColor=#FAFAFA;resizeWidth=1;fontSize=20;fontColor=#000000;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#757575;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 119, 48), 'text;fontSize=13;fontColor=#01BCD4;verticalAlign=middle;align=center;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0.33, 1, 120, 48), 'text;fontSize=13;fontColor=#757575;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0.67, 1, 119, 48), 'text;fontSize=13;fontColor=#757575;verticalAlign=middle;align=center;textOpacity=80;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, -48);
				text4.vertex = true;
				bar1.insert(text4);

				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#01BCD4;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#757575;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#757575;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Scrollable tab bar');
			}),
			this.addEntry(dt + 'fixed tab bar icons', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#00A0B4;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 128), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('RECENTS', new mxGeometry(0.1648, 1, 18, 18), s2 + 'telephone;fontSize=13;fontColor=#FFFFFF;verticalAlign=top;align=center;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-9, -48);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('FAVORITES', new mxGeometry(0.5, 1, 18, 16), s2 + 'heart;fontSize=12;fontColor=#FFFFFF;verticalAlign=top;align=center;textOpacity=80;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;opacity=70;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-9, -47);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('NEARBY', new mxGeometry(0.8268, 1, 18, 20), s2 + 'chat;fontSize=12;fontColor=#FFFFFF;verticalAlign=top;align=center;textOpacity=80;strokeColor=none;opacity=70;labelPosition=center;verticalLabelPosition=bottom;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-9, -51);
				icon4.vertex = true;
				bar1.insert(icon4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar with icons');
			}),
			this.addEntry(dt + 'fixed tab bar icons', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 358, 642), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('12:30', new mxGeometry(0, 0, 358, 24), s + 'rect;align=right;fillColor=#757575;strokeColor=none;fontColor=#FFFFFF;spacingRight=4;spacingTop=1;fontStyle=0;fontSize=13;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var topBarIcons = new mxCell('', new mxGeometry(1, 0.5, 46, 14), s2 + 'top_bar;strokeColor=none;');
				topBarIcons.geometry.relative = true;
				topBarIcons.geometry.offset = new mxPoint(-92, -7);
				topBarIcons.vertex = true;
				topBar.insert(topBarIcons);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 358, 108), s + 'rect;strokeColor=none;fillColor=#FAFAFA;resizeWidth=1;fontSize=20;fontColor=#000000;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 24);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(0.1648, 1, 18, 18), s2 + 'telephone;strokeColor=none;fillColor=#00B9D2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-9, -28);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(0.5, 1, 18, 16), s2 + 'heart;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-9, -27);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(0.8268, 1, 18, 20), s2 + 'chat;strokeColor=none;fillColor=#666666;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-9, -31);
				icon4.vertex = true;
				bar1.insert(icon4);
				var part1 = new mxCell('', new mxGeometry(0, 1, 119, 4), s + 'rect;strokeColor=none;fillColor=#00B9D2;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#666666;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-65, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#666666;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-24, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
				var bar12 = new mxCell('', new mxGeometry(0, 1, 358, 48), s + 'rect;strokeColor=none;fillColor=#000000;resizeWidth=1;');
				bar12.geometry.relative = true;
				bar12.geometry.offset = new mxPoint(0, -48);
				bar12.vertex = true;
				bg1.insert(bar12);
				var icon16 = new mxCell('', new mxGeometry(0.25, 0.5, 14, 14), s2 + 'back;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon16.geometry.relative = true;
				icon16.geometry.offset = new mxPoint(-7, -7);
				icon16.vertex = true;
				bar12.insert(icon16);
				var icon17 = new mxCell('', new mxGeometry(0.5, 0.5, 14, 14), 'shape=ellipse;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon17.geometry.relative = true;
				icon17.geometry.offset = new mxPoint(-7, -7);
				icon17.vertex = true;
				bar12.insert(icon17);
				var icon18 = new mxCell('', new mxGeometry(0.75, 0.5, 14, 14), 'shape=rect;strokeColor=#ffffff;fillColor=#000000;strokeWidth=2;');
				icon18.geometry.relative = true;
				icon18.geometry.offset = new mxPoint(-7, -7);
				icon18.vertex = true;
				bar12.insert(icon18);
			   	return sb.createVertexTemplateFromCells([bg1], 358, 642, 'Fixed tab bar with icons');
			}),
			this.addEntry(dt + 'desktop tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 758, 152), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('', new mxGeometry(0, 0, 758, 32), s + 'rect;fillColor=#00A0B4;strokeColor=none;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 12, 12), s2 + 'x;strokeColor=#ABDFE6;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-27, 11);
				icon1.vertex = true;
				topBar.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 13, 10), 'shape=rect;strokeColor=#ABDFE6;strokeWidth=2;fillColor=none;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-59, 13);
				icon2.vertex = true;
				topBar.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 14, 2), 'shape=line;strokeColor=#ABDFE6;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-91, 21);
				icon3.vertex = true;
				topBar.insert(icon3);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 758, 120), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;resizeHeight=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 32);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(68, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(174, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(280, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var text5 = new mxCell('ITEM FOUR', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(386, -48);
				text5.vertex = true;
				bar1.insert(text5);
				var part1 = new mxCell('', new mxGeometry(0, 1, 106, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(68, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-75, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-28, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
			   	return sb.createVertexTemplateFromCells([bg1], 758, 152, 'Desktop tab bar');
			}),
			this.addEntry(dt + 'desktop tab bar', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 758, 152), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('', new mxGeometry(0, 0, 758, 32), s + 'rect;fillColor=#00A0B4;strokeColor=none;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 12, 12), s2 + 'x;strokeColor=#ABDFE6;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-27, 11);
				icon1.vertex = true;
				topBar.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 13, 10), 'shape=rect;strokeColor=#ABDFE6;strokeWidth=2;fillColor=none;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-59, 13);
				icon2.vertex = true;
				topBar.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 14, 2), 'shape=line;strokeColor=#ABDFE6;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-91, 21);
				icon3.vertex = true;
				topBar.insert(icon3);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 758, 120), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;resizeHeight=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 32);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('WEB', new mxGeometry(0, 1, 74, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(68, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('SHOPPING', new mxGeometry(0, 1, 108, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(142, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('VIDEOS', new mxGeometry(0, 1, 98, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(250, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var text5 = new mxCell('IMAGES', new mxGeometry(0, 1, 74, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(348, -48);
				text5.vertex = true;
				bar1.insert(text5);
				var text6 = new mxCell('NEWS', new mxGeometry(0, 1, 86, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(422, -48);
				text6.vertex = true;
				bar1.insert(text6);
				var text7 = new mxCell('MORE', new mxGeometry(0, 1, 74, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(508, -48);
				text7.vertex = true;
				bar1.insert(text7);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#ffffff;opacity=70;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-10, -3);
				icon2.vertex = true;
				text7.insert(icon2);
				var part1 = new mxCell('', new mxGeometry(0, 1, 72, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(68, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-75, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-28, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
			   	return sb.createVertexTemplateFromCells([bg1], 758, 152, 'Desktop tab bar');
			}),
			this.addEntry(dt + 'desktop tab bar overflow', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 758, 152), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('', new mxGeometry(0, 0, 758, 32), s + 'rect;fillColor=#00A0B4;strokeColor=none;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 12, 12), s2 + 'x;strokeColor=#ABDFE6;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-27, 11);
				icon1.vertex = true;
				topBar.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 13, 10), 'shape=rect;strokeColor=#ABDFE6;strokeWidth=2;fillColor=none;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-59, 13);
				icon2.vertex = true;
				topBar.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 14, 2), 'shape=line;strokeColor=#ABDFE6;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-91, 21);
				icon3.vertex = true;
				topBar.insert(icon3);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 758, 120), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;resizeHeight=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 32);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM ONE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(68, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM TWO', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(174, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM THREE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(280, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var text5 = new mxCell('ITEM FOUR', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(386, -48);
				text5.vertex = true;
				bar1.insert(text5);
				var text6 = new mxCell('ITEM FIVE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(492, -48);
				text6.vertex = true;
				bar1.insert(text6);
				var text7 = new mxCell('ITEM SIX', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(598, -48);
				text7.vertex = true;
				bar1.insert(text7);
				var icon2 = new mxCell('', new mxGeometry(1, 1, 6, 12), s2 + 'up;strokeColor=#ffffff;direction=south;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-42, -30);
				icon2.vertex = true;
				bar1.insert(icon2);
				var part1 = new mxCell('', new mxGeometry(0, 1, 106, 4), s + 'rect;strokeColor=none;fillColor=#F1FB8F;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(68, -3);
				part1.vertex = true;
				bar1.insert(part1);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-75, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-28, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
			   	return sb.createVertexTemplateFromCells([bg1], 758, 152, 'Desktop tab bar with overflow');
			}),
			this.addEntry(dt + 'desktop tab bar overflow scrolled', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 758, 152), s + 'rect;fillColor=#ffffff;strokeColor=none;');
				bg1.vertex = true;
				var topBar = new mxCell('', new mxGeometry(0, 0, 758, 32), s + 'rect;fillColor=#00A0B4;strokeColor=none;resizeWidth=1;');
				topBar.geometry.relative = true;
				topBar.vertex = true;
				bg1.insert(topBar);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 12, 12), s2 + 'x;strokeColor=#ABDFE6;strokeWidth=2;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-27, 11);
				icon1.vertex = true;
				topBar.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 13, 10), 'shape=rect;strokeColor=#ABDFE6;strokeWidth=2;fillColor=none;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-59, 13);
				icon2.vertex = true;
				topBar.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 14, 2), 'shape=line;strokeColor=#ABDFE6;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-91, 21);
				icon3.vertex = true;
				topBar.insert(icon3);
				var bar1 = new mxCell('Page title', new mxGeometry(0, 0, 758, 120), s + 'rect;strokeColor=none;fillColor=#00BCD4;resizeWidth=1;resizeHeight=1;fontSize=20;fontColor=#FFFFFF;spacingTop=9;verticalAlign=top;align=left;spacingLeft=72;');
				bar1.geometry.relative = true;
				bar1.geometry.offset = new mxPoint(0, 32);
				bar1.vertex = true;
				bg1.insert(bar1);
				var icon1 = new mxCell('', new mxGeometry(0, 0, 24, 16), s2 + 'preferences;strokeColor=none;fillColor=#ffffff;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(16, 20);
				icon1.vertex = true;
				bar1.insert(icon1);
				var text2 = new mxCell('ITEM SEVEN', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(68, -48);
				text2.vertex = true;
				bar1.insert(text2);
				var text3 = new mxCell('ITEM EIGHT', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(174, -48);
				text3.vertex = true;
				bar1.insert(text3);
				var text4 = new mxCell('ITEM NINE', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(280, -48);
				text4.vertex = true;
				bar1.insert(text4);
				var text5 = new mxCell('ITEM TEN', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(386, -48);
				text5.vertex = true;
				bar1.insert(text5);
				var text6 = new mxCell('ITEM ELEVEN', new mxGeometry(0, 1, 106, 48), 'text;fontSize=13;fontColor=#FFFFFF;verticalAlign=middle;align=center;textOpacity=80;');
				text6.geometry.relative = true;
				text6.geometry.offset = new mxPoint(492, -48);
				text6.vertex = true;
				bar1.insert(text6);
				var icon2 = new mxCell('', new mxGeometry(0, 1, 6, 12), s2 + 'up;strokeColor=#ffffff;direction=north;strokeWidth=2;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(36, -30);
				icon2.vertex = true;
				bar1.insert(icon2);
				var icon3 = new mxCell('', new mxGeometry(1, 0, 16, 16), s2 + 'search;strokeColor=#ffffff;fillColor=none;strokeWidth=2;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-75, 20);
				icon3.vertex = true;
				bar1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(1, 0, 5, 16), s2 + 'settings;strokeColor=none;fillColor=#ffffff;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-28, 20);
				icon4.vertex = true;
				bar1.insert(icon4);
			   	return sb.createVertexTemplateFromCells([bg1], 758, 152, 'Desktop tab bar with overflow scrolled');
			})
		];
		  
		this.addPalette('gmdlTabs', 'GMDL / Tabs', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addGMDLTextFieldsPalette = function(expand)
	{
		var s = "dashed=0;shape=";
		var s2 = "dashed=0;shape=mxgraph.gmdl.";
		var gn = 'mxgraph.gmdl';
		var dt = 'gmdl google media design library text field ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'single line text field', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 346, 360), s + 'rect;fillColor=#ffffff;strokeColor=#eeeeee;shadow=1;');
				bg1.vertex = true;
				var text1 = new mxCell('Bookmark added!', new mxGeometry(0, 0, 346, 60), 'text;verticalAlign=middle;spacing=16;fontSize=21;fontStyle=1;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg1.insert(text1);
				var text2 = new mxCell('Name', new mxGeometry(0, 0, 346, 30), 'text;spacingLeft=16;fontColor=#808080;fontSize=13;spacingTop=6;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 88);
				text2.vertex = true;
				bg1.insert(text2);
				var text3 = new mxCell('100 Days of Ice Cream', new mxGeometry(0, 0, 346, 30), 'text;fontSize=16;spacing=2;spacingLeft=16;fontStyle=0;fontColor=#000000;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, 115);
				text3.vertex = true;
				bg1.insert(text3);
				var part2 = new mxCell('', new mxGeometry(0.0462, 0, 314, 20), 'shape=line;strokeWidth=1;noLabel=1;strokeColor=#eeeeee;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 140);
				part2.vertex = true;
				bg1.insert(part2);
				var text4 = new mxCell('Folder', new mxGeometry(0, 0, 346, 30), 'text;spacingLeft=16;fontColor=#808080;fontSize=13;spacingTop=6;resizeWidth=1;');
				text4.geometry.relative = true;
				text4.geometry.offset = new mxPoint(0, 166);
				text4.vertex = true;
				bg1.insert(text4);
				var text5 = new mxCell('Bookmarks bar', new mxGeometry(0, 0, 346, 30), 'text;fontSize=16;spacing=2;spacingLeft=16;fontStyle=0;fontColor=#000000;resizeWidth=1;');
				text5.geometry.relative = true;
				text5.geometry.offset = new mxPoint(0, 193);
				text5.vertex = true;
				bg1.insert(text5);
				var icon1 = new mxCell('', new mxGeometry(1, 0, 10, 5), s2 + 'triangle;strokeColor=none;fillColor=#707070;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(-26, 13);
				icon1.vertex = true;
				text5.insert(icon1);
				var part6 = new mxCell('', new mxGeometry(0.0462, 0, 314, 20), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#eeeeee;resizeWidth=1;');
				part6.geometry.relative = true;
				part6.geometry.offset = new mxPoint(0, 218);
				part6.vertex = true;
				bg1.insert(part6);
				var text7 = new mxCell('REMOVE', new mxGeometry(0, 1, 90, 60), 'text;fontSize=13;fontStyle=1;fontColor=#138FF2;spacingTop=0;verticalAlign=middle;align=center;');
				text7.geometry.relative = true;
				text7.geometry.offset = new mxPoint(0, -60);
				text7.vertex = true;
				bg1.insert(text7);
				var text8 = new mxCell('EDIT', new mxGeometry(1, 1, 90, 60), 'text;fontSize=13;fontStyle=1;fontColor=#138FF2;spacingTop=0;verticalAlign=middle;align=center;');
				text8.geometry.relative = true;
				text8.geometry.offset = new mxPoint(-180, -60);
				text8.vertex = true;
				bg1.insert(text8);
				var text9 = new mxCell('DONE', new mxGeometry(1, 1, 90, 60), 'text;fontSize=13;fontStyle=1;fontColor=#138FF2;spacingTop=0;verticalAlign=middle;align=center;');
				text9.geometry.relative = true;
				text9.geometry.offset = new mxPoint(-90, -60);
				text9.vertex = true;
				bg1.insert(text9);
				return sb.createVertexTemplateFromCells([bg1], 346, 360, 'Single-line text field');
			}),
			this.addEntry(dt + 'single line text field normal light dark', function()
			{
				var text1 = new mxCell('Hint text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#808080;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#eeeeee;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (normal)');
			}),
			this.addEntry(dt + 'single line text field hover light dark', function()
			{
				var text1 = new mxCell('Hint text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#808080;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#cccccc;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (hover)');
			}),
			this.addEntry(dt + 'single line text field press light dark', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#808080;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;opacity=50;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#0C8CF2;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (press)');
			}),
			this.addEntry(dt + 'single line text field focus light', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#0C8CF2;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (focus, light)');
			}),
			this.addEntry(dt + 'single line text field normal light', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#eeeeee;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (normal, light)');
			}),
			this.addEntry(dt + 'single line text field error light', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#ff0000;');
				part1.vertex = true;
				var text2 = new mxCell('Username or Password is incorrect', new mxGeometry(0, 30, 346, 25), 'text;fontColor=#ff0000;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1, text2], 346, 55, 'Single-line text field (error, light)');
			}),
			this.addEntry(dt + 'single line text field disabled', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#808080;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), 'shape=line;strokeWidth=1;noLabel=1;strokeColor=#B3B3B3;dashed=1;dashPattern=1 4;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (disabled)');
			}),
			this.addEntry(dt + 'single line text field focus dark', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#0C8CF2;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (focus, dark)');
			}),
			this.addEntry(dt + 'single line text field normal dark', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#999999;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#cccccc;opacity=50;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (normal, dark)');
			}),
			this.addEntry(dt + 'single line text field error dark', function()
			{
				var text1 = new mxCell('Input text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#ff0000;');
				part1.vertex = true;
				var text2 = new mxCell('Username or Password is incorrect', new mxGeometry(0, 30, 346, 25), 'text;fontColor=#ff0000;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1, text2], 346, 55, 'Single-line text field (error, dark)');
			}),
			this.addEntry(dt + 'single line text field icon normal light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('Phone', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#666666;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;textOpacity=50;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#E6E6E6;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#666666;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;opacity=50;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#E6E6E6;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#666666;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (normal, light)');
			}),
			this.addEntry(dt + 'single line text field icon focus light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#1F9BFD;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('650', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#1F9BFD;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#B3B3B3;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#E6E6E6;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#666666;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (focus, light)');
			}),
			this.addEntry(dt + 'single line text field icon normal light', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('650-555-1234', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#E6E6E6;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#E6E6E6;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#666666;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (normal, light)');
			}),
			this.addEntry(dt + 'single line text field icon normal dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#cccccc;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('Phone', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#777777;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#555555;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#777777;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;opacity=50;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#555555;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#cccccc;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (normal, dark)');
			}),
			this.addEntry(dt + 'single line text field icon focus dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#1F9BFD;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('650', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#1F9BFD;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#777777;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#555555;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#cccccc;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (focus, dark)');
			}),
			this.addEntry(dt + 'single line text field icon normal dark', function()
			{
				var bg1 = new mxCell('', new mxGeometry(0, 0, 342, 35), 'shape=rect;strokeColor=none;fillColor=none;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 20), s2 + 'telephone;strokeColor=none;fillColor=#cccccc;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(0, -10);
				icon1.vertex = true;
				bg1.insert(icon1);
				var text1 = new mxCell('650-555-1234', new mxGeometry(54, 0, 168, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				bg1.insert(text1);
				var part1 = new mxCell('', new mxGeometry(54, 25, 168, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#555555;');
				part1.vertex = true;
				bg1.insert(part1);
				var text2 = new mxCell('Mobile', new mxGeometry(252, 0, 90, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				bg1.insert(text2);
				var part2 = new mxCell('', new mxGeometry(252, 25, 90, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#555555;');
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('', new mxGeometry(1, 0.5, 10, 5), s + 'triangle;noLabel=1;strokeColor=none;fillColor=#cccccc;direction=south;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(-14, -3);
				part3.vertex = true;
				text2.insert(part3);
				return sb.createVertexTemplateFromCells([bg1], 342, 35, 'Single-line text field with icon (normal, dark)');
			}),
			this.addEntry(dt + 'single line text field normal light dark', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#808080;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 25, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#999999;opacity=80;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, part1], 346, 35, 'Single-line text field (normal)');
			}),
			this.addEntry(dt + 'single line text field focus light', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#1F9BFD;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var text2 = new mxCell('Input text', new mxGeometry(0, 20, 346, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 45, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#1F9BFD;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, text2, part1], 346, 55, 'Single-line text field (normal, light)');
			}),
			this.addEntry(dt + 'single line text field focus light', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#cccccc;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var text2 = new mxCell('Input text', new mxGeometry(0, 20, 346, 30), 'text;fontColor=#000000;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 45, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#eeeeee;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, text2, part1], 346, 55, 'Single-line text field (normal, light)');
			}),
			this.addEntry(dt + 'single line text field focus light dark', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#999999;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;textOpacity=80;');
				text1.vertex = true;
				var text2 = new mxCell('Input text', new mxGeometry(0, 20, 346, 30), 'text;fontColor=#999999;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;textOpacity=80;');
				text2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 45, 346, 10), 'shape=line;strokeWidth=1;noLabel=1;strokeColor=#999999;dashed=1;dashPattern=1 4;opacity=80;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, text2, part1], 346, 55, 'Single-line text field (normal)');
			}),
			this.addEntry(dt + 'single line text field focus dark', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#1F9BFD;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var text2 = new mxCell('Input text', new mxGeometry(0, 20, 346, 30), 'text;fontColor=#ffffff;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 45, 346, 10), s + 'line;strokeWidth=2;noLabel=1;strokeColor=#1F9BFD;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, text2, part1], 346, 55, 'Single-line text field (normal, dark)');
			}),
			this.addEntry(dt + 'single line text field focus dark', function()
			{
				var text1 = new mxCell('Label text', new mxGeometry(0, 0, 346, 30), 'text;fontColor=#999999;fontSize=12;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text1.vertex = true;
				var text2 = new mxCell('Input text', new mxGeometry(0, 20, 346, 30), 'text;fontColor=#cccccc;fontSize=16;verticalAlign=middle;strokeColor=none;fillColor=none;');
				text2.vertex = true;
				var part1 = new mxCell('', new mxGeometry(0, 45, 346, 10), s + 'line;strokeWidth=1;noLabel=1;strokeColor=#999999;');
				part1.vertex = true;
				return sb.createVertexTemplateFromCells([text1, text2, part1], 346, 55, 'Single-line text field (normal, dark)');
			}),
			this.addEntry(dt + 'full text field', function()
			{
				var bg1 = new mxCell('Search', new mxGeometry(0, 0, 362, 56), s + 'rect;shadow=1;strokeColor=#eeeeee;strokeWidth=1;fillColor=#ffffff;fontSize=22;fontColor=#CCCCCC;align=left;spacingLeft=65;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'left;strokeWidth=2;strokeColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(22, -8);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 14, 14), s2 + 'x;strokeWidth=2;strokeColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, -7);
				icon2.vertex = true;
				bg1.insert(icon2);
				return sb.createVertexTemplateFromCells([bg1], 362, 56, 'Full text field');
			}),
			this.addEntry(dt + 'full text field', function()
			{
				var bg1 = new mxCell('a', new mxGeometry(0, 0, 362, 294), s + 'rect;shadow=1;strokeColor=#eeeeee;strokeWidth=1;fillColor=#ffffff;fontSize=22;fontColor=#000000;align=left;spacingLeft=65;dashPattern=1 4;verticalAlign=top;spacingTop=6;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'left;strokeWidth=2;strokeColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(22, 20);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 14, 14), s2 + 'x;strokeWidth=2;strokeColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, 22);
				icon2.vertex = true;
				bg1.insert(icon2);
				var part1 = new mxCell('', new mxGeometry(0, 0, 362, 10), s + 'line;strokeWidth=1;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 49);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('Aaron Bennett', new mxGeometry(0, 0, 362, 60), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 54);
				part2.vertex = true;
				bg1.insert(part2);
				var icon3 = new mxCell('', new mxGeometry(1, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#666666;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(-60, -20);
				icon3.vertex = true;
				part2.insert(icon3);
				var part3 = new mxCell('Abbey Christensen', new mxGeometry(0, 0, 362, 60), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 114);
				part3.vertex = true;
				bg1.insert(part3);
				var icon4 = new mxCell('', new mxGeometry(1, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#666666;');
				icon4.geometry.relative = true;
				icon4.geometry.offset = new mxPoint(-60, -20);
				icon4.vertex = true;
				part3.insert(icon4);
				var part4 = new mxCell('Alli Connors', new mxGeometry(0, 0, 362, 60), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 174);
				part4.vertex = true;
				bg1.insert(part4);
				var icon5 = new mxCell('', new mxGeometry(1, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#666666;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(-60, -20);
				icon5.vertex = true;
				part4.insert(icon5);
				var part5 = new mxCell('Alex Nelson', new mxGeometry(0, 0, 362, 60), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 234);
				part5.vertex = true;
				bg1.insert(part5);
				var icon6 = new mxCell('', new mxGeometry(1, 0.5, 40, 40), s2 + 'user;strokeColor=none;fillColor=#666666;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(-60, -20);
				icon6.vertex = true;
				part5.insert(icon6);
				return sb.createVertexTemplateFromCells([bg1], 362, 294, 'Full text field');
			}),
			this.addEntry(dt + 'inset text field', function()
			{
				var bg1 = new mxCell('Search', new mxGeometry(0, 0, 362, 56), s + 'rect;shadow=1;strokeColor=#eeeeee;strokeWidth=1;fillColor=#ffffff;fontSize=22;fontColor=#CCCCCC;align=left;spacingLeft=65;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0.5, 16, 16), s2 + 'search;strokeWidth=2;strokeColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(22, -8);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0.5, 12, 20), s2 + 'voice;strokeWidth=2;strokeColor=#666666;fillColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-34, -10);
				icon2.vertex = true;
				bg1.insert(icon2);
				return sb.createVertexTemplateFromCells([bg1], 362, 56, 'Inset text field');
			}),
			this.addEntry(dt + 'focus card suggestion', function()
			{
				var bg1 = new mxCell('dessert', new mxGeometry(0, 0, 362, 246), s + 'rect;shadow=1;strokeColor=#eeeeee;strokeWidth=1;fillColor=#ffffff;fontSize=22;fontColor=#000000;align=left;spacingLeft=65;dashPattern=1 4;verticalAlign=top;spacingTop=6;');
				bg1.vertex = true;
				var icon1 = new mxCell('', new mxGeometry(0, 0, 16, 16), s2 + 'left;strokeWidth=2;strokeColor=#666666;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(22, 20);
				icon1.vertex = true;
				bg1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(1, 0, 14, 14), s2 + 'x;strokeWidth=2;strokeColor=#666666;');
				icon2.geometry.relative = true;
				icon2.geometry.offset = new mxPoint(-35, 22);
				icon2.vertex = true;
				bg1.insert(icon2);
				var part1 = new mxCell('', new mxGeometry(0, 0, 362, 10), s + 'line;strokeWidth=1;strokeColor=#eeeeee;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(0, 49);
				part1.vertex = true;
				bg1.insert(part1);
				var part2 = new mxCell('dessert', new mxGeometry(0, 0, 362, 48), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;fontColor=#999999;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 54);
				part2.vertex = true;
				bg1.insert(part2);
				var part3 = new mxCell('dessert <font color="#000000">bar</font>', new mxGeometry(0, 0, 362, 48), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;fontColor=#999999;resizeWidth=1;');
				part3.geometry.relative = true;
				part3.geometry.offset = new mxPoint(0, 102);
				part3.vertex = true;
				bg1.insert(part3);
				var part4 = new mxCell('dessert <font color="#000000">shop</font>', new mxGeometry(0, 0, 362, 48), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;fontColor=#999999;resizeWidth=1;');
				part4.geometry.relative = true;
				part4.geometry.offset = new mxPoint(0, 150);
				part4.vertex = true;
				bg1.insert(part4);
				var part5 = new mxCell('dessert <font color="#000000">restaurant</font>', new mxGeometry(0, 0, 362, 48), s + 'rect;strokeColor=none;fillColor=none;align=left;fontSize=16;spacingLeft=65;html=1;fontColor=#999999;resizeWidth=1;');
				part5.geometry.relative = true;
				part5.geometry.offset = new mxPoint(0, 198);
				part5.vertex = true;
				bg1.insert(part5);
				return sb.createVertexTemplateFromCells([bg1], 362, 246, 'Focus card suggestions');
			})
   		];
		  
		this.addPalette('gmdlText Fields', 'GMDL / Text Fields', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

})();

(function()
{
	// Adds iOS shapes
	Sidebar.prototype.addIosPalette = function()
	{
			// Avoids having to bind all functions to "this"
			sb = this;
			
			//default tags
			var dt = 'ios icon ';
		
			var sizeX = 200; //reference size for iPhone and all other iOS shapes
			
			var sizeY = 2 * sizeX; //change only sizeX, to avoid changing aspect ratio
			
			var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios.';
			var s2 = mxConstants.STYLE_STROKEWIDTH + '=1;html=1;shadow=0;dashed=0;shape=mxgraph.ios.';
			var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;html=1;shadow=0;dashed=0;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;shape=mxgraph.ios.';
			var s4 = 'html=1;shadow=0;dashed=0;shape=mxgraph.ios.';
			var gn = 'mxgraph.ios';
		
		var fns =
		[
			
			this.createVertexTemplateEntry(s + 'iPhone;bgStyle=bgGreen;fillColor=#aaaaaa;', sizeX, sizeY, '', 'iPhone (portrait)', null, null, null),
		 	this.createVertexTemplateEntry(s + 'iPhone;direction=north;bgStyle=bgGreen;fillColor=#aaaaaa;', sizeY, sizeX, '', 'iPhone (landscape)', null, null, null),
			this.createVertexTemplateEntry(s + 'iPad;bgStyle=bgGreen;fillColor=#aaaaaa;', sizeX * 2.425, sizeY * 1.5625, '', 'iPad (portrait)', null, null, null),
			this.createVertexTemplateEntry(s + 'iPad;direction=north;bgStyle=bgGreen;fillColor=#aaaaaa;', sizeY * 1.5625, sizeX * 2.425, '', 'iPad (landscape)', null, null, null),
			this.createVertexTemplateEntry(s + 'iBgFlat;strokeColor=#18211b;fillColor=#ffffff;', sizeX * 0.875, sizeY * 0.7, '', 'iPad background (white)', null, null, null),
			this.createVertexTemplateEntry(s + 'iBgFlat;strokeColor=#18211b;fillColor=#1f2923;', sizeX * 0.875, sizeY * 0.7, '', 'iPad background (green)', null, null, null),
			this.createVertexTemplateEntry(s + 'iBgFlat;strokeColor=#18211b;fillColor=#dddddd;', sizeX * 0.875, sizeY * 0.7, '', 'iPad background (gray)', null, null, null),
			this.createVertexTemplateEntry(s + 'iBgStriped;strokeColor=#18211b;fillColor=#5D7585;strokeColor2=#657E8F;', sizeX * 0.875, sizeY * 0.7, '', 'iPad background (striped)', null, null, null),
			this.createVertexTemplateEntry(s + 'iBgMap;strokeColor=#18211b;fillColor=#ffffff;strokeColor2=#008cff;fillColor2=#96D1FF;', sizeX * 0.875, sizeY * 0.7, '', 'iPad background (map)', null, null, null),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 165, 50), s4 + 'rrect;rSize=5;strokeColor=#444444;fillColor=#ffffff;gradientColor=none;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Item 1', new mxGeometry(0, 0, 165, 12.5), s4 + 'topButton;rSize=5;fillColor=none;strokeColor=#c4c4c4;align=left;spacingLeft=10;fontSize=8;fontColor=#666666;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var text1 = new mxCell('>', new mxGeometry(140, 1, 10, 10), s4 + 'anchor;fontColor=#c4c4c4;fontStyle=1;');
			   	text1.vertex = true;
			   	button1.insert(text1);
			   	var button3 = new mxCell('Item 3', new mxGeometry(0, 25, 165, 12.5), s4 + 'rrect;rSize=0;fillColor=none;strokeColor=#c4c4c4;align=left;spacingLeft=10;fontSize=8;fontColor=#666666;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var text3 = new mxCell('>', new mxGeometry(140, 1, 10, 10), s4 + 'anchor;fontColor=#c4c4c4;fontStyle=1;');
			   	text3.vertex = true;
			   	button3.insert(text3);
			   	var button4 = new mxCell('Item 4', new mxGeometry(0, 37.5, 165, 12.5), s4 + 'bottomButton;rSize=5;fillColor=none;strokeColor=#c4c4c4;align=left;spacingLeft=10;fontSize=8;fontColor=#666666;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var text4 = new mxCell('>', new mxGeometry(140, 1, 10, 10), s4 + 'anchor;fontColor=#c4c4c4;fontStyle=1;');
			   	text4.vertex = true;
			   	button4.insert(text4);
			   	var button2 = new mxCell('Item 2', new mxGeometry(0, 12.5, 165, 12.5), s4 + 'rrect;rSize=0;fillColor=#5D7585;strokeColor=none;align=left;spacingLeft=10;fontSize=8;fontColor=#ffffff;gradientColor=#008cff;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var text2 = new mxCell('>', new mxGeometry(140, 1, 10, 10), s4 + 'anchor;fontColor=#c4c4c4;fontStyle=1;');
			   	text2.vertex = true;
			   	button2.insert(text2);
			   	var fg = new mxCell('', new mxGeometry(0, 0, 165, 50), s4 + 'rrect;rSize=5;strokeColor=#444444;fillColor=none;');
			   	fg.vertex = true;
			   	bg.insert(fg);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Button bar');
			}),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 175, 15), s4 + 'iAppBar;strokeWidth=1;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CARRIER', new mxGeometry(0, 2, 50, 13), s4 + 'anchor;align=left;fontSize=8;spacingLeft=18;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('11:55PM', new mxGeometry(60, 2, 50, 13), s4 + 'rect;fontSize=8;strokeColor=none;fillColor=none;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'App bar (portrait)');
			}),
		
			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 280, 15), s4 + 'iAppBar;strokeWidth=1;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CARRIER', new mxGeometry(0, 2, 50, 13), s4 + 'anchor;align=left;fontSize=8;spacingLeft=18;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('11:55PM', new mxGeometry(115, 2, 50, 13), s4 + 'rect;fontSize=8;strokeColor=none;fillColor=none;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'App bar (landscape)');
			}),
				
			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 175, 15), s4 + 'iTopBar2;opacity=50;fillColor=#999999;strokeColor=#cccccc;strokeWidth=1;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CARRIER', new mxGeometry(0, 2, 50, 13), s4 + 'rect;align=left;fontSize=7.5;spacingLeft=18;fontColor=#cccccc;textOpacity=50;strokeColor=none;fillColor=none;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('11:15AM', new mxGeometry(60, 2, 50, 13), s4 + 'rect;fontSize=7.5;fontColor=#cccccc;textOpacity=50;strokeColor=none;fillColor=none;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Top bar');
			}),
			
			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 175, 15), s4 + 'iTopBarLocked;strokeWidth=1;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CARRIER', new mxGeometry(0, 2, 50, 13), s4 + 'anchor;align=left;fontSize=7.5;spacingLeft=18;fontColor=#cccccc;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Top bar locked');
			}),
		   	
			this.createVertexTemplateEntry(s2 + 'iButton;strokeColor=#444444;fontColor=#ffffff;buttonText=;fontSize=8;fillColor=#dddddd;fillColor2=#3D5565;whiteSpace=wrap;align=center;', 
					sizeX * 0.2175, sizeY * 0.0375, 'Button', 'Button', null, null, null),
		 	this.createVertexTemplateEntry(s2 + 'iButtonBack;strokeColor=#444444;fontColor=#ffffff;buttonText=;fontSize=8;fillColor=#dddddd;fillColor2=#3D5565;spacingLeft=10;whiteSpace=wrap;align=center;', 
		 			sizeX * 0.2175, sizeY * 0.0375, 'Button', 'Back button', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iButtonFw;strokeColor=#444444;fontColor=#ffffff;buttonText=;fontSize=8;fillColor=#dddddd;fillColor2=#3D5565;spacingRight=10;whiteSpace=wrap;align=center;', 
					sizeX * 0.2175, sizeY * 0.0375, 'Button', 'Forward button', null, null, null),
			this.createVertexTemplateEntry(s + 'iPrevNext;strokeColor=#444444;fillColor=#dddddd;fillColor2=#3D5565;fillColor3=#ffffff;align=center;', 
					sizeX * 0.2175, sizeY * 0.0375, '', 'Prev/next button', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iTextInput;strokeColor=#444444;fontColor=#000000;buttonText=;fontSize=8;fillColor=#ffffff;whiteSpace=wrap;align=left;', 
					sizeX * 0.2175, sizeY * 0.0375, 'Default text', 'Text input', null, null, null),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 165, 50), s4 + 'rrect;rSize=3;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;recursiveResize=0');
			   	bg.vertex = true;
			   	var radio1 = new mxCell('Option 1', new mxGeometry(2.5, 3.5, 5, 5), 
			   			'shape=ellipse;resizable=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio1.vertex = true;
			   	bg.insert(radio1);
			   	var radio2 = new mxCell('Option 2', new mxGeometry(2.5, 16, 5, 5), 
	   					'shape=ellipse;resizable=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio2.vertex = true;
			   	bg.insert(radio2);
			   	var radio3 = new mxCell('Option 3', new mxGeometry(2.5, 28.5, 5, 5), 
						'shape=ellipse;resizable=0;fillColor=#444444;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio3.vertex = true;
			   	bg.insert(radio3);
			   	var radio4 = new mxCell('Option 4', new mxGeometry(2.5, 41, 5, 5), 
			   			'shape=ellipse;resizable=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio4.vertex = true;
			   	bg.insert(radio4);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Radio Buttons');
			}),
	
			this.addEntry(null, function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 165, 50), s4 + 'rrect;rSize=3;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;recursiveResize=0;');
			   	bg.vertex = true;
			   	var radio1 = new mxCell('Setting 1', new mxGeometry(2.5, 3.5, 5, 5), 
			   			s4 + 'rrect;rSize=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio1.vertex = true;
			   	bg.insert(radio1);
			   	var radio2 = new mxCell('Setting 2', new mxGeometry(2.5, 16, 5, 5), 
			   			s4 + 'rrect;rSize=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio2.vertex = true;
			   	bg.insert(radio2);
			   	var radio3 = new mxCell('Setting 3', new mxGeometry(2.5, 28.5, 5, 5), 
			   			s4 + 'checkbox;fillColor=#999999;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio3.vertex = true;
			   	bg.insert(radio3);
			   	var radio4 = new mxCell('Setting 4', new mxGeometry(2.5, 41, 5, 5), 
			   			s4 + 'rrect;rSize=0;fillColor=#dddddd;align=left;spacingLeft=2;fontSize=8;fontColor=#666666;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;spacingTop=3;');
			   	radio4.vertex = true;
			   	bg.insert(radio4);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Checkboxes');
			}),
			   	
			this.createVertexTemplateEntry(s2 + 'iComboBox;spacingTop=2;spacingLeft=2;align=left;strokeColor=#444444;fontColor=#666666;buttonText=;fontSize=8;fillColor=#dddddd;fillColor2=#3D5565;', 
					sizeX * 0.29, sizeY * 0.0375, 'Option 1', 'Combobox', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iOnOffButton;mainText=;strokeColor=#444444;fontSize=9;fontColor=#ffffff;spacingRight=14;buttonState=on', sizeX * 0.2175, sizeY * 0.0375, 
					'ON', 'On-off button', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iTextInput;strokeColor=#444444;fontColor=#000000;align=left;buttonText=;fontSize=8;fillColor=#ffffff;', sizeX * 0.2175, sizeY * 0.0375, 
					'********', 'Password field', null, null, null),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell(
			   			'Alert description text\ndescription text second line', 
			   			new mxGeometry(0, 0, 150, 100), s4 + 'fancyRRect;rSize=8;strokeColor=#dddddd;fillColor=#497198;gradientColor=#193168;opacity=80;fontColor=#ffffff;fontSize=9;whiteSpace=wrap;align=center;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Something happened', new mxGeometry(0, 0, 150, 25), s4 + 'anchor;fontSize=13;fontColor=#ffffff;whiteSpace=wrap;resizeWidth=1;');
			   	text1.geometry.relative = true;
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('Button', new mxGeometry(0.5, 1, 80, 20), s4 + 'rrect;rSize=3;fontSize=9;fontColor=#ffffff;strokeColor=#ffffff;fillColor=#497198;gradientColor=#c5cee1;opacity=80;whiteSpace=wrap;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-40, -25);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Alert Box');
			}),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell(
			   			'Dialog question text\nquestion text second line', 
			   			new mxGeometry(0, 0, 150, 100), s4 + 'fancyRRect;rSize=8;strokeColor=#dddddd;fillColor=#497198;gradientColor=#193168;opacity=80;fontColor=#ffffff;fontSize=9;whiteSpace=wrap;align=center;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Something happened', new mxGeometry(0, 0, 150, 25), s4 + 'anchor;fontSize=13;fontColor=#ffffff;whiteSpace=wrap;resizeWidth=1;');
			   	text1.geometry.relative = true;
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('Cancel', new mxGeometry(0.25, 1, 65, 20), s4 + 'rrect;rSize=3;fontSize=9;fontColor=#ffffff;strokeColor=#ffffff;fillColor=#497198;gradientColor=#c5cee1;opacity=80;whiteSpace=wrap;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-32.5, -25);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('OK', new mxGeometry(0.75, 1, 65, 20), s4 + 'rrect;rSize=3;fontSize=9;fontColor=#ffffff;strokeColor=#ffffff;fillColor=#497198;gradientColor=#c5cee1;opacity=80;whiteSpace=wrap;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(-32.5, -25);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dialog Box');
			}),

			this.createVertexTemplateEntry(s2 + 'iLockButton;fontColor=#cccccc;fontSize=13;mainText=;spacingLeft=50;spacingRight=10;align=center;', sizeX * 0.87, sizeY * 0.125, 'slide to unlock', 'Lock button', null, null, null),
			this.createVertexTemplateEntry(s + 'iArrowIcon;fillColor=#8BbEff;fillColor2=#135Ec8;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Arrow', null, null, null),
			this.createVertexTemplateEntry(s + 'iDeleteIcon;fillColor=#e8878E;fillColor2=#BD1421;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Delete', null, null, null),
			this.createVertexTemplateEntry(s + 'iAddIcon;fillColor=#7AdF78;fillColor2=#1A9917;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Add', null, null, null),
			this.createVertexTemplateEntry(s + 'iInfoIcon;fillColor=#8BbEff;fillColor2=#135Ec8;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Info', null, null, null),
			this.createVertexTemplateEntry(s + 'iSortFindIcon;fillColor=#8BbEff;fillColor2=#135Ec8;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Sort/find', null, null, null),
			this.createVertexTemplateEntry(s + 'iCheckIcon;fillColor=#e8878E;fillColor2=#BD1421;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Check', null, null, null),
			this.createVertexTemplateEntry(s + 'iKeybLett;', sizeX * 0.87, sizeY * 0.25, '', 'Keyboard (letters)', null, null, null),
			this.createVertexTemplateEntry(s + 'iKeybNumb;', sizeX * 0.87, sizeY * 0.25, '', 'Keyboard (numbers)', null, null, null),
			this.createVertexTemplateEntry(s + 'iKeybSymb;', sizeX * 0.87, sizeY * 0.25, '', 'Keyboard (symbols)', null, null, null),
			this.createVertexTemplateEntry(s + 'iDeleteApp;fillColor=#cccccc;fillColor2=#000000;strokeColor=#ffffff;', sizeX * 0.075, sizeY * 0.0375, '', 'Delete app', null, null, null),
			this.createVertexTemplateEntry(s + 'iDir;', sizeX * 0.5, sizeY * 0.25, '', 'Direction', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iLocBar;align=left;spacingLeft=4;spacingBottom=4;fontColor=#ffffff;fontSize=10;barPos=80;pointerPos=bottom;buttonText=', sizeX * 0.775, sizeY * 0.08125, '5th Street Music Store', 'Location bar', null, null, null),
			this.createVertexTemplateEntry(s + 'iCallDialog;', sizeX * 0.75, sizeY * 0.3125, '', 'Call Dialog', null, null, null),
			this.createVertexTemplateEntry(s + 'iCallButtons;', sizeX * 0.87, sizeY * 0.575, '', 'Call buttons', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iOption;barPos=80;pointerPos=bottom;buttonText=;fontSize=10;fontColor=#ffffff;spacingBottom=6;', sizeX * 0.375, sizeY * 0.06875, 'Option', 'Option', null, null, null),
			this.createVertexTemplateEntry(s + 'iAlphaList;fontSize=7.5;', sizeX * 0.075, sizeY * 0.5625, '', 'Alphabet list', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iHorButtonBar;strokeColor=#444444;strokeColor2=#c4c4c4;fillColor2=#ffffff;buttonText=,+,,;overflow=width;html=1;fontSize=8;fillColor=#ffffff;fillColor2=#008cff', sizeX * 0.825, sizeY * 0.03125,
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;color:#666666;width:100%;"><tr><td align="center" width="25%">Item 1</td><td align="center" style="color:white;" width="25%">Item 2</td><td align="center" width="25%">Item 3</td><td align="center" width="25%">Item 4</td></tr></table>', 'Horizontal button bar', null, null, null),
			this.createVertexTemplateEntry(s3 + 'iPin;fillColor2=#00dd00;fillColor3=#004400;strokeColor=#006600;', sizeX * 0.05, sizeY * 0.0625, '', 'Pin', null, null, null),
			this.createVertexTemplateEntry(s3 + 'iPin;fillColor2=#dd0000;fillColor3=#440000;strokeColor=#660000;', sizeX * 0.05, sizeY * 0.0625, '', 'Pin', null, null, null),
			this.createVertexTemplateEntry(s3 + 'iPin;fillColor2=#ccccff;fillColor3=#0000ff;strokeColor=#000066;', sizeX * 0.05, sizeY * 0.0625, '', 'Pin', null, null, null),
			this.createVertexTemplateEntry(s3 + 'iPin;fillColor2=#ffff00;fillColor3=#888800;strokeColor=#999900;', sizeX * 0.05, sizeY * 0.0625, '', 'Pin', null, null, null),
			this.createVertexTemplateEntry(s3 + 'iPin;fillColor2=#ffa500;fillColor3=#885000;strokeColor=#997000;', sizeX * 0.05, sizeY * 0.0625, '', 'Pin', null, null, null),
			this.createVertexTemplateEntry(s + 'iVideoControls;barPos=20;', sizeX * 0.87, sizeY * 0.125, '', 'Video controls', null, null, null),

			this.addEntry(null, function()
			{
			   	var bg = new mxCell('Page title', new mxGeometry(0, 0, 175, 30), s4 + 'iURLBar;verticalAlign=top;fontSize=8;spacingTop=-5;align=center;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('https://www.draw.io/', new mxGeometry(5, 12, 115, 13), s4 + 'anchor;fontSize=8;spacingLeft=3;align=left;spacingTop=2;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Cancel', new mxGeometry(137, 12, 32, 13), s4 + 'anchor;fontSize=8;fontColor=#ffffff;spacingTop=2;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'URL bar');
			}),

			this.createVertexTemplateEntry(s + 'iSlider;barPos=20;', sizeX * 0.75, sizeY * 0.025, '', 'Slider', null, null, null),
		 	this.createVertexTemplateEntry(s + 'iProgressBar;barPos=40;', sizeX * 0.75, sizeY * 0.025, '', 'Progress bar', null, null, null),
			this.createVertexTemplateEntry(s + 'iCloudProgressBar;barPos=20;', sizeX * 0.75, sizeY * 0.025, '', 'Cloud progress bar', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iDownloadBar;verticalAlign=top;spacingTop=-4;fontSize=8;fontColor=#ffffff;buttonText=' + ';barPos=30;align=center;', sizeX * 0.87, sizeY * 0.075, 'Downloading 2 of 6', 'Download bar', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iScreenNameBar;fillColor2=#000000;fillColor3=#ffffff;buttonText=;fontColor=#ffffff;fontSize=10;whiteSpace=wrap;align=center;', sizeX * 0.87, sizeY * 0.0625, 'Screen Name', 'Screen name bar', null, null, null),
			this.createVertexTemplateEntry(s + 'iIconGrid;fillColor=#ffffff;strokeColor=#000000;gridSize=3,3;', sizeX * 0.75, sizeY * 0.375, '', 'Icon grid', null, null, null),
			this.createVertexTemplateEntry(s2 + 'iCopy;fillColor=#000000;strokeColor=#000000;buttonText=;fontColor=#ffffff;spacingBottom=6;fontSize=9;fillColor2=#000000;fillColor3=#ffffff;align=center;', sizeX * 0.2, sizeY * 0.06875, 'Copy', 'Copy', null, null, null),
			
			this.addEntry(null, function()
			{
			   	var bg = new mxCell('Copy', new mxGeometry(sizeX * 0.05, 0, sizeX * 0.2, sizeY * 0.06875), s4 + 'iCopy;fillColor=#000000;strokeColor=#000000;buttonText=;fontColor=#ffffff;spacingBottom=6;fontSize=9;fillColor2=#000000;fillColor3=#ffffff;align=center;');
			   	bg.vertex = true;
			   	var area1 = new mxCell('', new mxGeometry(0, sizeY * 0.06875, sizeX * 0.3, sizeY * 0.13125), s4 + 'rect;fillColor=#2266ff;strokeColor=none;opacity=30;');
			   	area1.vertex = true;
			   	
				return sb.createVertexTemplateFromCells([bg, area1], sizeX * 0.3, sizeY * 0.2, 'Copy Area');
			}),
			
			this.createVertexTemplateEntry(s + 'iHomePageControl;fillColor=#666666;strokeColor=#cccccc;', sizeX * 0.25, sizeY * 0.0125, '', 'Home page control', null, null, null),
			this.createVertexTemplateEntry(s + 'iPageControl;fillColor=#666666;strokeColor=#cccccc;', sizeX * 0.25, sizeY * 0.0125, '', 'Page control', null, null, null)
			
		];

		this.addPalette('ios', 'iOS6', false, mxUtils.bind(this, function(content)
				{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	// Adds iOS7 shapes
	Sidebar.prototype.addIos7Palette = function()
	{
		// Avoids having to bind all functions to "this"
		var sb = this;
		
		var sizeX = 200; //reference size for iPhone and all other iOS shapes
		
		var sizeY = 2 * sizeX; //change only sizeX, to avoid changing aspect ratio
		var sc = 0.3; // stencil scaling
		
		//default tags
		var dt = 'ios icon ';
		
		var s = 'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;fillColor=#ffffff;shadow=0;dashed=0;shape=mxgraph.ios7.icons.'
		var gn = 'mxgraph.ios7.icons';
		
		this.addPaletteFunctions('ios7icons', 'iOS Icons', false,
		[
			this.createVertexTemplateEntry(s + 'add;', 100 * sc, 100 * sc, '', 'Add', null, null, this.getTagsForStencil(gn, 'add', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'alarm_clock;', 90 * sc, 100 * sc, '', 'Alarm Clock', null, null, this.getTagsForStencil(gn, 'alarm_clock', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'back;', 100 * sc, 85 * sc, '', 'Back', null, null, this.getTagsForStencil(gn, 'back', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backward;', 100 * sc, 56 * sc, '', 'Backward', null, null, this.getTagsForStencil(gn, 'backward', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bag;', 70 * sc, 70 * sc, '', 'Bag', null, null, this.getTagsForStencil(gn, 'bag', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'basket_cancel;', 100 * sc, 40 * sc, '', 'Basket Cancel', null, null, this.getTagsForStencil(gn, 'basket_cancel', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'basketball;', 100 * sc, 100 * sc, '', 'Basketball', null, null, this.getTagsForStencil(gn, 'basketball', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'battery;', 100 * sc, 40 * sc, '', 'Battery', null, null, this.getTagsForStencil(gn, 'battery', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bell;', 80 * sc, 77 * sc, '', 'Bell', null, null, this.getTagsForStencil(gn, 'bell', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bluetooth;', 50 * sc, 96 * sc, '', 'Bluetooth', null, null, this.getTagsForStencil(gn, 'bluetooth', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'book;', 100 * sc, 85 * sc, '', 'Book', null, null, this.getTagsForStencil(gn, 'book', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bookmark;', 60 * sc, 80 * sc, '', 'Bookmark', null, null, this.getTagsForStencil(gn, 'bookmark', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'box;', 100 * sc, 100 * sc, '', 'Box', null, null, this.getTagsForStencil(gn, 'box', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'briefcase;', 100 * sc, 67 * sc, '', 'Briefcase', null, null, this.getTagsForStencil(gn, 'briefcase', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'calculator;', 80 * sc, 100 * sc, '', 'Calculator', null, null, this.getTagsForStencil(gn, 'calculator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'calendar;', 100 * sc, 100 * sc, '', 'Calendar', null, null, this.getTagsForStencil(gn, 'calendar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'camera;', 100 * sc, 58 * sc, '', 'Camera', null, null, this.getTagsForStencil(gn, 'camera', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'chat;', 100 * sc, 60 * sc, '', 'Chat', null, null, this.getTagsForStencil(gn, 'chat', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'clock;', 100 * sc, 100 * sc, '', 'Clock', null, null, this.getTagsForStencil(gn, 'clock', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;', 100 * sc, 100 * sc, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'compose;', 97 * sc, 97 * sc, '', 'Compose', null, null, this.getTagsForStencil(gn, 'compose', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'controls;', 90 * sc, 80 * sc, '', 'Controls', null, null, this.getTagsForStencil(gn, 'controls', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'credit_card;', 100 * sc, 50 * sc, '', 'Credit Card', null, null, this.getTagsForStencil(gn, 'credit_card', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'crop;', 100 * sc, 100 * sc, '', 'Crop', null, null, this.getTagsForStencil(gn, 'crop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cube;', 100 * sc, 100 * sc, '', 'Cube', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cup;', 100 * sc, 100 * sc, '', 'Cup', null, null, this.getTagsForStencil(gn, 'cup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'data;', 80 * sc, 97 * sc, '', 'Data', null, null, this.getTagsForStencil(gn, 'data', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'delete;', 100 * sc, 100 * sc, '', 'Delete', null, null, this.getTagsForStencil(gn, 'delete', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document;', 70 * sc, 100 * sc, '', 'Document', null, null, this.getTagsForStencil(gn, 'document', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'documents;', 75 * sc, 100 * sc, '', 'Documents', null, null, this.getTagsForStencil(gn, 'documents', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'down;', 70 * sc, 85 * sc, '', 'Down', null, null, this.getTagsForStencil(gn, 'down', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'dunno4;', 100 * sc, 85 * sc, '', 'Dunno4', null, null, this.getTagsForStencil(gn, 'dunno4', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'edit;', 98 * sc, 98 * sc, '', 'Edit', null, null, this.getTagsForStencil(gn, 'edit', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'envelope_(empty);', 100 * sc, 100 * sc, '', 'Envelope (Empty)', null, null, this.getTagsForStencil(gn, 'envelope_(empty)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'envelope_(message);', 100 * sc, 100 * sc, '', 'Envelope (Message)', null, null, this.getTagsForStencil(gn, 'envelope_(message)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'eye;', 100 * sc, 47 * sc, '', 'Eye', null, null, this.getTagsForStencil(gn, 'eye', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flag;', 100 * sc, 100 * sc, '', 'Flag', null, null, this.getTagsForStencil(gn, 'flag', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flash;', 60 * sc, 100 * sc, '', 'Flash', null, null, this.getTagsForStencil(gn, 'flash', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flashlight;', 50 * sc, 100 * sc, '', 'Flashlight', null, null, this.getTagsForStencil(gn, 'flashlight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder;', 100 * sc, 65 * sc, '', 'Folder', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folders;', 100 * sc, 85 * sc, '', 'Folders', null, null, this.getTagsForStencil(gn, 'folders', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folders_2;', 100 * sc, 75 * sc, '', 'Folders', null, null, this.getTagsForStencil(gn, 'folders_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'forward;', 100 * sc, 56 * sc, '', 'Forward', null, null, this.getTagsForStencil(gn, 'forward', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'gauge;', 108 * sc, 105 * sc, '', 'Gauge', null, null, this.getTagsForStencil(gn, 'gauge', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'glasses;', 100 * sc, 40 * sc, '', 'Glasses', null, null, this.getTagsForStencil(gn, 'glasses', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'globe;', 100 * sc, 100 * sc, '', 'Globe', null, null, this.getTagsForStencil(gn, 'globe', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'heart;', 102 * sc, 91 * sc, '', 'Heart', null, null, this.getTagsForStencil(gn, 'heart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'help;', 100 * sc, 100 * sc, '', 'Help', null, null, this.getTagsForStencil(gn, 'help', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'home;', 80 * sc, 85 * sc, '', 'Home', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'info;', 100 * sc, 100 * sc, '', 'Info', null, null, this.getTagsForStencil(gn, 'info', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'keypad;', 100 * sc, 100 * sc, '', 'Keypad', null, null, this.getTagsForStencil(gn, 'keypad', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lightbulb;', 76 * sc, 99 * sc, '', 'Lightbulb', null, null, this.getTagsForStencil(gn, 'lightbulb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'link;', 100 * sc, 100 * sc, '', 'Link', null, null, this.getTagsForStencil(gn, 'link', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'location;', 80 * sc, 100 * sc, '', 'Location', null, null, this.getTagsForStencil(gn, 'location', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'location_2;', 100 * sc, 100 * sc, '', 'Location', null, null, this.getTagsForStencil(gn, 'location_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'locked;', 80 * sc, 100 * sc, '', 'Locked', null, null, this.getTagsForStencil(gn, 'locked', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'looking_glass;', 100 * sc, 100 * sc, '', 'Looking Glass', null, null, this.getTagsForStencil(gn, 'looking_glass', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'loud;', 102 * sc, 108 * sc, '', 'Loud', null, null, this.getTagsForStencil(gn, 'loud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'magnet;', 80 * sc, 100 * sc, '', 'Magnet', null, null, this.getTagsForStencil(gn, 'magnet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mail;', 100 * sc, 55 * sc, '', 'Mail', null, null, this.getTagsForStencil(gn, 'mail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'map;', 100 * sc, 100 * sc, '', 'Map', null, null, this.getTagsForStencil(gn, 'map', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'message;', 100 * sc, 65 * sc, '', 'Message', null, null, this.getTagsForStencil(gn, 'message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'messages;', 100 * sc, 85 * sc, '', 'Messages', null, null, this.getTagsForStencil(gn, 'messages', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'microphone;', 40 * sc, 100 * sc, '', 'Microphone', null, null, this.getTagsForStencil(gn, 'microphone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'monitor;', 100 * sc, 65 * sc, '', 'Monitor', null, null, this.getTagsForStencil(gn, 'monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'moon;', 98 * sc, 98 * sc, '', 'Moon', null, null, this.getTagsForStencil(gn, 'moon', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'most_viewed;', 94 * sc, 76 * sc, '', 'Most Viewed', null, null, this.getTagsForStencil(gn, 'most_viewed', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'move_to_folder;', 100 * sc, 75 * sc, '', 'Move to Folder', null, null, this.getTagsForStencil(gn, 'move_to_folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'note;', 99 * sc, 99 * sc, '', 'Note', null, null, this.getTagsForStencil(gn, 'note', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'options;', 100 * sc, 50 * sc, '', 'Options', null, null, this.getTagsForStencil(gn, 'options', dt).join(' ')),
			this.createVertexTemplateEntry('html=1;verticalLabelPosition=bottom;strokeWidth=2;strokeColor=#0080F0;fillColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.orientation_lock;', 77 * sc, 70 * sc, '', 'Orientation Lock', null, null, this.getTagsForStencil(gn, 'orientation_lock', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'page_navigation;', 100 * sc, 16 * sc, '', 'Page Navigation', null, null, this.getTagsForStencil(gn, 'page_navigation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'paint;', 100 * sc, 85 * sc, '', 'Paint', null, null, this.getTagsForStencil(gn, 'paint', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pause;', 50 * sc, 80 * sc, '', 'Pause', null, null, this.getTagsForStencil(gn, 'pause', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pen;', 98 * sc, 99 * sc, '', 'Pen', null, null, this.getTagsForStencil(gn, 'pen', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pie_chart;', 100 * sc, 100 * sc, '', 'Pie Chart', null, null, this.getTagsForStencil(gn, 'pie_chart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'play;', 70 * sc, 80 * sc, '', 'Play', null, null, this.getTagsForStencil(gn, 'play', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pointer;', 100 * sc, 100 * sc, '', 'Pointer', null, null, this.getTagsForStencil(gn, 'pointer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'preferences;', 100 * sc, 80 * sc, '', 'Preferences', null, null, this.getTagsForStencil(gn, 'preferences', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'printer;', 100 * sc, 85 * sc, '', 'Printer', null, null, this.getTagsForStencil(gn, 'printer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'privacy;', 56 * sc, 95 * sc, '', 'Privacy', null, null, this.getTagsForStencil(gn, 'privacy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'radio;', 100 * sc, 75 * sc, '', 'Radio', null, null, this.getTagsForStencil(gn, 'radio', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'reload;', 80 * sc, 90 * sc, '', 'Reload', null, null, this.getTagsForStencil(gn, 'reload', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'repeat;', 100 * sc, 80 * sc, '', 'Repeat', null, null, this.getTagsForStencil(gn, 'repeat', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'retry;', 92 * sc, 48 * sc, '', 'Retry', null, null, this.getTagsForStencil(gn, 'retry', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'select;', 100 * sc, 100 * sc, '', 'Select', null, null, this.getTagsForStencil(gn, 'select', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'settings;', 100 * sc, 100 * sc, '', 'Settings', null, null, this.getTagsForStencil(gn, 'settings', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'share;', 70 * sc, 95 * sc, '', 'Share', null, null, this.getTagsForStencil(gn, 'share', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'shopping_cart;', 100 * sc, 85 * sc, '', 'Shopping Cart', null, null, this.getTagsForStencil(gn, 'shopping_cart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'shuffle;', 100 * sc, 70 * sc, '', 'Shuffle', null, null, this.getTagsForStencil(gn, 'shuffle', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'silent;', 100 * sc, 100 * sc, '', 'Silent', null, null, this.getTagsForStencil(gn, 'silent', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'smartphone;', 60 * sc, 100 * sc, '', 'Smartphone', null, null, this.getTagsForStencil(gn, 'smartphone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'star;', 100 * sc, 90 * sc, '', 'Star', null, null, this.getTagsForStencil(gn, 'star', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stopwatch;', 90 * sc, 94 * sc, '', 'Stopwatch', null, null, this.getTagsForStencil(gn, 'stopwatch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage;', 100 * sc, 35 * sc, '', 'Storage', null, null, this.getTagsForStencil(gn, 'storage', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sun;', 100 * sc, 100 * sc, '', 'Sun', null, null, this.getTagsForStencil(gn, 'sun', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape;', 100 * sc, 40 * sc, '', 'Tape', null, null, this.getTagsForStencil(gn, 'tape', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tools;', 99 * sc, 99 * sc, '', 'Tools', null, null, this.getTagsForStencil(gn, 'tools', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'trashcan;', 80 * sc, 100 * sc, '', 'Trashcan', null, null, this.getTagsForStencil(gn, 'trashcan', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'trophy;', 95 * sc, 100 * sc, '', 'Trophy', null, null, this.getTagsForStencil(gn, 'trophy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'umbrella;', 100 * sc, 100 * sc, '', 'Umbrella', null, null, this.getTagsForStencil(gn, 'umbrella', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'unlocked;', 80 * sc, 100 * sc, '', 'Unlocked', null, null, this.getTagsForStencil(gn, 'unlocked', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'up;', 70 * sc, 85 * sc, '', 'Up', null, null, this.getTagsForStencil(gn, 'up', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;', 100 * sc, 100 * sc, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_conversation;', 100 * sc, 50 * sc, '', 'Video Conversation', null, null, this.getTagsForStencil(gn, 'video_conversation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'volume;', 100 * sc, 100 * sc, '', 'Volume', null, null, this.getTagsForStencil(gn, 'volume', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'volume_2;', 101 * sc, 94 * sc, '', 'Volume', null, null, this.getTagsForStencil(gn, 'volume_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wallet;', 100 * sc, 80 * sc, '', 'Wallet', null, null, this.getTagsForStencil(gn, 'wallet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wifi;', 99 * sc, 70 * sc, '', 'WiFi', null, null, this.getTagsForStencil(gn, 'wifi', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'window;', 100 * sc, 100 * sc, '', 'Window', null, null, this.getTagsForStencil(gn, 'window', dt).join(' '))
		]);
		
		var s = 'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7ui.';
		var s2 = 'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7ui.';
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;html=1;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios.';		var sm = 'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=2;shape=mxgraph.ios7.misc.';
		var s4 = 'html=1;strokeWidth=2;shadow=0;dashed=0;shape=mxgraph.ios7ui.';
		var skcl9 = 'strokeColor=#999999;';
		var dt = 'ios ui ';
		var gn = 'mxgraph.ios7ui';
		var gnm = 'mxgraph.ios7.misc';
		
		var fns =
		[
		 	this.createVertexTemplateEntry(
		 			'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.iphone;fillColor=#ffffff;strokeColor=#c0c0c0;', 
		 			sizeX, sizeY, '', 'iPhone (Portrait)', null, null, this.getTagsForStencil(gn, 'phone', dt + 'portrait').join(' ')),
		 	this.createVertexTemplateEntry(
		 			'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad7inch;fillColor=#ffffff;strokeColor=#c0c0c0;', 
		 			sizeX * 1.83, sizeY * 1.3725, '', "iPad (7'')", null, null, this.getTagsForStencil(gn, 'tablet tab 7', dt + 'portrait').join(' ')),
		 	this.createVertexTemplateEntry(
		 			'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad10inch;fillColor=#ffffff;strokeColor=#c0c0c0;', 
		 			sizeX * 2.44, sizeY * 1.7325, '', "iPad (10'')", null, null, this.getTagsForStencil(gn, 'tablet tab 10', dt + 'portrait').join(' ')),
		 	this.createVertexTemplateEntry(
		 			'html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad13inch;fillColor=#ffffff;strokeColor=#c0c0c0;', 
		 			sizeX * 2.86, sizeY * 2.0325, '', "iPad (13'')", null, null, this.getTagsForStencil(gn, 'tablet tab 10', dt + 'portrait').join(' ')),
			this.addEntry(dt + 'app bar portrait', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 175, 15), s2 + 'appBar;fillColor=#ffffff;gradientColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CARRIER', new mxGeometry(0, 0.5, 50, 13), 'shape=rect;align=left;fontSize=8;spacingLeft=24;fontSize=4;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(0, -6.5);
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('11:55PM', new mxGeometry(0.5, 0.5, 50, 13), 'shape=rect;fontSize=8;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(-30, -6.5);
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('98%', new mxGeometry(1, 0.5, 45, 13), 'shape=rect;align=right;fontSize=8;spacingRight=19;fontSize=6;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
			   	text3.geometry.relative = true;
			   	text3.geometry.offset = new mxPoint(-45, -6.5);
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'App Bar (Portrait)');
			}),
			this.addEntry(dt + 'app bar landscape', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 280, 15), s2 + 'appBar;fillColor=#ffffff;gradientColor=none;');
				bg.vertex = true;
				var text1 = new mxCell('CARRIER', new mxGeometry(0, 0.5, 50, 13), 'shape=rect;align=left;fontSize=8;spacingLeft=24;fontSize=4;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -6.5);
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('11:55PM', new mxGeometry(0.5, 0.5, 50, 13), 'shape=rect;fontSize=8;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(-25, -6.5);
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('98%', new mxGeometry(1, 0.5, 45, 13), 'shape=rect;align=right;fontSize=8;spacingRight=19;fontSize=6;fontColor=#aaaaaa;strokeColor=none;fillColor=none;spacingTop=4;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(-45, -6.5);
				text3.vertex = true;
				bg.insert(text3);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'App Bar (landscape)');
			}),
			
			this.createVertexTemplateEntry(
					s + 'slider;barPos=20;strokeColor=#0080f0;fillColor=#ffffff;strokeColor2=#a0a0a0;', 
					sizeX * 0.75, sizeY * 0.0375, '', 'Slider', null, null, this.getTagsForStencil(gn, dt + 'slider', null).join(' ')),
			this.createVertexTemplateEntry(
					s2 + 'downloadBar;verticalAlign=middle;fontSize=8;fontColor=#000000;buttonText=;barPos=30;fillColor=#aaaaaa;strokeColor=#0080f0;align=center;', 
					sizeX * 0.75, sizeY * 0.075, 'Downloading 2 of 6\n\n', 'Download bar', null, null, this.getTagsForStencil(gn, 'downloadBar', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'adjust;fillColor=#ffffff;gradientColor=none;', 
					sizeX * 0.4, sizeY * 0.05, '', 'Adjust', null, null, this.getTagsForStencil(gn, 'adjust', dt + '').join(' ')),
					
			this.addEntry(dt + 'horizontal button bar', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 12.5), s2 + 'rrect;rSize=3;strokeColor=#0080F0;fillColor=#ffffff;gradientColor=none;');
				bg.vertex = true;
				var button1 = new mxCell('Item 1', new mxGeometry(0, 0, 41, 12.5), s2 + 'leftButton;rSize=3;strokeColor=#0080F0;fontSize=8;fillColor=none;');
				button1.vertex = true;
				bg.insert(button1);
				var button2 = new mxCell('Item 2', new mxGeometry(41, 0, 41, 12.5), s2 + 'rrect;rSize=0;strokeColor=#0080F0;fillColor=#0080F0;fontColor=#ffffff;fontSize=8;');
				button2.vertex = true;
				bg.insert(button2);
				var button3 = new mxCell('Item 3', new mxGeometry(82, 0, 41, 12.5), s2 + 'rrect;rSize=0;strokeColor=#0080F0;fontSize=8;fillColor=none;');
				button3.vertex = true;
				bg.insert(button3);
				var button4 = new mxCell('Item 4', new mxGeometry(123, 0, 41, 12.5), s2 + 'rightButton;rSize=3;strokeColor=#0080F0;fontSize=8;fillColor=none;');
				button4.vertex = true;
				bg.insert(button4);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Horizontal button bar');
			}),

			this.addEntry(dt + 'select bar', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, sizeX * 0.825, sizeY * 0.0675), s4 + 'selectBar;dx=120;dy=5;dx2=75;size=5;strokeColor=#ffffff;fillColor=#222222;gradientColor=none;');
				bg.vertex = true;
				var text1 = new mxCell('Select', new mxGeometry(0, 0, sizeX * 0.375, sizeY * 0.0675), 'shape=rect;fillColor=none;strokeColor=none;fontColor=#ffffff;fontSize=12;fontFamily=Helvetica;perimeter=none;resizeHeight=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Select All', new mxGeometry(0, 0, sizeX * 0.375, sizeY * 0.0675), 'shape=rect;fillColor=none;strokeColor=none;fontColor=#ffffff;fontSize=12;fontFamily=Helvetica;perimeter=none;resizeHeight=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(sizeX * 0.375, 0);
				text2.vertex = true;
				bg.insert(text2);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Select Bar');
			}),
					
					
			this.addEntry(dt + 'select bar', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, sizeX * 0.825, sizeY * 0.0675), s4 + 'selectBar;dx=120;dy=5;dx2=50;size=5;strokeColor=#ffffff;fillColor=#222222;gradientColor=none;');
				bg.vertex = true;
				var text1 = new mxCell('Select', new mxGeometry(0, 0, sizeX * 0.25, sizeY * 0.0675), 'shape=rect;fillColor=none;strokeColor=none;fontColor=#ffffff;fontSize=10;fontFamily=Helvetica;perimeter=none;resizeHeight=1;');
				text1.geometry.relative = true;
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Select All', new mxGeometry(0, 0, sizeX * 0.25, sizeY * 0.0675), 'shape=rect;fillColor=none;strokeColor=none;fontColor=#ffffff;fontSize=10;fontFamily=Helvetica;perimeter=none;resizeHeight=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(sizeX * 0.25, 0);
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('Paste', new mxGeometry(0, 0, sizeX * 0.25, sizeY * 0.0675), 'shape=rect;fillColor=none;strokeColor=none;fontColor=#ffffff;fontSize=10;fontFamily=Helvetica;perimeter=none;resizeHeight=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(sizeX * 0.5, 0);
				text3.vertex = true;
				bg.insert(text3);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Select Bar');
			}),
					
			this.addEntry(dt + 'labels', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 20), 'shape=rect;fillColor=#F6F6F8;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Label', new mxGeometry(55, 0, 54, 20), 'text;fontColor=#000000;fontSize=10;verticalAlign=middle;align=center;spacingTop=2;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('Label', new mxGeometry(109, 0, 55, 20), 'text;fontColor=#0080f0;fontSize=10;verticalAlign=middle;align=right;spacingTop=2;spacingRight=4;');
			   	text2.vertex = true;
			   	bg.insert(text2);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Labels');
			}),

			this.addEntry(dt + 'search box', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 20), 'shape=rect;fillColor=#e0e0e0;strokeColor=none;');
			   	bg.vertex = true;
			   	var part1 = new mxCell('', new mxGeometry(0, 0, 164, 20), s2 + 'marginRect;rx=3;ry=3;rectMargin=5;fillColor=#ffffff;strokeColor=none;');
			   	part1.vertex = true;
			   	bg.insert(part1);
			   	var icon1 = new mxCell('Search', new mxGeometry(0.5, 0.5, 6, 6), 'shape=mxgraph.ios7.icons.looking_glass;strokeColor=#e0e0e0;fillColor=none;fontColor=#e0e0e0;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=6;fontStyle=0;spacingTop=2;');
			   	icon1.geometry.relative = true;
			   	icon1.geometry.offset = new mxPoint(-17, -3);
			   	icon1.vertex = true;
			   	bg.insert(icon1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Search Box');
			}),

			this.addEntry(dt + 'search box', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 20), 'shape=rect;fillColor=#F6F6F6;strokeColor=none;');
			   	bg.vertex = true;
			   	var part1 = new mxCell('', new mxGeometry(0, 0, 164, 20), s2 + 'marginRect;rx=3;ry=3;rectMargin=5;fillColor=#E4E4E4;strokeColor=none;');
			   	part1.vertex = true;
			   	bg.insert(part1);
			   	var icon1 = new mxCell('Search', new mxGeometry(0.5, 0.5, 6, 6), 'shape=mxgraph.ios7.icons.looking_glass;strokeColor=#878789;fillColor=none;fontColor=#878789;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontSize=6;fontStyle=0;spacingTop=2;');
			   	icon1.geometry.relative = true;
			   	icon1.geometry.offset = new mxPoint(-17, -3);
			   	icon1.vertex = true;
			   	bg.insert(icon1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Search Box');
			}),

			this.addEntry(dt + 'status', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 25), 'shape=rect;fillColor=#F6F6F6;strokeColor=none;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Updated Just Now', new mxGeometry(0, 0, 164, 20), 'text;fontColor=#000000;fontSize=5;verticalAlign=top;align=center;spacingTop=-2;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('2 Unread', new mxGeometry(0, 5, 164, 20), 'text;fontColor=#bbbbbb;fontSize=5;verticalAlign=middle;align=center;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var icon1 = new mxCell('', new mxGeometry(1, 0.5, 15, 15), 'shape=mxgraph.ios7.icons.compose;strokeColor=#0080f0;fillColor=none;');
				icon1.geometry.offset = new mxPoint(-20, -7.5);
			   	icon1.geometry.relative = true;
			   	icon1.vertex = true;
			   	bg.insert(icon1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Status');
			}),

			this.addEntry(dt + 'message', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 20), 'shape=rect;fillColor=#F7F7F7;strokeColor=none;');
			   	bg.vertex = true;
			   	var part1 = new mxCell('iMessage', new mxGeometry(0, 0, 164, 20), s2 + 'marginRect;rx=3;ry=3;rectMarginLeft=25;rectMarginRight=25;rectMarginTop=3;rectMarginBottom=3;fillColor=#FBFBFB;strokeColor=#B3B3B3;fontColor=#B3B3B3;align=left;spacingLeft=29;fontSize=8;');
			   	part1.vertex = true;
			   	bg.insert(part1);
			   	var icon1 = new mxCell('', new mxGeometry(0, 0.5, 15, 9), 'strokeWidth=1;strokeColor=#F7F7F7;fillColor=#666666;shape=mxgraph.ios7.icons.camera;');
			   	icon1.geometry.offset = new mxPoint(5, -4.5);
			   	icon1.geometry.relative = true;
			   	icon1.vertex = true;
			   	bg.insert(icon1);
			   	var icon2 = new mxCell('', new mxGeometry(1, 0.5, 14, 14), 'strokeColor=none;fillColor=#666666;shape=ellipse;');
			   	icon2.geometry.offset = new mxPoint(-19, -7);
			   	icon2.geometry.relative = true;
			   	icon2.vertex = true;
			   	bg.insert(icon2);
			   	var icon3 = new mxCell('', new mxGeometry(0.5, 0.5, 4, 10), 'strokeColor=#F7F7F7;fillColor=none;shape=mxgraph.ios7.icons.microphone;strokeWidth=1;');
			   	icon3.geometry.offset = new mxPoint(-2, -5);
			   	icon3.geometry.relative = true;
			   	icon3.vertex = true;
			   	icon2.insert(icon3);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Message');
			}),

			this.addEntry(dt + 'action sheet', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 115), 'shape=rect;rSize=3;strokeColor=none;fillColor=#D2D3D5;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var button1 = new mxCell('Label', new mxGeometry(0, 0, 154, 20), s2 + 'topButton;rSize=3;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button1.geometry.relative = true;
				button1.geometry.offset = new mxPoint(5, 5);
				button1.vertex = true;
				bg.insert(button1);
				var button2 = new mxCell('Label', new mxGeometry(0, 0, 154, 20), 'shape=rect;html=1;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button2.geometry.relative = true;
				button2.geometry.offset = new mxPoint(5, 25);
				button2.vertex = true;
				bg.insert(button2);
				var button3 = new mxCell('Label', new mxGeometry(0, 0, 154, 20), 'shape=rect;html=1;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button3.geometry.relative = true;
				button3.geometry.offset = new mxPoint(5, 45);
				button3.vertex = true;
				bg.insert(button3);
				var button4 = new mxCell('Label', new mxGeometry(0, 0, 154, 20), s2 + 'bottomButton;rSize=3;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button4.geometry.relative = true;
				button4.geometry.offset = new mxPoint(5, 65);
				button4.vertex = true;
				bg.insert(button4);
				var button5 = new mxCell('Cancel', new mxGeometry(0, 1, 164, 30), s2 + 'marginRect;rx=5;ry=5;rectMargin=5;strokeColor=#D2D3D5;fontSize=8;fillColor=#ffffff;fontColor=#0080F0;resizeWidth=1;');
				button5.geometry.relative = true;//zzz
				button5.geometry.offset = new mxPoint(0, -30);
				button5.vertex = true;
				bg.insert(button5);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Action Sheet');
			}),

			this.addEntry(dt + 'action sheet', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 115), 'shape=rect;rSize=3;strokeColor=none;fillColor=#D2D3D5;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var button1 = new mxCell('', new mxGeometry(0, 0, 154, 40), s2 + 'topButton;rSize=3;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button1.geometry.relative = true;
				button1.geometry.offset = new mxPoint(5, 5);
				button1.vertex = true;
				bg.insert(button1);
				var button2 = new mxCell('', new mxGeometry(0, 0, 154, 40), s2 + 'bottomButton;rSize=3;strokeColor=#D2D3D5;fontSize=8;fillColor=#F1F1F1;fontColor=#0080F0;resizeWidth=1;');
				button2.geometry.relative = true;
				button2.geometry.offset = new mxPoint(5, 45);
				button2.vertex = true;
				bg.insert(button2);
				var button3 = new mxCell('Cancel', new mxGeometry(0, 1, 164, 30), 'shape=mxgraph.ios7ui.marginRect;rx=3;ry=3;rectMargin=5;strokeColor=#D2D3D5;fontSize=8;fillColor=#ffffff;fontColor=#0080F0;resizeWidth=1;');
				button3.geometry.relative = true;
				button3.geometry.offset = new mxPoint(0, -30);
				button3.vertex = true;
				bg.insert(button3);
				var icon1 = new mxCell('Message', new mxGeometry(0, 0.5, 22, 22), 'shape=rect;rounded=1;strokeColor=none;fontSize=5;fillColor=#68F783;fontColor=#000000;gradientColor=#05B61E;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingTop=-4;');
				icon1.geometry.relative = true;
				icon1.geometry.offset = new mxPoint(5, -15);
				icon1.vertex = true;
				button1.insert(icon1);
				var icon2 = new mxCell('', new mxGeometry(2, 3, 18, 16), 'shape=mxgraph.basic.oval_callout;strokeColor=none;fillColor=#ffffff;');
				icon2.vertex = true;
				icon1.insert(icon2);
				var icon3 = new mxCell('Mail', new mxGeometry(0, 0.5, 22, 22), 'shape=rect;rounded=1;strokeColor=none;fontSize=5;fillColor=#1960EC;fontColor=#000000;gradientColor=#1FDCFF;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingTop=-4;');
				icon3.geometry.relative = true;
				icon3.geometry.offset = new mxPoint(37, -15);
				icon3.vertex = true;
				button1.insert(icon3);
				var icon4 = new mxCell('', new mxGeometry(3, 6, 16, 10), 'shape=mxgraph.ios7.icons.mail;strokeColor=#2299F3;fillColor=#ffffff;');
				icon4.vertex = true;
				icon3.insert(icon4);
				var icon5 = new mxCell('Open in App', new mxGeometry(0, 0.5, 22, 22), 'shape=rect;rounded=1;strokeColor=none;fontSize=5;fillColor=#ffffff;fontColor=#000000;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingTop=-7;whiteSpace=wrap;');
				icon5.geometry.relative = true;
				icon5.geometry.offset = new mxPoint(5, -15);
				icon5.vertex = true;
				button2.insert(icon5);
				var icon6 = new mxCell('Open Link', new mxGeometry(0, 0.5, 22, 22), 'shape=rect;rounded=1;strokeColor=none;fontSize=5;fillColor=#ffffff;fontColor=#000000;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;spacingTop=-7;whiteSpace=wrap;');
				icon6.geometry.relative = true;
				icon6.geometry.offset = new mxPoint(37, -15);
				icon6.vertex = true;
				button2.insert(icon6);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Action Sheet');
			}),

			this.addEntry(dt + 'cell list', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 120), 'shape=rect;strokeColor=none;fillColor=#ffffff;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var part1 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var button1 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#FF9501;');
				button1.geometry.relative = true;
				button1.geometry.offset = new mxPoint(5, -7.5);
				button1.vertex = true;
				part1.insert(button1);
				var button2 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button2.geometry.relative = true;
				button2.geometry.offset = new mxPoint(-15, -5);
				button2.vertex = true;
				part1.insert(button2);
				
				var part2 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part2.geometry.offset = new mxPoint(0, 20);
				part2.geometry.relative = true;
				part2.vertex = true;
				bg.insert(part2);
				var button3 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#FF3B2F;');
				button3.geometry.relative = true;
				button3.geometry.offset = new mxPoint(5, -7.5);
				button3.vertex = true;
				part2.insert(button3);
				var button4 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button4.geometry.relative = true;
				button4.geometry.offset = new mxPoint(-15, -5);
				button4.vertex = true;
				part2.insert(button4);

				var part3 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part3.geometry.offset = new mxPoint(0, 40);
				part3.geometry.relative = true;
				part3.vertex = true;
				bg.insert(part3);
				var button5 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#4CDA64;');
				button5.geometry.relative = true;
				button5.geometry.offset = new mxPoint(5, -7.5);
				button5.vertex = true;
				part3.insert(button5);
				var button6 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button6.geometry.relative = true;
				button6.geometry.offset = new mxPoint(-15, -5);
				button6.vertex = true;
				part3.insert(button6);

				var part4 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part4.geometry.offset = new mxPoint(0, 60);
				part4.geometry.relative = true;
				part4.vertex = true;
				bg.insert(part4);
				var button7 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#007AFF;');
				button7.geometry.relative = true;
				button7.geometry.offset = new mxPoint(5, -7.5);
				button7.vertex = true;
				part4.insert(button7);
				var button8 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button8.geometry.relative = true;
				button8.geometry.offset = new mxPoint(-15, -5);
				button8.vertex = true;
				part4.insert(button8);

				var part5 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part5.geometry.offset = new mxPoint(0, 80);
				part5.geometry.relative = true;
				part5.vertex = true;
				bg.insert(part5);
				var button9 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#5855D6;');
				button9.geometry.relative = true;
				button9.geometry.offset = new mxPoint(5, -7.5);
				button9.vertex = true;
				part5.insert(button9);
				var button10 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button10.geometry.relative = true;
				button10.geometry.offset = new mxPoint(-15, -5);
				button10.vertex = true;
				part5.insert(button10);

				var part6 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingLeft=25;spacingTop=2;');
				part6.geometry.offset = new mxPoint(0, 100);
				part6.geometry.relative = true;
				part6.vertex = true;
				bg.insert(part6);
				var button11 = new mxCell('', new mxGeometry(0, 0.5, 15, 15), 'shape=rect;rounded=1;rSize=3;strokeColor=none;fillColor=#8F8E94;');
				button11.geometry.relative = true;
				button11.geometry.offset = new mxPoint(5, -7.5);
				button11.vertex = true;
				part6.insert(button11);
				var button12 = new mxCell('', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;');
				button12.geometry.relative = true;
				button12.geometry.offset = new mxPoint(-15, -5);
				button12.vertex = true;
				part6.insert(button12);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Cell List');
			}),

			this.addEntry(dt + 'cell list', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 60), 'shape=rect;strokeColor=none;fillColor=#ffffff;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var part1 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingTop=2;spacingLeft=5;');
				part1.geometry.relative = true;
				part1.vertex = true;
				bg.insert(part1);
				var button2 = new mxCell('Label', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=10;spacingRight=4;fontColor=#999999;');
				button2.geometry.relative = true;
				button2.geometry.offset = new mxPoint(-15, -5);
				button2.vertex = true;
				part1.insert(button2);
				
				var part2 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingTop=2;spacingLeft=5;');
				part2.geometry.offset = new mxPoint(0, 20);
				part2.geometry.relative = true;
				part2.vertex = true;
				bg.insert(part2);
				var button4 = new mxCell('Label', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=10;spacingRight=4;fontColor=#999999;');
				button4.geometry.relative = true;
				button4.geometry.offset = new mxPoint(-15, -5);
				button4.vertex = true;
				part2.insert(button4);

				var part3 = new mxCell('Label', new mxGeometry(0, 0, 164, 20), 'shape=rect;strokeColor=none;fontSize=10;fontColor=#000000;resizeWidth=1;align=left;spacingTop=2;spacingLeft=5;');
				part3.geometry.offset = new mxPoint(0, 40);
				part3.geometry.relative = true;
				part3.vertex = true;
				bg.insert(part3);
				var button6 = new mxCell('Label', new mxGeometry(1, 0.5, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=10;spacingRight=4;fontColor=#999999;');
				button6.geometry.relative = true;
				button6.geometry.offset = new mxPoint(-15, -5);
				button6.vertex = true;
				part3.insert(button6);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Cell List');
			}),

			this.addEntry(dt + 'message', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 35), 'shape=rect;strokeColor=none;fillColor=#ffffff;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var part1 = new mxCell('Peter Gilles', new mxGeometry(0, 0, 10, 10), 'shape=ellipse;strokeColor=none;fillColor=#007FF8;fontSize=8;fontColor=#000000;align=left;spacingTop=1;spacingLeft=2;labelPosition=right;verticalLabelPosition=middle;verticalAlign=middle;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(5, 5);
				part1.vertex = true;
				bg.insert(part1);
				var button1 = new mxCell('22:45', new mxGeometry(1, 0, 5, 10), 'shape=mxgraph.ios7.misc.right;strokeColor=#666666;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontSize=8;spacingRight=4;fontColor=#999999;');
				button1.geometry.relative = true;
				button1.geometry.offset = new mxPoint(-15, 5);
				button1.vertex = true;
				bg.insert(button1);
				var text1 = new mxCell('I just got a new friend', new mxGeometry(0, 0, 164, 10), 'shape=text;strokeColor=none;align=left;verticalAlign=middle;fontSize=7;spacingLeft=17;fontColor=#000000;spacingTop=2;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 15);
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('You know I wanted a dog. Yesterday I got a puppy ...', new mxGeometry(0, 0, 164, 10), 'shape=text;strokeColor=none;align=left;verticalAlign=middle;fontSize=6;spacingLeft=17;fontColor=#808080;spacingTop=2;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 25);
				text2.vertex = true;
				bg.insert(text2);
				
				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Message');
			}),

			this.addEntry(dt + 'message', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 164, 100), 'shape=rect;strokeColor=none;fillColor=#ffffff;gradientColor=none;shadow=0;');
				bg.vertex = true;
				var text1 = new mxCell('Saturday 10:12 AM', 
						new mxGeometry(0, 0, 164, 10), 'shape=text;align=center;verticalAlign=middle;fontSize=5;fontColor=#999999;strokeColor=none;fillColor=none;spacingTop=3;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 0);
				text1.vertex = true;
				bg.insert(text1);
				var part1 = new mxCell('Hey man, got a sec?', 
						new mxGeometry(0, 0, 90, 20), s2 + 'callout;strokeColor=none;fillColor=#E7E6EC;align=left;verticalAlign=middle;fontSize=7;spacingLeft=17;fontColor=#000000;spacingTop=2;whiteSpace=wrap;resizeWidth=1;');
				part1.geometry.relative = true;
				part1.geometry.offset = new mxPoint(5, 15);
				part1.vertex = true;
				bg.insert(part1);
				var part2 = new mxCell('Hi Tim, of course, just give me a couple minutes to finish breakfast.', 
						new mxGeometry(0.35, 0, 100, 35), s2 + 'callout;strokeColor=none;fillColor=#0680FF;flipH=1;align=left;verticalAlign=top;fontSize=7;spacingLeft=2;fontColor=#ffffff;spacingTop=-2;whiteSpace=wrap;spacingRight=12;resizeWidth=1;');
				part2.geometry.relative = true;
				part2.geometry.offset = new mxPoint(0, 40);
				part2.vertex = true;
				bg.insert(part2);
				var text2 = new mxCell('Read Friday', new mxGeometry(0, 0, 164, 10), 'shape=text;align=right;verticalAlign=middle;fontSize=5;fontColor=#999999;strokeColor=none;fillColor=none;spacingTop=3;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, 80);
				text2.vertex = true;
				bg.insert(text2);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Message');
			}),

			this.addEntry(dt + 'alert', function()
			{
				var bg = new mxCell("A dialog text that notifies you of something of which you don't need to make a decision, just to acknowledge it by pressing the close button.", 
						new mxGeometry(0, 0, 120, 70), 'shape=rect;rounded=1;strokeColor=none;fillColor=#F6F6F8;gradientColor=none;shadow=0;glass=0;dashed=1;fontFamily=Helvetica;fontSize=7;fontColor=#333333;align=center;html=0;verticalAlign=top;whiteSpace=wrap;spacing=8;spacingTop=0;');
				bg.vertex = true;
				var text1 = new mxCell('Close', new mxGeometry(0, 1, 120, 20), 'shape=text;align=center;verticalAlign=middle;fontSize=8;fontColor=#0680FF;strokeColor=none;fillColor=none;spacingTop=3;resizeWidth=1;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, -20);
				text1.vertex = true;
				bg.insert(text1);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Alert');
			}),

			this.addEntry(dt + 'dialog', function()
			{
				var bg = new mxCell("A dialog title", 
						new mxGeometry(0, 0, 120, 70), 'shape=rect;rounded=1;strokeColor=none;fillColor=#F6F6F8;gradientColor=none;shadow=0;glass=0;dashed=1;fontFamily=Helvetica;fontSize=8;fontColor=#333333;align=center;html=0;verticalAlign=top;whiteSpace=wrap;spacing=8;spacingTop=0;');
				bg.vertex = true;
				var text1 = new mxCell("A dialog text that notifies you of something and you need to decide which action to take.",
						new mxGeometry(0, 0, 120, 30), 'shape=text;align=center;verticalAlign=middle;fontSize=7;fontColor=#333333;strokeColor=none;fillColor=none;spacingTop=-8;resizeWidth=1;whiteSpace=wrap;');
				text1.geometry.relative = true;
				text1.geometry.offset = new mxPoint(0, 20);
				text1.vertex = true;
				bg.insert(text1);
				var text2 = new mxCell('Action 1', new mxGeometry(0, 1, 60, 20), 'shape=text;align=center;verticalAlign=middle;fontSize=8;fontColor=#0680FF;strokeColor=none;fillColor=none;spacingTop=3;resizeWidth=1;');
				text2.geometry.relative = true;
				text2.geometry.offset = new mxPoint(0, -20);
				text2.vertex = true;
				bg.insert(text2);
				var text3 = new mxCell('Action 2', new mxGeometry(0.5, 1, 60, 20), 'shape=text;align=center;verticalAlign=middle;fontSize=8;fontColor=#0680FF;strokeColor=none;fillColor=none;spacingTop=3;resizeWidth=1;');
				text3.geometry.relative = true;
				text3.geometry.offset = new mxPoint(0, -20);
				text3.vertex = true;
				bg.insert(text3);

				return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dialog');
			}),

			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.bluetooth;fillColor=#007AFF;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Bluetooth', null, null, this.getTagsForStencil(gn, 'bluetooth', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.broadcast;fillColor=#4CDA64;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Broadcast', null, null, this.getTagsForStencil(gn, 'broadcast', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.link;fillColor=#4CDA64;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Link', null, null, this.getTagsForStencil(gn, 'link', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.night;fillColor=#5855D6;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Night', null, null, this.getTagsForStencil(gn, 'night', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.notification;fillColor=#FF3B2F;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Notification', null, null, this.getTagsForStencil(gn, 'notification', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.settings;fillColor=#8F8E94;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Settings', null, null, this.getTagsForStencil(gn, 'settings', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.switch;fillColor=#8F8E94;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Switch', null, null, this.getTagsForStencil(gn, 'switch', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.text_size;fillColor=#007AFF;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Text Size', null, null, this.getTagsForStencil(gn, 'text size', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.travel;fillColor=#FF9501;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'Travel', null, null, this.getTagsForStencil(gn, 'travel', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.vpn;fillColor=#007AFF;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'VPN', null, null, this.getTagsForStencil(gn, 'vpn virtual private network', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			'html=1;strokeWidth=1;shadow=0;dashed=0;shape=mxgraph.ios7.misc.wifi;fillColor=#007AFF;strokeColor=none;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;verticalLabelPosition=bottom;verticalAlign=top;align=center;',
					15, 15, '', 'WiFi', null, null, this.getTagsForStencil(gn, 'wifi', dt + '').join(' ')),
			this.createVertexTemplateEntry(
		   			s2 + 'url;fillColor=#e0e0e0;strokeColor=#c0c0c0;buttonText=;strokeColor2=#222222;fontColor=#222222;fontSize=8;spacingTop=2;align=center;',
					sizeX * 0.825, sizeY * 0.03125, 'draw.io', 'URL', null, null, this.getTagsForStencil(gn, 'url', dt + 'url').join(' ')),
			this.createVertexTemplateEntry(
					s + 'iconGrid;fillColor=#c0c0c0;gridSize=3,3;', 
					sizeX * 0.875, sizeY * 0.7, '', 'Icon grid', null, null, this.getTagsForStencil(gn, 'iconGrid', dt + 'icon grid').join(' ')),
					
			this.addEntry(dt + 'action dialog', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 164, 60), 'shape=rect;fillColor=#a0a0a0;strokeColor=none;shadow=0;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Action', new mxGeometry(8, 6, 148, 21), s2 + 'rrect;rSize=3;fontColor=#0080F0;fontSize=7;fontSize=14;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Cancel', new mxGeometry(8, 33, 148, 21), s2 + 'rrect;rSize=3;fontColor=#0080F0;fontSize=7;fontSize=14;fillColor=#e0e0e0;strokeColor=none;fontStyle=1;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Action Dialog');
			}),

			this.createVertexTemplateEntry(s3 + 'iKeybLett;', 
					sizeX * 0.87, sizeY * 0.25, '', 'iPhone Keyboard (letters)', null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybNumb;', 
					sizeX * 0.87, sizeY * 0.25, '', 'iPhone Keyboard (numbers)', null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybSymb;', 
					sizeX * 0.87, sizeY * 0.25, '', 'iPhone Keyboard (symbols)', null, null, this.getTagsForStencil(gnm, 'keyboard symbols', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybLett;', 
					sizeX * 1.66, sizeY * 0.36, '', "iPad 7''Keyboard (letters)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybNumb;', 
					sizeX * 1.66, sizeY * 0.36, '', "iPad 7'' Keyboard (numbers)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybSymb;', 
					sizeX * 1.66, sizeY * 0.36, '', "iPad 7'' Keyboard (symbols)", null, null, this.getTagsForStencil(gnm, 'keyboard symbols', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybLett;', 
					sizeX * 2.21, sizeY * 0.48, '', "iPad 10''Keyboard (letters)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybNumb;', 
					sizeX * 2.21, sizeY * 0.48, '', "iPad 10'' Keyboard (numbers)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybSymb;', 
					sizeX * 2.21, sizeY * 0.48, '', "iPad 10'' Keyboard (symbols)", null, null, this.getTagsForStencil(gnm, 'keyboard symbols', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybLett;', 
					sizeX * 2.53, sizeY * 0.55, '', "iPad 13''Keyboard (letters)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybNumb;', 
					sizeX * 2.53, sizeY * 0.55, '', "iPad 13'' Keyboard (numbers)", null, null, this.getTagsForStencil(gnm, 'keyboard letters', dt + '').join(' ')),
			this.createVertexTemplateEntry(s3 + 'iKeybSymb;', 
					sizeX * 2.53, sizeY * 0.55, '', "iPad 13'' Keyboard (symbols)", null, null, this.getTagsForStencil(gnm, 'keyboard symbols', dt + '').join(' ')),
		   	this.createVertexTemplateEntry(sm + 'call_pad;', 
		   			sizeX * 0.7, sizeY * 0.4, '', 'Call Pad', null, null, this.getTagsForStencil(gnm, 'call_pad', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'number_pad;strokeWidth=1;', 
					sizeX * 0.7, sizeY * 0.4, '', 'Number Pad', null, null, this.getTagsForStencil(gnm, 'number_pad', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'keyboard_(letters);', 
					sizeX * 0.875, sizeY * 0.3, '', 'Keyboard', null, null, this.getTagsForStencil(gnm, 'keyboard_(letters)', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'scroll_(horizontal);fillColor=#a0a0a0;', 
					sizeX * 0.4, sizeY * 0.015, '', 'Scroll (Horizontal)', null, null, this.getTagsForStencil(gnm, 'scroll_(horizontal)', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'scroll_(vertical);fillColor=#a0a0a0;', 
					sizeX * 0.03, sizeY * 0.2, '', 'Scroll (Vertical)', null, null, this.getTagsForStencil(gnm, 'scroll_(vertical)', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'add;fillColor=#00dd00;strokeColor=#ffffff;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Add', null, null, this.getTagsForStencil(gnm, 'add', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'delete;fillColor=#ff0000;strokeColor=#ffffff;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Delete', null, null, this.getTagsForStencil(gnm, 'delete', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'select;fillColor=#0080f0;strokeColor=#ffffff;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Select', null, null, this.getTagsForStencil(gnm, 'select', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'remove;fillColor=#0080f0;strokeColor=#ffffff;', 
					sizeX * 0.08, sizeY * 0.03, '', 'Remove', null, null, this.getTagsForStencil(gnm, 'remove', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'check;strokeColor=#0080f0;', 
					sizeX * 0.05, sizeY * 0.02, '', 'Check', null, null, this.getTagsForStencil(gnm, 'check', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'flagged;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Flagged', null, null, this.getTagsForStencil(gnm, 'flagged', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'up;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.015, '', 'Up', null, null, this.getTagsForStencil(gnm, 'up', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'down;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.015, '', 'Down', null, null, this.getTagsForStencil(gnm, 'down', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'left;strokeColor=#0080f0;', 
					sizeX * 0.03, sizeY * 0.03, '', 'Left', null, null, this.getTagsForStencil(gnm, 'left', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'right;strokeColor=#0080f0;', 
					sizeX * 0.03, sizeY * 0.03, '', 'Right', null, null, this.getTagsForStencil(gnm, 'right', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'increase;fillColor=#ffffff;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Increase', null, null, this.getTagsForStencil(gnm, 'increase', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'info;fillColor=#ffffff;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Info', null, null, this.getTagsForStencil(gnm, 'info', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'more_2;strokeColor=#a0a0a0;', 
					sizeX * 0.03, sizeY * 0.02, '', 'More 2', null, null, this.getTagsForStencil(gnm, 'more_2', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'more;strokeColor=#a0a0a0;', 
					sizeX * 0.025, sizeY * 0.02, '', 'More', null, null, this.getTagsForStencil(gnm, 'more', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'options;fillColor=#222222;', 
					sizeX * 0.06, sizeY * 0.015, '', 'Options', null, null, this.getTagsForStencil(gnm, 'options', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'pause;fillColor=#ffffff;strokeColor=#0080f0;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Pause', null, null, this.getTagsForStencil(gnm, 'pause', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'star;fillColor=#0080f0;strokeColor=none;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Star', null, null, this.getTagsForStencil(gnm, 'star', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'contacts_bar;strokeColor=#0080F0;fillColor=#e0e0e0', 
					sizeX * 0.875, sizeY * 0.07, '', 'Contacts Bar', null, null, this.getTagsForStencil(gnm, 'contacts_bar', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'edit_bar;strokeColor=#0080F0;fillColor=#e0e0e0', 
					sizeX * 0.875, sizeY * 0.07, '', 'Edit Bar', null, null, this.getTagsForStencil(gnm, 'edit_bar', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'message_bar;strokeColor=#0080F0;fillColor=#e0e0e0', 
					sizeX * 0.875, sizeY * 0.07, '', 'Message Bar', null, null, this.getTagsForStencil(gnm, 'message_bar', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'misc_bar;strokeColor=#0080F0;fillColor=#e0e0e0', 
					sizeX * 0.875, sizeY * 0.07, '', 'Misc Bar', null, null, this.getTagsForStencil(gnm, 'misc_bar', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					s + 'onOffButton;buttonState=on;strokeColor=#38D145;strokeColor2=#aaaaaa;fillColor=#38D145;fillColor2=#ffffff;', 
					sizeX * 0.2175, sizeY * 0.0375, '', 'On-off button (On)', null, null, this.getTagsForStencil(gn, 'onOffButton', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					s + 'onOffButton;buttonState=off;strokeColor=#38D145;strokeColor2=#aaaaaa;fillColor=#38D145;fillColor2=#ffffff;', 
					sizeX * 0.2175, sizeY * 0.0375, '', 'On-off button (Off)', null, null, this.getTagsForStencil(gn, 'onOffButton', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					s2 + 'icon;fontSize=8;fontColor=#ffffff;buttonText=;whiteSpace=wrap;align=center;', 
					sizeX * 0.2, sizeY * 0.09, 'Icon', 'Icon', null, null, this.getTagsForStencil(gn, 'icon', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'loading_circle;', 
					sizeX * 0.2, sizeY * 0.1, '', 'Loading Circle', null, null, this.getTagsForStencil(gnm, 'loading_circle', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'circle;strokeColor=#222222;fillColor=none;', 
					sizeX * 0.06, sizeY * 0.03, '', 'Circle', null, null, this.getTagsForStencil(gnm, 'circle', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					s + 'pageControl;fillColor=#222222;strokeColor=#aaaaaa;', 
					sizeX * 0.25, sizeY * 0.0125, '', 'Page control', null, null, this.getTagsForStencil(gn, 'pageControl', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'current_location;strokeColor=#ffffff;fillColor=#0080F0', 
					sizeX * 0.3, sizeY * 0.15, '', 'Current Location', null, null, this.getTagsForStencil(gnm, 'current_location', dt + '').join(' ')),
			this.createVertexTemplateEntry(
					sm + 'expand;fillColor=#c0c0c0;', 
					sizeX * 0.12, sizeY * 0.015, '', 'Expand', null, null, this.getTagsForStencil(gnm, 'expand', dt + '').join(' ')),

			this.addEntry(dt + 'volume control', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 160, 14), 'shape=rect;strokeColor=none;fillColor=none;');
			   	bg.vertex = true;
			   	var icon1 = new mxCell('', new mxGeometry(0, 0.5, 6, 8), 'shape=mxgraph.ios7.misc.volume_down;fillColor=#666666;strokeColor=none;');
			   	icon1.geometry.relative = true;
			   	icon1.geometry.offset = new mxPoint(0, -4);
			   	icon1.vertex = true;
			   	bg.insert(icon1);
			   	var icon2 = new mxCell('', new mxGeometry(1, 0.5, 14, 14), 'shape=mxgraph.ios7.misc.volume_up;fillColor=#666666;strokeColor=none;');
			   	icon2.geometry.relative = true;
			   	icon2.geometry.offset = new mxPoint(-14, -7);
			   	icon2.vertex = true;
			   	bg.insert(icon2);
			   	var part1 = new mxCell('', new mxGeometry(18, 0, 116, 14), s2 + 'slider;barPos=60;strokeColor=#0680FF;opacity=100;fillColor=#FFFFFF;handleSize=14;');
			   	part1.vertex = true;
			   	bg.insert(part1);
	
			   	return sb.createVertexTemplateFromCells([bg], 160, 14, 'Volume Control');
			}),
					
					
			this.addEntry(dt + 'picker', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 175, 160), s2 + 'anchor;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Item 1', new mxGeometry(0, 0, 175, 32), s2 + 'anchor;fontSize=15;fontColor=#a0a0a0;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Item 2', new mxGeometry(0, 0, 175, 32), s2 + 'anchor;fontSize=15;fontColor=#a0a0a0;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 32);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Item 3', new mxGeometry(0, 0, 175, 32), s2 + 'horLines;fontSize=15;fontColor=#222222;strokeColor=#a0a0a0;fillColor=none;strokeWidth=2;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 64);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Item 4', new mxGeometry(0, 0, 175, 32), s2 + 'anchor;fontSize=15;fontColor=#a0a0a0;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, 96);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Item 5', new mxGeometry(0, 0, 175, 32), s2 + 'anchor;fontSize=15;fontColor=#a0a0a0;resizeWidth=1;');
			   	button5.geometry.relative = true;
			   	button5.geometry.offset = new mxPoint(0, 128);
			   	button5.vertex = true;
			   	bg.insert(button5);
	
			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Picker');
			})
		];

		this.addPalette('ios7ui', 'iOS UI', false, mxUtils.bind(this, function(content)
				{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	// Adds Lean Mapping shapes
	Sidebar.prototype.addLeanMappingPalette = function()
	{
		var w = 100;
		var h = 100;
		var s = mxConstants.STYLE_STROKEWIDTH + '=2;html=1;shape=mxgraph.lean_mapping.';
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=2;shape=mxgraph.lean_mapping.';
		var sb = this;
		
		//default tags
		var dt = 'value stream lean mapping ';
		var gn = 'mxgraph.lean_mapping';

		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'boat_shipment;align=center;', w, h, '', 'Boat Shipment', null, null, this.getTagsForStencil(gn, 'boat_shipment', dt).join(' ')),
			this.addEntry(dt + 'data box', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 60, 100), s + 'data_box;html=1;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('C/T=', new mxGeometry(0, 0, 60, 20), 'text;fontSize=8;spacingLeft=2;verticalAlign=middle;html=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('C/O=', new mxGeometry(0, 20, 60, 20), 'text;fontSize=8;spacingLeft=2;verticalAlign=middle;html=1;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('Batch=', new mxGeometry(0, 40, 60, 20), 'text;fontSize=8;spacingLeft=2;verticalAlign=middle;html=1;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('Avail=', new mxGeometry(0, 60, 60, 20), 'text;fontSize=8;spacingLeft=2;verticalAlign=middle;html=1;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var text5 = new mxCell('', new mxGeometry(0, 80, 60, 20), 'text;fontSize=8;spacingLeft=2;verticalAlign=middle;html=1;');
			   	text5.vertex = true;
			   	bg.insert(text5);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Data Box');
			}),
		   	
			this.createVertexTemplateEntry(s + 'outside_sources;whiteSpace=wrap;align=center;', w, h * 0.7, 
					'<table cellpadding="5" cellspacing="0" style="font-size:1em;width:100%;height:100%;">' +
					'<tr><td height="50%"></td></tr>' +
					'<tr><td align="center" height="50%">XYZ Corp</td></tr></table>',
					'Customer/Supplier', null, null, this.getTagsForStencil(gn, 'outside_sources', dt).join(' ')),

			this.addEntry(dt + 'dedicated process manufacturing', function()
			{
				var bg = new mxCell('\nDescription', new mxGeometry(0, 0, 100, 70), s + 'manufacturing_process;fontSize=12;verticalAlign=middle;html=1;align=center;whiteSpace=wrap;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Process', new mxGeometry(0, 0, 100, 13), 'text;fontSize=12;spacingLeft=2;verticalAlign=top;html=1;align=center;spacingTop=-5;resizeWidth=1;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dedicated Process');
			}),
		   	
			this.createVertexTemplateEntry(s + 'manufacturing_process_shared;spacingTop=-5;align=center;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;', w, h * 0.7, 
					'Process',
					'Shared Process', null, null, this.getTagsForStencil(gn, 'manufacturing_process_shared', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'work_cell;', w * 0.7, h * 0.6, '', 'Workcell', null, null, this.getTagsForStencil(gn, 'work_cell', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'inventory_box;', w, h * 0.9, '', 'Inventory Box', null, null, this.getTagsForStencil(gn, 'inventory_box', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'push_arrow;', w, h * 0.3,'', 'Push Arrow', null, null, this.getTagsForStencil(gn, 'push_arrow', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'supermarket;', w * 0.6, h,'', 'Supermarket', null, null, this.getTagsForStencil(gn, 'supermarket', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'physical_pull;', w, h,'', 'Material Pull', null, null, this.getTagsForStencil(gn, 'physical_pull', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'fifo_lane;overflow=fill;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;align=center;', w, h * 0.5, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;">' +
					'<tr><td height="0%">MAX=XX</td></tr>' +
					'<tr><td align="center" height="100%"></td></tr></table>',
					'FIFO Lane', null, null, this.getTagsForStencil(gn, 'fifo_lane', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'buffer_or_safety_stock;', w * 0.4, h,'', 'Safety Stock', null, null, this.getTagsForStencil(gn, 'buffer_or_safety_stock', dt).join(' ')),

			this.addEntry(this.getTagsForStencil(gn, 'truck_shipment', dt).join(' '), function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 100, 100), s + 'truck_shipment;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('2x per\nWeek', new mxGeometry(0, 0, 60, 80), 'text;fontSize=12;verticalAlign=middle;html=1;align=center;whiteSpace=wrap;');
			   	text1.vertex = true;
			   	bg.insert(text1);

	   			return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Truck Shipment');
			}),
		   	
		   	this.createVertexTemplateEntry(s + 'schedule;whiteSpace=wrap;align=center;', w, h * 0.7, 'Production\nControl', 'Production Control', null, null, this.getTagsForStencil(gn, 'schedule', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'schedule;whiteSpace=wrap;align=center;', w, h * 0.7, 'Other\nInformation', 'Other Information', null, null, this.getTagsForStencil(gn, 'schedule', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'go_see_production_scheduling;', 92, 60, '', 'Go See Production Scheduling', null, null, this.getTagsForStencil(gn, 'go_see_production_scheduling', dt).join(' ')),

			this.addEntry(this.getTagsForStencil(gn, 'kaizen_lightening_burst', dt).join(' '), function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 90, 40), s2 + 'kaizen_lightening_burst;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('', new mxGeometry(8, 8, 74, 24), 'rect;fillColor=#000000;strokeColor=none;');
			   	text1.vertex = true;
			   	bg.insert(text1);

		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Kaizen Lightening Burst');
			}),
		   	
			this.createVertexTemplateEntry(s2 + 'kanban_post;', 50, 100, '', 'Kanban Post', null, null, this.getTagsForStencil(gn, 'kanban_post', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'load_leveling;', 100, 30, '', 'Load Leveling', null, null, this.getTagsForStencil(gn, 'load_leveling', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'move_by_forklift;', 92, 100, '', 'Move by Forklift', null, null, this.getTagsForStencil(gn, 'move_by_forklift', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mrp_erp;whiteSpace=wrap;', 70, 100, '', 'MRP/ERP', null, null, this.getTagsForStencil(gn, 'mrp_erp', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'operator;', 100, 84, '', 'Operator', null, null, this.getTagsForStencil(gn, 'operator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'quality_problem;fontSize=24;fontStyle=1;whiteSpace=wrap;align=center;', 80, 100, 'Q', 'Quality Problem', null, null, this.getTagsForStencil(gn, 'quality_problem', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'verbal;', 50, 100, '', 'Verbal Information', null, null, this.getTagsForStencil(gn, 'verbal', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'fifo_sequence_flow;fontStyle=0;fontSize=20;align=center;', w, h * 0.5, 'FIFO', 'FIFO Sequence', null, null, this.getTagsForStencil(gn, 'fifo_sequence_flow', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'production_kanban;overflow=fill;', w, h, 
					'<p style="font-size:2em;margin-right:35px;margin-top:13px;text-align:right">P</p>',
					'Production Kanban', null, null, this.getTagsForStencil(gn, 'production_kanban', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'withdrawal_kanban;overflow=fill;', w, h, 
					'<p style="font-size:2em;margin-right:35px;margin-top:13px;text-align:right">W</p>',
					'Withdrawal Kanban', null, null, this.getTagsForStencil(gn, 'withdrawal_kanban', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'signal_kanban;overflow=fill;', w, h * 0.9, 
					'<p style="font-size:2em;margin-right:35px;margin-top:4px;text-align:right">S</p>',
					'Signal Kanban', null, null, this.getTagsForStencil(gn, 'signal_kanban', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sequenced_pull_ball;', w * 0.6, h * 0.6, '', 'Sequenced Pull Ball', null, null, this.getTagsForStencil(gn, 'sequenced_pull_ball', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'rail_shipment;', w, h * 0.3, '', 'Rail Shipment', null, null, this.getTagsForStencil(gn, 'rail_shipment', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'airplane_7;', 100, 45, '', 'Air Freight', null, null, this.getTagsForStencil(gn, 'airplane_7', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'warehouse;', w, h * 0.6, '', 'Warehouse', null, null, this.getTagsForStencil(gn, 'warehouse', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'timeline2;dx1=0;dy1=1;dx2=30;dy2=0;dx3=160;dy3=1;dx4=230;dy4=0;dx5=310;dy5=1;dy6=0;', w * 4, h * 0.4, '', 'Timeline', null, null, this.getTagsForStencil(gn, 'timeline', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'crossDock;', w, h * 0.8, '', 'Cross-Dock', null, null, this.getTagsForStencil(gn, 'crossDock', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'orders;overflow=fill;', w, h * 0.6, 
					'<table cellpadding="0" cellspacing="0" style="font-size:1.5em;width:100%;height:100%;">' +
					'<tr><td height="65%"></td></tr>' +
					'<tr><td align="center" height="35%">IN</td></tr></table>',
					'Orders', null, null, this.getTagsForStencil(gn, 'orders', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'batched_kanban;', w * 2, h * 0.8, '', 'Batched Kanban', null, null, this.getTagsForStencil(gn, 'batched_kanban', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'control_center;', w * 0.8, h * 0.8, '', 'Control Center', null, null, this.getTagsForStencil(gn, 'control_center', dt).join(' ')),
		    this.createEdgeTemplateEntry('arrow;html=1;', 100, 100, '', 'Shipments', null, this.getTagsForStencil(gn, 'arrow', dt).join(' ')),
		    this.createEdgeTemplateEntry('shape=mxgraph.lean_mapping.manual_info_flow_edge;html=1;', 100, 100, 'Daily', 'Manual Information', null, this.getTagsForStencil(gn, 'manual_info_flow_edge', dt).join(' ')),
		    this.createEdgeTemplateEntry('shape=mxgraph.lean_mapping.electronic_info_flow_edge;html=1;', 100, 100, 'Monthly', 'Electronic Information', null, this.getTagsForStencil(gn, 'electronic_info_flow_edge', dt).join(' '))
		];
		
		this.addPalette('lean_mapping', mxResources.get('leanMapping'), false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	// Adds MSCAE shapes
	Sidebar.prototype.addMSCAEPalette = function()
	{
		this.addMSCAEGeneralPalette();
		this.addMSCAECloudPalette();
		this.addMSCAEEnterprisePalette();
		this.addMSCAEIntunePalette();
		this.addMSCAEOtherPalette();
		this.addMSCAESystemCenterPalette();
		this.addMSCAEDeprecatedPalette();
	};
	
	Sidebar.prototype.addMSCAECloudPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#0079D6;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.mscae.cloud.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.cloud';
		var dt = 'ms microsoft cloud enterprise ';
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'access_control;',
					50, 50, '', 'Access Control', null, null, this.getTagsForStencil(gn, 'access control', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'api_app;fillColor=#0079D6;',
					45, 50, '', 'API App', null, null, this.getTagsForStencil(gn, 'api app', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'api_management;fillColor=#0079D6;',
					50, 45, '', 'API Management', null, null, this.getTagsForStencil(gn, 'api management', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'app_service;fillColor=#0079D6;',
					50, 50, '', 'App Service', null, null, this.getTagsForStencil(gn, 'app application service', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'application_insights;fillColor=#0079D6;',
					32, 50, '', 'Application Insights', null, null, this.getTagsForStencil(gn, 'application insights', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'autoscale;',
					50, 30, '', 'Autoscaling', null, null, this.getTagsForStencil(gn, 'autoscaling autoscale', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_automatic_load_balancer;fillColor=#0079D6;',
					50, 33, '', 'Azure Automatic Load Balancer', null, null, this.getTagsForStencil(gn, 'automatic load balancer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_active_directory;',
					47, 50, '', 'Azure Active Directory', null, null, this.getTagsForStencil(gn, 'azure active directory', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_alert;',
					50, 42, '', 'Azure Alert', null, null, this.getTagsForStencil(gn, 'azure alert', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'automation;',
					50, 45, '', 'Azure Automation', null, null, this.getTagsForStencil(gn, 'azure automation', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_batch;fillColor=#0079D6;',
					47, 40, '', 'Azure Batch', null, null, this.getTagsForStencil(gn, 'batch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_cache;',
					45, 50, '', 'Azure Cache including Redis', null, null, this.getTagsForStencil(gn, 'azure cache including redis', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate;',
					50, 40, '', 'Azure Certificate', null, null, this.getTagsForStencil(gn, 'azure certificate', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_dns;fillColor=#0079D6;',
					50, 50, '', 'Azure DNS', null, null, this.getTagsForStencil(gn, 'dns', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_files_service;fillColor=#0079D6;',
					50, 43, '', 'Azure Files Service', null, null, this.getTagsForStencil(gn, 'files service', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_load_balancer_feature;fillColor=#0079D6;',
					50, 50, '', 'Azure Load Balancer (feature)', null, null, this.getTagsForStencil(gn, 'load balancer feature', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_marketplace;',
					40, 50, '', 'Azure Marketplace', null, null, this.getTagsForStencil(gn, 'azure marketplace', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_rights_management_rms;fillColor=#0079D6;',
					40, 50, '', 'Azure Rights Management (RMS)', null, null, this.getTagsForStencil(gn, 'rights management rms', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_sdk;',
					50, 47, '', 'Azure SDK', null, null, this.getTagsForStencil(gn, 'azure sdk software development kit', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_search;fillColor=#0079D6;',
					50, 35, '', 'Azure Search', null, null, this.getTagsForStencil(gn, 'search', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_database_sql_azure;',
					47, 50, '', 'Azure SQL Database', null, null, this.getTagsForStencil(gn, 'azure sql database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_subscription;',
					50, 35, '', 'Azure Subscription', null, null, this.getTagsForStencil(gn, 'azure subscription', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'azure_storage;fillColor=#0079D6;',
					50, 43, '', 'Azure Storage', null, null, this.getTagsForStencil(gn, 'storage', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_service;',
					50, 45, '', 'Backup Service', null, null, this.getTagsForStencil(gn, 'backup service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bitbucket_code_source;',
					42, 50, '', 'Bitbucket Code Source', null, null, this.getTagsForStencil(gn, 'bitbucket code source', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'biztalk_services;',
					50, 50, '', 'Biztalk Services', null, null, this.getTagsForStencil(gn, 'biztalk services', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cloud_office_365;fillColor=#DF3C01;',
					50, 30, '', 'Cloud Office 365', null, null, this.getTagsForStencil(gn, 'cloud office 365', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_service;',
					50, 40, '', 'Cloud Service', null, null, this.getTagsForStencil(gn, 'cloud service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'codeplex_code_source;',
					50, 37, '', 'CodePlex', null, null, this.getTagsForStencil(gn, 'codeplex', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'content_delivery_network;',
					50, 32, '', 'Content Delivery Network', null, null, this.getTagsForStencil(gn, 'content delivery network', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'data_factory;fillColor=#0079D6;',
					47, 47, '', 'Data Factory', null, null, this.getTagsForStencil(gn, 'data factory', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'documentdb;fillColor=#0079D6;',
					38, 50, '', 'DocumentDB', null, null, this.getTagsForStencil(gn, 'documentdb document db database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dropbox_code_source;',
					50, 47, '', 'Dropbox Code Source', null, null, this.getTagsForStencil(gn, 'dropbox code source', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'event_hubs;fillColor=#0079D6;',
					46, 47, '', 'Event Hubs', null, null, this.getTagsForStencil(gn, 'event_hubs', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'express_route;',
					50, 30, '', 'Express Route', null, null, this.getTagsForStencil(gn, 'express route', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'git_repository;',
					50, 50, '', 'Git Repository', null, null, this.getTagsForStencil(gn, 'git repository', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'github_code;',
					50, 50, '', 'GitHub', null, null, this.getTagsForStencil(gn, 'github code', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'hdinsight;fillColor=#0079D6;',
					50, 36, '', 'HDInsight', null, null, this.getTagsForStencil(gn, 'hdisight hd insight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'health_monitoring;',
					50, 42, '', 'Health Monitoring', null, null, this.getTagsForStencil(gn, 'health monitoring', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'healthy;',
					50, 45, '', 'Healthy', null, null, this.getTagsForStencil(gn, 'healthy', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'hybrid_connection_manager;fillColor=#0079D6;',
					50, 35, '', 'Hybrid Connection Manager', null, null, this.getTagsForStencil(gn, 'hybrid connection manager', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'hybrid_connections;fillColor=#0079D6;',
					47, 50, '', 'Hybrid Connections', null, null, this.getTagsForStencil(gn, 'hybrid connections', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'iot;fillColor=#0079D6;',
					47, 47, '', 'IoT', null, null, this.getTagsForStencil(gn, 'iot internet of things', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_vault;fillColor=#0079D6;',
					49, 50, '', 'Key Vault', null, null, this.getTagsForStencil(gn, 'key vault', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'logic_app;fillColor=#0079D6;',
					50, 50, '', 'Logic App', null, null, this.getTagsForStencil(gn, 'logic app application', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'machine_learning;fillColor=#0079D6;',
					47, 50, '', 'Machine Learning', null, null, this.getTagsForStencil(gn, 'machine_learning', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'media_service;',
					45, 50, '', 'Media Services', null, null, this.getTagsForStencil(gn, 'media services', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'microsoft_account;fillColor=#0079D6;',
					50, 50, '', 'Microsoft Account', null, null, this.getTagsForStencil(gn, 'microsoft account', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'microsoft_azure;fillColor=#000000;',
					50, 32, '', 'Microsoft Azure', null, null, this.getTagsForStencil(gn, 'microsoft', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'mobile_app;fillColor=#0079D6;',
					30, 50, '', 'Mobile App', null, null, this.getTagsForStencil(gn, 'mobile app application', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'mobile_engagement;fillColor=#0079D6;',
					30, 50, '', 'Mobile Engagement', null, null, this.getTagsForStencil(gn, 'mobile engagement', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'multi_factor_authentication;',
					25, 50, '', 'Multi-Factor Authentication', null, null, this.getTagsForStencil(gn, 'multi factor authentication', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mysql_database;',
					37, 50, '', 'MySQL Database', null, null, this.getTagsForStencil(gn, 'mysql database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'notification_hub;',
					50, 50, '', 'Notification Hub', null, null, this.getTagsForStencil(gn, 'notification hub', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'notification_topic;',
					50, 50, '', 'Notification Topic', null, null, this.getTagsForStencil(gn, 'notification topic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'office_365;fillColor=#DF3C01;',
					41, 49, '', 'Office 365', null, null, this.getTagsForStencil(gn, 'office 365', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'office_365_subscription;fillColor=#DF3C01;',
					50, 34, '', 'Office 365 Subscription', null, null, this.getTagsForStencil(gn, 'office 365 subscription', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'operational_insights;fillColor=#0079D6;',
					50, 50, '', 'Operational Insights', null, null, this.getTagsForStencil(gn, 'operational insights', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'operating_system_image;',
					50, 50, '', 'OS Image', null, null, this.getTagsForStencil(gn, 'os operating system image', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rdp_remoting_file;',
					47, 50, '', 'RDP Remoting File', null, null, this.getTagsForStencil(gn, 'rdp remoting file', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'remoteapp;fillColor=#0079D6;',
					50, 50, '', 'RemoteApp', null, null, this.getTagsForStencil(gn, 'remoteapp remote app', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'resource_group;fillColor=#0079D6;',
					50, 41, '', 'Resource Group', null, null, this.getTagsForStencil(gn, 'resource group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'scheduler;',
					40, 50, '', 'Scheduler', null, null, this.getTagsForStencil(gn, 'scheduler', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus;',
					45, 50, '', 'Service Bus', null, null, this.getTagsForStencil(gn, 'service bus', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_queues;',
					42, 50, '', 'Service Bus Queue', null, null, this.getTagsForStencil(gn, 'service bus queue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_relay;',
					40, 50, '', 'Service Bus Relay', null, null, this.getTagsForStencil(gn, 'service bus relay', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_bus_topics_and_subscriptions;',
					45, 50, '', 'Service Bus Topic', null, null, this.getTagsForStencil(gn, 'service bus topic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'service_endpoint;fillColor=#0079D6;',
					50, 9, '', 'Service Endpoint', null, null, this.getTagsForStencil(gn, 'service endpoint', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'service_fabric;fillColor=#00BEF2;',
					50, 50, '', 'Service Fabric', null, null, this.getTagsForStencil(gn, 'service fabric', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'service_package;fillColor=#0079D6;',
					44, 50, '', 'Service Package', null, null, this.getTagsForStencil(gn, 'service package', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hyper_v_recovery_manager;',
					50, 45, '', 'Site Recovery', null, null, this.getTagsForStencil(gn, 'site recovery', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_datasync;',
					37, 50, '', 'SQL DataSync', null, null, this.getTagsForStencil(gn, 'sql datasync', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_database;',
					37, 50, '', 'SQL Database', null, null, this.getTagsForStencil(gn, 'sql database', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'startup_task;',
					47, 50, '', 'Startup Task', null, null, this.getTagsForStencil(gn, 'startup task', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_blob;',
					50, 45, '', 'Storage Blob', null, null, this.getTagsForStencil(gn, 'storage blob', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_queue;',
					50, 45, '', 'Storage Queue', null, null, this.getTagsForStencil(gn, 'storage queue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storage_table;',
					50, 45, '', 'Storage Table', null, null, this.getTagsForStencil(gn, 'storage table', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'storsimple;',
					50, 45, '', 'StorSimple', null, null, this.getTagsForStencil(gn, 'storsimple', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'stream_analytics;fillColor=#0079D6;',
					48, 37, '', 'Stream Analytics', null, null, this.getTagsForStencil(gn, 'stream analytics', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'traffic_manager;',
					50, 50, '', 'Traffic Manager', null, null, this.getTagsForStencil(gn, 'traffic manager', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'unidentified_code_object;',
					50, 42, '', 'Unidentified Feature Object', null, null, this.getTagsForStencil(gn, 'unidentified feature object', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vhd;',
					40, 50, '', 'VHD', null, null, this.getTagsForStencil(gn, 'vhd', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vhd_data_disk;',
					37, 50, '', 'VHD Data Disk', null, null, this.getTagsForStencil(gn, 'vhd data disk', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_machine;',
					50, 40, '', 'Virtual Machine', null, null, this.getTagsForStencil(gn, 'virtual machine', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_machine_container;fillColor=#0079D6;',
					49, 43, '', 'Virtual Machine Container', null, null, this.getTagsForStencil(gn, 'virtual machine container', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_network;',
					50, 27, '', 'Virtual Network', null, null, this.getTagsForStencil(gn, 'virtual network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'visual_studio_online;',
					50, 37, '', 'Visual Studio Online', null, null, this.getTagsForStencil(gn, 'visual studio online', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_machine_feature;',
					50, 45, '', 'Virtual Machine', null, null, this.getTagsForStencil(gn, 'virtual machine', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'vpn_gateway;fillColor=#0079D6;',
					32, 50, '', 'VPN Gateway', null, null, this.getTagsForStencil(gn, 'vpn gateway virtual private network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'azure_website;',
					50, 50, '', 'Web App', null, null, this.getTagsForStencil(gn, 'web app application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_role;',
					50, 40, '', 'Web Role', null, null, this.getTagsForStencil(gn, 'web role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_roles;',
					55, 45, '', 'Web Roles', null, null, this.getTagsForStencil(gn, 'web roles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'webjobs;fillColor=#0079D6;',
					51, 50, '', 'WebJobs', null, null, this.getTagsForStencil(gn, 'webjobs web jobs', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'work_account;fillColor=#0079D6;',
					50, 50, '', 'Work Account', null, null, this.getTagsForStencil(gn, 'work_account', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worker_role;',
					50, 40, '', 'Worker Role', null, null, this.getTagsForStencil(gn, 'worker role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'worker_roles;',
					55, 45, '', 'Worker Roles', null, null, this.getTagsForStencil(gn, 'worker roles', dt).join(' '))
		];
			
		this.addPalette('mscaeCloud', 'CAE / Cloud', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addMSCAEDeprecatedPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.deprecated.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.deprecated';
		var dt = 'ms microsoft cloud enterprise deprecated ';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'application;fillColor=#00188D;',
					50, 33, '', 'Application', null, null, this.getTagsForStencil(gn, 'application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hdinsight;fillColor=#00BEF2;',
					50, 50, '', 'HDInsight', null, null, this.getTagsForStencil(gn, 'hdinsight hd insight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'operating_system_image;fillColor=#0079D6;',
					50, 50, '', 'OS Image', null, null, this.getTagsForStencil(gn, 'os operating system image', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_reporting;fillColor=#0079D6;',
					40, 50, '', 'SQL Reporting', null, null, this.getTagsForStencil(gn, 'sql reporting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vhd;fillColor=#0079D6;',
					40, 50, '', 'VHD', null, null, this.getTagsForStencil(gn, 'vhd virtual hard drive', dt).join(' '))
		];
			
		this.addPalette('mscaeDeprecated', 'CAE / (Deprecated)', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMSCAEEnterprisePalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.enterprise.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.enterprise';
		var dt = 'ms microsoft cloud enterprise ';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'ad_fs;fillColor=#00188D;',
					40, 50, '', 'AD FS', null, null, this.getTagsForStencil(gn, 'ad fs', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'android_phone;fillColor=#00188D;',
					30, 50, '', 'Android Phone', null, null, this.getTagsForStencil(gn, 'android phone mobile', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'app_generic;fillColor=#00188D;',
					50, 39, '', 'App (generic)', null, null, this.getTagsForStencil(gn, 'app generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'application_blank;fillColor=#00188D;',
					46, 40, '', 'Application (blank)', null, null, this.getTagsForStencil(gn, 'application app blank', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'application_server;fillColor=#00188D;',
					38, 44, '', 'Application Server', null, null, this.getTagsForStencil(gn, 'application app server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'backup_local;fillColor=#00188D;',
					49, 50, '', 'Backup (local)', null, null, this.getTagsForStencil(gn, 'backup local', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'backup_online;fillColor=#00188D;',
					51, 41, '', 'Backup (online)', null, null, this.getTagsForStencil(gn, 'backup online', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate;fillColor=#7D7D7D;',
					50, 40, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'client_application;fillColor=#00188D;',
					50, 32, '', 'Client Application', null, null, this.getTagsForStencil(gn, 'client application app', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;fillColor=#7D7D7D;',
					50, 32, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cluster_server;fillColor=#00188D;',
					40, 50, '', 'Cluster Server', null, null, this.getTagsForStencil(gn, 'cluster server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'code_file;fillColor=#7D7D7D;',
					47, 50, '', 'Code File', null, null, this.getTagsForStencil(gn, 'code file', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'connectors;fillColor=#00188D;',
					50, 34, '', 'Connectors', null, null, this.getTagsForStencil(gn, 'connectors', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'd;fillColor=#00188D;',
					40, 50, '', 'D', null, null, this.getTagsForStencil(gn, 'delta diff difference server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_generic;fillColor=#00188D;',
					38, 51, '', 'Database (generic)', null, null, this.getTagsForStencil(gn, 'db database generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_server;fillColor=#00188D;',
					38, 50, '', 'Database (server)', null, null, this.getTagsForStencil(gn, 'db database server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_synchronization;fillColor=#00188D;',
					39, 50, '', 'Database Synchronization', null, null, this.getTagsForStencil(gn, 'database synchronization sync db', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'device;fillColor=#00188D;',
					50, 26, '', 'Device', null, null, this.getTagsForStencil(gn, 'Device', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'direct_access_feature;fillColor=#00188D;',
					50, 44, '', 'Direct Access (feature)', null, null, this.getTagsForStencil(gn, 'direct access feature', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'document;fillColor=#00188D;',
					40, 50, '', 'Document', null, null, this.getTagsForStencil(gn, 'document doc', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'domain_controller;fillColor=#00188D;',
					36, 50, '', 'Domain Controller', null, null, this.getTagsForStencil(gn, 'domain controller', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'enterprise;fillColor=#00188D;',
					30, 50, '', 'Enterprise Building', null, null, this.getTagsForStencil(gn, 'enterprise building', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file;fillColor=#7D7D7D;',
					47, 50, '', 'File general', null, null, this.getTagsForStencil(gn, 'file general', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'filter;fillColor=#00188D;',
					50, 45, '', 'Filter', null, null, this.getTagsForStencil(gn, 'filter', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firewall;fillColor=#00188D;',
					50, 44, '', 'Firewall', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'folder;fillColor=#00188D;',
					50, 43, '', 'Folder', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'gateway;fillColor=#00188D;',
					50, 50, '', 'Gateway', null, null, this.getTagsForStencil(gn, 'gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'code_file;fillColor=#00188D;',
					47, 50, '', 'Generic Code', null, null, this.getTagsForStencil(gn, 'generic code', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'health_monitoring;fillColor=#7D7D7D;',
					50, 42, '', 'Health Monitoring', null, null, this.getTagsForStencil(gn, 'health monitoring', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'healthy;fillColor=#7D7D7D;',
					50, 45, '', 'Healthy', null, null, this.getTagsForStencil(gn, 'healthy', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'import_generic;fillColor=#00188D;',
					40, 50, '', 'Import (generic)', null, null, this.getTagsForStencil(gn, 'import generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'internet;fillColor=#00188D;',
					50, 31, '', 'Internet', null, null, this.getTagsForStencil(gn, 'internet', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'internet_hollow;fillColor=#00188D;',
					50, 31, '', 'Internet (hollow)', null, null, this.getTagsForStencil(gn, 'internet hollow', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_permissions;fillColor=#00188D;',
					26, 50, '', 'Key, Permissions', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'keyboard;fillColor=#00188D;',
					50, 30, '', 'Keyboard', null, null, this.getTagsForStencil(gn, 'keyboard', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop;fillColor=#7D7D7D;',
					50, 30, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'laptop computer pc', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'load_balancer_generic;fillColor=#00188D;',
					37, 50, '', 'Load Balancer (generic)', null, null, this.getTagsForStencil(gn, 'load balancer generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'load_balancer_generic;fillColor=#ffffff;',
					37, 50, '', 'Load Balancer (white)', null, null, this.getTagsForStencil(gn, 'load balancer generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'load_testing;fillColor=#00188D;',
					48, 50, '', 'Load Testing', null, null, this.getTagsForStencil(gn, 'load testing', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock;fillColor=#00188D;',
					39, 50, '', 'Lock, Protected', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_unlocked;fillColor=#00188D;',
					37, 50, '', 'Lock (unlocked)', null, null, this.getTagsForStencil(gn, 'lock unlocked accessible', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'maintenance;fillColor=#00188D;',
					34, 50, '', 'Maintenance', null, null, this.getTagsForStencil(gn, 'maintenance', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'management_console;fillColor=#00188D;',
					50, 34, '', 'Management Console', null, null, this.getTagsForStencil(gn, 'management console', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'message;fillColor=#7D7D7D;',
					50, 37, '', 'Message', null, null, this.getTagsForStencil(gn, 'message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'computer;fillColor=#7D7D7D;',
					50, 45, '', 'Monitor', null, null, this.getTagsForStencil(gn, 'monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'monitor_running_apps;fillColor=#00188D;',
					50, 39, '', 'Monitor Running Apps', null, null, this.getTagsForStencil(gn, 'monitor running app application', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'mouse;fillColor=#00188D;',
					30, 50, '', 'Mouse', null, null, this.getTagsForStencil(gn, 'mouse', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'network_card;fillColor=#00188D;',
					50, 35, '', 'Network Card', null, null, this.getTagsForStencil(gn, 'network card', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'performance;fillColor=#00188D;',
					50, 50, '', 'Performance', null, null, this.getTagsForStencil(gn, 'performance', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'performance_monitor;fillColor=#00188D;',
					50, 36, '', 'Performance Monitor', null, null, this.getTagsForStencil(gn, 'performance monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobile;fillColor=#7D7D7D;',
					35, 50, '', 'Phone', null, null, this.getTagsForStencil(gn, 'mobile phone', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'plug_and_play;fillColor=#00188D;',
					40, 50, '', 'Plug and Play', null, null, this.getTagsForStencil(gn, 'plug play', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'powershell_file;fillColor=#00188D;',
					47, 50, '', 'PowerShell Script File', null, null, this.getTagsForStencil(gn, 'powershell script file', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'protocol_stack;fillColor=#00188D;',
					50, 34, '', 'Protocol Stack', null, null, this.getTagsForStencil(gn, 'protocol stack', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'queue_generic;fillColor=#00188D;',
					50, 15, '', 'Queue (general)', null, null, this.getTagsForStencil(gn, 'queue general generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'rms_connector;fillColor=#00188D;',
					30, 40, '', 'RMS Connector', null, null, this.getTagsForStencil(gn, 'rms connector', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'router;fillColor=#00188D;',
					49, 38, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'script_file;fillColor=#00188D;',
					47, 50, '', 'Script File', null, null, this.getTagsForStencil(gn, 'script file', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'secure_virtual_machine;fillColor=#00188D;',
					50, 38, '', 'Secure Virtual Machine', null, null, this.getTagsForStencil(gn, 'secure virtual machine', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server;fillColor=#00188D;',
					50, 15, '', 'Server (blade)', null, null, this.getTagsForStencil(gn, 'server blade', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_generic;fillColor=#00188D;',
					24, 50, '', 'Server (generic)', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_directory;fillColor=#00188D;',
					36, 50, '', 'Server Directory', null, null, this.getTagsForStencil(gn, 'server directory', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_farm;fillColor=#00188D;',
					50, 32, '', 'Server Farm', null, null, this.getTagsForStencil(gn, 'server farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_rack;fillColor=#00188D;',
					50, 50, '', 'Server Rack', null, null, this.getTagsForStencil(gn, 'server rack', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'settings;fillColor=#00188D;',
					50, 50, '', 'Settings', null, null, this.getTagsForStencil(gn, 'settings', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'shared_folder;fillColor=#00188D;',
					43, 50, '', 'Shared Folder', null, null, this.getTagsForStencil(gn, 'shared folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'smartcard;fillColor=#00188D;',
					50, 32, '', 'SmartCard', null, null, this.getTagsForStencil(gn, 'smartcard', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'storage;fillColor=#00188D;',
					50, 41, '', 'Storage', null, null, this.getTagsForStencil(gn, 'storage', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'table;fillColor=#00188D;',
					50, 50, '', 'Table', null, null, this.getTagsForStencil(gn, 'table', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet;fillColor=#00188D;',
					50, 37, '', 'Tablet', null, null, this.getTagsForStencil(gn, 'tablet', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'tool;fillColor=#00188D;',
					52, 47, '', 'Tool', null, null, this.getTagsForStencil(gn, 'tool', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'unhealthy;fillColor=#00188D;',
					52, 43, '', 'Unhealthy', null, null, this.getTagsForStencil(gn, 'unhealthy', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'usb;fillColor=#00188D;',
					50, 23, '', 'USB', null, null, this.getTagsForStencil(gn, 'usb', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'web;fillColor=#00188D;',
					50, 50, '', 'Web', null, null, this.getTagsForStencil(gn, 'web', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'web_server;fillColor=#00188D;',
					38, 50, '', 'Web Server', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'website_generic;fillColor=#00188D;',
					47, 41, '', 'Website (generic)', null, null, this.getTagsForStencil(gn, 'website generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'windows_server;fillColor=#00188D;',
					39, 50, '', 'Windows Server', null, null, this.getTagsForStencil(gn, 'windows server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'wireless_connection;fillColor=#00188D;',
					42, 50, '', 'Wireless Connection', null, null, this.getTagsForStencil(gn, 'wireless connection', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'workstation_client;fillColor=#00188D;',
					50, 50, '', 'Workstation Client', null, null, this.getTagsForStencil(gn, 'workstation client', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'xml_web_service;fillColor=#00188D;',
					50, 50, '', 'XML Web Service', null, null, this.getTagsForStencil(gn, 'xml web service', dt).join(' '))
		];
			
		this.addPalette('mscaeEnterprise', 'CAE / Enterprise', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMSCAEGeneralPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.general.';
		var s3 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.';
		var s4 = 'shadow=0;dashed=0;html=1;shape=mxgraph.mscae.general.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.general';
		var dt = 'ms microsoft cloud enterprise general ';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'audio;fillColor=#7D7D7D;',
					50, 50, '', 'Audio', null, null, this.getTagsForStencil(gn, 'audio', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'bug;fillColor=#7D7D7D;',
					50, 50, '', 'Bug', null, null, this.getTagsForStencil(gn, 'bug', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'enterprise;fillColor=#7D7D7D;',
					30, 50, '', 'Building', null, null, this.getTagsForStencil(gn, 'building enterprise', dt).join(' ')),
			this.createVertexTemplateEntry(s4 + 'cable_settop_tv_box;strokeColor=#000000;fillColor=#7D7D7D;',
					50, 24, '', 'Cable Settop TV Box', null, null, this.getTagsForStencil(gn, 'cable settop tv television box', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'calendar;fillColor=#7D7D7D;',
					50, 40, '', 'Calendar', null, null, this.getTagsForStencil(gn, 'calendar', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'chart;fillColor=#7D7D7D;',
					50, 48, '', 'Chart', null, null, this.getTagsForStencil(gn, 'chart', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'checkmark;fillColor=#91D250;',
					41, 50, '', 'Checkmark (success)', null, null, this.getTagsForStencil(gn, 'checkmark success', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'continuous_cycle;fillColor=#7D7D7D;',
					48, 50, '', 'Continuous Cycle (circle)', null, null, this.getTagsForStencil(gn, 'continuous cycle circle', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'crossout;fillColor=#FF0000;',
					40, 50, '', 'Crossout (failure)', null, null, this.getTagsForStencil(gn, 'crossout failure', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cut_and_paste;fillColor=#7D7D7D;',
					50, 34, '', 'Cut and Paste', null, null, this.getTagsForStencil(gn, 'cut and paste', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'enterprise.filter;fillColor=#7D7D7D;',
					50, 45, '', 'Filter', null, null, this.getTagsForStencil(gn, 'filter', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'enterprise.folder;fillColor=#7D7D7D;',
					50, 43, '', 'Folder', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'game_controller;fillColor=#7D7D7D;',
					50, 35, '', 'Game Controller', null, null, this.getTagsForStencil(gn, 'game controller gamepad', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'gears;fillColor=#7D7D7D;',
					50, 42, '', 'Gears', null, null, this.getTagsForStencil(gn, 'gears', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'graph;fillColor=#7D7D7D;',
					50, 50, '', 'Graph', null, null, this.getTagsForStencil(gn, 'graph', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'like;fillColor=#7D7D7D;',
					50, 47, '', 'Like', null, null, this.getTagsForStencil(gn, 'like', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'not_allowed;fillColor=#DE5900;',
					50, 50, '', 'Not Allowed', null, null, this.getTagsForStencil(gn, 'not allowed', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'pointer;fillColor=#91D250;',
					50, 50, '', 'Pointer (circle)', null, null, this.getTagsForStencil(gn, 'pointer circle', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider_bar_horizontal;fillColor=#7D7D7D;',
					50, 21, '', 'Slider Bar (horizontal)', null, null, this.getTagsForStencil(gn, 'slider bar horizontal hor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'slider_bar_vertical;fillColor=#7D7D7D;',
					22, 50, '', 'Slider Bar (vertical)', null, null, this.getTagsForStencil(gn, 'slider bar vertical hor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'task_list;fillColor=#7D7D7D;',
					38, 47, '', 'Task List (backlog)', null, null, this.getTagsForStencil(gn, 'task list backlog', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'tasks;fillColor=#7D7D7D;',
					38, 50, '', 'Tasks', null, null, this.getTagsForStencil(gn, 'tasks', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'tunnel;fillColor=#7D7D7D;',
					50, 9, '', 'Tunnel', null, null, this.getTagsForStencil(gn, 'tunnel', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'enterprise.usb;fillColor=#7D7D7D;',
					50, 23, '', 'USB', null, null, this.getTagsForStencil(gn, 'usb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;fillColor=#7D7D7D;',
					47, 50, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'video;fillColor=#7D7D7D;',
					49, 50, '', 'Video', null, null, this.getTagsForStencil(gn, 'video', dt).join(' '))
		];
			
		this.addPalette('mscaeGeneral', 'CAE / General', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMSCAEIntunePalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.intune.';
		var s3 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.intune';
		var dt = 'ms microsoft cloud enterprise intune';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'account_portal;fillColor=#505050;',
					40, 46, '', 'Account Portal', null, null, this.getTagsForStencil(gn, 'account portal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'administration;fillColor=#505050;',
					30, 50, '', 'Administration', null, null, this.getTagsForStencil(gn, 'administration', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'alerts;fillColor=#505050;',
					50, 50, '', 'Alerts', null, null, this.getTagsForStencil(gn, 'alerts', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'apps;fillColor=#505050;',
					50, 50, '', 'Apps', null, null, this.getTagsForStencil(gn, 'apps', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'certificate;fillColor=#505050;',
					50, 49, '', 'Certificate (Compliance)', null, null, this.getTagsForStencil(gn, 'certificate compliance', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'client_software;fillColor=#505050;',
					52, 47, '', 'Client Software Deployment Wizard', null, null, this.getTagsForStencil(gn, 'client software deployment wizard', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'company_portal;fillColor=#505050;',
					47, 36, '', 'Company Portal', null, null, this.getTagsForStencil(gn, 'company portal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'computer_inventory;fillColor=#505050;',
					50, 45, '', 'Computer Inventory', null, null, this.getTagsForStencil(gn, 'computer inventory', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conditional_access_exchange;fillColor=#505050;',
					49, 50, '', 'Conditional Access (Exchange)', null, null, this.getTagsForStencil(gn, 'conditional access exchange', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conditional_access_sharepoint;fillColor=#505050;',
					43, 49, '', 'Conditional Access (Sharepoint)', null, null, this.getTagsForStencil(gn, 'conditional access sharepoint', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'connector;fillColor=#505050;',
					46, 16, '', 'Connector', null, null, this.getTagsForStencil(gn, 'connector', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dashboard;fillColor=#505050;',
					50, 40, '', 'Dashboard', null, null, this.getTagsForStencil(gn, 'dashboard', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'data_migration_wizard;fillColor=#505050;',
					50, 48, '', 'Data Migration Wizard', null, null, this.getTagsForStencil(gn, 'data migration wizard', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'detected_software;fillColor=#505050;',
					50, 50, '', 'Detected Software', null, null, this.getTagsForStencil(gn, 'detected software', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'device_group;fillColor=#505050;',
					50, 50, '', 'Device Group', null, null, this.getTagsForStencil(gn, 'device group', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'device_health;fillColor=#505050;',
					50, 31, '', 'Device Health', null, null, this.getTagsForStencil(gn, 'device_health', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'device_history;fillColor=#505050;',
					45, 50, '', 'Device History', null, null, this.getTagsForStencil(gn, 'device history', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'device_os;fillColor=#505050;',
					49, 50, '', 'Device OS', null, null, this.getTagsForStencil(gn, 'device os operating system', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'end_protection;fillColor=#505050;',
					48, 50, '', 'End Protection', null, null, this.getTagsForStencil(gn, 'end protection', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'exchange_connector;fillColor=#505050;',
					50, 49, '', 'Exchange Connector', null, null, this.getTagsForStencil(gn, 'exchange connector', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'groups;fillColor=#505050;',
					50, 48, '', 'Groups', null, null, this.getTagsForStencil(gn, 'groups', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'hybrid;fillColor=#505050;',
					50, 39, '', 'Hybrid', null, null, this.getTagsForStencil(gn, 'hybrid', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_certificate_profiles;fillColor=#505050;',
					40, 50, '', 'Intune Certificate Profiles', null, null, this.getTagsForStencil(gn, 'certificate profiles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_email_profiles;fillColor=#505050;',
					50, 50, '', 'Intune Email Profiles', null, null, this.getTagsForStencil(gn, 'email profiles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_managed_app;fillColor=#505050;',
					50, 38, '', 'Intune Managed App', null, null, this.getTagsForStencil(gn, 'managed app application', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_mobile_application_management;fillColor=#505050;',
					49, 50, '', 'Intune Mobile Application Management', null, null, this.getTagsForStencil(gn, 'mobile app aplication management', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_vpn_profiles;fillColor=#505050;',
					42, 50, '', 'Intune VPN Profiles', null, null, this.getTagsForStencil(gn, 'vpn virtual private network profiles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'intune_wifi_profiles;fillColor=#505050;',
					44, 51, '', 'Intune WiFi Profiles', null, null, this.getTagsForStencil(gn, 'wifi profiles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'inventory_license;fillColor=#505050;',
					50, 48, '', 'Inventory License', null, null, this.getTagsForStencil(gn, 'inventory license', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'inventory_software;fillColor=#505050;',
					50, 49, '', 'Inventory Software', null, null, this.getTagsForStencil(gn, 'inventory software', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'license_group;fillColor=#505050;',
					50, 49, '', 'License Group', null, null, this.getTagsForStencil(gn, 'license group', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'license_installation;fillColor=#505050;',
					50, 43, '', 'License Installation', null, null, this.getTagsForStencil(gn, 'license installation', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'microsoft_intune;fillColor=#505050;',
					48, 38, '', 'Microsoft Intune', null, null, this.getTagsForStencil(gn, 'microsoft', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'mobile_inventory;fillColor=#505050;',
					44, 50, '', 'Mobile Inventory', null, null, this.getTagsForStencil(gn, 'mobile inventory', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'noncompliant_apps;fillColor=#505050;',
					46, 50, '', 'Noncompliant Apps', null, null, this.getTagsForStencil(gn, 'noncompliant apps applications', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'policy;fillColor=#505050;',
					50, 50, '', 'Policy', null, null, this.getTagsForStencil(gn, 'policy', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'protection;fillColor=#505050;',
					48, 50, '', 'Protection', null, null, this.getTagsForStencil(gn, 'protection', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'reports;fillColor=#505050;',
					46, 50, '', 'Reports', null, null, this.getTagsForStencil(gn, 'reports', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'enterprise.settings;fillColor=#505050;',
					50, 50, '', 'Settings', null, null, this.getTagsForStencil(gn, 'settings', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'subscription_portal;fillColor=#505050;',
					45, 45, '', 'Subscription Portal', null, null, this.getTagsForStencil(gn, 'subscription portal', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'terms_and_conditions;fillColor=#505050;',
					37, 50, '', 'Terms and Conditions', null, null, this.getTagsForStencil(gn, 'terms and conditions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'update;fillColor=#505050;',
					50, 52, '', 'Update', null, null, this.getTagsForStencil(gn, 'update', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user_group;fillColor=#505050;',
					50, 37, '', 'User Group', null, null, this.getTagsForStencil(gn, 'user group', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user_management;fillColor=#505050;',
					50, 46, '', 'User Management', null, null, this.getTagsForStencil(gn, 'user management', dt).join(' '))
		];
			
		this.addPalette('mscaeIntune', 'CAE / Intune', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMSCAEOtherPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;strokeColor=none;html=1;shape=mxgraph.mscae.other.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.other';
		var dt = 'ms microsoft cloud enterprise other';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'access;fillColor=#BA2024;',
					50, 50, '', 'Access', null, null, this.getTagsForStencil(gn, 'access', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'excel;fillColor=#008540;',
					50, 50, '', 'Excel', null, null, this.getTagsForStencil(gn, 'excel', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'exchange;fillColor=#2471BA;',
					52, 50, '', 'Exchange', null, null, this.getTagsForStencil(gn, 'exchange', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lync;fillColor=#2471BA;',
					52, 50, '', 'Lync', null, null, this.getTagsForStencil(gn, 'lync', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'microsoft;',
					50, 50, '', 'Microsoft', null, null, this.getTagsForStencil(gn, 'microsoft', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'outlook;fillColor=#2471BA;',
					50, 50, '', 'Outlook', null, null, this.getTagsForStencil(gn, 'outlook', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'powerpoint;fillColor=#DE5D24;',
					50, 50, '', 'PowerPoint', null, null, this.getTagsForStencil(gn, 'powerpoint', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sharepoint;fillColor=#2471BA;',
					51, 50, '', 'Sharepoint', null, null, this.getTagsForStencil(gn, 'sharepoint', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'skype;fillColor=#00AEF2;',
					45, 45, '', 'Skype', null, null, this.getTagsForStencil(gn, 'skype', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'windows;fillColor=#00188D;',
					48, 50, '', 'Windows', null, null, this.getTagsForStencil(gn, 'windows', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'word;fillColor=#2C3481;',
					50, 50, '', 'Word', null, null, this.getTagsForStencil(gn, 'word', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'xbox;fillColor=#91D250;',
					54, 52, '', 'Xbox', null, null, this.getTagsForStencil(gn, 'xbox', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'xbox_one;',
					50, 16, '', 'Xbox One', null, null, this.getTagsForStencil(gn, 'xbox one', dt).join(' '))
		];
			
		this.addPalette('mscaeOther', 'CAE / Other', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMSCAESystemCenterPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;shape=mxgraph.azure.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;shape=mxgraph.mscae.system_center.';
		var s3 = 'shadow=0;dashed=0;html=1;shape=mxgraph.mscae.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.mscae.system_center';
		var dt = 'ms microsoft cloud enterprise system center';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'admin_console;fillColor=#7D7D7D;strokeColor=none;',
					50, 36, '', 'Admin Console', null, null, this.getTagsForStencil(gn, 'admin console', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'enterprise.database_server;fillColor=#7D7D7D;strokeColor=none;',
					38, 50, '', 'Central Administration Site', null, null, this.getTagsForStencil(gn, 'central administration site', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'central_administration_site_sql;fillColor=#7D7D7D;strokeColor=none;',
					38, 50, '', 'Central Administration Site SQL', null, null, this.getTagsForStencil(gn, 'central administration site sql', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cloud_distribution_point;fillColor=#7D7D7D;strokeColor=none;',
					46, 50, '', 'Cloud Distribution Point', null, null, this.getTagsForStencil(gn, 'cloud distribution point', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'distribution_point;fillColor=#7D7D7D;strokeColor=none;',
					44, 50, '', 'Distribution Point', null, null, this.getTagsForStencil(gn, 'distribution point', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'management_point;fillColor=#7D7D7D;strokeColor=none;',
					48, 50, '', 'Management Point', null, null, this.getTagsForStencil(gn, 'management point', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'primary_site;fillColor=#7D7D7D;strokeColor=none;',
					38, 50, '', 'Primary Site', null, null, this.getTagsForStencil(gn, 'primary site', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'roles;fillColor=#7D7D7D;strokeColor=none;',
					42, 50, '', 'Roles', null, null, this.getTagsForStencil(gn, 'roles', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'secondary_site;fillColor=#7D7D7D;strokeColor=none;',
					41, 50, '', 'Secondary Site', null, null, this.getTagsForStencil(gn, 'secondary site', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'software_update_point;fillColor=#7D7D7D;strokeColor=none;',
					50, 43, '', 'Software Update Point', null, null, this.getTagsForStencil(gn, 'software update point', dt).join(' '))
		];
			
		this.addPalette('mscaeSystem Center', 'CAE / System Center', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	
})();

(function()
{
	// Adds mockup shapes
	Sidebar.prototype.addMockupPalette = function()
	{
		this.addMockupButtonsPalette();
		this.addMockupContainersPalette();
		this.addMockupFormsPalette();
		this.addMockupGraphicsPalette();
		this.addMockupMarkupPalette();
		this.addMockupMiscPalette();
		this.addMockupNavigationPalette();
		this.addMockupTextPalette();
	};
	
	Sidebar.prototype.addMockupButtonsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 = mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
		var gn = 'mxgraph.mockup.buttons';
		var dt = 'mockup button ';
		
		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'buttons.button;' + skcl6 + 'fontColor=#ffffff;mainText=;buttonStyle=round;fontSize=17;fontStyle=1;fillColor=#008cff;whiteSpace=wrap;',
										150, 50, 'Button Text', 'Button', null, null, this.getTagsForStencil(gn, 'button', dt).join(' ')),

			this.addEntry(dt + 'formatted multibutton multi', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 50), s2 + 'buttons.multiButton;fillColor=#008cff;strokeColor=#666666;mainText=;subText=;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Main Text', new mxGeometry(0, 8, 150, 20), s2 + 'anchor;fontSize=16;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Sub Text', new mxGeometry(0, 30, 150, 10), s2 + 'anchor;fontSize=12;fontColor=#ffffff;fontStyle=1;whiteSpace=wrap;');
			   	button2.vertex = true;
			   	bg.insert(button2);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Formatted Button');
			}),
			
			this.addEntry(dt + 'horizontal bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 500, 50), s2 + 'rrect;rSize=10;fillColor=#ffffff;strokeColor=#666666;');
			   	bg.vertex = true;
			   	var button2 = new mxCell('Button 2', new mxGeometry(0, 0, 125, 50), s2 + 'rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeHeight=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(125, 0);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Button 3', new mxGeometry(0, 0, 125, 50), s2 + 'rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeHeight=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(250, 0);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Button 4', new mxGeometry(1, 0, 125, 50), s2 + 'rightButton;rSize=10;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeHeight=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(-125, 0);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button1 = new mxCell('Button 1', new mxGeometry(0, 0, 125, 50), s2 + 'leftButton;rSize=10;fontSize=17;fontColor=#ffffff;fontStyle=1;fillColor=#008cff;strokeColor=none;resizeHeight=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Horizontal Button Bar');
			}),
			
			this.addEntry(dt + 'vertical bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 120, 200), s2 + 'rrect;rSize=10;fillColor=#ffffff;strokeColor=#666666;');
			   	bg.vertex = true;
			   	var button2 = new mxCell('Button 2', new mxGeometry(0, 0, 120, 50), s2 + 'rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 50);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Button 3', new mxGeometry(0, 0, 120, 50), s2 + 'rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 100);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Button 4', new mxGeometry(0, 1, 120, 50), s2 + 'bottomButton;rSize=10;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, -50);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button1 = new mxCell('Button 1', new mxGeometry(0, 0, 120, 50), s2 + 'topButton;rSize=10;fontSize=17;fontColor=#ffffff;fontStyle=1;fillColor=#008cff;strokeColor=none;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);

			   	return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Vertical Button Bar');
			}),

			this.createVertexTemplateEntry(s2 + 'buttons.onOffButton;fillColor=#ffffff;gradientColor=none;' + skcl9 + 'buttonState=on;fillColor2=#008cff;fontColor=#ffffff;fontSize=17;mainText=;spacingRight=40;fontStyle=1;',
					150, 50, 'ON', 'On-off button', null, null, this.getTagsForStencil(gn, 'onOffButton', dt + 'on off').join(' '))
		];
			
		this.addPalette('mockupButtons', 'Mockup Buttons', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMockupContainersPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
		
		var gn = 'mxgraph.mockup.containers';
		var dt = 'mockup container ';

		var fns =
		[
			this.createVertexTemplateEntry(s + 'containers.videoPlayer;' + skcl6 + 'strokeColor2=#008cff;strokeColor3=#c4c4c4;textColor=#666666;' + flclf + 'fillColor2=#008cff;barHeight=30;barPos=20;',
										300, 200, '', 'Video Player', null, null, this.getTagsForStencil(gn, 'videoPlayer', dt).join(' ')),
			
			this.addEntry(dt + 'accordion', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 100, 220), s2 + 'containers.rrect;rSize=0;fillColor=#ffffff;strokeColor=#666666;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Group 1', new mxGeometry(0, 0, 100, 26), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=none;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Group 2', new mxGeometry(0, 0, 100, 26), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 26);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Group 3', new mxGeometry(0, 0, 100, 26), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#ffffff;fontStyle=1;fillColor=#008cff;strokeColor=#008cff;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 52);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Group 4', new mxGeometry(0, 1, 100, 26), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;fontStyle=1;fillColor=none;strokeColor=#666666;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, -26);
			   	button4.vertex = true;
			   	bg.insert(button4);

		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Accordion');
			}),

			this.addEntry(dt + 'browser window', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 550, 380), s2 + 'containers.browserWindow;rSize=0;fillColor=#ffffff;strokeColor=#666666;mainText=,;recursiveResize=0;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Page 1', new mxGeometry(60, 12, 110, 26), s2 + 'containers.anchor;fontSize=17;fontColor=#666666;align=left;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('https://www.draw.io', new mxGeometry(130, 60, 250, 26), s2 + 'containers.anchor;rSize=0;fontSize=17;fontColor=#666666;align=left;');
			   	button2.vertex = true;
			   	bg.insert(button2);

		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Browser Window');
			}),

		   	this.createVertexTemplateEntry(s + 'containers.userMale;' + skcl6 + 'strokeColor2=#008cff;' + flclf,
										100, 100, '', 'User, Male', null, null, this.getTagsForStencil(gn, 'userMale', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'containers.userFemale;' + skcl6 + 'strokeColor2=#008cff;' + flclf,
										100, 100, '', 'User, Female', null, null, this.getTagsForStencil(gn, 'userFemale', dt).join(' ')),
					
			this.addEntry(dt + 'group', function()
			{
				var area1 = new mxCell('', new mxGeometry(0, 0, 150, 200), 'shape=mxgraph.mockup.containers.marginRect;rectMarginTop=10;strokeColor=#666666;fillColor=#ffffff;strokeWidth=1;dashed=0;rounded=1;arcSize=5;recursiveResize=0;');
				area1.vertex = true;
				var button1 = new mxCell('Group', new mxGeometry(5, 0, 90, 30), 'shape=rect;strokeColor=none;fillColor=#008cff;strokeWidth=1;dashed=0;rounded=1;arcSize=20;fontColor=#ffffff;fontSize=17;spacing=2;spacingTop=-2;align=left;autosize=1;spacingLeft=4;resizeWidth=0;resizeHeight=0;perimeter=none;');
				button1.vertex = true;
				area1.insert(button1);
				
				return sb.createVertexTemplateFromCells([area1], 150, 200, 'Group');
			}),
			
			this.createVertexTemplateEntry(s2 + 'containers.window;align=left;verticalAlign=top;spacingLeft=8;strokeColor2=#008cff;strokeColor3=#c4c4c4;fontColor=#666666;' + flclf + 'mainText=;fontSize=17;labelBackgroundColor=none;',
										550, 380, 'Window Title', 'Window', null, null, this.getTagsForStencil(gn, 'window', dt).join(' ')),

			this.addEntry(dt + 'horizontal tab bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 400, 200), s2 + 'containers.marginRect2;rectMarginTop=32;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Tab 1', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(10, 0);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Tab 2', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#ffffff;strokeColor=#008cff;fillColor=#008cff;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(75, 0);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Tab 3', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(140, 0);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 400, 7), s2 + 'containers.topButton;rSize=5;strokeColor=#008cff;fillColor=#008cff;gradientColor=none;resizeWidth=1;movable=0;deletable=1;');
			   	bg2.vertex = true;
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(0, 25);
			   	bg.insert(bg2);
	
		   		return sb.createVertexTemplateFromCells([bg], 400, 200, 'Horizontal Tab Bar');
			}),

			this.addEntry(dt + 'vertical tab bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 400, 200), s2 + 'containers.marginRect2;rectMarginLeft=67;strokeColor=#666666;fillColor=#ffffff;gradientColor=none;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('Tab 1', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;fillColor=#ffffff;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(0, 10);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Tab 2', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#ffffff;strokeColor=#008cff;fillColor=#008cff;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 40);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Tab 3', new mxGeometry(0, 0, 60, 25), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;fillColor=#ffffff;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 70);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 7, 200), s2 + 'containers.leftButton;rSize=5;strokeColor=#008cff;fillColor=#008cff;resizeHeight=1;movable=0;deletable=0;');
			   	bg2.geometry.relative = true;
			   	bg2.geometry.offset = new mxPoint(60, 0);
			   	bg2.vertex = true;
			   	bg.insert(bg2);
				
		   		return sb.createVertexTemplateFromCells([bg], 400, 200, 'Vertical Tab Bar');
			}),

			this.addEntry(dt + 'dialog box', function()
			{
			   	var bg = new mxCell(
			   			'Some default\ndialog\ntext.', 
			   			new mxGeometry(0, 0, 250, 140), s2 + 'containers.rrect;rSize=0;strokeColor=#666666;fontColor=#666666;fontSize=17;verticalAlign=top;whiteSpace=wrap;fillColor=#ffffff;spacingTop=32;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Dialog Title', new mxGeometry(0, 0, 250, 30), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;align=left;spacingLeft=8;fillColor=none;resizeWidth=1;');
			   	text1.geometry.relative = true;
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), 'shape=ellipse;strokeColor=#008cff;resizable=0;fillColor=none;html=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-25, -10);
			   	button1.vertex = true;
			   	text1.insert(button1);
			   	var button2 = new mxCell('Cancel', new mxGeometry(0.25, 1, 90, 25), s2 + 'containers.rrect;rSize=0;fontSize=16;fontColor=#666666;strokeColor=#c4c4c4;whiteSpace=wrap;fillColor=none;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(-45, -33);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('OK', new mxGeometry(0.75, 1, 90, 25), s2 + 'containers.rrect;rSize=0;fontSize=16;fontColor=#666666;strokeColor=#c4c4c4;whiteSpace=wrap;fillColor=none;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(-45, -33);
			   	button3.vertex = true;
			   	bg.insert(button3);
			
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dialog Box');
			}),

			this.addEntry(dt + 'dialog box', function()
			{
			   	var bg = new mxCell(
			   			'Some default\nmessage\ntext.', 
			   			new mxGeometry(0, 0, 250, 160), s2 + 'containers.rrect;rSize=0;strokeColor=#666666;fontColor=#666666;fontSize=17;verticalAlign=top;whiteSpace=wrap;fillColor=#ffffff;spacingTop=32;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Message Title', new mxGeometry(0, 0, 250, 30), s2 + 'containers.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#666666;align=left;spacingLeft=8;fillColor=#ffffff;resizeWidth=1;');
			   	text1.geometry.relative = true;
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('', new mxGeometry(1, 0.5, 20, 20), 'shape=ellipse;strokeColor=#008cff;resizable=0;fillColor=none;html=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(-25, -10);
			   	button1.vertex = true;
			   	text1.insert(button1);
			   	var button2 = new mxCell('OK', new mxGeometry(0.5, 1, 120, 25), s2 + 'containers.rrect;rSize=0;fontSize=16;fontColor=#666666;strokeColor=#c4c4c4;resizable=0;whiteSpace=wrap;fillColor=#ffffff;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(-60, -33);
			   	button2.vertex = true;
			   	bg.insert(button2);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Dialog Box');
			})
		];
	
		this.addPalette('mockupContainers', 'Mockup Containers', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addMockupFormsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
		
		var gn = 'mxgraph.mockup.forms';
		var dt = 'mockup form ';

		var fns =
		[
			this.createVertexTemplateEntry(s2 + 'forms.rrect;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;', 15, 15, 
					'Option 1', 'Checkbox', null, null, this.getTagsForStencil(gn, 'checkbox', dt).join(' ')),

			this.addEntry(dt + 'checkbox checkboxes', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 120), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;recursiveResize=0;');
			   	bg.vertex = true;
			   	var radio1 = new mxCell('Option 1', new mxGeometry(8, 7.5, 15, 15), s2 + 'forms.rrect;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio1.vertex = true;
			   	bg.insert(radio1);
			   	var radio2 = new mxCell('Option 2', new mxGeometry(8, 37.5, 15, 15), s2 + 'forms.rrect;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio2.vertex = true;
			   	bg.insert(radio2);
			   	var radio3 = new mxCell('Option 3', new mxGeometry(8, 67.5, 15, 15), s2 + 'forms.checkbox;rSize=0;resizable=0;fillColor=#aaaaaa;strokeColor=#444444;gradientColor=#666666;align=left;spacingLeft=4;fontSize=17;fontColor=#008cff;labelPosition=right;');
			   	radio3.vertex = true;
			   	bg.insert(radio3);
			   	var radio4 = new mxCell('Option 4', new mxGeometry(8, 97.5, 15, 15), s2 + 'forms.rrect;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio4.vertex = true;
			   	bg.insert(radio4);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Checkboxes');
			}),
			
			this.createVertexTemplateEntry('shape=ellipse;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;html=1;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;shadow=0;', 15, 15, 
					'Setting 1', 'Radiobutton', null, null, this.getTagsForStencil(gn, 'radiobutton radio button', dt).join(' ')),
					
			this.addEntry(dt + 'radiobutton radio button group', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 150, 120), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;recursiveResize=0;');
			   	bg.vertex = true;
			   	var radio1 = new mxCell('Setting 1', new mxGeometry(8, 7.5, 15, 15), 'shape=ellipse;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;html=1;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio1.vertex = true;
			   	bg.insert(radio1);
			   	var radio2 = new mxCell('Setting 2', new mxGeometry(8, 37.5, 15, 15), 'shape=ellipse;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;html=1;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio2.vertex = true;
			   	bg.insert(radio2);
			   	var radio3 = new mxCell('Setting 3', new mxGeometry(8, 67.5, 15, 15), 'shape=ellipse;rSize=0;fillColor=#aaaaaa;strokeColor=#444444;gradientColor=#666666;html=1;align=left;spacingLeft=4;fontSize=17;fontColor=#008cff;labelPosition=right;');
			   	radio3.vertex = true;
			   	bg.insert(radio3);
			   	var radio3a = new mxCell('', new mxGeometry(3, 3, 9, 9), 'shape=ellipse;fillColor=#444444;strokeColor=none;html=1;');
			   	radio3a.vertex = true;
			   	radio3.insert(radio3a);
			   	var radio4 = new mxCell('Setting 4', new mxGeometry(8, 97.5, 15, 15), 'shape=ellipse;rSize=0;fillColor=#eeeeee;strokeColor=#999999;gradientColor=#cccccc;html=1;align=left;spacingLeft=4;fontSize=17;fontColor=#666666;labelPosition=right;');
			   	radio4.vertex = true;
			   	bg.insert(radio4);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Radiobutton Group');
			}),
			
			this.createVertexTemplateEntry(s + 'forms.colorPicker;chosenColor=#aaddff;fillColor=#ffffff;', 40, 40, '', 'Color Picker', null, null, this.getTagsForStencil(gn, 'colorPicker', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forms.comboBox;' + skcl9 + mxConstants.STYLE_FILLCOLOR + '=#ddeeff;align=left;fillColor2=#aaddff;mainText=;fontColor=#666666;fontSize=17;spacingLeft=3;',
										150, 30, 'Option 1', 'Combo Box', null, null, this.getTagsForStencil(gn, 'comboBox', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forms.spinner;' + skcl9 + 'spinLayout=right;spinStyle=normal;adjStyle=triangle;fillColor=#aaddff;fontSize=17;fontColor=#666666;mainText=;html=1;overflow=fill;',
										150, 60, 
										'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;">' +
										'<tr>' +
										'<td style="width:85%">100</td>' +
										'<td style="width:15%"></td>' +
										'</tr>' +
										'</table>', 
										'Spinner', null, null, this.getTagsForStencil(gn, 'spinner', dt).join(' ')),

			this.addEntry(dt + 'menu bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 498, 30), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var button1 = new mxCell('File', new mxGeometry(0, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('Edit', new mxGeometry(83, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Options', new mxGeometry(166, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Tools', new mxGeometry(249, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('Window', new mxGeometry(332, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var button6 = new mxCell('Help', new mxGeometry(415, 0, 83, 30), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;strokeColor=#999999;fillColor=none;');
			   	button6.vertex = true;
			   	bg.insert(button6);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Menu Bar');
			}),
			
			this.createVertexTemplateEntry(s + 'forms.horSlider;' + skcl9 + flclf + 'sliderStyle=basic;sliderPos=20;handleStyle=circle;fillColor2=#ddeeff;',
										150, 30, '', 'Horizontal Slider', null, null, this.getTagsForStencil(gn, 'horSlider', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(s + 'forms.horSlider;' + skcl9 + flclf + 'sliderStyle=basic;sliderPos=20;handleStyle=circle;fillColor2=#ddeeff;direction=north;',
										30, 150, '', 'Vertical Slider', null, null, this.getTagsForStencil(gn, 'horSlider', dt + 'vertical').join(' ')),

			this.addEntry(dt + 'list box', function()
			{
			   	var bg2 = new mxCell('', new mxGeometry(0, 0, 150, 200), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;');
			   	bg2.vertex = true;
			   	var bg = new mxCell('Title', new mxGeometry(0, 0, 150, 30), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#008cff;fontSize=17;fillColor=#ffffff;resizeWidth=1;');
			   	bg.geometry.relative = true;
			   	bg.vertex = true;
			   	bg2.insert(bg);
			   	var button1 = new mxCell('Item 1', new mxGeometry(0, 0, 150, 20), s2 + 'forms.anchor;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(0, 30);
			   	button1.vertex = true;
			   	bg2.insert(button1);
			   	var button2 = new mxCell('Item 2', new mxGeometry(0, 0, 150, 20), s2 + 'forms.anchor;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(0, 50);
			   	button2.vertex = true;
			   	bg2.insert(button2);
			   	var button3 = new mxCell('Item 3', new mxGeometry(0, 0, 150, 20), s2 + 'forms.rrect;rSize=0;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;fillColor=#ddeeff;strokeColor=none;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(0, 70);
			   	button3.vertex = true;
			   	bg2.insert(button3);
			   	var button4 = new mxCell('Item 4', new mxGeometry(0, 0, 150, 20), s2 + 'forms.anchor;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;resizeWidth=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(0, 90);
			   	button4.vertex = true;
			   	bg2.insert(button4);
				
		   		return sb.createVertexTemplateFromCells([bg2], 150, 200, 'List Box');
			}),
			
			this.createVertexTemplateEntry(s2 + 'forms.pwField;' + skcl9 + 'mainText=;align=left;fillColor=#ffffff;fontColor=#666666;fontSize=17;spacingLeft=3;', 150, 30, '********', 'Password Field', null, null, this.getTagsForStencil(gn, 'pwField', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'forms.splitter;fillColor=#ffffff;' + skcl9, 350, 10, '', 'Horizontal Splitter', null, null, this.getTagsForStencil(gn, 'splitter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'forms.splitter;fillColor=#ffffff;' + skcl9 + mxConstants.STYLE_DIRECTION + '=' + mxConstants.DIRECTION_NORTH + ';', 10, 350, '', 'Vertical Splitter', null, null, this.getTagsForStencil(gn, 'splitter', dt).join(' ')),

			this.addEntry(dt + 'wedge bar', function()
			{
			   	var button1 = new mxCell('Tab 1', new mxGeometry(10, 0, 70, 30), s2 + 'forms.uRect;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;strokeColor=#666666;fillColor=#ffffff;');
			   	button1.vertex = true;
			   	var button2 = new mxCell('Tab 2', new mxGeometry(85, 0, 70, 30), s2 + 'forms.uRect;fontSize=17;fontColor=#ffffff;align=left;spacingLeft=5;strokeColor=#008cff;fillColor=#008cff;');
			   	button2.vertex = true;
			   	var button3 = new mxCell('Tab 3', new mxGeometry(160, 0, 70, 30), s2 + 'forms.uRect;fontSize=17;fontColor=#666666;align=left;spacingLeft=5;strokeColor=#666666;fillColor=#ffffff;');
			   	button3.vertex = true;
				
		   		return sb.createVertexTemplateFromCells([button1, button2, button3], 230, 30, 'Wedge Bar');
			}),
			
			this.createVertexTemplateEntry(s + 'menus_and_buttons.font_style_selector_1;', 136, 31, '', 'Formatting Toolbar 1', null, null, this.getTagsForStencil('mxgraph.mockup.menus_and_buttons', 'font_style_selector_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'menus_and_buttons.font_style_selector_2;', 235, 31, '', 'Formatting Toolbar 2', null, null, this.getTagsForStencil('mxgraph.mockup.menus_and_buttons', 'font_style_selector_2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'menus_and_buttons.font_style_selector_3;', 176, 38, '', 'Formatting Toolbar 3', null, null, this.getTagsForStencil('mxgraph.mockup.menus_and_buttons', 'font_style_selector_3', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forms.searchBox;' + skcl9 + 'mainText=;fillColor=#ffffff;strokeColor2=#008cff;fontColor=#666666;fontSize=17;align=left;spacingLeft=3;',
										150, 30, 'Search', 'Search Box', null, null, this.getTagsForStencil(gn, 'searchBox', dt).join(' ')),

			this.addEntry(dt + 'sign in', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 200, 300), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('Sign In', new mxGeometry(0, 0, 100, 20), s2 + 'forms.anchor;fontSize=12;fontColor=#666666;align=left;resizeWidth=1;spacingLeft=0;');
			   	text1.geometry.relative = true;
			   	text1.geometry.offset = new mxPoint(10, 10);
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('', new mxGeometry(0, 0, 180, 10), 'shape=line;strokeColor=#ddeeff;strokeWidth=2;html=1;resizeWidth=1;');
			   	button1.geometry.relative = true;
			   	button1.geometry.offset = new mxPoint(10, 30);
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var text2 = new mxCell('User Name:', new mxGeometry(0, 0, 100, 20), s2 + 'forms.anchor;fontSize=12;fontColor=#666666;align=left;resizeWidth=1;spacingLeft=0;');
			   	text2.geometry.relative = true;
			   	text2.geometry.offset = new mxPoint(10, 40);
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var button2 = new mxCell('johndoe', new mxGeometry(0, 0, 150, 25), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;align=left;spacingLeft=5;resizeWidth=1;');
			   	button2.geometry.relative = true;
			   	button2.geometry.offset = new mxPoint(10, 60);
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var text3 = new mxCell('Password:', new mxGeometry(0, 0, 100, 20), s2 + 'forms.anchor;fontSize=12;fontColor=#666666;align=left;resizeWidth=1;spacingLeft=0;');
			   	text3.geometry.relative = true;
			   	text3.geometry.offset = new mxPoint(10, 95);
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var button3 = new mxCell('********', new mxGeometry(0, 0, 150, 25), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;align=left;spacingLeft=5;resizeWidth=1;');
			   	button3.geometry.relative = true;
			   	button3.geometry.offset = new mxPoint(10, 115);
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('SIGN IN', new mxGeometry(0, 1, 80, 30), s2 + 'forms.rrect;rSize=5;strokeColor=none;fontColor=#ffffff;fillColor=#66bbff;fontSize=16;fontStyle=1;');
			   	button4.geometry.relative = true;
			   	button4.geometry.offset = new mxPoint(20, -150);
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var text4 = new mxCell('Forgot Password?', new mxGeometry(0, 1, 150, 20), s2 + 'forms.anchor;fontSize=12;fontColor=#9999ff;align=left;spacingLeft=0;fontStyle=4;resizeWidth=1;');
			   	text4.geometry.relative = true;
			   	text4.geometry.offset = new mxPoint(10, -110);
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var button5 = new mxCell('', new mxGeometry(0, 1, 180, 10), 'shape=line;strokeColor=#ddeeff;strokeWidth=2;html=1;resizeWidth=1;');
			   	button5.geometry.relative = true;
			   	button5.geometry.offset = new mxPoint(10, -90);
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var text5 = new mxCell('New User', new mxGeometry(0, 1, 150, 20), s2 + 'forms.anchor;fontSize=12;fontColor=#666666;align=left;spacingLeft=0;resizeWidth=1;');
			   	text5.geometry.relative = true;
			   	text5.geometry.offset = new mxPoint(10, -70);
			   	text5.vertex = true;
			   	bg.insert(text5);
			   	var button6 = new mxCell('SIGN UP', new mxGeometry(0, 1, 80, 30), s2 + 'forms.rrect;rSize=5;strokeColor=none;fontColor=#ffffff;fillColor=#66bbff;fontSize=16;fontStyle=1;');
			   	button6.geometry.relative = true;
			   	button6.geometry.offset = new mxPoint(20, -50);
			   	button6.vertex = true;
			   	bg.insert(button6);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Sign In');
			}),
			
			this.addEntry(dt + 'calendar date', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 160, 175), s2 + 'forms.rrect;rSize=5;strokeColor=#999999;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('October 2014', new mxGeometry(30, 8, 100, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var button1 = new mxCell('<', new mxGeometry(8, 8, 25, 20), s2 + 'forms.rrect;rSize=4;strokeColor=#999999;fontColor=#008cff;fontSize=19;fontStyle=1;');
			   	button1.vertex = true;
			   	bg.insert(button1);
			   	var button2 = new mxCell('>', new mxGeometry(127, 8, 25, 20), s2 + 'forms.rrect;rSize=4;strokeColor=#999999;fontColor=#008cff;fontSize=19;fontStyle=1;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var text2 = new mxCell('Mo', new mxGeometry(10, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('Tu', new mxGeometry(30, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text3.vertex = true;
			   	bg.insert(text3);
			   	var text4 = new mxCell('We', new mxGeometry(50, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text4.vertex = true;
			   	bg.insert(text4);
			   	var text5 = new mxCell('Th', new mxGeometry(70, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text5.vertex = true;
			   	bg.insert(text5);
			   	var text6 = new mxCell('Fr', new mxGeometry(90, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text6.vertex = true;
			   	bg.insert(text6);
			   	var text7 = new mxCell('Sa', new mxGeometry(110, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text7.vertex = true;
			   	bg.insert(text7);
			   	var text8 = new mxCell('Su', new mxGeometry(130, 28, 20, 20), s2 + 'forms.anchor;fontColor=#999999;');
			   	text8.vertex = true;
			   	bg.insert(text8);
			   	var button3 = new mxCell('1', new mxGeometry(10, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('2', new mxGeometry(30, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button5 = new mxCell('3', new mxGeometry(50, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button5.vertex = true;
			   	bg.insert(button5);
			   	var button6 = new mxCell('4', new mxGeometry(70, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button6.vertex = true;
			   	bg.insert(button6);
			   	var button7 = new mxCell('5', new mxGeometry(90, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button7.vertex = true;
			   	bg.insert(button7);
			   	var button8 = new mxCell('6', new mxGeometry(110, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button8.vertex = true;
			   	bg.insert(button8);
			   	var button9 = new mxCell('7', new mxGeometry(130, 48, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button9.vertex = true;
			   	bg.insert(button9);
			   	var button10 = new mxCell('8', new mxGeometry(10, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button10.vertex = true;
			   	bg.insert(button10);
			   	var button11 = new mxCell('9', new mxGeometry(30, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button11.vertex = true;
			   	bg.insert(button11);
			   	var button12 = new mxCell('10', new mxGeometry(50, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button12.vertex = true;
			   	bg.insert(button12);
			   	var button13 = new mxCell('11', new mxGeometry(70, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button13.vertex = true;
			   	bg.insert(button13);
			   	var button14 = new mxCell('12', new mxGeometry(90, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button14.vertex = true;
			   	bg.insert(button14);
			   	var button15 = new mxCell('13', new mxGeometry(110, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button15.vertex = true;
			   	bg.insert(button15);
			   	var button16 = new mxCell('14', new mxGeometry(130, 68, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button16.vertex = true;
			   	bg.insert(button16);
			   	var button17 = new mxCell('15', new mxGeometry(10, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button17.vertex = true;
			   	bg.insert(button17);
			   	var button18 = new mxCell('16', new mxGeometry(30, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button18.vertex = true;
			   	bg.insert(button18);
			   	var button19 = new mxCell('17', new mxGeometry(50, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button19.vertex = true;
			   	bg.insert(button19);
			   	var button20 = new mxCell('18', new mxGeometry(70, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button20.vertex = true;
			   	bg.insert(button20);
			   	var button21 = new mxCell('19', new mxGeometry(90, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button21.vertex = true;
			   	bg.insert(button21);
			   	var button22 = new mxCell('20', new mxGeometry(110, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button22.vertex = true;
			   	bg.insert(button22);
			   	var button23 = new mxCell('21', new mxGeometry(130, 88, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button23.vertex = true;
			   	bg.insert(button23);
			   	var button24 = new mxCell('22', new mxGeometry(10, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button24.vertex = true;
			   	bg.insert(button24);
			   	var button25 = new mxCell('23', new mxGeometry(30, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button25.vertex = true;
			   	bg.insert(button25);
			   	var button27 = new mxCell('25', new mxGeometry(70, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button27.vertex = true;
			   	bg.insert(button27);
			   	var button28 = new mxCell('26', new mxGeometry(90, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button28.vertex = true;
			   	bg.insert(button28);
			   	var button29 = new mxCell('27', new mxGeometry(110, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button29.vertex = true;
			   	bg.insert(button29);
			   	var button30 = new mxCell('28', new mxGeometry(130, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button30.vertex = true;
			   	bg.insert(button30);
			   	var button31 = new mxCell('29', new mxGeometry(10, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button31.vertex = true;
			   	bg.insert(button31);
			   	var button32 = new mxCell('30', new mxGeometry(30, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button32.vertex = true;
			   	bg.insert(button32);
			   	var button33 = new mxCell('31', new mxGeometry(50, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;');
			   	button33.vertex = true;
			   	bg.insert(button33);
			   	var button34 = new mxCell('1', new mxGeometry(70, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button34.vertex = true;
			   	bg.insert(button34);
			   	var button35 = new mxCell('2', new mxGeometry(90, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button35.vertex = true;
			   	bg.insert(button35);
			   	var button36 = new mxCell('3', new mxGeometry(110, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button36.vertex = true;
			   	bg.insert(button36);
			   	var button37 = new mxCell('4', new mxGeometry(130, 128, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button37.vertex = true;
			   	bg.insert(button37);
			   	var button38 = new mxCell('5', new mxGeometry(10, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button38.vertex = true;
			   	bg.insert(button38);
			   	var button39 = new mxCell('6', new mxGeometry(30, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button39.vertex = true;
			   	bg.insert(button39);
			   	var button40 = new mxCell('7', new mxGeometry(50, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button40.vertex = true;
			   	bg.insert(button40);
			   	var button41 = new mxCell('8', new mxGeometry(70, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button41.vertex = true;
			   	bg.insert(button41);
			   	var button42 = new mxCell('9', new mxGeometry(90, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button42.vertex = true;
			   	bg.insert(button42);
			   	var button43 = new mxCell('10', new mxGeometry(110, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button43.vertex = true;
			   	bg.insert(button43);
			   	var button44 = new mxCell('11', new mxGeometry(130, 148, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#999999;fontColor=#999999;fillColor=#ddeeff;');
			   	button44.vertex = true;
			   	bg.insert(button44);
			   	var button26 = new mxCell('24', new mxGeometry(50, 108, 20, 20), s2 + 'forms.rrect;rSize=0;strokeColor=#ff0000;fontColor=#ffffff;strokeWidth=2;fillColor=#008cff;');
			   	button26.vertex = true;
			   	bg.insert(button26);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Calendar');
			}),
			
			this.addEntry(dt + 'email', function()
			{
			   	var text1 = new mxCell('From', new mxGeometry(0, 0, 50, 18), s2 + 'forms.anchor;align=right;spacingRight=2;fontColor=#666666;');
			   	text1.vertex = true;
			   	var button1 = new mxCell('john@jgraph.com', new mxGeometry(50, 0, 350, 18), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;');
			   	button1.vertex = true;
			   	var text2 = new mxCell('Subject', new mxGeometry(0, 35, 50, 18), s2 + 'forms.anchor;align=right;spacingRight=2;fontColor=#666666;');
			   	text2.vertex = true;
			   	var button2 = new mxCell('Greeting', new mxGeometry(50, 35, 350, 18), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;');
			   	button2.vertex = true;
			   	var text3 = new mxCell('To', new mxGeometry(0, 70, 50, 18), s2 + 'forms.anchor;align=right;spacingRight=2;fontColor=#666666;');
			   	text3.vertex = true;
			   	var button3 = new mxCell('fred@jgraph.com', new mxGeometry(50, 70, 350, 18), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;');
			   	button3.vertex = true;
			   	var text4 = new mxCell('CC', new mxGeometry(0, 105, 50, 18), s2 + 'forms.anchor;align=right;spacingRight=2;fontColor=#666666;');
			   	text4.vertex = true;
			   	var button4 = new mxCell('', new mxGeometry(50, 105, 350, 18), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;');
			   	button4.vertex = true;
			   	var text5 = new mxCell('BCC', new mxGeometry(0, 140, 50, 18), s2 + 'forms.anchor;align=right;spacingRight=2;fontColor=#666666;');
			   	text5.vertex = true;
			   	var button5 = new mxCell('', new mxGeometry(50, 140, 350, 18), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;');
			   	button5.vertex = true;
			   	var button6 = new mxCell(
			   			'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco ' + 
			   			'laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat ' + 
			   			'non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
			   			new mxGeometry(0, 175, 400, 125), s2 + 'forms.rrect;fillColor=#ffffff;rSize=0;fontColor=#666666;align=left;spacingLeft=3;strokeColor=#999999;verticalAlign=top;whiteSpace=wrap;');
			   	button6.vertex = true;
				
		   		return sb.createVertexTemplateFromCells([text1, button1, text2, button2, text3, button3, text4, button4, text5, button5, button6], 400, 300, 'Email');
			})
		];			
		
		this.addPalette('mockupForms', 'Mockup Forms', false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addMockupGraphicsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
	
		var gn = 'mxgraph.mockup.graphics';
		var dt = 'mockup graphics ';

		var fns =
		[
			this.createVertexTemplateEntry(s + 'graphics.barChart;' + flclf +  skclN + 'strokeColor2=none;strokeColor3=#666666;fillColor2=#008cff;fillColor3=#dddddd;',
					400, 200, '', 'Bar Chart', null, null, this.getTagsForStencil(gn, 'barChart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'graphics.columnChart;' + flclf +  skclN + 'strokeColor2=none;strokeColor3=#666666;fillColor2=#008cff;fillColor3=#dddddd;',
					400, 200, '', 'Column Chart', null, null, this.getTagsForStencil(gn, 'columnChart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'graphics.lineChart;' + flclf +  skclN + 'strokeColor2=#666666;strokeColor3=#008cff;strokeColor4=#dddddd;',
					400, 200, '', 'Line Chart', null, null, this.getTagsForStencil(gn, 'lineChart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'graphics.pieChart;' +  mxConstants.STYLE_STROKECOLOR + '=#008cff;parts=10,20,35;partColors=#e0e0e0,#d0d0d0,#c0c0c0,#b0b0b0,#a0a0a0;strokeWidth=2;',
					200, 200, '', 'Pie Chart', null, null, this.getTagsForStencil(gn, 'pieChart', dt).join(' ')),
			
			this.createVertexTemplateEntry(s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;', 
					50, 50, '', 'Icon Placeholder', null, null, this.getTagsForStencil(gn, 'simpleIcon', dt + 'icon placeholder').join(' ')),
			
			this.addEntry(dt + 'icon grid placeholder', function()
			{
			   	var bg1 = new mxCell('', new mxGeometry(0, 0, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg1.vertex = true;
			   	var bg2 = new mxCell('', new mxGeometry(75, 0, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg2.vertex = true;
			   	var bg3 = new mxCell('', new mxGeometry(150, 0, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg3.vertex = true;
			   	var bg4 = new mxCell('', new mxGeometry(0, 75, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg4.vertex = true;
			   	var bg5 = new mxCell('', new mxGeometry(75, 75, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg5.vertex = true;
			   	var bg6 = new mxCell('', new mxGeometry(150, 75, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg6.vertex = true;
			   	var bg7 = new mxCell('', new mxGeometry(0, 150, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg7.vertex = true;
			   	var bg8 = new mxCell('', new mxGeometry(75, 150, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg8.vertex = true;
			   	var bg9 = new mxCell('', new mxGeometry(150, 150, 50, 50), s + 'graphics.simpleIcon;strokeColor=#999999;fillColor=#ffffff;');
			   	bg9.vertex = true;
			
		   		return sb.createVertexTemplateFromCells([bg1, bg2, bg3, bg4, bg5, bg6, bg7, bg8, bg9], 200, 200, 'Icon Grid');
			}),
	
			this.createVertexTemplateEntry(s + 'graphics.bubbleChart;' + flclf +  skclN + 'strokeColor2=none;strokeColor3=#666666;fillColor2=#008cff;fillColor3=#dddddd;',
										400, 200, '', 'Bubble Chart', null, null, this.getTagsForStencil(gn, 'bubbleChart', dt + 'bubble chart').join(' ')),
	
			this.addEntry(dt + 'gauge', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 100, 100), s + 'graphics.gauge;fillColor=#ffffff;strokeColor=#999999;gaugePos=25;scaleColors=#bbddff,#ddeeff,#99ccff;gaugeLabels=,,;needleColor=#008cff;');
			   	bg.vertex = true;
			   	var text1 = new mxCell('CPU[%]', new mxGeometry(25, 20, 50, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	text1.vertex = true;
			   	bg.insert(text1);
			   	var text2 = new mxCell('0', new mxGeometry(20, 75, 50, 20), s2 + 'graphics.anchor;align=left;fontColor=#666666;');
			   	text2.vertex = true;
			   	bg.insert(text2);
			   	var text3 = new mxCell('100', new mxGeometry(30, 75, 50, 20), s2 + 'graphics.anchor;align=right;fontColor=#666666;');
			   	text3.vertex = true;
			   	bg.insert(text3);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Gauge');
			}),
			
			this.createVertexTemplateEntry(s + 'graphics.plotChart;' + flclf +  mxConstants.STYLE_STROKECOLOR + '=none;strokeColor2=#aaaaaa;strokeColor3=#666666;fillColor2=#99aaff,#0022ff,#008cff;',
										400, 200, '', 'Plot Chart', null, null, this.getTagsForStencil(gn, 'plotChart', dt + 'plot chart').join(' ')),
			
			this.addEntry(dt + 'gantt chart', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 600, 300), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;');
			   	bg.vertex = true;
			   	var cell1 = new mxCell('#', new mxGeometry(0, 0, 20, 40), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell1.vertex = true;
			   	bg.insert(cell1);
			   	var cell2 = new mxCell('Task', new mxGeometry(20, 0, 40, 40), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell2.vertex = true;
			   	bg.insert(cell2);
			   	var cell3 = new mxCell('Start', new mxGeometry(60, 0, 130, 40), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell3.vertex = true;
			   	bg.insert(cell3);
			   	var cell4 = new mxCell('Effort', new mxGeometry(190, 0, 50, 40), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell4.vertex = true;
			   	bg.insert(cell4);
			   	var cell5 = new mxCell('20//10//2014', new mxGeometry(240, 0, 210, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell5.vertex = true;
			   	bg.insert(cell5);
			   	var cell6 = new mxCell('27//10//2014', new mxGeometry(450, 0, 150, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell6.vertex = true;
			   	bg.insert(cell6);
			   	var cell7 = new mxCell('M', new mxGeometry(240, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell7.vertex = true;
			   	bg.insert(cell7);
			   	var cell8 = new mxCell('T', new mxGeometry(270, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell8.vertex = true;
			   	bg.insert(cell8);
			   	var cell9 = new mxCell('W', new mxGeometry(300, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell9.vertex = true;
			   	bg.insert(cell9);
			   	var cell10 = new mxCell('T', new mxGeometry(330, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell10.vertex = true;
			   	bg.insert(cell10);
			   	var cell11 = new mxCell('F', new mxGeometry(360, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell11.vertex = true;
			   	bg.insert(cell11);
			   	var cell12 = new mxCell('S', new mxGeometry(390, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell12.vertex = true;
			   	bg.insert(cell12);
			   	var cell13 = new mxCell('S', new mxGeometry(420, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell13.vertex = true;
			   	bg.insert(cell13);
			   	var cell14 = new mxCell('M', new mxGeometry(450, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell14.vertex = true;
			   	bg.insert(cell14);
			   	var cell15 = new mxCell('T', new mxGeometry(480, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell15.vertex = true;
			   	bg.insert(cell15);
			   	var cell16 = new mxCell('W', new mxGeometry(510, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell16.vertex = true;
			   	bg.insert(cell16);
			   	var cell17 = new mxCell('T', new mxGeometry(540, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell17.vertex = true;
			   	bg.insert(cell17);
			   	var cell18 = new mxCell('F', new mxGeometry(570, 20, 30, 20), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell18.vertex = true;
			   	bg.insert(cell18);
			   	var cell19 = new mxCell('', new mxGeometry(0, 40, 240, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell19.vertex = true;
			   	bg.insert(cell19);
			   	var cell20 = new mxCell('', new mxGeometry(240, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell20.vertex = true;
			   	bg.insert(cell20);
			   	var cell21 = new mxCell('', new mxGeometry(300, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell21.vertex = true;
			   	bg.insert(cell21);
			   	var cell22 = new mxCell('', new mxGeometry(360, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell22.vertex = true;
			   	bg.insert(cell22);
			   	var cell23 = new mxCell('', new mxGeometry(420, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell23.vertex = true;
			   	bg.insert(cell23);
			   	var cell24 = new mxCell('', new mxGeometry(480, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell24.vertex = true;
			   	bg.insert(cell24);
			   	var cell25 = new mxCell('', new mxGeometry(540, 40, 60, 260), s2 + 'graphics.rrect;rSize=0;strokeColor=#999999;fontColor=#666666;');
			   	cell25.vertex = true;
			   	bg.insert(cell25);
			   	var cell26 = new mxCell('1', new mxGeometry(0, 40, 20, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell26.vertex = true;
			   	bg.insert(cell26);
			   	var cell27 = new mxCell('Task 1', new mxGeometry(20, 40, 40, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell27.vertex = true;
			   	bg.insert(cell27);
			   	var cell28 = new mxCell('20//10//2014 8:00 AM', new mxGeometry(60, 40, 130, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell28.vertex = true;
			   	bg.insert(cell28);
			   	var cell29 = new mxCell('40h', new mxGeometry(190, 40, 50, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell29.vertex = true;
			   	bg.insert(cell29);
			   	var cell30 = new mxCell('2', new mxGeometry(0, 60, 20, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell30.vertex = true;
			   	bg.insert(cell30);
			   	var cell32 = new mxCell('Task 2', new mxGeometry(20, 60, 40, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell32.vertex = true;
			   	bg.insert(cell32);
			   	var cell33 = new mxCell('20//10//2014 8:00 AM', new mxGeometry(60, 60, 130, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell33.vertex = true;
			   	bg.insert(cell33);
			   	var cell34 = new mxCell('40h', new mxGeometry(190, 60, 50, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell34.vertex = true;
			   	bg.insert(cell34);
			   	var cell35 = new mxCell('3', new mxGeometry(0, 80, 20, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell35.vertex = true;
			   	bg.insert(cell35);
			   	var cell36 = new mxCell('Task 3', new mxGeometry(20, 80, 40, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell36.vertex = true;
			   	bg.insert(cell36);
			   	var cell37 = new mxCell('20//10//2014 8:00 AM', new mxGeometry(60, 80, 130, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell37.vertex = true;
			   	bg.insert(cell37);
			   	var cell38 = new mxCell('40h', new mxGeometry(190, 80, 50, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell38.vertex = true;
			   	bg.insert(cell38);
			   	var cell39 = new mxCell('4', new mxGeometry(0, 100, 20, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell39.vertex = true;
			   	bg.insert(cell39);
			   	var cell40 = new mxCell('Task 4', new mxGeometry(20, 100, 40, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell40.vertex = true;
			   	bg.insert(cell40);
			   	var cell41 = new mxCell('20//10//2014 8:00 AM', new mxGeometry(60, 100, 130, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell41.vertex = true;
			   	bg.insert(cell41);
			   	var cell42 = new mxCell('40h', new mxGeometry(190, 100, 50, 20), s2 + 'graphics.anchor;fontColor=#666666;');
			   	cell42.vertex = true;
			   	bg.insert(cell42);
			   	var cell43 = new mxCell('', new mxGeometry(250, 45, 130, 10), s2 + 'graphics.rrect;rSize=0;strokeColor=none;fillColor=#aaddff;');
			   	cell43.vertex = true;
			   	bg.insert(cell43);
			   	var cell44 = new mxCell('', new mxGeometry(250, 65, 40, 10), s2 + 'graphics.rrect;rSize=0;strokeColor=none;fillColor=#aaddff;');
			   	cell44.vertex = true;
			   	bg.insert(cell44);
			   	var cell46 = new mxCell('', new mxGeometry(280, 85, 100, 10), s2 + 'graphics.rrect;rSize=0;strokeColor=none;fillColor=#aaddff;');
			   	cell46.vertex = true;
			   	bg.insert(cell46);
			   	var cell47 = new mxCell('', new mxGeometry(340, 105, 70, 10), s2 + 'graphics.rrect;rSize=0;strokeColor=none;fillColor=#aaddff;');
			   	cell47.vertex = true;
			   	bg.insert(cell47);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Gantt Chart');
			}),
			
			this.createVertexTemplateEntry(s + 'misc.map;', 250, 250, '', 'Map', null, null, this.getTagsForStencil(gn, 'map', dt).join(' '))
		];
		
		this.addPalette('mockupGraphics', 'Mockup Graphics', false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addMockupMarkupPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
	
		var gn = 'mxgraph.mockup.markup';
		var dt = '';
		
		this.addPaletteFunctions('mockupMarkup', 'Mockup Markup', false,
		[
			this.createVertexTemplateEntry(s + 'markup.curlyBrace;' + skcl9, 
					100, 20, '', 'Horizontal Curly Brace', null, null, this.getTagsForStencil(gn, 'curlyBrace', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_LABEL_POSITION + '=right;' + mxConstants.STYLE_ALIGN + '=left;strokeWidth=1;' + mxConstants.STYLE_SHAPE + '=mxgraph.mockup.markup.curlyBrace;html=1;shadow=0;dashed=0;' + skcl9 + mxConstants.STYLE_DIRECTION + '=' + mxConstants.DIRECTION_NORTH + ';', 
					20, 100, '', 'Vertical Curly Brace', null, null, this.getTagsForStencil(gn, 'curlyBrace', dt + 'vertical').join(' ')),
			this.createVertexTemplateEntry(s + 'markup.line;' + skcl9, 
					100, 20, '', 'Horizontal Line', null, null, this.getTagsForStencil(gn, 'line', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(s + 'markup.line;' + skcl9 + mxConstants.STYLE_DIRECTION + '=' + mxConstants.DIRECTION_NORTH + ';', 
					20, 100, '', 'Vertical Line', null, null, this.getTagsForStencil(gn, 'line', dt + 'vertical').join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.mockup.markup.scratchOut;shadow=0;dashed=0;html=1;' + skcl9 + 'strokeWidth=4;',
					200, 100, '', 'Scratch Out', null, null, this.getTagsForStencil(gn, 'scratchOut', dt + 'scratch out').join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.mockup.markup.redX;fillColor=#ff0000;html=1;shadow=0;' + skclN, 
					200, 100, '', 'Red X', null, null, this.getTagsForStencil(gn, 'redX', dt + 'red').join(' '))
		]);
	};
	
	Sidebar.prototype.addMockupMiscPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
	
		var gn = 'mxgraph.mockup.misc';
		var dt = 'mockup ';
		var miscCommon = skcl9 + mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;fillColor=#ffffff;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=2;html=1;' + mxConstants.STYLE_SHAPE + '=mxgraph.mockup.';

		var fns =
		[
			this.createVertexTemplateEntry(s + 'misc.help_icon;', 
					32, 32, '', 'Help Icon', null, null, this.getTagsForStencil(gn, 'help_icon', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.playbackControls;fillColor=#ffffff;' + skcl9 + 'fillColor2=#99ddff;strokeColor2=none;fillColor3=#ffffff;strokeColor3=none;',
					250, 30, '', 'Playback Controls', null, null, this.getTagsForStencil(gn, 'playbackControls', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.progressBar;fillColor=#cccccc;' + skclN + 'fillColor2=#99ddff;barPos=80;', 200, 20, '', 'Progress Bar', null, null, this.getTagsForStencil(gn, 'progress bar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.shoppingCart;' + skcl9, 
					50, 50, '', 'Shopping Cart', null, null, this.getTagsForStencil(gn, 'shopping cart', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.rating;' + skcl9 + mxConstants.STYLE_FILLCOLOR + '=#ffff00;emptyFillColor=#ffffff;grade=4;ratingScale=5;ratingStyle=star;',
					225, 30, '', 'Rating', null, null, this.getTagsForStencil(gn, 'rating', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.mail2;fillColor=#ffffff;' + skcl9, 100, 60, '', 'Mail', null, null, this.getTagsForStencil(gn, 'mail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.volumeSlider;barPos=80;fillColor=#cccccc;' + skcl9 + 'fillColor2=#ddeeff;', 
					250, 30, '', 'Volume Slider', null, null, this.getTagsForStencil(gn, 'volume slider', dt).join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.editIcon;', 
					50, 50, '', 'Edit Icon', null, null, this.getTagsForStencil(gn, 'editIcon', dt + 'edit icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.printIcon;', 
					50, 50, '', 'Print Icon', null, null, this.getTagsForStencil(gn, 'printIcon', dt + 'print icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.shareIcon;', 
					50, 50, '', 'Share Icon', null, null, this.getTagsForStencil(gn, 'shareIcon', dt + 'share icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.trashcanIcon;', 
					50, 50, '', 'Trashcan Icon', null, null, this.getTagsForStencil(gn, 'trashcanIcon', dt + 'trashcan icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.copyrightIcon;', 
					25, 25, '', 'Copyright', null, null, this.getTagsForStencil(gn, 'copyrightIcon', dt + 'copyright icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.registeredIcon;', 
					25, 25, '', 'Registered', null, null, this.getTagsForStencil(gn, 'registeredIcon', dt + 'registered icon').join(' ')),
			this.createVertexTemplateEntry(miscCommon + 'misc.volumeIcon;', 
					25, 25, '', 'Volume', null, null, this.getTagsForStencil(gn, 'volumeIcon', dt + 'volume icon').join(' ')),
			this.createVertexTemplateEntry(s2 + 'misc.ruler2;dx=100;rulerOrient=down;unitSize=10;fillColor=#ffffff;fontColor=#999999;spacingLeft=96;align=left;verticalAlign=middle;spacingBottom=10;spacingTop=0;spacingRight=0;spacing=0;' + skcl9, 
					350, 30, '1', 'Horizontal Ruler', null, null, this.getTagsForStencil(gn, 'ruler', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(s2 + 'misc.ruler2;dx=100;rulerOrient=up;unitSize=10;fillColor=#ffffff;fontColor=#999999;spacingLeft=96;align=left;verticalAlign=middle;spacingBottom=0;spacingTop=10;spacingRight=0;spacing=0;' + skcl9, 
					350, 30, '1', 'Horizontal Ruler', null, null, this.getTagsForStencil(gn, 'ruler', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(s2 + 'misc.ruler2;dx=100;rulerOrient=down;unitSize=10;fillColor=#ffffff;fontColor=#999999;spacingLeft=96;align=left;verticalAlign=middle;spacingBottom=10;spacingTop=0;spacingRight=0;rotation=-90;spacing=0;' + skcl9, 
					350, 30, '1', 'Vertical Ruler', null, null, this.getTagsForStencil(gn, 'ruler', dt + 'horizontal').join(' ')),
			this.createVertexTemplateEntry(s2 + 'misc.ruler2;dx=100;rulerOrient=up;unitSize=10;fillColor=#ffffff;fontColor=#999999;spacingLeft=96;align=left;verticalAlign=middle;spacingBottom=0;spacingTop=10;spacingRight=0;rotation=-90;spacing=0;' + skcl9, 
					350, 30, '1', 'Vertical Ruler', null, null, this.getTagsForStencil(gn, 'ruler', dt + 'horizontal').join(' ')),

			this.addEntry(dt + 'revision table', function()
			{
				var bg = new mxCell('', new mxGeometry(0, 0, 400, 75), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;');
			   	bg.vertex = true;
			   	var cell1 = new mxCell('REVISION HISTORY', new mxGeometry(0, 0, 400, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell1.vertex = true;
			   	bg.insert(cell1);
			   	var cell2 = new mxCell('REV', new mxGeometry(0, 25, 50, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell2.vertex = true;
			   	bg.insert(cell2);
			   	var cell3 = new mxCell('DATE', new mxGeometry(50, 25, 150, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell3.vertex = true;
			   	bg.insert(cell3);
			   	var cell4 = new mxCell('DESCRIPTION', new mxGeometry(200, 25, 200, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell4.vertex = true;
			   	bg.insert(cell4);
			   	var cell6 = new mxCell('A', new mxGeometry(0, 50, 50, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell6.vertex = true;
			   	bg.insert(cell6);
			   	var cell7 = new mxCell('10/23/2014', new mxGeometry(50, 50, 150, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell7.vertex = true;
			   	bg.insert(cell7);
			   	var cell8 = new mxCell('Design modified', new mxGeometry(200, 50, 200, 25), s2 + 'misc.rrect;rSize=0;strokeColor=#666666;fontSize=17;fontColor=#999999;');
			   	cell8.vertex = true;
			   	bg.insert(cell8);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Revision Table');
			}),

			this.addEntry(dt + 'status bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 500, 30), s2 + 'misc.rrect;rSize=0;strokeColor=#999999;fillColor=#ffffff;');
			   	bg.vertex = true;
			   	var cell1 = new mxCell('Status text', new mxGeometry(5, 5, 195, 20), s2 + 'misc.rrect;rSize=5;strokeColor=none;fontSize=15;fontColor=#999999;fillColor=#ddeeff;align=left;spacingLeft=5;');
			   	cell1.vertex = true;
			   	bg.insert(cell1);
			   	var cell2 = new mxCell('Text 2', new mxGeometry(205, 5, 100, 20), s2 + 'misc.rrect;rSize=5;strokeColor=none;fontSize=15;fontColor=#999999;fillColor=#ddeeff;align=left;spacingLeft=5;');
			   	cell2.vertex = true;
			   	bg.insert(cell2);
			   	var cell3 = new mxCell('Text 3', new mxGeometry(310, 5, 115, 20), s2 + 'misc.rrect;rSize=5;strokeColor=none;fontSize=15;fontColor=#999999;fillColor=#ddeeff;align=left;spacingLeft=5;');
			   	cell3.vertex = true;
			   	bg.insert(cell3);
			   	var anchor1 = new mxCell('', new mxGeometry(495, 15, 0, 0), s2 + 'misc.anchor;');
			   	anchor1.vertex = true;
			   	bg.insert(anchor1);
			   	var button1 = new mxCell('', new mxGeometry(-20, -10, 20, 20), 'shape=ellipse;fillColor=none;strokeColor=#008cff;resizable=0;html=1;');
			   	button1.vertex = true;
			   	anchor1.insert(button1);
			   	var anchor2 = new mxCell('', new mxGeometry(465, 15, 0, 0), s2 + 'misc.anchor;');
			   	anchor2.vertex = true;
			   	bg.insert(anchor2);
			   	var button2 = new mxCell('', new mxGeometry(-20, 5, 20, 10), 'shape=line;strokeColor=#008cff;resizable=0;');
			   	button2.vertex = true;
			   	anchor2.insert(button2);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Status Bar');
			}),

			this.createVertexTemplateEntry(s3 + 'misc.pin;fillColor2=#00dd00;fillColor3=#004400;strokeColor=#006600;',
										10, 25, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'misc.pin;fillColor2=#dd0000;fillColor3=#440000;strokeColor=#660000;',
										10, 25, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'misc.pin;fillColor2=#ccccff;fillColor3=#0000ff;strokeColor=#000066;',
										10, 25, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'misc.pin;fillColor2=#ffff00;fillColor3=#888800;strokeColor=#999900;',
										10, 25, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' ')),
			this.createVertexTemplateEntry(s3 + 'misc.pin;fillColor2=#ffa500;fillColor3=#885000;strokeColor=#997000;',
										10, 25, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' '))
		];
		
		this.addPalette('mockupMisc', 'Mockup Misc', false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addMockupNavigationPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
	
		var gn = 'mxgraph.mockup.navigation';
		var dt = 'mockup navigation ';
		var miscCommon = skcl9 + mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;fillColor=#ffffff;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=2;html=1;' + mxConstants.STYLE_SHAPE + '=mxgraph.mockup.';

		var fns =
		[
			this.addEntry(dt + 'status bar', function()
			{
				var text1 = new mxCell('Layer 1', new mxGeometry(0, 0, 60, 30), s2 + 'navigation.anchor;fontSize=17;fontColor=#666666;fontStyle=1;');
			   	text1.vertex = true;
			   	var text2 = new mxCell('>', new mxGeometry(60, 0, 20, 30), s2 + 'navigation.anchor;fontSize=24;fontColor=#aaaaaa;fontStyle=1;');
			   	text2.vertex = true;
			   	var text3 = new mxCell('Layer 2', new mxGeometry(80, 0, 60, 30), s2 + 'navigation.anchor;fontSize=17;fontColor=#666666;fontStyle=1;');
			   	text3.vertex = true;
			   	var text4 = new mxCell('>', new mxGeometry(140, 0, 20, 30), s2 + 'navigation.anchor;fontSize=24;fontColor=#aaaaaa;fontStyle=1;');
			   	text4.vertex = true;
			   	var text5 = new mxCell('Layer 3', new mxGeometry(160, 0, 60, 30), s2 + 'navigation.anchor;fontSize=17;fontColor=#666666;fontStyle=1;');
			   	text5.vertex = true;
			   	var text6 = new mxCell('>', new mxGeometry(220, 0, 20, 30), s2 + 'navigation.anchor;fontSize=24;fontColor=#aaaaaa;fontStyle=1;');
			   	text6.vertex = true;
			   	var text7 = new mxCell('Layer 4', new mxGeometry(240, 0, 60, 30), s2 + 'navigation.anchor;fontSize=17;fontColor=#008cff;fontStyle=1;');
			   	text7.vertex = true;
				
		   		return sb.createVertexTemplateFromCells([text1, text2, text3, text4, text5, text6, text7], 300, 30, 'Status Bar');
			}),
			
			this.createVertexTemplateEntry(s2 + 'navigation.stepBar;strokeColor=#c4c4c4;textColor=#666666;textColor2=#008cff;mainText=,,+,;textSize=17;fillColor=#666666;overflow=fill;fontSize=17;fontColor=#666666;', 300, 50, 
				'<table border="0" cellpadding="0" cellspacing="0" width="100%" height="100%" style="font-size:1em;">' +
				'<tr height="0%"><td width="25%">Layer 1</td><td width="25%">Layer 2</td><td width="25%" style="color:#008cff;">Layer 3</td><td width="25%">Layer 4</td></tr><tr height="100%"><td/></tr></table>', 
				'Step Bar', null, null, this.getTagsForStencil(gn, 'stepBar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation.coverFlow;strokeColor=#999999;fillColor=#ffffff;',
				400, 200, '', 'Cover Flow', null, null, this.getTagsForStencil(gn, 'coverFlow', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation.scrollBar;fillColor=#ffffff;' + skcl9 + 'barPos=20;fillColor2=#99ddff;strokeColor2=none;',
				200, 20, '', 'Horizontal Scroll Bar', null, null, this.getTagsForStencil(gn, 'scrollBar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation.scrollBar;fillColor=#ffffff;' + skcl9 + 'barPos=20;fillColor2=#99ddff;strokeColor2=none;direction=north;',
				20, 200, '', 'Vertical Scroll Bar', null, null, this.getTagsForStencil(gn, 'scrollBar', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'navigation.pagination;linkText=;fontSize=17;fontColor=#0000ff;fontStyle=4;',
				350, 30, '<< Prev 1 2 3 4 5 6 7 8 9 10 Next >>', 'Pagination', null, null, this.getTagsForStencil(gn, 'pagination', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation.pageControl;fillColor=#999999;strokeColor=#ddeeff;',
				100, 30, '', 'Page Control', null, null, this.getTagsForStencil(gn, 'pageControl', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation.mapNavigator;fillColor=#ffffff;fillColor2=#99ddff;strokeColor2=none;strokeColor3=#ffffff;' + skcl9,
				60, 100, '', 'Map Navigator', null, null, this.getTagsForStencil(gn, 'mapNavigator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.loading_circle_1;', 90, 90, '', 'Wheel Throbber 1', null, null, this.getTagsForStencil(gn, 'loading_circle_1', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.loading_circle_2;', 90, 90, '', 'Wheel Throbber 2', null, null, this.getTagsForStencil(gn, 'loading_circle_2', dt).join(' '))
		];	
			
		this.addPalette('mockupNavigation', 'Mockup Navigation', false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
	Sidebar.prototype.addMockupTextPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s2 =mxConstants.STYLE_STROKEWIDTH + '=1;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";
		var s3 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=top;shadow=0;dashed=0;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;strokeWidth=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.mockup.";

		// Space savers
		var skcl6 = mxConstants.STYLE_STROKECOLOR + '=#666666;';
		var skcl9 = mxConstants.STYLE_STROKECOLOR + '=#999999;';
		var flclf = mxConstants.STYLE_FILLCOLOR + '=#ffffff;';
		var skclN = mxConstants.STYLE_STROKECOLOR + '=none;';
		var sb = this;
	
		var gn = 'mxgraph.mockup.text';
		var dt = 'mockup text ';
		var miscCommon = skcl9 + mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;shadow=0;dashed=0;fillColor=#ffffff;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;strokeWidth=2;html=1;' + mxConstants.STYLE_SHAPE + '=mxgraph.mockup.';
		var loremText = 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?';

		var fns =
		[
			this.createVertexTemplateEntry('shape=rectangle;strokeColor=none;fillColor=none;linkText=;fontSize=17;fontColor=#0000ff;fontStyle=4;html=1;align=center;', 
					150, 30, 'Link', 'Link', null, null, this.getTagsForStencil(gn, 'link', dt).join(' ')),

			this.addEntry(dt + 'horizontal button bar', function()
			{
			   	var bg = new mxCell('', new mxGeometry(0, 0, 500, 25), s2 + 'text.rrect;rSize=0;fillColor=#ffffff;strokeColor=#666666;');
			   	bg.vertex = true;
			   	var button2 = new mxCell('Button 2', new mxGeometry(125, 0, 125, 25), s2 + 'text.rrect;rSize=0;fontSize=17;fontColor=#0000ff;fillColor=none;strokeColor=#666666;');
			   	button2.vertex = true;
			   	bg.insert(button2);
			   	var button3 = new mxCell('Button 3', new mxGeometry(250, 0, 125, 25), s2 + 'text.rrect;rSize=0;fontSize=17;fontColor=#0000ff;fillColor=none;strokeColor=#666666;');
			   	button3.vertex = true;
			   	bg.insert(button3);
			   	var button4 = new mxCell('Button 4', new mxGeometry(375, 0, 125, 25), s2 + 'text.rrect;rSize=0;fontSize=17;fontColor=#0000ff;fillColor=none;strokeColor=#666666;');
			   	button4.vertex = true;
			   	bg.insert(button4);
			   	var button1 = new mxCell('Button 1', new mxGeometry(0, 0, 125, 25), s2 + 'text.rrect;rSize=0;fontSize=17;fontColor=#ffffff;fillColor=#008cff;strokeColor=none;');
			   	button1.vertex = true;
			   	bg.insert(button1);
				
		   		return sb.createVertexTemplateFromCells([bg], bg.geometry.width, bg.geometry.height, 'Horizontal Button Bar');
			}),
			
			this.createVertexTemplateEntry(s2 + 'text.callout;linkText=;textSize=17;textColor=#666666;callDir=NW;callStyle=line;fontSize=17;fontColor=#666666;align=left;verticalAlign=top;' + skcl6,
					200, 100, 'Callout', 'Callout', null, null, this.getTagsForStencil(gn, 'callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.callout;linkText=;textSize=17;textColor=#666666;callDir=NE;callStyle=line;fontSize=17;fontColor=#666666;align=right;verticalAlign=top;' + skcl6,
					200, 100, 'Callout', 'Callout', null, null, this.getTagsForStencil(gn, 'callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.callout;linkText=;textSize=17;textColor=#666666;callDir=SW;callStyle=line;fontSize=17;fontColor=#666666;align=left;verticalAlign=bottom;' + skcl6,
					200, 100, 'Callout', 'Callout', null, null, this.getTagsForStencil(gn, 'callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.callout;linkText=;textSize=17;textColor=#666666;callDir=SE;callStyle=line;fontSize=17;fontColor=#666666;align=right;verticalAlign=bottom;' + skcl6,
					200, 100, 'Callout', 'Callout', null, null, this.getTagsForStencil(gn, 'callout', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.stickyNote;fontColor=#666666;mainText=;fontSize=17;whiteSpace=wrap;',
					200, 200, 'Note Line 1\nNote Line 2\nNote Line 3', 'Sticky Note', null, null, this.getTagsForStencil(gn, 'stickyNote', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.bulletedList;textColor=#666666;mainText=,,,,;textSize=17;bulletStyle=none;' + skclN + mxConstants.STYLE_FILLCOLOR + '=none;align=left;verticalAlign=top;fontSize=17;fontColor=#666666;',
					150, 135, '-Line 1\n-Line 2\n-Line 3\n-Line 4', 'Bulleted List', null, null, this.getTagsForStencil(gn, 'bulletedList', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.textBox;fillColor=#ffffff;fontColor=#666666;align=left;fontSize=17;spacingLeft=4;spacingTop=-3;' + skcl6 + 'mainText=',
					150, 30, 'Line 1', 'Text Box', null, null, this.getTagsForStencil(gn, 'textBox', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.captcha;fillColor=#ffffff;fontColor=#666666;fontSize=25;' + skcl6 + 'mainText=',
					150, 50, 'fG2yQ23', 'Captcha', null, null, this.getTagsForStencil(gn, 'captcha', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'text.alphanumeric;linkText=;html=1;fontStyle=4;fontSize=17;fontColor=#0000ff;',
					450, 50, '0-9 A B C D E F G H I J K L M N O P Q R S T U V X Y Z', 'Alphanumeric', null, null, this.getTagsForStencil(gn, 'alphanumeric', dt).join(' ')),
			this.createVertexTemplateEntry('text;spacingTop=-5;fillColor=#ffffff;whiteSpace=wrap;html=1;align=left;fontSize=12;fontFamily=Helvetica;fillColor=none;strokeColor=none;', 
					250, 470, loremText, 'Paragraph of Text', null, null, this.getTagsForStencil(gn, 'peragraph of text', dt).join(' ')),
			
			this.addEntry(dt + 'table', function()
			{
			    var classCell = new mxCell('<table cellpadding="4" cellspacing="0" border="1" style="font-size:1em;width:100%;height:100%;"><tr><th>Header 1</th><th>Header 2</th></tr>' +
			    		'<tr><td>row 1, cell 1</td><td>row 1, cell 2</td></tr><tr><td>row 2, cell 1</td>' + 
			    		'<td>row 2, cell 2</td></tr></table> ', new mxGeometry(0, 0, 180, 80),
						'verticalAlign=top;align=left;overflow=fill;fillColor=#ffffff;fontSize=12;fontFamily=Helvetica;html=1');
		    	classCell.vertex = true;
				
		   		return sb.createVertexTemplateFromCells([classCell], classCell.geometry.width, classCell.geometry.height, 'Table');
			})
		];
		   	
	    this.addPalette('mockupText', 'Mockup Text', false, mxUtils.bind(this, function(content)
	    {
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};
	
})();

(function()
{
	Sidebar.prototype.addNetworkPalette = function()
	{
		var w = 50;
		var h = 50;
		var sb = this;
		var s0 = 'fontColor=#0066CC;verticalAlign=top;verticalLabelPosition=bottom;labelPosition=center;align=center;';
		var s = 'html=1;fillColor=#CCCCCC;strokeColor=#6881B3;gradientColor=none;gradientDirection=north;strokeWidth=2;shape=mxgraph.networks.';
		var s1 = 'fontColor=#0066CC;';
		var gn = 'mxgraph.networks';
		var dt = 'computer network ';
		
		this.addPaletteFunctions('network', 'Network', false,
		[
			this.addEntry(dt + 'ring bus', function()
			{
			   	var cell = new mxCell('', new mxGeometry(25, 25, 50, 50), 'html=1;fillColor=#CCCCCC;strokeColor=#6881B3;shape=ellipse;perimeter=ellipsePerimeter;gradientColor=none;gradientDirection=north;fontColor=#ffffff;strokeWidth=2;');
			   	cell.vertex = true;
			   	var cells = [cell];
			   	
			   	var edge = new mxCell('', new mxGeometry(0, 0, 0, 0), 'strokeColor=#6881B3;edgeStyle=none;rounded=0;endArrow=none;dashed=0;html=1;strokeWidth=2;');
			   	edge.geometry.relative = true;
		    	edge.edge = true;
		    	
		    	function insertEdge(x, y)
		    	{
		    		var e = sb.cloneCell(edge);
				   	e.geometry.setTerminalPoint(new mxPoint(x, y), true);
		    		cell.insertEdge(e, false);
		    		cells.push(e);
		    	};
			   	
		    	insertEdge(50, 0);
		    	insertEdge(85.5, 14.5);
		    	insertEdge(100, 50);
		    	insertEdge(85.5, 85.5);
		    	insertEdge(50, 100);
		    	insertEdge(14.5, 85.5);
		    	insertEdge(0, 50);
		    	insertEdge(14.5, 14.5);

			   	return sb.createVertexTemplateFromCells(cells, cell.geometry.width * 2, cell.geometry.height * 2, 'Ring Bus');
			}),
			this.addEntry(this.getTagsForStencil(gn, 'bus backbone', dt).join(' '), function()
			{
			   	var cell = new mxCell('', new mxGeometry(0, 60, 260, 20), s + 'bus;gradientColor=none;gradientDirection=north;fontColor=#ffffff;perimeter=backbonePerimeter;backboneSize=20;');
			   	cell.vertex = true;
			   	
				var edge = new mxCell('', new mxGeometry(0, 0, 0, 0), 'strokeColor=#6881B3;edgeStyle=none;rounded=0;endArrow=none;html=1;strokeWidth=2;');
				edge.geometry.setTerminalPoint(new mxPoint(40, 0), true);
				edge.geometry.relative = true;
				edge.edge = true;

			   	var cells = [cell];
		    	
			   	for (var i = 0; i < 4; i++)
			   	{
			    	var e = sb.cloneCell(edge);
			    	e.geometry.setTerminalPoint(new mxPoint(40 + i * 60, 0), true);
			    	cell.insertEdge(e, false);
			    	cells.push(e);
			   	}
			   	
			   	for (var i = 0; i < 4; i++)
			   	{
			    	var e = sb.cloneCell(edge);
			    	e.geometry.setTerminalPoint(new mxPoint(40 + i * 60, 140), true);
			    	cell.insertEdge(e, false);
			    	cells.push(e);
			   	}
		    	
			   	return sb.createVertexTemplateFromCells(cells,  cell.geometry.width, cell.geometry.height + 120, 'Bus');
			}),
			this.createVertexTemplateEntry(s + 'bus;gradientColor=none;gradientDirection=north;fontColor=#ffffff;perimeter=backbonePerimeter;backboneSize=20;', 200, 20, '', 'Bus', null, null, this.getTagsForStencil(gn, 'bus backbone', dt).join(' ')),
		    this.createEdgeTemplateEntry(s + 'comm_link_edge;html=1;', 100, 100, '', 'Comm Link', null, this.getTagsForStencil(gn, 'comm_link_edge', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'biometric_reader;', 60, 100, '', 'Biometric Reader', null, null, this.getTagsForStencil(gn, 'biometric_reader', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'business_center;', 90, 100, '', 'Business Center', null, null, this.getTagsForStencil(gn, 'business_center', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;fontColor=#ffffff;', 90, 50, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'community;', 95, 100, '', 'Community', null, null, this.getTagsForStencil(gn, 'community', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'comm_link;', 30, 100, '', 'Comm Link (Icon)', null, null, this.getTagsForStencil(gn, 'comm_link', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'copier;', 100, 100, '', 'Copier', null, null, this.getTagsForStencil(gn, 'copier', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'pc;', 100, 70, '', 'PC', null, null, this.getTagsForStencil(gn, 'pc', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'desktop_pc;', 30, 60, '', 'Desktop PC', null, null, this.getTagsForStencil(gn, 'desktop_pc', dt + '').join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'external_storage;', 90, 100, '', 'External Storage', null, null, this.getTagsForStencil(gn, 'external_storage', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'firewall;', 100, 100, '', 'Firewall', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'gamepad;', 100, 70, '', 'Gamepad', null, null, this.getTagsForStencil(gn, 'gamepad', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'hub;', 100, 30, '', 'Hub', null, null, this.getTagsForStencil(gn, 'hub', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'laptop;', 100, 55, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'load_balancer;', 100, 30, '', 'Load Balancer', null, null, this.getTagsForStencil(gn, 'load_balancer', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'mail_server;', 105, 105, '', 'Mail Server', null, null, this.getTagsForStencil(gn, 'mail_server', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'mainframe;', 80, 100, '', 'Mainframe', null, null, this.getTagsForStencil(gn, 'mainframe', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'mobile;', 50, 100, '', 'Mobile', null, null, this.getTagsForStencil(gn, 'mobile', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'modem;', 100, 30, '', 'Modem', null, null, this.getTagsForStencil(gn, 'modem', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'monitor;', 80, 65, '', 'Monitor', null, null, this.getTagsForStencil(gn, 'monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'nas_filer;', 100, 35, '', 'NAS Filer', null, null, this.getTagsForStencil(gn, 'NAS Filer', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'patch_panel;', 100, 35, '', 'Patch Panel', null, null, this.getTagsForStencil(gn, 'patch_panel', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'pc;', 100, 70, '', 'PC', null, null, this.getTagsForStencil(gn, 'pc', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'phone_1;', 100, 70, '', 'Phone', null, null, this.getTagsForStencil(gn, 'phone_1', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'phone_2;', 100, 90, '', 'Phone', null, null, this.getTagsForStencil(gn, 'phone_2', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'printer;', 100, 100, '', 'Printer', null, null, this.getTagsForStencil(gn, 'printer', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'proxy_server;', 105, 105, '', 'Proxy Server', null, null, this.getTagsForStencil(gn, 'proxy_server', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'rack;', 50, 100, '', 'Rack', null, null, this.getTagsForStencil(gn, 'rack', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'radio_tower;', 55, 100, '', 'Radio Tower', null, null, this.getTagsForStencil(gn, 'radio_tower', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'router;', 100, 30, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'satellite;', 100, 100, '', 'Satellite', null, null, this.getTagsForStencil(gn, 'satellite', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'satellite_dish;', 90, 100, '', 'Satellite Dish', null, null, this.getTagsForStencil(gn, 'satellite_dish', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'scanner;', 100, 75, '', 'Scanner', null, null, this.getTagsForStencil(gn, 'scanner', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'secured;', 80, 100, '', 'Secured', null, null, this.getTagsForStencil(gn, 'secured', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'security_camera;', 100, 75, '', 'Security Camera', null, null, this.getTagsForStencil(gn, 'security_camera', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'server;', 90, 100, '', 'Server', null, null, this.getTagsForStencil(gn, 'server', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'server_storage;', 105, 105, '', 'Server Storage', null, null, this.getTagsForStencil(gn, 'server_storage', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'storage;', 100, 100, '', 'Storage', null, null, this.getTagsForStencil(gn, 'storage', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'supercomputer;', 100, 100, '', 'Supercomputer', null, null, this.getTagsForStencil(gn, 'supercomputer', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'switch;', 100, 30, '', 'Switch', null, null, this.getTagsForStencil(gn, 'switch', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'tablet;', 100, 70, '', 'Tablet', null, null, this.getTagsForStencil(gn, 'tablet', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'tape_storage;', 105, 105, '', 'Tape Storage', null, null, this.getTagsForStencil(gn, 'tape_storage', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'terminal;', 80, 65, '', 'Terminal', null, null, this.getTagsForStencil(gn, 'terminal', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'unsecure;', 80, 100, '', 'Unsecure', null, null, this.getTagsForStencil(gn, 'unsecure', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'ups_enterprise;', 100, 100, '', 'UPS Enterprise', null, null, this.getTagsForStencil(gn, 'ups_enterprise', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'ups_small;', 70, 100, '', 'UPS Small', null, null, this.getTagsForStencil(gn, 'ups_small', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'usb_stick;', 45, 100, '', 'USB Stick', null, null, this.getTagsForStencil(gn, 'usb_stick', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'users;', 90, 100, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'user_female;', 40, 100, '', 'User Female', null, null, this.getTagsForStencil(gn, 'user_female', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'user_male;', 40, 100, '', 'User Male', null, null, this.getTagsForStencil(gn, 'user_male', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'video_projector;', 100, 35, '', 'Video Projector', null, null, this.getTagsForStencil(gn, 'video_projector', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'video_projector_screen;', 80, 100, '', 'Video Projector Screen', null, null, this.getTagsForStencil(gn, 'video_projector_screen', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'virtual_pc;', 115, 85, '', 'Virtual PC', null, null, this.getTagsForStencil(gn, 'virtual_pc', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'virtual_server;', 110, 120, '', 'Virtual Server', null, null, this.getTagsForStencil(gn, 'virtual_server', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'virus;', 100, 90, '', 'Virus', null, null, this.getTagsForStencil(gn, 'virus', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'web_server;', 105, 105, '', 'Web Server', null, null, this.getTagsForStencil(gn, 'web_server', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'wireless_hub;', 100, 85, '', 'Wireless Hub', null, null, this.getTagsForStencil(gn, 'wireless_hub', dt).join(' ')),
			this.createVertexTemplateEntry(s0 + s + 'wireless_modem;', 100, 85, '', 'Wireless Modem', null, null, this.getTagsForStencil(gn, 'wireless_modem', dt).join(' '))
		]);
	};
	
})();

(function()
{
	// Adds mockup shapes
	Sidebar.prototype.addOfficePalette = function()
	{
		this.addOfficeCloudsPalette();
		this.addOfficeCommunicationsPalette();
		this.addOfficeConceptsPalette();
		this.addOfficeDatabasesPalette();
		this.addOfficeDevicesPalette();
		this.addOfficeSecurityPalette();
		this.addOfficeServersPalette();
		this.addOfficeServicesPalette();
		this.addOfficeSitesPalette();
		this.addOfficeUsersPalette();
	};
	
	Sidebar.prototype.addOfficeCloudsPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.clouds.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.clouds.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.clouds';
		var dt = 'office cloud ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'azure;',
					w * 103, h * 66, '', 'Azure', null, null, this.getTagsForStencil(gn, 'azure', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;',
					w * 94, h * 55, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_disaster;',
					w * 94, h * 74, '', 'Cloud Disaster', null, null, this.getTagsForStencil(gn, 'cloud disaster', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cloud_disaster;fillColor=#ff0000;',
					w * 94, h * 74, '', 'Cloud Disaster (Red)', null, null, this.getTagsForStencil(gn, 'cloud disaster', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_exchange_online;',
					w * 100, h * 61, '', 'Cloud Exchange Online', null, null, this.getTagsForStencil(gn, 'cloud exchange online', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_service_request;',
					w * 102, h * 80, '', 'Cloud Service Request', null, null, this.getTagsForStencil(gn, 'cloud service request', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_sharepoint;',
					w * 101, h * 61, '', 'Cloud SharePoint', null, null, this.getTagsForStencil(gn, 'cloud sharepoint', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'office_365;',
					w * 101, h * 61, '', 'Office 365', null, null, this.getTagsForStencil(gn, 'office 365', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'online_backup;',
					w * 94, h * 101, '', 'Online Backup', null, null, this.getTagsForStencil(gn, 'online backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'online_user;',
					w * 93, h * 74, '', 'Online User', null, null, this.getTagsForStencil(gn, 'online user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'private_cloud;',
					w * 94, h * 55, '', 'Private Cloud', null, null, this.getTagsForStencil(gn, 'private cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'public_cloud;',
					w * 101, h * 81, '', 'Public Cloud', null, null, this.getTagsForStencil(gn, 'public cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'public_im_cloud_service;',
					w * 102, h * 99, '', 'Public IM Cloud Service', null, null, this.getTagsForStencil(gn, 'public im instant message cloud service', dt).join(' '))
		];
			
		this.addPalette('officeClouds', 'Office / Clouds', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addOfficeCommunicationsPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.communications.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.communications.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.communications';
		var dt = 'office communication ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + '3rd_party_call_center_solution;',
					w * 98, h * 101, '', '3rd Party Call Center Solution', null, null, this.getTagsForStencil(gn, '3rd party call center solution', dt).join(' ')),
			this.createVertexTemplateEntry(s + '3rd_party_integration;',
					w * 54, h * 55, '', '3rd Party Integration', null, null, this.getTagsForStencil(gn, '3rd party integration', dt).join(' ')),
			this.createVertexTemplateEntry(s + '3rd_party_service;',
					w * 53, h * 54, '', '3rd Party Service', null, null, this.getTagsForStencil(gn, '3rd party service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_sharing_workload;',
					w * 57, h * 49, '', 'Application Sharing Workload', null, null, this.getTagsForStencil(gn, 'application sharing workload', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'audio_conferencing_application;',
					w * 59, h * 46, '', 'Audio Conferencing Application', null, null, this.getTagsForStencil(gn, 'audio_conferencing_application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'central_management_service;',
					w * 52, h * 55, '', 'Central Management Service', null, null, this.getTagsForStencil(gn, 'central management service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'chat_room;',
					w * 46, h * 48, '', 'Chat Room', null, null, this.getTagsForStencil(gn, 'chat room', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'conference_announcement_service;',
					w * 60, h * 60, '', 'Conference Announcement Service', null, null, this.getTagsForStencil(gn, 'conference announcement service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'disconnected_mailbox;',
					w * 60, h * 55, '', 'Disconnected Mailbox', null, null, this.getTagsForStencil(gn, 'disconnected mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'discovery_search_mailbox;',
					w * 55, h * 49, '', 'Discovery Search Mailbox', null, null, this.getTagsForStencil(gn, 'discovery search mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dynamic_distribution_group;',
					w * 58, h * 59, '', 'Dynamic Distribution Group', null, null, this.getTagsForStencil(gn, 'dynamic distribution group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'edge_subscription;',
					w * 57, h * 59, '', 'Edge Subscription', null, null, this.getTagsForStencil(gn, 'edge subscription', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_workloaad;',
					w * 57, h * 47, '', 'Email Workloaad', null, null, this.getTagsForStencil(gn, 'email workloaad', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'equipment_mailbox;',
					w * 59, h * 59, '', 'Equipment Mailbox', null, null, this.getTagsForStencil(gn, 'equipment mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_active_sync;',
					w * 49, h * 49, '', 'Exchange Active Sync', null, null, this.getTagsForStencil(gn, 'exchange_active_sync', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_active_sync;fillColor=#2072B8;',
					w * 49, h * 49, '', 'Exchange Active Sync - Blue', null, null, this.getTagsForStencil(gn, 'exchange_active_sync', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'fax_partner;',
					w * 45, h * 56, '', 'Fax Partner', null, null, this.getTagsForStencil(gn, 'fax partner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'global_address_list;',
					w * 59, h * 53, '', 'Global Address List', null, null, this.getTagsForStencil(gn, 'global address list', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hybrid_voip_gateway;',
					w * 59, h * 38, '', 'Hybrid VOIP Gateway', null, null, this.getTagsForStencil(gn, 'hybrid voip gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'im_workload;',
					w * 56, h * 54, '', 'IM Workload', null, null, this.getTagsForStencil(gn, 'im workload instant message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'journaling_rule;',
					w * 52, h * 58, '', 'Journaling Rule', null, null, this.getTagsForStencil(gn, 'journaling rule', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'local_move_request;',
					w * 57, h * 57, '', 'Local Move Request', null, null, this.getTagsForStencil(gn, 'local move request', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_control_panel;',
					w * 69, h * 58, '', 'Lync Control Panel', null, null, this.getTagsForStencil(gn, 'lync control panel', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_phone_edition;',
					w * 80, h * 45, '', 'Lync Phone Edition', null, null, this.getTagsForStencil(gn, 'lync phone edition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_room_system;',
					w * 80, h * 42, '', 'Lync Room System', null, null, this.getTagsForStencil(gn, 'lync room system', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_server_management_tool;',
					w * 75, h * 47, '', 'Lync Server Management Tool', null, null, this.getTagsForStencil(gn, 'lync server management tool', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_storage_service;',
					w * 66, h * 59, '', 'Lync Storage Service', null, null, this.getTagsForStencil(gn, 'lync storage service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_web_app_client;',
					w * 83, h * 50, '', 'Lync Web App Client', null, null, this.getTagsForStencil(gn, 'lync web app client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mail_enabled_public_folder;',
					w * 58, h * 52, '', 'Mail-Enabled Public Folder', null, null, this.getTagsForStencil(gn, 'mail enabled public folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox_assistant;',
					w * 59, h * 57, '', 'Mailbox Assistant', null, null, this.getTagsForStencil(gn, 'mailbox assistant', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'messages_queued;',
					w * 59, h * 57, '', 'Messages Queued', null, null, this.getTagsForStencil(gn, 'messages queued', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'offline_address_book;',
					w * 59, h * 53, '', 'Offline Address Book', null, null, this.getTagsForStencil(gn, 'offline address book', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'personal_archive_mailbox;',
					w * 59, h * 58, '', 'Personal Archive Mailbox', null, null, this.getTagsForStencil(gn, 'personal archive mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'public_im_cloud_service;',
					w * 60, h * 58, '', 'Public IM Cloud Service', null, null, this.getTagsForStencil(gn, 'public im cloud service instant message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'push_notification_service;',
					w * 50, h * 58, '', 'Push Notification Service', null, null, this.getTagsForStencil(gn, 'push notification service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'queue_viewer;',
					w * 59, h * 57, '', 'Queue Viewer', null, null, this.getTagsForStencil(gn, 'queue viewer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_mailbox;',
					w * 59, h * 57, '', 'Remote Mailbox', null, null, this.getTagsForStencil(gn, 'remote mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_move_request;',
					w * 60, h * 57, '', 'Remote Move Request', null, null, this.getTagsForStencil(gn, 'remote move request', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'response_group;',
					w * 58, h * 54, '', 'Response Group', null, null, this.getTagsForStencil(gn, 'response group', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'response_group_service;',
//					w * 58, h * 54, '', 'Response Group Service', null, null, this.getTagsForStencil(gn, 'response group service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'room_mailbox;',
					w * 60, h * 57, '', 'Room Mailbox', null, null, this.getTagsForStencil(gn, 'room mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'shared_mailbox;',
					w * 60, h * 55, '', 'Shared Mailbox', null, null, this.getTagsForStencil(gn, 'shared mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sip_uri_um_dial_plan;',
					w * 55, h * 56, '', 'SIP URI UM Dial Plan', null, null, this.getTagsForStencil(gn, 'sip uri um dial plan', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'site_mailbox;',
					w * 59, h * 54, '', 'Site Mailbox', null, null, this.getTagsForStencil(gn, 'site mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_control_panel;',
					w * 65, h * 59, '', 'Skype for Business Control Panel', null, null, this.getTagsForStencil(gn, 'skype for business control panel', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_phone_edition;',
					w * 76, h * 45, '', 'Skype for Business Phone Edition', null, null, this.getTagsForStencil(gn, 'skype for business phone edition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_room_system;',
					w * 74, h * 41, '', 'Skype for Business Room System', null, null, this.getTagsForStencil(gn, 'skype for business room system', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_server_management_tool;',
					w * 72, h * 48, '', 'Skype for Business Server Management Tool', null, null, this.getTagsForStencil(gn, 'skype for business server management tool', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_storage_service;',
					w * 62, h * 58, '', 'Skype for Business Storage Service', null, null, this.getTagsForStencil(gn, 'skype for business storage service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_web_app_client;',
					w * 80, h * 51, '', 'Skype for Business Web App Client', null, null, this.getTagsForStencil(gn, 'skype for business web app client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sms_gateway;',
					w * 59, h * 37, '', 'SMS Gateway', null, null, this.getTagsForStencil(gn, 'sms gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'smtp_connector;',
					w * 47, h * 49, '', 'SMTP Connector', null, null, this.getTagsForStencil(gn, 'smtp connector', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'system_mailbox;',
					w * 58, h * 55, '', 'System Mailbox', null, null, this.getTagsForStencil(gn, 'system mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tdm_pbx;',
					w * 59, h * 46, '', 'TDM PBX', null, null, this.getTagsForStencil(gn, 'tdm pbx', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'telephone_extension_dial_plan;',
					w * 55, h * 56, '', 'Telephone Extension Dial Plan', null, null, this.getTagsForStencil(gn, 'telephone extension dial plan', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'transport_rule;',
					w * 56, h * 57, '', 'Transport Rule', null, null, this.getTagsForStencil(gn, 'transport rule', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ucma_application;',
					w * 53, h * 40, '', 'UCMA Application', null, null, this.getTagsForStencil(gn, 'ucma application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ucwa_application;',
					w * 53, h * 40, '', 'UCWA Application', null, null, this.getTagsForStencil(gn, 'ucwa application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_auto_attendant;',
					w * 57, h * 57, '', 'UM Auto Attendant', null, null, this.getTagsForStencil(gn, 'um auto attendant', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_dial_plan_e164;',
					w * 55, h * 56, '', 'UM Dial Plan E164', null, null, this.getTagsForStencil(gn, 'um dial plan e164', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_dial_plan_secondary;',
					w * 55, h * 56, '', 'UM Dial Plan Secondary', null, null, this.getTagsForStencil(gn, 'um dial plan secondary', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_enabled_mailbox;',
					w * 59, h * 57, '', 'UM Enabled Mailbox', null, null, this.getTagsForStencil(gn, 'um enabled mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_hunt_group;',
					w * 59, h * 48, '', 'UM Hunt Group', null, null, this.getTagsForStencil(gn, 'um hunt group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_ip_gateway;',
					w * 59, h * 38, '', 'UM IP Gateway', null, null, this.getTagsForStencil(gn, 'um ip gateway internet protocol', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_mailbox;',
					w * 59, h * 55, '', 'User Mailbox', null, null, this.getTagsForStencil(gn, 'user mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_workload;',
					w * 57, h * 50, '', 'Video Workload', null, null, this.getTagsForStencil(gn, 'video workload', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'voice_mail_preview;',
					w * 46, h * 56, '', 'Voice Mail Preview', null, null, this.getTagsForStencil(gn, 'voice mail preview', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'voice_workload;',
					w * 58, h * 51, '', 'Voice Workload', null, null, this.getTagsForStencil(gn, 'voice workload', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'voip_gateway;',
					w * 51, h * 15, '', 'VoIP Gateway', null, null, this.getTagsForStencil(gn, 'voip gateway voice over ip internet protocol', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'watcher_node;',
					w * 52, h * 56, '', 'Watcher Node', null, null, this.getTagsForStencil(gn, 'watcher node', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xmpp_service;',
					w * 58, h * 52, '', 'XMPP Service', null, null, this.getTagsForStencil(gn, 'xmpp service', dt).join(' '))
		];
			
		this.addPalette('officeCommunications', 'Office / Communications', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addOfficeConceptsPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.concepts.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.concepts.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.concepts';
		var dt = 'office concept ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'address_book;',
					w * 55, h * 44, '', 'Address Book', null, null, this.getTagsForStencil(gn, 'address book', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'address_book;',
					w * 40, h * 31, '', 'Address Book (small)', null, null, this.getTagsForStencil(gn, 'address book small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'anti_spam;',
					w * 55, h * 47, '', 'Anti-Spam', null, null, this.getTagsForStencil(gn, 'anti spam', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_android;',
					w * 60, h * 51, '', 'Application Android', null, null, this.getTagsForStencil(gn, 'application android', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_generic;',
					w * 53, h * 40, '', 'Application Generic', null, null, this.getTagsForStencil(gn, 'application generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_generic;',
					w * 40, h * 30, '', 'Application Generic (small)', null, null, this.getTagsForStencil(gn, 'application generic small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_hybrid;',
					w * 59, h * 44, '', 'Application Hybrid', null, null, this.getTagsForStencil(gn, 'application hybrid', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_ios;',
					w * 59, h * 49, '', 'Application iOS', null, null, this.getTagsForStencil(gn, 'application ios', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_web;',
					w * 56, h * 49, '', 'Application Web', null, null, this.getTagsForStencil(gn, 'application web', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_windows;',
					w * 59, h * 47, '', 'Application Windows', null, null, this.getTagsForStencil(gn, 'application windows', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'app_for_office;',
					w * 53, h * 40, '', 'App for Office', null, null, this.getTagsForStencil(gn, 'app for office', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'app_for_sharepoint;',
					w * 53, h * 40, '', 'App For SharePoint', null, null, this.getTagsForStencil(gn, 'app for sharepoint', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'app_part;',
					w * 46, h * 45, '', 'App Part', null, null, this.getTagsForStencil(gn, 'app part', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'archive;',
					w * 35, h * 55, '', 'Archive', null, null, this.getTagsForStencil(gn, 'archive', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'attachment;',
					w * 22, h * 44, '', 'Attachment', null, null, this.getTagsForStencil(gn, 'attachment', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_local;',
					w * 48, h * 44, '', 'Backup Local', null, null, this.getTagsForStencil(gn, 'backup local', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_online;',
					w * 55, h * 60, '', 'Backup Online', null, null, this.getTagsForStencil(gn, 'backup online', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bandwidth;',
					w * 45, h * 45, '', 'Bandwidth', null, null, this.getTagsForStencil(gn, 'bandwidth', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'bandwidth_calculator;',
					w * 49, h * 53, '', 'Bandwidth Calculator', null, null, this.getTagsForStencil(gn, 'bandwidth calculator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'best_practices;',
					w * 53, h * 53, '', 'Best Practices', null, null, this.getTagsForStencil(gn, 'best practices', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'book_journal;',
					w * 41, h * 49, '', 'Book, Journal', null, null, this.getTagsForStencil(gn, 'book journal', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'calculator;',
					w * 32, h * 46, '', 'Calculator', null, null, this.getTagsForStencil(gn, 'calculator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'calendar;',
					w * 53, h * 49, '', 'Calendar', null, null, this.getTagsForStencil(gn, 'calendar', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'clipboard;',
					w * 40, h * 52, '', 'Clipboard', null, null, this.getTagsForStencil(gn, 'clipboard', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'clipboard;',
					w * 30, h * 39, '', 'Clipboard (small)', null, null, this.getTagsForStencil(gn, 'clipboard small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'clock;',
					w * 45, h * 45, '', 'Clock', null, null, this.getTagsForStencil(gn, 'clock', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'clock;',
					w * 35, h * 35, '', 'Clock (small)', null, null, this.getTagsForStencil(gn, 'clock small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'column;',
					w * 52, h * 43, '', 'Column', null, null, this.getTagsForStencil(gn, 'column', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'connector;',
					w * 44, h * 32, '', 'Connector', null, null, this.getTagsForStencil(gn, 'connector', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'connector;',
					w * 33, h * 24, '', 'Connector (small)', null, null, this.getTagsForStencil(gn, 'connector', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'contacts;',
					w * 53, h * 39, '', 'Contacts', null, null, this.getTagsForStencil(gn, 'contacts', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'content_type;',
					w * 53, h * 40, '', 'Content Type', null, null, this.getTagsForStencil(gn, 'content type', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'credit_card;',
					w * 55, h * 36, '', 'Credit Card', null, null, this.getTagsForStencil(gn, 'credit card', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document;',
					w * 40, h * 47, '', 'Document', null, null, this.getTagsForStencil(gn, 'document', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document;',
					w * 30, h * 35, '', 'Document (small)', null, null, this.getTagsForStencil(gn, 'document', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'documents;',
					w * 46, h * 54, '', 'Documents', null, null, this.getTagsForStencil(gn, 'documents', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'documents_shared;',
					w * 58, h * 59, '', 'Documents Shared', null, null, this.getTagsForStencil(gn, 'documents shared', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document_blank;',
					w * 40, h * 47, '', 'Document Blank', null, null, this.getTagsForStencil(gn, 'document blank', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document_blank;',
					w * 30, h * 35, '', 'Document Blank (small)', null, null, this.getTagsForStencil(gn, 'document blank', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'document_shared;',
					w * 52, h * 53, '', 'Document Shared', null, null, this.getTagsForStencil(gn, 'document shared', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'download;',
					w * 48, h * 56, '', 'Download', null, null, this.getTagsForStencil(gn, 'download', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email;',
					w * 47, h * 36, '', 'Email', null, null, this.getTagsForStencil(gn, 'email', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email;',
					w * 31, h * 24, '', 'Email (small)', null, null, this.getTagsForStencil(gn, 'email', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_approved;',
					w * 56, h * 46, '', 'Email Approved', null, null, this.getTagsForStencil(gn, 'email approved', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_expired;',
					w * 56, h * 46, '', 'Email Expired', null, null, this.getTagsForStencil(gn, 'email expired', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_rejected;',
					w * 55, h * 45, '', 'Email Rejected', null, null, this.getTagsForStencil(gn, 'email rejected', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file_key;',
					w * 48, h * 53, '', 'File Key', null, null, this.getTagsForStencil(gn, 'file key', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'firewall;',
					w * 47, h * 43, '', 'Firewall', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firewall;fillColor=#2072B8;',
					w * 47, h * 43, '', 'Firewall (blue)', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firewall;fillColor=#DA4026;',
					w * 47, h * 43, '', 'Firewall (orange)', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firewall;fillColor=#7FBA42;',
					w * 47, h * 43, '', 'Firewall (green)', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firewall;fillColor=#CCCBCB;',
					w * 47, h * 43, '', 'Firewall (ghosted)', null, null, this.getTagsForStencil(gn, 'firewall', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder;',
					w * 50, h * 45, '', 'Folder', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'folder;fillColor=#2072B8;',
					w * 50, h * 45, '', 'Folder (blue)', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'folder;fillColor=#DA4026;',
					w * 50, h * 45, '', 'Folder (orange)', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'folder;fillColor=#7FBA42;',
					w * 50, h * 45, '', 'Folder (green)', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'folder;fillColor=#CCCBCB;',
					w * 50, h * 45, '', 'Folder (ghosted)', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder;',
					w * 33, h * 30, '', 'Folder (small)', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folders;',
					w * 57, h * 53, '', 'Folders', null, null, this.getTagsForStencil(gn, 'folders', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder_open;',
					w * 56, h * 43, '', 'Folder, Open', null, null, this.getTagsForStencil(gn, 'folder open', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder_public;',
					w * 58, h * 52, '', 'Folder, Public', null, null, this.getTagsForStencil(gn, 'folder public', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder_shared;',
					w * 54, h * 52, '', 'Folder, Shared', null, null, this.getTagsForStencil(gn, 'folder shared', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'form;',
					w * 56, h * 49, '', 'Form', null, null, this.getTagsForStencil(gn, 'form', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'get_started;',
					w * 42, h * 52, '', 'Get Started', null, null, this.getTagsForStencil(gn, 'get started', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'globe_internet;',
					w * 49, h * 49, '', 'Globe, Internet', null, null, this.getTagsForStencil(gn, 'globe internet', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'help;',
					w * 49, h * 49, '', 'Help', null, null, this.getTagsForStencil(gn, 'help', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'help;',
					w * 38, h * 38, '', 'Help (small)', null, null, this.getTagsForStencil(gn, 'help', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'home;',
					w * 51, h * 50, '', 'Home', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home;fillColor=#2072B8;',
					w * 51, h * 50, '', 'Home (blue)', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home;fillColor=#DA4026;',
					w * 51, h * 50, '', 'Home (orange)', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home;fillColor=#7FBA42;',
					w * 51, h * 50, '', 'Home (green)', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home;fillColor=#CCCBCB;',
					w * 51, h * 50, '', 'Home (ghosted)', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'home;',
					w * 39, h * 38, '', 'Home (small)', null, null, this.getTagsForStencil(gn, 'home', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'home_page;',
					w * 53, h * 43, '', 'Home Page', null, null, this.getTagsForStencil(gn, 'home page', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home_page;fillColor=#2072B8;',
					w * 53, h * 43, '', 'Home Page (blue)', null, null, this.getTagsForStencil(gn, 'home page', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home_page;fillColor=#DA4026;',
					w * 53, h * 43, '', 'Home Page (orange)', null, null, this.getTagsForStencil(gn, 'home page', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home_page;fillColor=#7FBA42;',
					w * 53, h * 43, '', 'Home Page (green)', null, null, this.getTagsForStencil(gn, 'home page', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'home_page;fillColor=#CCCBCB;',
					w * 53, h * 43, '', 'Home Page (ghosted)', null, null, this.getTagsForStencil(gn, 'home page', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hybrid;',
					w * 58, h * 52, '', 'Hybrid', null, null, this.getTagsForStencil(gn, 'hybrid', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'input_output_filter;',
					w * 46, h * 46, '', 'Input Output Filter', null, null, this.getTagsForStencil(gn, 'input output filter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'install;',
					w * 45, h * 52, '', 'Install', null, null, this.getTagsForStencil(gn, 'install', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'integration;',
					w * 44, h * 43, '', 'Integration', null, null, this.getTagsForStencil(gn, 'integration', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lab;',
					w * 47, h * 50, '', 'Lab', null, null, this.getTagsForStencil(gn, 'lab', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'learn;',
					w * 56, h * 57, '', 'Learn', null, null, this.getTagsForStencil(gn, 'learn', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'license;',
					w * 45, h * 52, '', 'License', null, null, this.getTagsForStencil(gn, 'license', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'link;',
					w * 61, h * 21, '', 'Link', null, null, this.getTagsForStencil(gn, 'link', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'list_library;',
					w * 52, h * 48, '', 'List Library', null, null, this.getTagsForStencil(gn, 'list library', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox;',
					w * 53, h * 49, '', 'Mailbox', null, null, this.getTagsForStencil(gn, 'mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox;',
					w * 40, h * 38, '', 'Mailbox (small)', null, null, this.getTagsForStencil(gn, 'mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox2;',
					w * 53, h * 49, '', 'Mailbox', null, null, this.getTagsForStencil(gn, 'mailbox2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox2;',
					w * 40, h * 38, '', 'Mailbox (small)', null, null, this.getTagsForStencil(gn, 'mailbox2', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'maintenance;',
					w * 39, h * 56, '', 'Maintenance', null, null, this.getTagsForStencil(gn, 'maintenance', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'marketplace_shopping_bag;',
					w * 36, h * 46, '', 'Marketplace, Shopping Bag', null, null, this.getTagsForStencil(gn, 'marketplace shopping bag', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'meets_requirements;',
					w * 56, h * 53, '', 'Meets Requirements', null, null, this.getTagsForStencil(gn, 'meets requirements', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'migration;',
					w * 59, h * 34, '', 'Migration', null, null, this.getTagsForStencil(gn, 'migration', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'moes;',
					w * 40, h * 47, '', 'MOEs', null, null, this.getTagsForStencil(gn, 'moes', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'navigation;',
					w * 53, h * 40, '', 'Navigation', null, null, this.getTagsForStencil(gn, 'navigation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'node_generic;',
					w * 46, h * 52, '', 'Node, Generic', null, null, this.getTagsForStencil(gn, 'node generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'node_generic;fillColor=#2072B8;',
					w * 46, h * 52, '', 'Node, Generic (blue)', null, null, this.getTagsForStencil(gn, 'node generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'node_generic;fillColor=#DA4026;',
					w * 46, h * 52, '', 'Node, Generic (orange)', null, null, this.getTagsForStencil(gn, 'node generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'node_generic;fillColor=#7FBA42;',
					w * 46, h * 52, '', 'Node, Generic (green)', null, null, this.getTagsForStencil(gn, 'node generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'node_generic;fillColor=#CCCBCB;',
					w * 46, h * 52, '', 'Node, Generic (ghosted)', null, null, this.getTagsForStencil(gn, 'node generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'office_installed;',
					w * 58, h * 48, '', 'Office Installed', null, null, this.getTagsForStencil(gn, 'office installed', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'on_premises;',
					w * 34, h * 55, '', 'On Premises', null, null, this.getTagsForStencil(gn, 'on premises', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'on_premises_directory;',
					w * 50, h * 59, '', 'On Premises Directory', null, null, this.getTagsForStencil(gn, 'on premises directory', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'phishing;',
					w * 59, h * 47, '', 'Phishing', null, null, this.getTagsForStencil(gn, 'phishing', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pin;',
					w * 24, h * 44, '', 'Pin', null, null, this.getTagsForStencil(gn, 'pin', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'platform_options;',
					w * 58, h * 52, '', 'Platform Options', null, null, this.getTagsForStencil(gn, 'platform options', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'powershell;',
					w * 45, h * 45, '', 'PowerShell', null, null, this.getTagsForStencil(gn, 'powershell', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'properties;',
					w * 50, h * 49, '', 'Properties', null, null, this.getTagsForStencil(gn, 'properties', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'publish;',
					w * 57, h * 48, '', 'Publish', null, null, this.getTagsForStencil(gn, 'publish', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_access;',
					w * 59, h * 41, '', 'Remote Access', null, null, this.getTagsForStencil(gn, 'remote access', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'script;',
					w * 53, h * 49, '', 'Script', null, null, this.getTagsForStencil(gn, 'script', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'search;',
					w * 49, h * 49, '', 'Search', null, null, this.getTagsForStencil(gn, 'search', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'search;',
					w * 35, h * 35, '', 'Search (small)', null, null, this.getTagsForStencil(gn, 'search', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_application;',
					w * 59, h * 48, '', 'Service Application', null, null, this.getTagsForStencil(gn, 'service application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'settings;',
					w * 48, h * 48, '', 'Settings', null, null, this.getTagsForStencil(gn, 'settings', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'settings_office_365;',
					w * 48, h * 48, '', 'Settings, Office 365', null, null, this.getTagsForStencil(gn, 'settings office 365', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'settings_office_365;',
					w * 31, h * 31, '', 'Settings, Office 365 (small)', null, null, this.getTagsForStencil(gn, 'settings office 365', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sign_up;',
					w * 51, h * 47, '', 'Sign Up', null, null, this.getTagsForStencil(gn, 'sign up', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sound_file;',
					w * 40, h * 50, '', 'Sound File', null, null, this.getTagsForStencil(gn, 'sound file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tasks;',
					w * 40, h * 52, '', 'Tasks', null, null, this.getTagsForStencil(gn, 'tasks', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'technical_diagram;',
					w * 50, h * 56, '', 'Technical Diagram', null, null, this.getTagsForStencil(gn, 'technical diagram', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'upgrade_application;',
					w * 58, h * 42, '', 'Upgrade Application', null, null, this.getTagsForStencil(gn, 'upgrade application', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'upgrade_server;',
					w * 39, h * 52, '', 'Upgrade Server', null, null, this.getTagsForStencil(gn, 'upgrade server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'upgrade_site;',
					w * 59, h * 48, '', 'Upgrade Site', null, null, this.getTagsForStencil(gn, 'upgrade site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'upload;',
					w * 48, h * 55, '', 'Upload', null, null, this.getTagsForStencil(gn, 'upload', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_form;',
					w * 58, h * 49, '', 'Video Form', null, null, this.getTagsForStencil(gn, 'video form', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_play;',
					w * 50, h * 40, '', 'Video Play', null, null, this.getTagsForStencil(gn, 'video play', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'voicemail;',
					w * 53, h * 34, '', 'Voicemail', null, null, this.getTagsForStencil(gn, 'voicemail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'voicemail_preview;',
					w * 57, h * 52, '', 'Voicemail Preview', null, null, this.getTagsForStencil(gn, 'voicemail preview', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'walkthrough;',
					w * 41, h * 58, '', 'Walkthrough', null, null, this.getTagsForStencil(gn, 'walkthrough', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'website;',
					w * 59, h * 49, '', 'Website', null, null, this.getTagsForStencil(gn, 'website', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_conferencing;',
					w * 60, h * 56, '', 'Web Conferencing', null, null, this.getTagsForStencil(gn, 'web conferencing', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_page;',
					w * 50, h * 54, '', 'Web Page', null, null, this.getTagsForStencil(gn, 'web page', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_part;',
					w * 45, h * 52, '', 'Web Part', null, null, this.getTagsForStencil(gn, 'web part', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_services;',
					w * 60, h * 56, '', 'Web Services', null, null, this.getTagsForStencil(gn, 'web services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'whats_new;',
					w * 55, h * 38, '', 'Whats New', null, null, this.getTagsForStencil(gn, 'whats new', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'writing_pen;',
					w * 54, h * 54, '', 'Writing, Pen', null, null, this.getTagsForStencil(gn, 'writing pen', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'writing_pencil;',
					w * 50, h * 50, '', 'Writing, Pencil', null, null, this.getTagsForStencil(gn, 'writing pencil', dt).join(' '))
		];
			
		this.addPalette('officeConcepts', 'Office / Concepts', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addOfficeDatabasesPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.databases.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.databases.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.databases';
		var dt = 'office database db ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'address_book_store;',
					w * 50, h * 54, '', 'Address Book Store', null, null, this.getTagsForStencil(gn, 'address_book_store', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_store;',
					w * 49, h * 53, '', 'Application Store', null, null, this.getTagsForStencil(gn, 'application store', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;',
					w * 35, h * 49, '', 'Database', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database;fillColor=#2072B8;',
					w * 35, h * 49, '', 'Database (blue)', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database;fillColor=#DA4026;',
					w * 35, h * 49, '', 'Database (orange)', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database;fillColor=#7FBA42;',
					w * 35, h * 49, '', 'Database (green)', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database;fillColor=#CCCBCB;',
					w * 35, h * 49, '', 'Database (ghosted)', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;',
					w * 28, h * 38, '', 'Database (small)', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_availability_group;',
					w * 59, h * 59, '', 'Database Availability Group', null, null, this.getTagsForStencil(gn, 'availability group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_cube;',
					w * 47, h * 52, '', 'Database Cube', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_cube;fillColor=#2072B8;',
					w * 47, h * 52, '', 'Database Cube (blue)', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_cube;fillColor=#DA4026;',
					w * 47, h * 52, '', 'Database Cube (orange)', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_cube;fillColor=#7FBA42;',
					w * 47, h * 52, '', 'Database Cube (green)', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_cube;fillColor=#CCCBCB;',
					w * 47, h * 52, '', 'Database Cube (ghosted)', null, null, this.getTagsForStencil(gn, 'cube', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_mini_1;',
					w * 35, h * 27, '', 'Database, Mini', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_1;fillColor=#2072B8;',
					w * 35, h * 27, '', 'Database, Mini (blue)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_1;fillColor=#DA4026;',
					w * 35, h * 27, '', 'Database, Mini (orange)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_1;fillColor=#7FBA42;',
					w * 35, h * 27, '', 'Database, Mini (green)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_1;fillColor=#CCCBCB;',
					w * 35, h * 27, '', 'Database, Mini (ghosted)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_mini_2;',
					w * 35, h * 42, '', 'Database, Mini', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_2;fillColor=#2072B8;',
					w * 35, h * 42, '', 'Database, Mini (blue)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_2;fillColor=#DA4026;',
					w * 35, h * 42, '', 'Database, Mini (orange)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_2;fillColor=#7FBA42;',
					w * 35, h * 42, '', 'Database, Mini (green)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_2;fillColor=#CCCBCB;',
					w * 35, h * 42, '', 'Database, Mini (ghosted)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_mini_3;',
					w * 35, h * 57, '', 'Database, Mini', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_3;fillColor=#2072B8;',
					w * 35, h * 57, '', 'Database, Mini (blue)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_3;fillColor=#DA4026;',
					w * 35, h * 57, '', 'Database, Mini (orange)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_3;fillColor=#7FBA42;',
					w * 35, h * 57, '', 'Database, Mini (green)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'database_mini_3;fillColor=#CCCBCB;',
					w * 35, h * 57, '', 'Database, Mini (ghosted)', null, null, this.getTagsForStencil(gn, 'Mini', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_mirror;',
					w * 60, h * 59, '', 'Database Mirror', null, null, this.getTagsForStencil(gn, 'mirror', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_mirror_witness_node;',
					w * 60, h * 59, '', 'Database Mirror Witness Node', null, null, this.getTagsForStencil(gn, 'mirror witness node', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_partition_2;',
					w * 57, h * 59, '', 'Database Partition', null, null, this.getTagsForStencil(gn, 'partition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_partition_3;',
					w * 57, h * 59, '', 'Database Partition', null, null, this.getTagsForStencil(gn, 'partition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_partition_4;',
					w * 57, h * 59, '', 'Database Partition', null, null, this.getTagsForStencil(gn, 'partition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_partition_5;',
					w * 57, h * 59, '', 'Database Partition', null, null, this.getTagsForStencil(gn, 'partition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_public_folder;',
					w * 53, h * 54, '', 'Database Public Folder', null, null, this.getTagsForStencil(gn, 'public folder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server;',
					w * 43, h * 57, '', 'Database Server', null, null, this.getTagsForStencil(gn, 'server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_blue;',
					w * 43, h * 57, '', 'Database Server (blue)', null, null, this.getTagsForStencil(gn, 'server blue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_orange;',
					w * 43, h * 57, '', 'Database Server (orange)', null, null, this.getTagsForStencil(gn, 'server blue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_green;',
					w * 43, h * 57, '', 'Database Server (green)', null, null, this.getTagsForStencil(gn, 'server blue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_ghosted;',
					w * 43, h * 57, '', 'Database Server (ghosted)', null, null, this.getTagsForStencil(gn, 'server blue', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mailbox_database;',
					w * 53, h * 55, '', 'Mailbox Database', null, null, this.getTagsForStencil(gn, 'mailbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'monitoring_store;',
					w * 58, h * 58, '', 'Monitoring Store', null, null, this.getTagsForStencil(gn, 'monitoring store', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'unified_contact_store;',
					w * 54, h * 55, '', 'Unified Contact Store', null, null, this.getTagsForStencil(gn, 'unified contact store', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_store;',
					w * 50, h * 54, '', 'Web Store', null, null, this.getTagsForStencil(gn, 'web store', dt).join(' '))
		];
			
		this.addPalette('officeDatabases', 'Office / Databases', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeDevicesPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.devices.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.devices.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.devices';
		var dt = 'office device ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'bluetooth;',
					w * 56, h * 57, '', 'Bluetooth', null, null, this.getTagsForStencil(gn, 'bluetooth', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cd_dvd;',
					w * 49, h * 49, '', 'CD, DVD', null, null, this.getTagsForStencil(gn, 'cd dvd compact disc digital video drive', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_android_proportional;',
					w * 17, h * 31, '', 'Cell Phone, Android, Proportional', null, null, this.getTagsForStencil(gn, 'cell phone android proportional', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_android_standalone;',
					w * 24, h * 44, '', 'Cell Phone, Android, Standalone', null, null, this.getTagsForStencil(gn, 'cell phone android standalone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_generic;',
					w * 26, h * 47, '', 'Cell Phone, Generic', null, null, this.getTagsForStencil(gn, 'cell phone generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_generic;',
					w * 21, h * 37, '', 'Cell Phone, Generic (small)', null, null, this.getTagsForStencil(gn, 'cell phone generic small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_iphone_proportional;',
					w * 17, h * 29, '', 'Cell Phone, iPhone, Proportional', null, null, this.getTagsForStencil(gn, 'cell phone iphone proportional', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_iphone_standalone;',
					w * 25, h * 42, '', 'Cell Phone, iPhone, Standalone', null, null, this.getTagsForStencil(gn, 'cell phone iphone standalone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_windows_phone_proportional;',
					w * 16, h * 29, '', 'Cell Phone, Windows Phone, Proportional', null, null, this.getTagsForStencil(gn, 'cell phone windows phone proportional', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cell_phone_windows_phone_standalone;',
					w * 24, h * 42, '', 'Cell Phone, Windows Phone, Standalone', null, null, this.getTagsForStencil(gn, 'cell phone windows standalone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'data_jack;',
					w * 47, h * 47, '', 'Data Jack', null, null, this.getTagsForStencil(gn, 'data jack', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'device_update_service;',
					w * 50, h * 54, '', 'Device Update Service', null, null, this.getTagsForStencil(gn, 'device update service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'fax;',
					w * 57, h * 47, '', 'Fax', null, null, this.getTagsForStencil(gn, 'fax', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hard_disk;',
					w * 40, h * 54, '', 'Hard Disk', null, null, this.getTagsForStencil(gn, 'hard disk hdd drive', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'headset;',
					w * 36, h * 48, '', 'Headset', null, null, this.getTagsForStencil(gn, 'headset', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ipad_mini;',
					w * 33, h * 47, '', 'iPad, Mini', null, null, this.getTagsForStencil(gn, 'ipad mini', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ip_gateway;',
					w * 59, h * 40, '', 'IP Gateway', null, null, this.getTagsForStencil(gn, 'ip gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ip_pbx;',
					w * 59, h * 39, '', 'IP PBX', null, null, this.getTagsForStencil(gn, 'ip pbx', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'laptop;',
					w * 58, h * 34, '', 'Laptop', null, null, this.getTagsForStencil(gn, 'laptop', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lcd_monitor;',
					w * 58, h * 48, '', 'LCD Monitor', null, null, this.getTagsForStencil(gn, 'lcd monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lcd_monitor;',
					w * 39, h * 32, '', 'LCD Monitor (small)', null, null, this.getTagsForStencil(gn, 'lcd monitor small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'load_balancer;',
					w * 59, h * 39, '', 'Load Balancer', null, null, this.getTagsForStencil(gn, 'load balancer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mac_client;',
					w * 58, h * 48, '', 'Mac Client', null, null, this.getTagsForStencil(gn, 'mac client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'management_console;',
					w * 58, h * 48, '', 'Management Console', null, null, this.getTagsForStencil(gn, 'management console', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'microphone;',
					w * 53, h * 37, '', 'Microphone', null, null, this.getTagsForStencil(gn, 'microphone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'modem;',
					w * 54, h * 34, '', 'Modem', null, null, this.getTagsForStencil(gn, 'modem', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'nic;',
					w * 57, h * 38, '', 'NIC', null, null, this.getTagsForStencil(gn, 'nic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'phone_digital;',
					w * 49, h * 42, '', 'Phone, Digital', null, null, this.getTagsForStencil(gn, 'phone digital', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'phone_traditional;',
					w * 48, h * 40, '', 'Phone, Traditional', null, null, this.getTagsForStencil(gn, 'phone traditional', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'phone_usb;',
					w * 58, h * 51, '', 'Phone, USB', null, null, this.getTagsForStencil(gn, 'phone usb', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'phone_voip;',
					w * 57, h * 51, '', 'Phone, VoIP', null, null, this.getTagsForStencil(gn, 'phone voip voice over internet protocol', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'printer;',
					w * 56, h * 47, '', 'Printer', null, null, this.getTagsForStencil(gn, 'printer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'roundtable;',
					w * 50, h * 58, '', 'Roundtable', null, null, this.getTagsForStencil(gn, 'roundtable', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'router;',
					w * 55, h * 56, '', 'Router', null, null, this.getTagsForStencil(gn, 'router', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'session_border_controller;',
					w * 59, h * 52, '', 'Session Border Controller', null, null, this.getTagsForStencil(gn, 'session border controller', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'shadowed_router;',
					w * 59, h * 59, '', 'Shadowed Router', null, null, this.getTagsForStencil(gn, 'shadowed router', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'stylus;',
					w * 57, h * 57, '', 'Stylus', null, null, this.getTagsForStencil(gn, 'stylus', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'switch;',
					w * 55, h * 18, '', 'Switch', null, null, this.getTagsForStencil(gn, 'switch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_android;',
					w * 56, h * 37, '', 'Tablet, Android', null, null, this.getTagsForStencil(gn, 'tablet android', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_ipad;',
					w * 39, h * 52, '', 'Tablet, iPad', null, null, this.getTagsForStencil(gn, 'tablet ipad', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_windows_7inch;',
					w * 34, h * 47, '', 'Tablet, Windows, 7inch', null, null, this.getTagsForStencil(gn, 'tablet windows seven inch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tablet_windows_8;',
					w * 56, h * 35, '', 'Tablet, Windows 8', null, null, this.getTagsForStencil(gn, 'tablet windows eight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tv;',
					w * 59, h * 45, '', 'TV', null, null, this.getTagsForStencil(gn, 'tv television', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_camera;',
					w * 52, h * 25, '', 'Video Camera', null, null, this.getTagsForStencil(gn, 'video camera', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_gateway;',
					w * 59, h * 41, '', 'Video Gateway', null, null, this.getTagsForStencil(gn, 'video gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'webcam;',
					w * 40, h * 50, '', 'Webcam', null, null, this.getTagsForStencil(gn, 'webcam', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'webcam_hd;',
					w * 56, h * 59, '', 'Webcam, HD', null, null, this.getTagsForStencil(gn, 'webcam hd high definition', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workstation;',
					w * 53, h * 56, '', 'Workstation', null, null, this.getTagsForStencil(gn, 'workstation', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workstation_pc;',
					w * 53, h * 59, '', 'Workstation, PC', null, null, this.getTagsForStencil(gn, 'workstation pc personal computer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workstation_visual_studio;',
					w * 53, h * 59, '', 'Workstation, Visual Studio', null, null, this.getTagsForStencil(gn, 'workstation visual studio', dt).join(' '))
		];
			
		this.addPalette('officeDevices', 'Office / Devices', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeSecurityPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.security.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.security.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.security';
		var dt = 'office security ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'active_directory;',
					w * 53, h * 46, '', 'Active Directory', null, null, this.getTagsForStencil(gn, 'active directory', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'address_book_policies;',
					w * 55, h * 53, '', 'Address Book Policies', null, null, this.getTagsForStencil(gn, 'address book policies', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate;',
					w * 58, h * 50, '', 'Certificate', null, null, this.getTagsForStencil(gn, 'certificate', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate;',
					w * 39, h * 33, '', 'Certificate (small)', null, null, this.getTagsForStencil(gn, 'certificate small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'credentials;',
					w * 56, h * 58, '', 'Credentials', null, null, this.getTagsForStencil(gn, 'credentials', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'domain;',
					w * 53, h * 46, '', 'Domain', null, null, this.getTagsForStencil(gn, 'domain', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'domain;',
					w * 41, h * 36, '', 'Domain (small)', null, null, this.getTagsForStencil(gn, 'domain', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_address_policy;',
					w * 55, h * 53, '', 'Email Address Policy', null, null, this.getTagsForStencil(gn, 'email address policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'federation_service;',
					w * 58, h * 59, '', 'Federation Service', null, null, this.getTagsForStencil(gn, 'federation service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'federation_trust;',
					w * 58, h * 59, '', 'Federation Trust', null, null, this.getTagsForStencil(gn, 'federation trust', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'irm_protected_message;',
					w * 56, h * 50, '', 'IRM-Protected Message', null, null, this.getTagsForStencil(gn, 'irm protected message', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'key_permissions;',
					w * 25, h * 53, '', 'Key, Permissions', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_permissions;fillColor=#2072B8;',
					w * 25, h * 53, '', 'Key, Permissions (blue)', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_permissions;fillColor=#DA4026;',
					w * 25, h * 53, '', 'Key, Permissions (orange)', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_permissions;fillColor=#7FBA42;',
					w * 25, h * 53, '', 'Key, Permissions (green)', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'key_permissions;fillColor=#CCCBCB;',
					w * 25, h * 53, '', 'Key, Permissions (ghosted)', null, null, this.getTagsForStencil(gn, 'key permissions', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'key_permissions;',
					w * 19, h * 40, '', 'Key, Permissions (small)', null, null, this.getTagsForStencil(gn, 'key permissions small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_protected;',
					w * 38, h * 52, '', 'Lock, Protected', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_protected;fillColor=#2072B8;',
					w * 38, h * 52, '', 'Lock, Protected (blue)', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_protected;fillColor=#DA4026;',
					w * 38, h * 52, '', 'Lock, Protected (orange)', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_protected;fillColor=#7FBA42;',
					w * 38, h * 52, '', 'Lock, Protected (green)', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_protected;fillColor=#CCCBCB;',
					w * 38, h * 52, '', 'Lock, Protected (ghosted)', null, null, this.getTagsForStencil(gn, 'lock protected', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_protected;',
					w * 28, h * 37, '', 'Lock, Protected (small)', null, null, this.getTagsForStencil(gn, 'lock protected small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_unprotected;',
					w * 38, h * 55, '', 'Lock, Unprotected', null, null, this.getTagsForStencil(gn, 'lock unprotected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_unprotected;fillColor=#2072B8;',
					w * 38, h * 55, '', 'Lock, Unprotected (blue)', null, null, this.getTagsForStencil(gn, 'lock unprotected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_unprotected;fillColor=#DA4026;',
					w * 38, h * 55, '', 'Lock, Unprotected (orange)', null, null, this.getTagsForStencil(gn, 'lock unprotected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_unprotected;fillColor=#7FBA42;',
					w * 38, h * 55, '', 'Lock, Unprotected (green)', null, null, this.getTagsForStencil(gn, 'lock unprotected', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lock_unprotected;fillColor=#CCCBCB;',
					w * 38, h * 55, '', 'Lock, Unprotected (ghosted)', null, null, this.getTagsForStencil(gn, 'lock unprotected', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_unprotected;',
					w * 28, h * 40, '', 'Lock, Unprotected (small)', null, null, this.getTagsForStencil(gn, 'lock unprotected small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_with_key_security;',
					w * 47, h * 58, '', 'Lock With Key, Security', null, null, this.getTagsForStencil(gn, 'lock with key security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_with_key_security_blue;',
					w * 47, h * 58, '', 'Lock With Key, Security (blue)', null, null, this.getTagsForStencil(gn, 'lock with key security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_with_key_security_orange;',
					w * 47, h * 58, '', 'Lock With Key, Security (orange)', null, null, this.getTagsForStencil(gn, 'lock with key security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_with_key_security_green;',
					w * 47, h * 58, '', 'Lock With Key, Security (green)', null, null, this.getTagsForStencil(gn, 'lock with key security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lock_with_key_security_ghosted;',
					w * 47, h * 58, '', 'Lock With Key, Security (ghosted)', null, null, this.getTagsForStencil(gn, 'lock with key security', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'management_role;',
					w * 45, h * 45, '', 'Management Role', null, null, this.getTagsForStencil(gn, 'management role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'policy;',
					w * 53, h * 49, '', 'Policy', null, null, this.getTagsForStencil(gn, 'policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'policy;',
					w * 39, h * 36, '', 'Policy (small)', null, null, this.getTagsForStencil(gn, 'policy small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'protected_voice_mail;',
					w * 59, h * 51, '', 'Protected Voice Mail', null, null, this.getTagsForStencil(gn, 'protected voice mail', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'retention_policy;',
					w * 54, h * 55, '', 'Retention Policy', null, null, this.getTagsForStencil(gn, 'retention policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'retention_policy_tag;',
					w * 56, h * 58, '', 'Retention Policy Tag', null, null, this.getTagsForStencil(gn, 'retention policy tag', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_assignment_policy;',
					w * 55, h * 54, '', 'Role Assignment Policy', null, null, this.getTagsForStencil(gn, 'role assignment policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_group;',
					w * 59, h * 56, '', 'Role Group', null, null, this.getTagsForStencil(gn, 'role group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'secure_messaging;',
					w * 55, h * 46, '', 'Secure Messaging', null, null, this.getTagsForStencil(gn, 'secure messaging', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'security_access_portal;',
					w * 64, h * 55, '', 'Security Access Portal', null, null, this.getTagsForStencil(gn, 'security access portal', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sharing_policy;',
					w * 56, h * 53, '', 'Sharing Policy', null, null, this.getTagsForStencil(gn, 'sharing policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'split_domain_user;',
					w * 59, h * 55, '', 'Split-Domain User', null, null, this.getTagsForStencil(gn, 'split domain user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'token;',
					w * 41, h * 52, '', 'Token', null, null, this.getTagsForStencil(gn, 'token', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'token;',
					w * 29, h * 37, '', 'Token (small)', null, null, this.getTagsForStencil(gn, 'token small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'token_service;',
					w * 60, h * 56, '', 'Token Service', null, null, this.getTagsForStencil(gn, 'token service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'trusted_application_server;',
					w * 46, h * 57, '', 'Trusted Application Server', null, null, this.getTagsForStencil(gn, 'trusted application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_mailbox_policy;',
					w * 55, h * 53, '', 'UM Mailbox Policy', null, null, this.getTagsForStencil(gn, 'um mailbox policy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'universal_security_group;',
					w * 58, h * 58, '', 'Universal Security Group', null, null, this.getTagsForStencil(gn, 'universal security group', dt).join(' '))
		];
			
		this.addPalette('officeSecurity', 'Office / Security', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeServersPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.servers.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.servers.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.servers';
		var dt = 'office server ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + '3rd_party_mail_server;',
					w * 47, h * 59, '', '3rd Party Mail Server', null, null, this.getTagsForStencil(gn, '3rd party mail server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_proxy;',
					w * 44, h * 55, '', 'Active Directory Federation Services Proxy', null, null, this.getTagsForStencil(gn, 'active directory federation services proxy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_server;',
					w * 45, h * 56, '', 'Active Directory Federation Services Server', null, null, this.getTagsForStencil(gn, 'active directory federation services server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_server_blue;',
					w * 45, h * 56, '', 'Active Directory Federation Services Server (blue)', null, null, this.getTagsForStencil(gn, 'active directory federation services server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_server_orange;',
					w * 45, h * 56, '', 'Active Directory Federation Services Server (orange)', null, null, this.getTagsForStencil(gn, 'active directory federation services server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_server_green;',
					w * 45, h * 56, '', 'Active Directory Federation Services Server (green)', null, null, this.getTagsForStencil(gn, 'active directory federation services server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'active_directory_federation_services_server_ghosted;',
					w * 45, h * 56, '', 'Active Directory Federation Services Server (ghosted)', null, null, this.getTagsForStencil(gn, 'active directory federation services server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server;',
					w * 46, h * 56, '', 'Application Server', null, null, this.getTagsForStencil(gn, 'application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server_blue;',
					w * 46, h * 56, '', 'Application Server (blue)', null, null, this.getTagsForStencil(gn, 'application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server_orange;',
					w * 46, h * 56, '', 'Application Server (orange)', null, null, this.getTagsForStencil(gn, 'application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server_green;',
					w * 46, h * 56, '', 'Application Server (green)', null, null, this.getTagsForStencil(gn, 'application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'application_server_ghosted;',
					w * 46, h * 56, '', 'Application Server (ghosted)', null, null, this.getTagsForStencil(gn, 'application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'call_admission_control_service;',
					w * 50, h * 60, '', 'Call Admission Control Service', null, null, this.getTagsForStencil(gn, 'call admission control service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'certificate_authority;',
					w * 46, h * 59, '', 'Certificate Authority', null, null, this.getTagsForStencil(gn, 'certificate authority', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cluster_server;',
					w * 49, h * 59, '', 'Cluster Server', null, null, this.getTagsForStencil(gn, 'cluster_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server;',
					w * 43, h * 56, '', 'Database Server', null, null, this.getTagsForStencil(gn, 'database_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_blue;',
					w * 43, h * 56, '', 'Database Server (blue)', null, null, this.getTagsForStencil(gn, 'database_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_orange;',
					w * 43, h * 56, '', 'Database Server (orange)', null, null, this.getTagsForStencil(gn, 'database_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_green;',
					w * 43, h * 56, '', 'Database Server (green)', null, null, this.getTagsForStencil(gn, 'database_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database_server_ghosted;',
					w * 43, h * 56, '', 'Database Server (ghosted)', null, null, this.getTagsForStencil(gn, 'database_server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'datacenter;',
					w * 53, h * 53, '', 'Datacenter', null, null, this.getTagsForStencil(gn, 'datacenter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dirsync_server;',
					w * 47, h * 56, '', 'DirSync Server', null, null, this.getTagsForStencil(gn, 'dirsync server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'domain_controller;',
					w * 45, h * 55, '', 'Domain Controller', null, null, this.getTagsForStencil(gn, 'domain controller', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'excahnge_client_access_server_role;',
					w * 52, h * 59, '', 'Exchange Client Access Server Role', null, null, this.getTagsForStencil(gn, 'excahnge client access server role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_edge_transport_server_role;',
					w * 52, h * 55, '', 'Exchange Edge Transport Server Role', null, null, this.getTagsForStencil(gn, 'exchange edge transport server role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_hub_transport_server_role;',
					w * 52, h * 59, '', 'Exchange Hub Transport Server Role', null, null, this.getTagsForStencil(gn, 'exchange hub transport server role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_mailbox_server_role;',
					w * 52, h * 59, '', 'Exchange Mailbox Server Role', null, null, this.getTagsForStencil(gn, 'exchange mailbox server role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_um_server_role;',
					w * 52, h * 59, '', 'Exchange UM Server Role', null, null, this.getTagsForStencil(gn, 'exchange um server role', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_client_access_server;',
					w * 57, h * 59, '', 'Exchange Client Access Server', null, null, this.getTagsForStencil(gn, 'exchange client access server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_edge_transport_server;',
					w * 57, h * 55, '', 'Exchange Edge Transport Server', null, null, this.getTagsForStencil(gn, 'exchange edge transport server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_mailbox_server;',
					w * 57, h * 59, '', 'Exchange Mailbox Server', null, null, this.getTagsForStencil(gn, 'exchange mailbox server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'exchange_server;',
					w * 57, h * 55, '', 'Exchange Server', null, null, this.getTagsForStencil(gn, 'exchange server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file_server;',
					w * 45, h * 56, '', 'File Server', null, null, this.getTagsForStencil(gn, 'file server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hybrid_server;',
					w * 59, h * 52, '', 'Hybrid Server', null, null, this.getTagsForStencil(gn, 'hybrid server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mainframe;',
					w * 58, h * 42, '', 'Mainframe', null, null, this.getTagsForStencil(gn, 'mainframe', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mainframe_host;',
					w * 44, h * 42, '', 'Mainframe Host', null, null, this.getTagsForStencil(gn, 'mainframe host', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'monitoring_sql_reporting_services;',
					w * 50, h * 59, '', 'Monitoring SQL Reporting Services', null, null, this.getTagsForStencil(gn, 'monitoring sql reporting services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'network;',
					w * 34, h * 57, '', 'Network', null, null, this.getTagsForStencil(gn, 'network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'office_web_apps_server;',
					w * 52, h * 56, '', 'Office Web Apps Server', null, null, this.getTagsForStencil(gn, 'office web apps server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'on_premises_server;',
					w * 44, h * 58, '', 'On Premises Server', null, null, this.getTagsForStencil(gn, 'on premises server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'physical_host;fillColor=#2072B8;',
					w * 27, h * 52, '', 'Physical Host', null, null, this.getTagsForStencil(gn, 'physical host', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'physical_host_farm;fillColor=#2072B8;',
					w * 56, h * 49, '', 'Physical Host Farm', null, null, this.getTagsForStencil(gn, 'physical host farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'reverse_proxy;',
					w * 41, h * 53, '', 'Reverse Proxy', null, null, this.getTagsForStencil(gn, 'reverse proxy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'scom;',
					w * 56, h * 53, '', 'SCOM', null, null, this.getTagsForStencil(gn, 'scom', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_disaster;',
					w * 46, h * 57, '', 'Server Disaster', null, null, this.getTagsForStencil(gn, 'server disaster', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_farm;',
					w * 56, h * 49, '', 'Server Farm', null, null, this.getTagsForStencil(gn, 'server_farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_farm;fillColor=#2072B8;',
					w * 56, h * 49, '', 'Server Farm (blue)', null, null, this.getTagsForStencil(gn, 'server_farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_farm;fillColor=#DA4026;',
					w * 56, h * 49, '', 'Server Farm (orange)', null, null, this.getTagsForStencil(gn, 'server_farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_farm;fillColor=#7FBA42;',
					w * 56, h * 49, '', 'Server Farm (green)', null, null, this.getTagsForStencil(gn, 'server_farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_farm;fillColor=#CCCBCB;',
					w * 56, h * 49, '', 'Server Farm (ghosted)', null, null, this.getTagsForStencil(gn, 'server_farm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_generic;',
					w * 27, h * 52, '', 'Server, Generic', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_generic;fillColor=#2072B8;',
					w * 27, h * 52, '', 'Server, Generic (blue)', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_generic;fillColor=#DA4026;',
					w * 27, h * 52, '', 'Server, Generic (orange)', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_generic;fillColor=#7FBA42;',
					w * 27, h * 52, '', 'Server, Generic (green)', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'server_generic;fillColor=#CCCBCB;',
					w * 27, h * 52, '', 'Server, Generic (ghosted)', null, null, this.getTagsForStencil(gn, 'server generic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_generic;',
					w * 20, h * 39, '', 'Server, Generic (small)', null, null, this.getTagsForStencil(gn, 'server generic small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'server_side_code;',
					w * 49, h * 56, '', 'Server Side Code', null, null, this.getTagsForStencil(gn, 'server side code', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sharepoint_server;',
					w * 56, h * 55, '', 'Sharepoint Server', null, null, this.getTagsForStencil(gn, 'sharepoint server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_back_end_server;',
					w * 54, h * 60, '', 'Skype for Business Back End Server', null, null, this.getTagsForStencil(gn, 'skype for business back end server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_back_end_server_mirror;',
					w * 54, h * 60, '', 'Skype for Business Back End Server Mirror', null, null, this.getTagsForStencil(gn, 'skype for business back end server mirror', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_director;',
					w * 54, h * 55, '', 'Skype for Business Director', null, null, this.getTagsForStencil(gn, 'skype for business director', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_director_array;',
					w * 70, h * 60, '', 'Skype for Business Director Array', null, null, this.getTagsForStencil(gn, 'skype for business director array', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_edge_server;',
					w * 54, h * 55, '', 'Skype for Business Edge Server', null, null, this.getTagsForStencil(gn, 'skype for business edge server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_edge_server_pool;',
					w * 70, h * 60, '', 'Skype for Business Edge Server Pool', null, null, this.getTagsForStencil(gn, 'skype for business edge server pool', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_front_end_pool;',
					w * 70, h * 60, '', 'Skype for Business Front End Pool', null, null, this.getTagsForStencil(gn, 'skype for business front end pool', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_front_end_server;',
					w * 54, h * 60, '', 'Skype for Business Front End Server', null, null, this.getTagsForStencil(gn, 'skype for business front end server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_mediation_server;',
					w * 54, h * 60, '', 'Skype for Business Mediation Server', null, null, this.getTagsForStencil(gn, 'skype for business mediation server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_monitoring_server;',
					w * 54, h * 60, '', 'Skype for Business Monitoring Server', null, null, this.getTagsForStencil(gn, 'skype for business monitoring server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_persistent_chat_server;',
					w * 54, h * 58, '', 'Skype for Business Persistent Chat Server', null, null, this.getTagsForStencil(gn, 'skype for business persistent chat server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_server;',
					w * 54, h * 55, '', 'Skype for Business Server', null, null, this.getTagsForStencil(gn, 'skype for business server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'sql_server;',
					w * 43, h * 56, '', 'SQL Server', null, null, this.getTagsForStencil(gn, 'sql server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'survivable_branch_appliance;',
					w * 37, h * 59, '', 'Survivable Branch Appliance', null, null, this.getTagsForStencil(gn, 'survivable branch appliance', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'survivable_branch_server;',
					w * 42, h * 58, '', 'Survivable Branch Server', null, null, this.getTagsForStencil(gn, 'survivable branch server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'topology_builder;',
					w * 59, h * 59, '', 'Topology Builder', null, null, this.getTagsForStencil(gn, 'topology builder', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'trusted_application_pool;',
					w * 59, h * 59, '', 'Trusted Application Pool', null, null, this.getTagsForStencil(gn, 'trusted application pool', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'trusted_application_server;',
					w * 43, h * 52, '', 'Trusted Application Server', null, null, this.getTagsForStencil(gn, 'trusted application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tunnel_angled;',
					w * 55, h * 35, '', 'Tunnel Angled', null, null, this.getTagsForStencil(gn, 'tunnel angled', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tunnel_straight;',
					w * 59, h * 10, '', 'Tunnel Straight', null, null, this.getTagsForStencil(gn, 'tunnel straight', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'universal_security_group;',
					w * 58, h * 58, '', 'Universal Security Group', null, null, this.getTagsForStencil(gn, 'universal security group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'video_interop_server;',
					w * 54, h * 60, '', 'Video Interop Server', null, null, this.getTagsForStencil(gn, 'video interop server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_application_server;',
					w * 48, h * 55, '', 'Virtual Application Server', null, null, this.getTagsForStencil(gn, 'virtual application server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_application_server;fillColor=#2072B8;',
					w * 48, h * 55, '', 'Virtual Application Server (blue)', null, null, this.getTagsForStencil(gn, 'virtual application server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_database_server;',
					w * 41, h * 56, '', 'Virtual Database Server', null, null, this.getTagsForStencil(gn, 'virtual database server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_database_server;fillColor=#2072B8;',
					w * 41, h * 56, '', 'Virtual Database Server (blue)', null, null, this.getTagsForStencil(gn, 'virtual database server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_server;',
					w * 28, h * 52, '', 'Virtual Server', null, null, this.getTagsForStencil(gn, 'virtual server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_server;fillColor=#2072B8;',
					w * 28, h * 52, '', 'Virtual Server (blue)', null, null, this.getTagsForStencil(gn, 'virtual server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_server;',
					w * 20, h * 37, '', 'Virtual Server (small)', null, null, this.getTagsForStencil(gn, 'virtual server small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_web_server;',
					w * 44, h * 55, '', 'Virtual Web Server', null, null, this.getTagsForStencil(gn, 'virtual web server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_web_server;fillColor=#2072B8;',
					w * 44, h * 55, '', 'Virtual Web Server (blue)', null, null, this.getTagsForStencil(gn, 'virtual web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vociemail_preview_partner;',
					w * 46, h * 56, '', 'Vociemail Preview Partner', null, null, this.getTagsForStencil(gn, 'vociemail preview partner', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server;',
					w * 48, h * 57, '', 'Web Server', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server_blue;',
					w * 48, h * 57, '', 'Web Server (blue)', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server_orange;',
					w * 48, h * 57, '', 'Web Server (orange)', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server_green;',
					w * 48, h * 57, '', 'Web Server (green)', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_server_ghosted;',
					w * 48, h * 57, '', 'Web Server (ghosted)', null, null, this.getTagsForStencil(gn, 'web server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'windows_router;',
					w * 52, h * 59, '', 'Windows Router', null, null, this.getTagsForStencil(gn, 'windows router', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'windows_server;',
					w * 52, h * 55, '', 'Windows Server', null, null, this.getTagsForStencil(gn, 'windows server', dt).join(' '))
		];
			
		this.addPalette('officeServers', 'Office / Servers', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeServicesPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.services.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.services.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.services';
		var dt = 'office service ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + '3rd_party_service;',
					w * 53, h * 54, '', '3rd Party Service', null, null, this.getTagsForStencil(gn, '3rd party service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'access_services;',
					w * 59, h * 49, '', 'Access Services', null, null, this.getTagsForStencil(gn, 'access services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'business_connectivity_services;',
					w * 34, h * 51, '', 'Business Connectivity Services', null, null, this.getTagsForStencil(gn, 'business connectivity services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'call_admission_control_service;',
					w * 50, h * 59, '', 'Call Admission Control Service', null, null, this.getTagsForStencil(gn, 'call admission control service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'central_management_service;',
					w * 51, h * 54, '', 'Central Management Service', null, null, this.getTagsForStencil(gn, 'central management service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'conference_announcement_service;',
					w * 59, h * 59, '', 'Conference Announcement Service', null, null, this.getTagsForStencil(gn, 'conference announcement service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'device_update_service;',
					w * 50, h * 54, '', 'Device Update Service', null, null, this.getTagsForStencil(gn, 'device update service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'email_service;',
					w * 58, h * 48, '', 'Email Service', null, null, this.getTagsForStencil(gn, 'email service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'excel_services;',
					w * 60, h * 49, '', 'Excel Services', null, null, this.getTagsForStencil(gn, 'excel services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'federation_service;',
					w * 58, h * 59, '', 'Federation Service', null, null, this.getTagsForStencil(gn, 'federation service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_storage_service;',
					w * 65, h * 58, '', 'Lync Storage Service', null, null, this.getTagsForStencil(gn, 'lync storage service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lync_web_app_client;',
					w * 83, h * 51, '', 'Lync Web App Client', null, null, this.getTagsForStencil(gn, 'lync web app client', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobility_service;',
					w * 45, h * 53, '', 'Mobility Service', null, null, this.getTagsForStencil(gn, 'mobility service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'network_file_share_service;',
					w * 55, h * 53, '', 'Network File Share Service', null, null, this.getTagsForStencil(gn, 'network file share service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'online_hosted_services;',
					w * 56, h * 52, '', 'Online Hosted Services', null, null, this.getTagsForStencil(gn, 'online hosted services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'outlook_web_app;',
					w * 83, h * 51, '', 'Outlook Web App', null, null, this.getTagsForStencil(gn, 'outlook web app', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'powerpoint_automation_services;',
					w * 59, h * 49, '', 'PowerPoint Automation Services', null, null, this.getTagsForStencil(gn, 'powerpoint automation services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'push_notification_service;',
					w * 50, h * 58, '', 'Push Notification Service', null, null, this.getTagsForStencil(gn, 'push notification service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'registrar_service;',
					w * 56, h * 52, '', 'Registrar Service', null, null, this.getTagsForStencil(gn, 'registrar service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'response_group_service;',
					w * 58, h * 54, '', 'Response Group Service', null, null, this.getTagsForStencil(gn, 'response group service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_storage_service;',
					w * 62, h * 58, '', 'Skype for Business Storage Service', null, null, this.getTagsForStencil(gn, 'skype for business storage service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_services;',
					w * 59, h * 59, '', 'User Services', null, null, this.getTagsForStencil(gn, 'user services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'verification_service;',
					w * 57, h * 59, '', 'Verification Service', null, null, this.getTagsForStencil(gn, 'verification service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_services;',
					w * 60, h * 56, '', 'Web Services', null, null, this.getTagsForStencil(gn, 'web services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'word_automation_services;',
					w * 60, h * 49, '', 'Word Automation Services', null, null, this.getTagsForStencil(gn, 'word automation services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'xmpp_service;',
					w * 58, h * 52, '', 'XMPP Service', null, null, this.getTagsForStencil(gn, 'xmpp service', dt).join(' '))
		];
			
		this.addPalette('officeServices', 'Office / Services', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeSitesPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.sites.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.sites.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.sites';
		var dt = 'office site ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'access_services;',
					w * 59, h * 49, '', 'Access Services', null, null, this.getTagsForStencil(gn, 'access services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'blog_site;',
					w * 56, h * 49, '', 'Blog Site', null, null, this.getTagsForStencil(gn, 'blog site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'business_connectivity_services;',
					w * 34, h * 51, '', 'Business Connectivity Services', null, null, this.getTagsForStencil(gn, 'business connectivity services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'excel_services;',
					w * 60, h * 49, '', 'Excel Services', null, null, this.getTagsForStencil(gn, 'excel services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'meeting_workspace_site;',
					w * 58, h * 50, '', 'Meeting Workspace Site', null, null, this.getTagsForStencil(gn, 'meeting workspace site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'my_site;',
					w * 58, h * 49, '', 'My Site', null, null, this.getTagsForStencil(gn, 'my site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'powerpoint_automation_services;',
					w * 59, h * 49, '', 'PowerPoint Automation Services', null, null, this.getTagsForStencil(gn, 'powerpoint automation services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'publish;',
					w * 57, h * 48, '', 'Publish', null, null, this.getTagsForStencil(gn, 'publish', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'site_collection;',
					w * 52, h * 40, '', 'Site Collection', null, null, this.getTagsForStencil(gn, 'site collection', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'site_shared;',
					w * 56, h * 50, '', 'Site Shared', null, null, this.getTagsForStencil(gn, 'site shared', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'site_team;',
					w * 60, h * 49, '', 'Site, Team', null, null, this.getTagsForStencil(gn, 'site team', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'subsite;',
					w * 53, h * 40, '', 'Subsite', null, null, this.getTagsForStencil(gn, 'substitute', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'subsite;fillColor=#2072B8;',
					w * 53, h * 40, '', 'Subsite (blue)', null, null, this.getTagsForStencil(gn, 'substitute', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'subsite;fillColor=#DA4026;',
					w * 53, h * 40, '', 'Subsite (orange)', null, null, this.getTagsForStencil(gn, 'substitute', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'subsite;fillColor=#7FBA42;',
					w * 53, h * 40, '', 'Subsite (green)', null, null, this.getTagsForStencil(gn, 'substitute', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'subsite;fillColor=#CCCBCB;',
					w * 53, h * 40, '', 'Subsite (ghosted)', null, null, this.getTagsForStencil(gn, 'substitute', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'subsite;',
					w * 38, h * 29, '', 'Subsite (small)', null, null, this.getTagsForStencil(gn, 'substitute small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'upgrade_site;',
					w * 59, h * 48, '', 'Upgrade Site', null, null, this.getTagsForStencil(gn, 'upgrade site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'website;',
					w * 59, h * 49, '', 'Website', null, null, this.getTagsForStencil(gn, 'website', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'website_public;',
					w * 58, h * 48, '', 'Website, Public', null, null, this.getTagsForStencil(gn, 'website public', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wiki_site;',
					w * 59, h * 50, '', 'Wiki Site', null, null, this.getTagsForStencil(gn, 'wiki_site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'word_automation_services;',
					w * 60, h * 49, '', 'Word Automation Services', null, null, this.getTagsForStencil(gn, 'word automation services', dt).join(' '))
		];
			
		this.addPalette('officeSites', 'Office / Sites', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	Sidebar.prototype.addOfficeUsersPalette = function()
	{
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.users.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.office.users.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.office.users';
		var dt = 'office user ';
		
		var w = 1.0;
		var h = 1.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + 'administrator;',
					w * 58, h * 56, '', 'Administrator', null, null, this.getTagsForStencil(gn, 'administrator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'approver;',
					w * 59, h * 55, '', 'Approver', null, null, this.getTagsForStencil(gn, 'approver', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'call_center_agent;',
					w * 46, h * 55, '', 'Call Center Agent', null, null, this.getTagsForStencil(gn, 'call center agent', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'communications;',
					w * 54, h * 58, '', 'Communications', null, null, this.getTagsForStencil(gn, 'communications', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'conferencing_attendant;',
					w * 53, h * 59, '', 'Conferencing Attendant', null, null, this.getTagsForStencil(gn, 'conferencing attendant', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'credentials;',
					w * 56, h * 58, '', 'Credentials', null, null, this.getTagsForStencil(gn, 'credentials', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'csv_file;',
					w * 59, h * 43, '', 'CSV File', null, null, this.getTagsForStencil(gn, 'csv comma separated value file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'distribution_group;',
					w * 58, h * 59, '', 'Distribution Group', null, null, this.getTagsForStencil(gn, 'distribution group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'dynamic_distribution_group;',
					w * 58, h * 59, '', 'Dynamic Distribution Group', null, null, this.getTagsForStencil(gn, 'dynamic distribution group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mail_user;',
					w * 58, h * 59, '', 'Mail User', null, null, this.getTagsForStencil(gn, 'mail user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'meeting;',
					w * 59, h * 38, '', 'Meeting', null, null, this.getTagsForStencil(gn, 'meeting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'mobile_user;',
					w * 59, h * 56, '', 'Mobile User', null, null, this.getTagsForStencil(gn, 'mobile user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'online_user;',
					w * 54, h * 43, '', 'Online User', null, null, this.getTagsForStencil(gn, 'online user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'on_premises_user;',
					w * 49, h * 59, '', 'On-Premises User', null, null, this.getTagsForStencil(gn, 'on premises user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'outlook_user;',
					w * 63, h * 55, '', 'Outlook User', null, null, this.getTagsForStencil(gn, 'outlook user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'response_group;',
					w * 58, h * 54, '', 'Response Group', null, null, this.getTagsForStencil(gn, 'response group', dt).join(' ')),
//			this.createVertexTemplateEntry(s + 'response_group_service;',
//					w * 58, h * 54, '', 'Response Group Service', null, null, this.getTagsForStencil(gn, 'response group service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role_group;',
					w * 59, h * 56, '', 'Role Group', null, null, this.getTagsForStencil(gn, 'role group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_commercial_user;',
					w * 59, h * 56, '', 'Skype Commercial User', null, null, this.getTagsForStencil(gn, 'skype commercial user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'skype_for_business_user;',
					w * 59, h * 56, '', 'Skype for Business User', null, null, this.getTagsForStencil(gn, 'skype for business user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tenant_admin;',
					w * 56, h * 58, '', 'Tenant Admin', null, null, this.getTagsForStencil(gn, 'tenant admin', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'um_enabled_user;',
					w * 58, h * 59, '', 'UM-Enabled User', null, null, this.getTagsForStencil(gn, 'um enabled user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'universal_security_group;',
					w * 58, h * 58, '', 'Universal Security Group', null, null, this.getTagsForStencil(gn, 'universal security group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;',
					w * 46, h * 50, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user;fillColor=#2072B8;',
					w * 46, h * 50, '', 'User (blue)', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user;fillColor=#DA4026;',
					w * 46, h * 50, '', 'User (orange)', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user;fillColor=#7FBA42;',
					w * 46, h * 50, '', 'User (green)', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'user;fillColor=#CCCBCB;',
					w * 46, h * 50, '', 'User (ghosted)', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;',
					w * 32, h * 35, '', 'User (small)', null, null, this.getTagsForStencil(gn, 'user small', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users;',
					w * 46, h * 50, '', 'Users', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'users;fillColor=#2072B8;',
					w * 46, h * 50, '', 'Users (blue)', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'users;fillColor=#DA4026;',
					w * 46, h * 50, '', 'Users (orange)', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'users;fillColor=#7FBA42;',
					w * 46, h * 50, '', 'Users (green)', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'users;fillColor=#CCCBCB;',
					w * 46, h * 50, '', 'Users (ghosted)', null, null, this.getTagsForStencil(gn, 'users', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users_two;',
					w * 57, h * 43, '', 'Users, Two', null, null, this.getTagsForStencil(gn, 'users two', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users_two;fillColor=#2072B8;',
					w * 57, h * 43, '', 'Users, Two (blue)', null, null, this.getTagsForStencil(gn, 'users two', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users_two;fillColor=#DA4026;',
					w * 57, h * 43, '', 'Users, Two (orange)', null, null, this.getTagsForStencil(gn, 'users two', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users_two;fillColor=#7FBA42;',
					w * 57, h * 43, '', 'Users, Two (green)', null, null, this.getTagsForStencil(gn, 'users two', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'users_two;fillColor=#CCCBCB;',
					w * 57, h * 43, '', 'Users, Two (ghosted)', null, null, this.getTagsForStencil(gn, 'users two', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_accounts;',
					w * 59, h * 59, '', 'User Accounts', null, null, this.getTagsForStencil(gn, 'user accounts', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_external;',
					w * 59, h * 50, '', 'User External', null, null, this.getTagsForStencil(gn, 'user external', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_services;',
					w * 59, h * 59, '', 'User Services', null, null, this.getTagsForStencil(gn, 'user services', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user_store;',
					w * 50, h * 55, '', 'User Store', null, null, this.getTagsForStencil(gn, 'user store', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'writer;',
					w * 54, h * 59, '', 'Writer', null, null, this.getTagsForStencil(gn, 'writer', dt).join(' '))
		];
			
		this.addPalette('officeUsers', 'Office / Users', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};
	
	
	
	
	
	
	
})();

(function()
{
	// Adds P&ID shapes
	Sidebar.prototype.addPidInstrumentsPalette = function()
	{
		var s = 'html=1;align=center;dashed=0;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid2";
		var gn = 'mxgraph.pid2inst';
		var dt = 'pid process instrumentation engineering instrument engineering ';

		this.addPaletteFunctions('pidInstruments', 'Proc. Eng. / Instruments', false,
		[
			this.createVertexTemplateEntry(s + 'inst.discInst;mounting=room',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Discrete Instrument (control room)', null, null, this.getTagsForStencil(gn, 'discInst', dt + 'discrete control room').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.discInst;mounting=field',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Discrete Instrument (field)', null, null, this.getTagsForStencil(gn, 'discInst', dt + 'discrete field').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.discInst;mounting=inaccessible',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Discrete Instrument (inaccessible)', null, null, this.getTagsForStencil(gn, 'discInst', dt + 'discrete inaccessible').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.discInst;mounting=local',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Discrete Instrument (local panel)', null, null, this.getTagsForStencil(gn, 'discInst', dt + 'discrete local panel').join(' ')),

			this.createVertexTemplateEntry(s + 'inst.sharedCont;mounting=room',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Shared Control/Display in DCS (control room)', null, null, this.getTagsForStencil(gn, 'sharedCont', dt + 'shared control display room').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.sharedCont;mounting=field',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Shared Control/Display in DCS (field)', null, null, this.getTagsForStencil(gn, 'sharedCont', dt + 'shared control display dcs field').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.sharedCont;mounting=inaccessible',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Shared Control/Display in DCS (inaccessible)', null, null, this.getTagsForStencil(gn, 'sharedCont', dt + 'shared control display dcs inaccessible').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.sharedCont;mounting=local',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Shared Control/Display in DCS (local panel)', null, null, this.getTagsForStencil(gn, 'sharedCont', dt + 'shared control display dcs local panel').join(' ')),

			this.createVertexTemplateEntry(s + 'inst.compFunc;mounting=room',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Computer Function (control room)', null, null, this.getTagsForStencil(gn, 'compFunc', dt + 'computer function control room').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.compFunc;mounting=field',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Computer Function (field)', null, null, this.getTagsForStencil(gn, 'compFunc', dt + 'computer function field').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.compFunc;mounting=inaccessible',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Computer Function (inaccessible)', null, null, this.getTagsForStencil(gn, 'compFunc', dt + 'computer function inaccessible').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.compFunc;mounting=local',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Computer Function (local panel)', null, null, this.getTagsForStencil(gn, 'compFunc', dt + 'computer function local panel').join(' ')),

			this.createVertexTemplateEntry(s + 'inst.progLogCont;mounting=room',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Programmable Logic Control (control room)', null, null, this.getTagsForStencil(gn, 'progLogCont', dt + 'programmable logic control plc room').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.progLogCont;mounting=field',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Programmable Logic Control (field)', null, null, this.getTagsForStencil(gn, 'progLogCont', dt + 'programmable logic control plc field').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.progLogCont;mounting=inaccessible',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Programmable Logic Control (inaccessible)', null, null, this.getTagsForStencil(gn, 'progLogCont', dt + 'programmable logic control plc inaccessible').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.progLogCont;mounting=local',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:width;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Programmable Logic Control (local panel)', null, null, this.getTagsForStencil(gn, 'progLogCont', dt + 'programmable logic control plc local panel').join(' ')),

			this.createVertexTemplateEntry(s + 'inst.logic;mounting=room',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Logic (control room)', null, null, this.getTagsForStencil(gn, 'logic', dt + 'control room').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.logic;mounting=field',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Logic (field)', null, null, this.getTagsForStencil(gn, 'logic', dt + 'field').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.logic;mounting=inaccessible',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Logic (inaccessible)', null, null, this.getTagsForStencil(gn, 'logic', dt + 'inaccessible').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.logic;mounting=local',
					50, 50, '<table cellpadding="4" cellspacing="0" border="0" style="font-size:1em;width:100%;height:100%;">' +
		    		'<tr><td>TI</td></tr><tr><td>##</td></table> ', 'Logic (local panel)', null, null, this.getTagsForStencil(gn, 'logic', dt + 'local panel').join(' ')),

			this.createVertexTemplateEntry(s + 'inst.indicator;mounting=room;overflow=fill;indType=inst', 50, 100,  
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr><td align="center" height="25">TI</td></tr><tr><td align="center" height="25">##</td></tr><tr><td align="center" valign="bottom"></td></tr></table>', 
					'Indicator (Instrument)', null, null, this.getTagsForStencil(gn, 'indicator', dt + 'indicator').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.indicator;mounting=room;overflow=fill;indType=ctrl', 50, 100,  
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr><td align="center" height="25">TI</td></tr><tr><td align="center" height="25">##</td></tr><tr><td align="center" valign="bottom"></td></tr></table>', 
					'Indicator (Control)', null, null, this.getTagsForStencil(gn, 'indicator', dt + 'indicator control').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.indicator;mounting=room;overflow=fill;indType=func', 50, 100,  
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr><td align="center" height="25">TI</td></tr><tr><td align="center" height="25">##</td></tr><tr><td align="center" valign="bottom"></td></tr></table>', 
					'Indicator (Function)', null, null, this.getTagsForStencil(gn, 'indicator', dt + 'indicator function').join(' ')),
			this.createVertexTemplateEntry(s + 'inst.indicator;mounting=room;overflow=fill;indType=plc', 50, 100,  
					'<table cellpadding="0" cellspacing="0" style="font-size:1em;width:100%;height:100%;"><tr><td align="center" height="25">TI</td></tr><tr><td align="center" height="25">##</td></tr><tr><td align="center" valign="bottom"></td></tr></table>', 
					'Indicator (PLC)', null, null, this.getTagsForStencil(gn, 'indicator', dt + 'indicator plc programmable logic control').join(' '))
		]);
	};
	
	Sidebar.prototype.addPidValvesPalette = function()
	{
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid2";
		var sv = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;dashed=0;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid2valves.valve;valveType=";
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;dashed=0;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid2valves.";
		var gn = 'mxgraph.pid2valves';
		var dt = 'pid process instrumentation engineering ';

		this.addPaletteFunctions('pidValves', 'Proc. Eng. / Valves', false,
		[
			this.createVertexTemplateEntry(sv + 'gate', 100, 60, '', 'Gate Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;defState=closed', 100, 60, '', 'Normally Closed Gate Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'normally closed nc gate').join(' ')),
			this.createVertexTemplateEntry(sv + 'ball', 100, 60, '', 'Ball Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'ball').join(' ')),
			this.createVertexTemplateEntry(sv + 'ball;defState=closed', 100, 60, '', 'Normally Closed Ball Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'normally closed nc ball').join(' ')),
			this.createVertexTemplateEntry(sv + 'globe', 100, 60, '', 'Globe Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'globe').join(' ')),
			this.createVertexTemplateEntry(sv + 'butterfly', 100, 60, '', 'Butterfly Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'butterfly').join(' ')),
			this.createVertexTemplateEntry(sv + 'check;', 100, 60, '', 'Check Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'check').join(' ')),
			this.createVertexTemplateEntry(sv + 'plug', 100, 60, '', 'Plug Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'plug').join(' ')),
			this.createVertexTemplateEntry(sv + 'needle', 100, 60, '', 'Needle Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'needle').join(' ')),
			this.createVertexTemplateEntry(sv + 'selfDrain', 100, 60, '', 'Self Draining Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'self draining').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=man', 100, 100, '', 'Gate Valve (Manual)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate manual').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=diaph', 100, 100, '', 'Gate Valve (Diaphragm)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate diaphragm').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=balDiaph', 100, 100, '', 'Gate Valve (Balanced Diaphragm)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate balanced diaphragm').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=digital', 100, 100, '', 'Gate Valve (Digital)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate digital').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=elHyd', 100, 100, '', 'Gate Valve (Electro-Hydraulic)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate electro hydraulic').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=key', 100, 100, '', 'Gate Valve (Key)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate key').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=motor', 100, 100, '', 'Gate Valve (Motor)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate motor').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=pilot', 100, 100, '', 'Gate Valve (Pilot)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate pilot').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=solenoid', 100, 100, '', 'Gate Valve (Solenoid)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate solenoid').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=solenoidManRes', 100, 100, '', 'Gate Valve (Solenoid With Manual Reset)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate solenoid manual reset').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=spring', 100, 100, '', 'Gate Valve (Spring)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate spring').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=weight', 100, 100, '', 'Gate Valve (Weight)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate weight').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=singActing', 100, 100, '', 'Gate Valve (Single Acting Cylinder)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate single acting cylinder').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=dblActing', 100, 100, '', 'Gate Valve (Double Acting Cylinder)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'gate double acting cylinder').join(' ')),
			this.createVertexTemplateEntry(sv + 'gate;actuator=angBlow', 100, 100, '', 'Angle Blowdown Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'angle blowdown').join(' ')),
			this.createVertexTemplateEntry(s + 'blockBleedValve;actuator=none', 100, 130, '', 'Integrated Block and Bleed Valve', null, null, this.getTagsForStencil(gn, 'blockBleedValve', dt + 'integrated block bleed').join(' ')),
			this.createVertexTemplateEntry(s + 'blockBleedValve;actuator=man', 100, 170, '', 'Integrated Block and Bleed Valve (Manual)', null, null, this.getTagsForStencil(gn, 'blockBleedValve', dt + 'integrated block bleed manual').join(' ')),
			this.createVertexTemplateEntry(sv + 'angle;actuator=none', 100, 80, '', 'Angle Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'angle').join(' ')),
			this.createVertexTemplateEntry(sv + 'angle;actuator=man', 100, 120, '', 'Angle Valve (Manual)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'angle manual').join(' ')),
			this.createVertexTemplateEntry(sv + 'angleGlobe;actuator=none', 100, 80, '', 'Angle Globe Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'angle globe').join(' ')),
			this.createVertexTemplateEntry(sv + 'angleGlobe;actuator=man', 100, 120, '', 'Angle Globe Valve (Manual)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'angle globe manual').join(' ')),
			this.createVertexTemplateEntry(sv + 'threeWay;actuator=none', 100, 80, '', '3 Way Valve', null, null, this.getTagsForStencil(gn, 'valve', dt + 'three way').join(' ')),
			this.createVertexTemplateEntry(sv + 'threeWay;actuator=man', 100, 120, '', '3 Way Valve (Manual)', null, null, this.getTagsForStencil(gn, 'valve', dt + 'three way manual').join(' ')),
			this.createVertexTemplateEntry(s + 'autoRecircValve', 100, 60, '', 'Auto Recirculation Valve', null, null, this.getTagsForStencil(gn, 'blockBleedValve', dt + 'auto recirculation').join(' '))
		]);
	};
	
	Sidebar.prototype.addPidCompressorsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.compressors.";
		var gn = 'mxgraph.pid.compressors';
		var dt = 'pid process instrumentation engineering ';
		
		this.addPaletteFunctions('pidCompressors', 'Proc. Eng. / Compressors', false,
		[
			this.createVertexTemplateEntry(s + 'ac_air_compressor', 100, 65, '', 'AC Air Compressor', null, null, this.getTagsForStencil(gn, 'ac_air_compressor', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'centrifugal_compressor', 70, 70, '', 'Centrifugal Compressor', null, null, this.getTagsForStencil(gn, 'centrifugal_compressor', dt + '').join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.pid.compressors.centrifugal_compressor_-_turbine_driven;dashed=0;fontSize=8;html=1;overflow=fill;', 100, 70, 
				    '<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;">' +
					'<tr style="height:25%;">' +
					'<td></td>' +
					'</tr>' +
					'<tr style="height:75%;">' +
					'<td align="left" style="padding-left:11%;width:100%">T</td>' +
					'</tr>' +
					'</table>',
					'Centrifugal Compressor - Turbine Driven', null, null, this.getTagsForStencil(gn, 'centrifugal_compressor_-_turbine_driven', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'compressor', 100, 100, '', 'Compressor', null, null, this.getTagsForStencil(gn, 'compressor', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'compressor_and_silencers', 90, 80, '', 'Compressor and Silencers', null, null, this.getTagsForStencil(gn, 'compressor_and_silencers', dt + 'silencer').join(' ')),
			this.createVertexTemplateEntry(s + 'liquid_ring_compressor', 90, 90, '', 'Liquid Ring Compressor', null, null, this.getTagsForStencil(gn, 'liquid_ring_compressor', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'reciprocating_compressor', 100, 40, '', 'Reciprocating Compressor', null, null, this.getTagsForStencil(gn, 'reciprocating_compressor', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'reciprocating_compressor_2', 50, 65, '', 'Reciprocating Compressor 2', null, null, this.getTagsForStencil(gn, 'reciprocating_compressor_2', dt + '').join(' ')),
			this.createVertexTemplateEntry(s + 'rotary_compressor', 42, 91, '', 'Rotary Compressor', null, null, this.getTagsForStencil(gn, 'rotary_compressor', dt + '').join(' '))
		]);
	};
			
	Sidebar.prototype.addPidEnginesPalette = function()
	{
		var s = "dashed=0;align=center;html=1;" + mxConstants.STYLE_SHAPE + "=mxgraph.pid.engines.";
		var sb = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.engines.";
		var gn = 'mxgraph.pid.engines';
		var dt = 'pid process instrumentation engine motor ';
		
		this.addPaletteFunctions('pidEngines', 'Proc. Eng. / Engines', false,
		[
			this.createVertexTemplateEntry(s + 'electric_motor;fontSize=45;', 100, 100, 'M', 'Electric Motor', null, null, this.getTagsForStencil(gn, 'electric_motor', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'electric_motor_(ac);fontSize=45;', 100, 100, 'M', 'Electric Motor (AC)', null, null, this.getTagsForStencil(gn, 'electric_motor_(ac)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'electric_motor_(dc);fontSize=45;', 100, 100, 'M', 'Electric Motor (DC)', null, null, this.getTagsForStencil(gn, 'electric_motor_(dc)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'gear;fontSize=45;', 100, 100, 'G', 'Gear', null, null, this.getTagsForStencil(gn, 'gear', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'generator;fontSize=45;', 100, 100, 'G', 'Generator', null, null, this.getTagsForStencil(gn, 'generator', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'generator_(ac);fontSize=45;', 100, 100, 'G', 'Generator (AC)', null, null, this.getTagsForStencil(gn, 'generator_(ac)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'generator_(dc);fontSize=45;', 100, 100, 'G', 'Generator (DC)', null, null, this.getTagsForStencil(gn, 'generator_(dc)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'turbine', 70, 100, '', 'Turbine', null, null, this.getTagsForStencil(gn, 'turbine', dt).join(' '))
		]);
	};
			
	Sidebar.prototype.addPidFiltersPalette = function()
	{
		var s = "html=1;dashed=0;align=center;" + mxConstants.STYLE_SHAPE + "=mxgraph.pid.filters.";
		var sb = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.filters.";
		var gn = 'mxgraph.pid.filters';
		var dt = 'pid process instrumentation filter ';
		
		this.addPaletteFunctions('pidFilters', 'Proc. Eng. / Filters', false,
		[
			this.createVertexTemplateEntry(sb + 'filter;', 
					50, 50, '', 'Filter', null, null, this.getTagsForStencil(gn, 'filter', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'gas_filter;', 
					50, 100, '', 'Gas Filter', null, null, this.getTagsForStencil(gn, 'gas_filter', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'gas_filter_(bag,_candle,_cartridge);', 
					50, 100, '', 'Gas Filter (Bag, Candle, Cartridge)', null, null, this.getTagsForStencil(gn, 'gas_filter_(bag,_candle,_cartridge)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'gas_filter_(belt,_roll);', 
					50, 100, '', 'Gas Filter (Belt, Roll)', null, null, this.getTagsForStencil(gn, 'gas_filter_(belt,_roll)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'gas_filter_(fixed_bed);', 
					50, 100, '', 'Gas Filter (Fixed Bed)', null, null, this.getTagsForStencil(gn, 'gas_filter_(fixed_bed)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'gas_filter_(hepa);', 
					50, 100, 'HEPA', 'Gas Filter (HEPA)', null, null, this.getTagsForStencil(gn, 'gas_filter_(hepa)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_filter;', 
					50, 100, '', 'Liquid Filter', null, null, this.getTagsForStencil(gn, 'liquid_filter', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_Filter_(bag,_candle,_cartridge);', 
					50, 100, '', 'Liquid Filter (Bag, Candle, Cartridge)', null, null, this.getTagsForStencil(gn, 'liquid_Filter_(bag,_candle,_cartridge)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_filter_(belt,_roll);', 
					50, 100, '', 'Liquid Filter (Belt, Roll)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(belt,_roll)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'liquid_filter_(biological);', 
					50, 100, 'BIO', 'Liquid Filter (Biological)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(biological)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_filter_(fixed_bed);', 
					50, 100, '', 'Liquid Filter (Fixed Bed)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(fixed_bed)', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'liquid_filter_(ion_exchanger);', 
					50, 100, 'ION', 'Liquid Filter (Ion Exchanger)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(ion_exchanger)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_filter_(rotary,_drum_or_disc);', 
					50, 100, '', 'Liquid Filter (Rotary, Drum or Disc)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(rotary,_drum_or_disc)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'liquid_filter_(rotary,_drum_or_disc,_scraper);', 
					55, 100, '', 'Liquid Filter (Rotary, Drum or Disc, Scraper)', null, null, this.getTagsForStencil(gn, 'liquid_filter_(rotary,_drum_or_disc,_scraper)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'press_filter;', 
					100, 50, '', 'Press Filter', null, null, this.getTagsForStencil(gn, 'press_filter', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'suction_filter;', 
					50, 100, '', 'Suction Filter', null, null, this.getTagsForStencil(gn, 'suction_filter', dt).join(' '))
		]);
	};
			
	Sidebar.prototype.addPidFlowSensorsPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.flow_sensors.";
		var gn = 'mxgraph.pid.flow_sensors';
		var dt = 'process instrumentation sensor ';
		
		this.addPaletteFunctions('pidFlow Sensors', 'Proc. Eng. / Flow Sensors', false,
		[
			this.createVertexTemplateEntry(s + 'averging_pitot_tube;', 
					50, 50, '', 'Averging Pitot Tube', null, null, this.getTagsForStencil(gn, 'averging_pitot_tube', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'coriolis;', 
					50, 50, '', 'Coriolis', null, null, this.getTagsForStencil(gn, 'coriolis', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flow_nozzle;', 
					50, 25, '', 'Flow Nozzle', null, null, this.getTagsForStencil(gn, 'flow_nozzle', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flume;', 
					50, 50, '', 'Flume', null, null, this.getTagsForStencil(gn, 'flume', dt).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_SHAPE + '=mxgraph.pid.flow_sensors.magnetic;dashed=0;align=center;html=1;fontSize=25;', 
					50, 50, 'M', 'Magnetic', null, null, this.getTagsForStencil(gn, 'magnetic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'pitot_tube;', 
					50, 50, '', 'Pitot Tube', null, null, this.getTagsForStencil(gn, 'pitot_tube', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'positive_displacement;', 
					50, 30, '', 'Positive Displacement', null, null, this.getTagsForStencil(gn, 'positive_displacement', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'rotameter;', 
					75, 50, '', 'Rotameter', null, null, this.getTagsForStencil(gn, 'rotameter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'target;', 
					50, 50, '', 'Target', null, null, this.getTagsForStencil(gn, 'target', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'turbine;', 
					50, 50, '', 'Turbine', null, null, this.getTagsForStencil(gn, 'turbine', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'ultrasonic;', 
					50, 50, '', 'Ultrasonic', null, null, this.getTagsForStencil(gn, 'ultrasonic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'v-cone;', 
					50, 50, '', 'V-cone', null, null, this.getTagsForStencil(gn, 'v-cone', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'venturi;', 
					50, 40, '', 'Venturi', null, null, this.getTagsForStencil(gn, 'venturi', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vortex;', 
					50, 50, '', 'Vortex', null, null, this.getTagsForStencil(gn, 'vortex', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wedge;', 
					50, 50, '', 'Wedge', null, null, this.getTagsForStencil(gn, 'wedge', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'weir;', 
					50, 50, '', 'Weir', null, null, this.getTagsForStencil(gn, 'weir', dt).join(' '))
		]);
	};
			
	Sidebar.prototype.addPidPipingPalette = function()
	{
		var s = "html=1;dashed=0;align=center;" + mxConstants.STYLE_SHAPE + "=mxgraph.pid.piping.";
		var sb = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.piping.";
		var gn = 'mxgraph.pid.piping';
		var dt = 'process instrumentation piping ';
		
		this.addPaletteFunctions('pidPiping', 'Proc. Eng. / Piping', false,
		[
			this.createVertexTemplateEntry(sb + 'basket_strainer;', 50, 45, '', 'Basket Strainer', null, null, this.getTagsForStencil(gn, 'basket_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'blank;', 20, 60, '', 'Blank', null, null, this.getTagsForStencil(gn, 'blank', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'breather;', 50, 30, '', 'Breather', null, null, this.getTagsForStencil(gn, 'breather', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'cap;', 10, 20, '', 'Cap', null, null, this.getTagsForStencil(gn, 'cap', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'closed_figure_8_blind;', 20, 80, '', 'Closed Figure 8 Blind', null, null, this.getTagsForStencil(gn, 'closed_figure_8_blind', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'concentric_reducer;', 20, 20, '', 'Concentric Reducer', null, null, this.getTagsForStencil(gn, 'concentric_reducer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'cone_strainer;', 30, 30, '', 'Cone Strainer', null, null, this.getTagsForStencil(gn, 'cone_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'damper;', 50, 20, '', 'Damper', null, null, this.getTagsForStencil(gn, 'damper', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'desuper_heater;', 50, 50, 'DS', 'Desuper Heater', null, null, this.getTagsForStencil(gn, 'desuper_heater', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'detonation_arrestor;', 50, 20, 'D', 'Detonation Arrestor', null, null, this.getTagsForStencil(gn, 'detonation_arrestor', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'diverter_valve;', 50, 35, '', 'Diverter Valve', null, null, this.getTagsForStencil(gn, 'diverter_valve', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'double_flange;', 5, 20, '', 'Double Flange', null, null, this.getTagsForStencil(gn, 'double_flange', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'duplex_strainer;', 50, 40, '', 'Duplex Strainer', null, null, this.getTagsForStencil(gn, 'duplex_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'eccentric_reducer;', 20, 15, '', 'Eccentric Reducer', null, null, this.getTagsForStencil(gn, 'eccentric_reducer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'excess_flow_valve;', 50, 25, '', 'Excess Flow Valve', null, null, this.getTagsForStencil(gn, 'excess_flow_valve', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'exhaust_head;', 50, 40, '', 'Exhaust Head', null, null, this.getTagsForStencil(gn, 'exhaust_head', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'expansion_joint;', 50, 20, '', 'Expansion Joint', null, null, this.getTagsForStencil(gn, 'expansion_joint', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'flame_arrestor;', 50, 20, 'F', 'Flame Arrestor', null, null, this.getTagsForStencil(gn, 'flame_arrestor', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'flange;', 5, 20, '', 'Flange', null, null, this.getTagsForStencil(gn, 'flange', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'flange_in;', 10, 20, '', 'Flange In', null, null, this.getTagsForStencil(gn, 'flange_in', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'flexible_hose;', 50, 25, '', 'Flexible Hose', null, null, this.getTagsForStencil(gn, 'flexible_hose', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'hose_connection;', 20, 20, '', 'Hose Connection', null, null, this.getTagsForStencil(gn, 'hose_connection', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'in-line_mixer;', 50, 10, '', 'In-Line Mixer', null, null, this.getTagsForStencil(gn, 'in-line_mixer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'in-line_silencer;', 50, 20, 'S', 'In-Line Silencer', null, null, this.getTagsForStencil(gn, 'in-line_silencer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'open_figure_8_blind;', 20, 80, '', 'Open Figure 8 Blind', null, null, this.getTagsForStencil(gn, 'open_figure_8_blind', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'orifice_(quick_change);', 10, 50, '', 'Orifice (Quick Change)', null, null, this.getTagsForStencil(gn, 'orifice_(quick_change)', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'plug;', 10, 10, '', 'Plug', null, null, this.getTagsForStencil(gn, 'plug', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'pulsation_dampener;', 50, 150, '', 'Pulsation Dampener', null, null, this.getTagsForStencil(gn, 'pulsation_dampener', dt).join(' ')),
			this.createVertexTemplateEntry(mxConstants.STYLE_VERTICAL_ALIGN + '=bottom;dashed=0;' + mxConstants.STYLE_SHAPE + '=mxgraph.pid.piping.removable_spool;html=1;overflow=fill;', 50, 30, 
					'<table cellpadding="0" cellspacing="0" style="width:100%;height:100%;">' +
					'<tr>' +
					'<td valign="bottom" align="center">RS</td>' +
					'</tr>' +
					'</table>',
					'Removable Spool', null, null, this.getTagsForStencil(gn, 'removable_spool', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'rotary_valve;', 50, 20, '', 'Rotary Valve', null, null, this.getTagsForStencil(gn, 'rotary_valve', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'spacer;', 20, 60, '', 'Spacer', null, null, this.getTagsForStencil(gn, 'spacer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'steam_trap;', 50, 50, 'T', 'Steam Trap', null, null, this.getTagsForStencil(gn, 'steam_trap', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 't-type_strainer;', 20, 35, '', 'T-Type Strainer', null, null, this.getTagsForStencil(gn, 't-type_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'temporary_strainer;', 30, 30, '', 'Temporary Strainer', null, null, this.getTagsForStencil(gn, 'temporary_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vent_silencer;', 20, 80, 'S', 'Vent Silencer', null, null, this.getTagsForStencil(gn, 'vent_silencer', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'welded_connection;', 50, 20, '', 'Welded Connection', null, null, this.getTagsForStencil(gn, 'welded_connection', dt).join(' ')),
			this.createVertexTemplateEntry(sb + 'y-type_strainer;', 50, 35, '', 'Y-Type Strainer', null, null, this.getTagsForStencil(gn, 'y-type_strainer', dt).join(' '))
		]);
	};
			
	Sidebar.prototype.addPidMiscPalette = function()
	{
		var s = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid2";
		var s2 = mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;align=center;dashed=0;html=1;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_SHAPE + "=mxgraph.pid.misc.";
		var gn = 'mxgraph.pid.misc';
		var dt = 'process instrumentation ';
		
		this.addPaletteFunctions('pidMisc', 'Proc. Eng. / Misc', false,
		[
			this.createVertexTemplateEntry(s + 'misc.fan;fanType=common', 
					50, 50, '', 'Fan', null, null, this.getTagsForStencil(gn, 'fan', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=common', 
					50, 120, '', 'Column', null, null, this.getTagsForStencil(gn, 'column', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=tray', 
					50, 120, '', 'Column (Tray)', null, null, this.getTagsForStencil(gn, 'column', dt + 'tray').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=fixed', 
					50, 180, '', 'Column (Fixed Bed)', null, null, this.getTagsForStencil(gn, 'column', dt + 'fixed bed').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=fluid', 
					50, 120, '', 'Column (Fluidized Bed)', null, null, this.getTagsForStencil(gn, 'column', dt + 'fluidized bed').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=baffle', 
					50, 120, '', 'Column (Staggered Baffle Trays)', null, null, this.getTagsForStencil(gn, 'column', dt + 'staggered baffle tray').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=bubble', 
					50, 120, '', 'Column (Bubble Cap Trays)', null, null, this.getTagsForStencil(gn, 'column', dt + 'bubble cap tray').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=valve', 
					50, 120, '', 'Column (Valve Trays)', null, null, this.getTagsForStencil(gn, 'column', dt + 'valve tray').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.column;columnType=nozzle', 
					50, 180, '', 'Column (Fixed Bed, Spray Nozzle)', null, null, this.getTagsForStencil(gn, 'column', dt + 'fixed bed spray nozzle').join(' ')),
			this.createVertexTemplateEntry(s + 'misc.conveyor', 
					200, 50, '', 'Conveyor', null, null, this.getTagsForStencil(gn, 'conveyor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'aerator_with_sparger;', 
					35, 100, '', 'Aerator With Sparger', null, null, this.getTagsForStencil(gn, 'aerator_with_sparger', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'air_cooler;', 
					70, 20, '', 'Air Cooler', null, null, this.getTagsForStencil(gn, 'air_cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'air_filter;', 
					40, 65, '', 'Air Filter', null, null, this.getTagsForStencil(gn, 'air_filter', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'air_separator;', 
					65.5, 106, '', 'Air Separator', null, null, this.getTagsForStencil(gn, 'air_separator', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'back_draft_damper;', 
					62, 32, '', 'Back Draft Damper', null, null, this.getTagsForStencil(gn, 'back_draft_damper', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'bag_filling_machine;', 
					80, 100, '', 'Bag Filling Machine', null, null, this.getTagsForStencil(gn, 'bag_filling_machine', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'belt_skimmer;', 
					70, 98, '', 'Belt Skimmer', null, null, this.getTagsForStencil(gn, 'belt_skimmer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'bin;', 
					100, 65, '', 'Bin', null, null, this.getTagsForStencil(gn, 'bin', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'boiler_(dome);', 
					100, 120, '', 'Boiler (Dome)', null, null, this.getTagsForStencil(gn, 'boiler_(dome)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'boiler_(dome,_hot_liquid);', 
					100, 120, '', 'Boiler (Dome, Hot Liquid)', null, null, this.getTagsForStencil(gn, 'boiler_(dome,_hot_liquid)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'box_truck;', 
					120, 80, '', 'Box Truck', null, null, this.getTagsForStencil(gn, 'box_truck', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'bucket_elevator;', 
					65, 200, '', 'Bucket Elevator', null, null, this.getTagsForStencil(gn, 'bucket_elevator', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'chiller;', 
					155, 115, '', 'Chiller', null, null, this.getTagsForStencil(gn, 'chiller', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'combustion_chamber;', 
					130, 100, '', 'Combustion Chamber', null, null, this.getTagsForStencil(gn, 'combustion_chamber', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor;', 
					200, 60, '', 'Conveyor', null, null, this.getTagsForStencil(gn, 'conveyor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(belt);', 
					200, 50, '', 'Conveyor (Belt)', null, null, this.getTagsForStencil(gn, 'conveyor_(belt)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(belt,_closed);', 
					240, 80, '', 'Conveyor (Belt, Closed)', null, null, this.getTagsForStencil(gn, 'conveyor_(belt,_closed)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(belt,_closed,_reversible);', 
					240, 80, '', 'Conveyor (Belt, Closed, Reversible)', null, null, this.getTagsForStencil(gn, 'conveyor_(belt,_closed,_reversible)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(chain,_closed);', 
					240, 80, '', 'Conveyor (Chain, Closed)', null, null, this.getTagsForStencil(gn, 'conveyor_(chain,_closed)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(screw,_closed);', 
					220, 80, '', 'Conveyor (Screw, Closed)', null, null, this.getTagsForStencil(gn, 'conveyor_(screw,_closed)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'conveyor_(vibrating,_closed);', 
					240, 80, '', 'Conveyor (Vibrating, Closed)', null, null, this.getTagsForStencil(gn, 'conveyor_(vibrating,_closed)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooler;', 
					85, 90, '', 'Cooler', null, null, this.getTagsForStencil(gn, 'cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower', 
					100, 120, '', 'Cooling Tower', null, null, this.getTagsForStencil(gn, 'cooling_tower', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(dry,_forced_draught);', 
					100, 120, '', 'Cooling Tower (Dry, Forced Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(dry,_forced_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(dry,_induced_draught);', 
					100, 120, '', 'Cooling Tower (Dry, Induced Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(dry,_induced_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(dry,_natural_draught);', 
					100, 120, '', 'Cooling Tower (Dry, Natural Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(dry,_natural_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(wet,_forced_draught);', 
					100, 120, '', 'Cooling Tower (Wet, Forced Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(wet,_forced_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(wet,_induced_draught);', 
					100, 120, '', 'Cooling Tower (Wet, Induced Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(wet,_induced_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(wet,_natural_draught);', 
					100, 120, '', 'Cooling Tower (Wet, Natural Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(wet,_natural_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cooling_tower_(wet-dry,_natural_draught);', 
					100, 120, '', 'Cooling Tower (Wet-Dry, Natural Draught)', null, null, this.getTagsForStencil(gn, 'cooling_tower_(wet-dry,_natural_draught)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'covered_gas_vent;', 
					80, 100, '', 'Covered Gas Vent', null, null, this.getTagsForStencil(gn, 'covered_gas_vent', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'crane;', 
					100, 100, '', 'Crane', null, null, this.getTagsForStencil(gn, 'crane', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'curved_gas_vent;', 
					30, 70, '', 'Curved Gas Vent', null, null, this.getTagsForStencil(gn, 'curved_gas_vent', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'cyclone;', 
					100, 80, '', 'Cyclone', null, null, this.getTagsForStencil(gn, 'cyclone', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'dryer;', 
					80, 100, '', 'Dryer', null, null, this.getTagsForStencil(gn, 'dryer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'elevator_(bucket);', 
					160, 250, '', 'Elevator (Bucket)', null, null, this.getTagsForStencil(gn, 'elevator_(bucket)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'elevator_(bucket,_z-form);', 
					430, 250, '', 'Elevator (Bucket, Z-Form)', null, null, this.getTagsForStencil(gn, 'elevator_(bucket,_z-form)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'fan;', 
					100, 100, '', 'Fan', null, null, this.getTagsForStencil(gn, 'fan', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'fan_2;', 
					58, 8, '', 'Fan 2', null, null, this.getTagsForStencil(gn, 'fan_2', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'filter;', 
					100, 100, '', 'Filter', null, null, this.getTagsForStencil(gn, 'filter', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'filter_2;', 
					100, 100, '', 'Filter 2', null, null, this.getTagsForStencil(gn, 'filter_2', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'firing_system,_burner;', 
					100, 100, '', 'Firing System, Burner', null, null, this.getTagsForStencil(gn, 'firing_system,_burner', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'flame_arrestor;', 
					100, 40, '', 'Flame Arrestor', null, null, this.getTagsForStencil(gn, 'flame_arrestor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'flexible_pipe;', 
					60, 16, '', 'Flexible Pipe', null, null, this.getTagsForStencil(gn, 'flexible_pipe', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forced_flow_air_cooler;', 
					70, 30, '', 'Forced Flow Air Cooler', null, null, this.getTagsForStencil(gn, 'forced_flow_air_cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forklift_(manual);', 
					140, 100, '', 'Forklift (Manual)', null, null, this.getTagsForStencil(gn, 'forklift_(manual)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'forklift_(truck);', 
					140, 100, '', 'Forklift (Truck)', null, null, this.getTagsForStencil(gn, 'forklift_(truck)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'funnel', 
					40, 80, '', 'Funnel', null, null, this.getTagsForStencil(gn, 'funnel', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'gas_flare;', 
					60, 100, '', 'Gas Flare', null, null, this.getTagsForStencil(gn, 'gas_flare', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'induced_flow_air_cooler;', 
					93, 30, '', 'Induced Flow Air Cooler', null, null, this.getTagsForStencil(gn, 'induced_flow_air_cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'industrial_truck;', 
					120, 20, '', 'Industrial Truck', null, null, this.getTagsForStencil(gn, 'industrial_truck', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'lift;', 
					100, 100, '', 'Lift', null, null, this.getTagsForStencil(gn, 'lift', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'loading_arm;', 
					120, 80, '', 'Loading Arm', null, null, this.getTagsForStencil(gn, 'loading_arm', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'mixer;', 
					80, 100, '', 'Mixer', null, null, this.getTagsForStencil(gn, 'mixer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'palletizer;', 
					80, 100, '', 'Palletizer', null, null, this.getTagsForStencil(gn, 'palletizer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'protective_palette_covering;', 
					80, 100, '', 'Protective Palette Covering', null, null, this.getTagsForStencil(gn, 'protective_palette_covering', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'roller_conveyor;', 
					160, 20, '', 'Roller Conveyor', null, null, this.getTagsForStencil(gn, 'roller_conveyor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'rolling_bin;', 
					100, 65, '', 'Rolling Bin', null, null, this.getTagsForStencil(gn, 'rolling_bin', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'rotary_screen;', 
					100, 65, '', 'Rotary Screen', null, null, this.getTagsForStencil(gn, 'rotary_screen', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer;', 
					80, 120, '', 'Screening Device, Sieve, Strainer', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(basket_reel);', 
					80, 180, '', 'Screening Device, Sieve, Strainer (Basket Reel)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(basket_reel)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(coarse_and_fine_screens);', 
					80, 120, '', 'Screening Device, Sieve, Strainer (Coarse and Fine Screens)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(coarse_and_fine_screens)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(coarse_rake);', 
					80, 120, '', 'Screening Device, Sieve, Strainer (Coarse Rake)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(coarse_rake)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(fine_rake);', 
					80, 120, '', 'Screening Device, Sieve, Strainer (Fine Rake)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(fine_rake)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(rotating_drum)', 
					80, 120, '', 'Screening Device, Sieve, Strainer (Rotating Drum)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(rotating_drum)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'screening_device,_sieve,_strainer_(vibrating);', 
					80, 120, '', 'Screening Device, Sieve, Strainer (Vibrating)', null, null, this.getTagsForStencil(gn, 'screening_device,_sieve,_strainer_(vibrating)', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'ship', 
					105, 60, '', 'Ship', null, null, this.getTagsForStencil(gn, 'ship', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'silencer;', 
					100, 30, '', 'Silencer', null, null, this.getTagsForStencil(gn, 'silencer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'spraying_device;', 
					60, 20, '', 'Spraying Device', null, null, this.getTagsForStencil(gn, 'spraying_device', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'spray_cooler;', 
					100, 120, '', 'Spray Cooler', null, null, this.getTagsForStencil(gn, 'spray_cooler', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'stack,_chimney;', 
					60, 100, '', 'Stack, Chimney', null, null, this.getTagsForStencil(gn, 'stack,_chimney', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'steam_trap;', 
					53, 53, '', 'Steam Trap', null, null, this.getTagsForStencil(gn, 'steam_trap', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'tank_car,_tank_wagon;', 
					127, 80, '', 'Tank Car, Tank Wagon', null, null, this.getTagsForStencil(gn, 'tank_car,_tank_wagon', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'viewing_glass;', 
					80, 50, '', 'Viewing Glass', null, null, this.getTagsForStencil(gn, 'viewing_glass', dt).join(' '))
		]);
	};
	
})();

(function()
{
	// Adds Rack shapes
	Sidebar.prototype.addRackGeneralPalette = function()
	{
		var s = 'strokeColor=#666666;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;';
		var sr = 'strokeColor=#666666;html=1;labelPosition=right;align=left;spacingLeft=15;shadow=0;dashed=0;fillColor=#ffffff;';
		
		//default tags
		var dt = 'rack equipment ';
		
		this.addPaletteFunctions('rackGeneral', 'Rack / General', false,
		[
			this.createVertexTemplateEntry(s + 'shape=mxgraph.rackGeneral.container;container=1;collapsible=0;childLayout=rack;marginLeft=9;marginRight=9;marginTop=21;marginBottom=22;textColor=#666666;numDisp=off;', 180, 228.6, '', 'Rack Cabinet', null, null, dt + 'cabinet'),
			this.createVertexTemplateEntry(s + 'shape=mxgraph.rackGeneral.container;container=1;collapsible=0;childLayout=rack;marginLeft=33;marginRight=9;marginTop=21;marginBottom=22;textColor=#666666;numDisp=ascend;', 210, 228.6, '', 'Numbered Rack Cabinet', null, null, dt + 'cabinet numbered'),
			this.createVertexTemplateEntry(sr + 'text;', 160, 15, '', 'Spacing', null, null, dt + 'spacing'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.plate;fillColor=#e8e8e8;', 160, 15, '', 'Cover Plate', null, null, dt + 'cover plate'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.1u_rack_server;', 160, 15, '', 'Server', null, null, dt + 'server'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.horCableDuct;', 160, 15, '', 'Horizontal Cable Duct', null, null, dt + 'horizontal cable duct'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.horRoutingBank;', 160, 20, '', 'Horizontal Routing Bank', null, null, dt + 'horizontal routing bank'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.neatPatch;', 160, 30, '', 'Neat-Patch', null, null, dt + 'neat patch'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.shelf;container=1;collapsible=0', 160, 15, '', 'Shelf', null, null, dt + 'shelf'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rackGeneral.channelBase;', 200, 30, '', 'Channel Base', null, null, dt + 'channel base'),
			this.createVertexTemplateEntry('shape=mxgraph.rackGeneral.cabinetLeg;html=1;shadow=0;dashed=0;fillColor=#444444;strokeColor=#444444;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 50, 50, '', 'Cabinet Leg', null, null, dt + 'cabinet leg support'),

			//stencils
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.cat5e_enhanced_patch_panel_48_ports;', 160, 30, '', 'CAT5e Enhanced Patch Panel 48 ports', null, null, dt + 'cat5e enhanced patch panel port'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.cat5e_rack_mount_patch_panel_24_ports;', 160, 15, '', 'CAT5e Rack Mount Patch Panel 24 ports', null, null, dt + 'cat5e mount patch panel port'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.cat5e_rack_mount_patch_panel_96_ports;', 160, 60, '', 'CAT5e Rack Mount Patch Panel 96 ports', null, null, dt + 'cat5e mount patch panel port'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.hub;', 160, 30, '', 'Hub', null, null, dt + 'hub'),
			this.createVertexTemplateEntry(s + 'shape=mxgraph.rack.general.server_1;', 73, 150, '', 'Server 1', null, null, dt + 'server'),
			this.createVertexTemplateEntry(s + 'shape=mxgraph.rack.general.server_2;', 73, 150, '', 'Server 2', null, null, dt + 'server'),
			this.createVertexTemplateEntry(s + 'shape=mxgraph.rack.general.server_3;', 73, 150, '', 'Server 3', null, null, dt + 'server'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.switches_1;', 160, 30, '', 'Switches 1', null, null, dt + 'server'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.general.switches_2;', 160, 30, '', 'Switches 2', null, null, dt + 'server')
		]);
	};
	
	Sidebar.prototype.addRackF5Palette = function()
	{
		var sr = 'strokeColor=#666666;html=1;labelPosition=right;align=left;spacingLeft=15;shadow=0;dashed=0;fillColor=#ffffff;';
		
		//default tags
		var dt = 'rack equipment ';

		this.addPaletteFunctions('rackF5', 'Rack / F5', false,
		[
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_500;', 168, 20, '', 'ARX 500', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_1000;', 168, 40, '', 'ARX 1000', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_1500;', 168, 20, '', 'ARX 1500', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_2000;', 168, 40, '', 'ARX 2000', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_2500;', 168, 20, '', 'ARX 2500', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_4000;', 168, 60, '', 'ARX 4000', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_5000;', 168, 20, '', 'ARX 5000', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.arx_6000;', 168, 240, '', 'ARX 6000', null, null, dt + 'arx'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_1600;', 168, 20, '', 'BIG-IP 1600', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_2x00;', 168, 20, '', 'BIG-IP 2x00', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_3600;', 168, 20, '', 'BIG-IP 3600', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_3900;', 168, 20, '', 'BIG-IP 3900', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_4x00;', 168, 20, '', 'BIG-IP 4x00', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_5x00;', 168, 20, '', 'BIG-IP 5x00', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_6900;', 168, 40, '', 'BIG-IP 6900', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_89x0;', 168, 40, '', 'BIG-IP 89x0', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_7x00;', 168, 40, '', 'BIG-IP 7x00', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_10x00;', 168, 40, '', 'BIG-IP 10x00', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.big_ip_110x0;', 168, 60, '', 'BIG-IP 110x0', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.em_4000;', 168, 20, '', 'EM 4000', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.firepass_1200;', 168, 20, '', 'FirePass 1200', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.firepass_4100;', 168, 40, '', 'FirePass 4100', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.viprion_2400;', 168, 60, '', 'VIPRION 2400', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.viprion_4400;', 168, 120, '', 'VIPRION 4400', null, null, dt + 'big ip'),
			this.createVertexTemplateEntry(sr + 'shape=mxgraph.rack.f5.viprion_4800;', 168, 320, '', 'VIPRION 4800', null, null, dt + 'big ip')
		]);
	};
	
})();

(function()
{
	/**
	 * Adds the sysML palettes to the sidebar.
	 */
	Sidebar.prototype.addSysMLModelElementsPalette = function(expand)
	{
		var gn = '';
		var dt = 'sysml model element ';
		var sb = this;
		var s = 'html=1;shape=mxgraph.sysml.';
		
		var fns = [
		   	this.addEntry(dt + 'comment', function()
	   		{
		    	var cardCell = new mxCell('Comment text', new mxGeometry(0, 40, 150, 40), 'shape=note;size=15;align=left;spacingLeft=10;html=1;whiteSpace=wrap;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=none;exitX=0.4;exitY=0;dashed=1;html=1;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(20, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=none;exitX=0.8;exitY=0;dashed=1;html=1;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(180, 0), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 180, 80, 'Comment');
			}),
		    
		   	this.addEntry(dt + 'constraint note', function()
	   		{
		    	var cardCell = new mxCell('{C1: {L1} E1.x > E2.y}', new mxGeometry(0, 40, 150, 40), 'shape=note;size=15;align=left;spacingLeft=10;html=1;whiteSpace=wrap;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=none;exitX=0.4;exitY=0;dashed=1;html=1;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(20, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=none;exitX=0.8;exitY=0;dashed=1;html=1;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(180, 0), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 180, 80, 'Constraint Note');
			}),
	
		   	this.addEntry(dt + 'constraint textual note', function()
	   		{
		    	var cardCell = new mxCell('Element1\n(any graphical node)', new mxGeometry(0, 0, 160, 60), 'shape=rect;strokeWidth=2;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('{constraint text}', new mxGeometry(160, 30, 0, 0), 'align=left;html=1;verticalAlign=middle;labelPosition=right;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10');
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Constraint Textual Note');
			}),
	
		   	this.addEntry(dt + 'constraint textual note', function()
	   		{
				var assoc = new mxCell('{constraint text}', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=none;labelBackgroundColor=none;fontSize=10;strokeWidth=2;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('{any graphical path}', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10;');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Constraint Textual Note');
			}),
				
		    this.createVertexTemplateEntry(s + 'composite;symbol0=folder;fontStyle=1;spacingTop=15;tabWidth=80;tabHeight=20;tabPosition=left;symbol1=triangle;symbol1Width=7;symbol1Height=10;symbol1Align=right;symbol1VerticalAlign=top;symbol1Spacing=8;symbol1VSpacing=25;symbol1Direction=north;strokeWidth=2;whiteSpace=wrap;align=center;', 
		    		160, 90, 'Model', 'Model', null, null, this.getTagsForStencil(gn, '', dt + 'model').join(' ')),

		   	this.addEntry(dt + 'package diagram', function()
		   	{
			    var bg = new mxCell('<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>pkg</b>   Name</p>', new mxGeometry(0, 0, 300, 120), s + 'package;xSize=90;align=left;spacingLeft=10;overflow=fill;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('\nSubpackage1', new mxGeometry(15, 60, 100, 50), 'shape=folder;spacingLeft=10;tabWidth=40;tabHeight=14;tabPosition=left;fontSize=10;html=1;whiteSpace=wrap;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('\nSubpackage2', new mxGeometry(190, 20, 100, 50), 'shape=folder;spacingLeft=10;tabWidth=40;tabHeight=14;tabPosition=left;fontSize=10;html=1;whiteSpace=wrap;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
		    	var assoc1 = new mxCell('&lt;&lt;import&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=open;dashed=1;verticalAlign=top;labelBackgroundColor=none;endSize=12;html=1;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell2.insertEdge(assoc1, true);
		    	cardCell3.insertEdge(assoc1, false);
		    	bg.insert(assoc1);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 120, 'Package Diagram');
			}),
			    
		   	this.addEntry(dt + 'package tab', function()
		   	{
			    var bg = new mxCell('Package1', new mxGeometry(0, 0, 300, 120), 'shape=folder;xSize=90;align=left;spacingLeft=10;align=left;verticalAlign=top;spacingLeft=5;spacingTop=-4;tabWidth=70;tabHeight=20;tabPosition=left;html=1;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('\nSubpackage1', new mxGeometry(15, 60, 100, 50), 'shape=folder;spacingLeft=10;tabWidth=40;tabHeight=14;tabPosition=left;fontSize=10;html=1;whiteSpace=wrap;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('\nSubpackage2', new mxGeometry(190, 30, 100, 50), 'shape=folder;spacingLeft=10;tabWidth=40;tabHeight=14;tabPosition=left;fontSize=10;html=1;whiteSpace=wrap;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
		    	var assoc1 = new mxCell('&lt;&lt;import&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=open;dashed=1;verticalAlign=top;labelBackgroundColor=none;endSize=12;html=1;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell2.insertEdge(assoc1, true);
		    	cardCell3.insertEdge(assoc1, false);
		    	bg.insert(assoc1);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 120, 'Package (Tab)');
			}),
			    
		    this.createVertexTemplateEntry('shape=folder;tabWidth=80;tabHeight=20;tabPosition=left;strokeWidth=2;html=1;whiteSpace=wrap;align=center;', 
		    		160, 90, 'Package1', 'Package (Name)', null, null, this.getTagsForStencil(gn, '', dt + 'package name').join(' ')),
		    this.createVertexTemplateEntry('shape=note;size=15;align=left;spacingLeft=10;html=1;whiteSpace=wrap;', 
		    		160, 60, '&lt;&lt;problem&gt;&gt;\nDescription', 'Problem', null, null, this.getTagsForStencil(gn, '', dt + 'problem').join(' ')),
		    this.createVertexTemplateEntry('shape=note;size=15;align=left;spacingLeft=10;html=1;whiteSpace=wrap;', 
		    		160, 60, '&lt;&lt;rationale&gt;&gt;\nDescription', 'Rationale', null, null, this.getTagsForStencil(gn, '', dt + 'rationale').join(' ')),
		    this.createVertexTemplateEntry('shape=folder;tabWidth=80;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;align=center;', 
		    		160, 80, '\n&lt;&lt;view&gt;&gt;\n{viewpoint = View name}\nName', 'View (Name)', null, null, this.getTagsForStencil(gn, '', dt + 'view name').join(' ')),
		    this.createVertexTemplateEntry('shape=folder;html=1;tabWidth=80;tabHeight=40;tabPosition=left;align=left;verticalAlign=top;spacingLeft=10;whiteSpace=wrap;', 
		    		160, 120, '&lt;&lt;view&gt;&gt;\nName', 'View', null, null, this.getTagsForStencil(gn, '', dt + 'view').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 120, 140, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;viewpoint&gt;&gt;<br/>' +
	    			'<b>Name</b></p><hr/>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">' +
	    			'stakeholders="..."<br/>' +
	    			'purpose="..."<br>' +
	    			'concerns="..."<br>' +
	    			'languages="..."<br>' +
	    			'methods="..."</p>', 
		    		'Viewpoint', null, null, this.getTagsForStencil(gn, '', dt + 'viewpoint').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;conform&gt;&gt;', 'Conform', null, this.getTagsForStencil(gn, '', dt + 'conform').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;stereotype1&gt;&gt;\ndependency1', 'Dependency', null, this.getTagsForStencil(gn, '', dt + 'dependency').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;import&gt;&gt;', 'Public Package Import', null, this.getTagsForStencil(gn, '', dt + 'public package import').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;access&gt;&gt;', 'Private Package Import', null, this.getTagsForStencil(gn, '', dt + 'private package import').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;' + mxConstants.STYLE_STARTARROW + '=sysMLPackCont;startSize=12;' + mxConstants.STYLE_ENDARROW + '=none;', 
					160, 0, '', 'Package Containment', null, this.getTagsForStencil(gn, '', dt + 'package containment').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endSize=12;endArrow=block;endFill=0;dashed=1;', 
					160, 0, '', 'Realization', null, this.getTagsForStencil(gn, '', dt + 'realization').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;refine&gt;&gt;', 'Refine', null, this.getTagsForStencil(gn, '', dt + 'refine').join(' '))
		];
		
		this.addPalette('sysmlModel Elements', 'SysML / Model Elements', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLBlocksPalette = function(expand)
	{
		var gn = '';
		var dt = 'sysml block ';
		var sb = this;
		var s = 'html=1;strokeWidth=1;shape=mxgraph.sysml.';

		var fns = 
		[
		   	this.addEntry(dt + 'block definition diagram', function()
		   	{
			    var bg = new mxCell('<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>bdd</b>   Namespace1</p>', new mxGeometry(0, 0, 300, 100), s + 'package;labelX=120;align=left;spacingLeft=10;overflow=fill;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('Block1', new mxGeometry(15, 30, 100, 50), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('Block2', new mxGeometry(190, 30, 100, 50), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
				var assoc = new mxCell('part1', new mxGeometry(0, 0, 0, 0), 'align=right;html=1;verticalAlign=bottom;endArrow=none;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=none;endFill=0;');
				assoc.geometry.relative = true;
				assoc.geometry.x=1;
				assoc.edge = true;
				bg.insert(assoc);
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	cardCell2.insertEdge(assoc, true);
		    	cardCell3.insertEdge(assoc, false);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 100, 'Block Definition Diagram');
			}),
		    	
		   	this.addEntry(dt + 'relation', function()
		   	{
				var assoc = new mxCell('part1', new mxGeometry(0, 0, 0, 0), 'align=right;html=1;verticalAlign=bottom;endArrow=none;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=none;');
				assoc.geometry.relative = true;
				assoc.geometry.x=1;
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Relation');
			}),
				
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;verticalAlign=top;align=left;whiteSpace=wrap;', 220, 340, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;block&gt;&gt;<br/>' +
	    			'{encapsulated}<br/>' +
	    			'<b>Block1</b></p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>constraints</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">{x &gt; y}</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>operations</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">operation1 (p1 : Type1) : Type2</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>parts</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">property1 : Block2</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>references</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">property2 : Block3 [0..*] {ordered}</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>values</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">property3 : Integer = 99 {readOnly}<br/>property4 : Real = 10.0</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>properties</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">property5 : Type1</p>',
		    		'Block', null, null, this.getTagsForStencil(gn, '', dt + 'block').join(' ')),
		    this.createVertexTemplateEntry('shape=umlActor;html=1;verticalLabelPosition=bottom;verticalAlign=top;align=center;', 
		    		30, 60, 'ActorName', 'Actor', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 160, 80, 
		    		'<p>&lt;&lt;actor&gt;&gt;<br/><b>ActorName</b></p>', 
		    		'Actor', null, null, this.getTagsForStencil(gn, '', dt + 'actor').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 180, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;valueType&gt;&gt;<br/>' +
	    			'<b>ValueType1</b></p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>operations</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">operation1 (p1 : Type1) : Type2</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>properties</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">property1 : Type3</p><hr/>' +
					'<p style="margin:0px;margin-left:8px;text-align:center;">&lt;&lt;valueType&gt;&gt;</p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">unit = UnitName</p>',
		    		'ValueType', null, null, this.getTagsForStencil(gn, '', dt + 'value type valuetype').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;enumeration&gt;&gt;<br/>' +
	    			'<b>Enumeration1</b></p><hr/>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">literalName1<br/>literalName2</p>',
		    		'Enumeration', null, null, this.getTagsForStencil(gn, '', dt + 'enumeration').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 80, 40, 
		    		'<p style="margin:13px;"><b><i>Name</i></b></p>', 
		    		'Abstract Definition', null, null, this.getTagsForStencil(gn, '', dt + 'abstract definition').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 80, 40, 
		    		'<p style="margin:5px;">{abstract}<br/><b><i>Name</i></b></p>', 
		    		'Abstract Definition', null, null, this.getTagsForStencil(gn, '', dt + 'abstract definition').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 80, 40, 
		    		'<p style="margin:5px;"><b><i>Name</i></b><br/>{abstract}</p>', 
		    		'Abstract Definition', null, null, this.getTagsForStencil(gn, '', dt + 'abstract definition').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 200, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;stereotype1&gt;&gt;<br/>' +
	    			'<b>Block1</b></p><hr/>' +
					'<p style="margin:0px;margin-left:8px;text-align:center;">&lt;&lt;stereotype1&gt;&gt;</p>' + 
					'<p style="margin:0px;margin-left:8px;text-align:left;">property1 = value</p>',
		    		'Stereotype Property Compartment', null, null, this.getTagsForStencil(gn, '', dt + 'stereotype property compartment').join(' ')),

		   	this.addEntry(dt + 'namespace compartment', function()
		   	{
			    var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>Block1</b></p><hr/>' +
						'<p style="font-size:10px;margin:0px;text-align:center;"><i>namespace</i></p>',
			    		new mxGeometry(0, 0, 300, 120), 'shape=rect;align=left;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('Block2', new mxGeometry(15, 60, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('Block3', new mxGeometry(190, 60, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
				var assoc = new mxCell('part1', new mxGeometry(0, 0, 0, 0), 'align=right;verticalAlign=bottom;endArrow=none;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=none;html=1;');
				assoc.geometry.relative = true;
				assoc.geometry.x=1;
				assoc.edge = true;
				bg.insert(assoc);
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	cardCell2.insertEdge(assoc, true);
		    	cardCell3.insertEdge(assoc, false);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 100, 'Namespace Compartment');
			}),
			    
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 250, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Block1</b></p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>namespace</i></p>',
		    		'Block', null, null, this.getTagsForStencil(gn, '', dt + 'block').join(' ')),
		    
		   	this.addEntry(dt + 'structure compartment', function()
		   	{
			    var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>Block1</b></p><hr/>' +
						'<p style="font-size:10px;margin:0px;text-align:center;"><i>structure</i></p>',
			    		new mxGeometry(0, 0, 300, 120), 'shape=rect;align=left;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('Block2', new mxGeometry(15, 60, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('Block3', new mxGeometry(190, 60, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
				var assoc = new mxCell('c1:', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=none;');
				assoc.geometry.relative = true;
				assoc.edge = true;
				bg.insert(assoc);
		    	var targetLabel = new mxCell('e1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
		    	cardCell2.insertEdge(assoc, true);
		    	cardCell3.insertEdge(assoc, false);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 100, 'Structure Compartment');
			}),
			    
		   	this.addEntry(dt + 'relation', function()
		   	{
				var assoc = new mxCell('c1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;startArrow=none;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
				assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('e1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Relation');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 60, 
		    		'<p style="margin:0px;margin-top:10px;text-align:center;">' +
	    			'&lt;&lt;unit&gt;&gt;<br/>' +
					'<p style="margin:0px;margin-left:8px;text-align:center;">{quantityKind = QuantityKind1}<br/>' + 
	    			'<b>Unit1</b></p>',
		    		'Unit', null, null, this.getTagsForStencil(gn, '', dt + 'unit').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Unit1</b></p><hr/>' + 
	    			'<p style="margin:0px;margin-left:8px;text-align:center;">&lt;&lt;unit&gt;&gt;<br/>' +
					'{quantityKind = QuantityKind1}</p>', 
		    		'Unit', null, null, this.getTagsForStencil(gn, '', dt + 'unit').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 60, 
		    		'<p style="margin:0px;margin-top:10px;text-align:center;">' +
	    			'&lt;&lt;quantityKind&gt;&gt;<br/>' +
					'<p style="margin:0px;margin-left:8px;text-align:center;"><b>QuantityKind1</b></p>',
		    		'Quantity Kind', null, null, this.getTagsForStencil(gn, '', dt + 'quantity kind').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;fontSize=15;whiteSpace=wrap;', 70, 30, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;">' +
	    			'<B>i1: Type1</b><br/>',
		    		'Instance Specification', null, null, this.getTagsForStencil(gn, '', dt + 'instance specification').join(' ')),

		    this.addEntry(dt + 'instance specification', function()
			{
			   	var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;">' +
		    			'<B>i1: Type1</b><br/>',
			   			new mxGeometry(0, 0, 80, 30), 'shape=rect;html=1;overflow=fill;fontSize=15;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;">' +
		    			'<B>i2: Type2</b><br/>',
			   			new mxGeometry(200, 0, 80, 30), 'shape=rect;html=1;overflow=fill;fontSize=15;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;allocate&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'rounded=0;html=1;verticalAlign=top;labelBackgroundColor=none;endArrow=open;dashed=1;endSize=12;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    var assoc = new mxCell('A1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=open;endSize=12;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var targetLabel = new mxCell('p3', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	cardCell.insertEdge(assoc, true);
		    	cardCell2.insertEdge(assoc, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc], 280, 30, 'Instance Specification');
			}),
	
		    this.addEntry(dt + 'relation', function()
			{
			    var assoc = new mxCell('A1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=open;endSize=12;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var targetLabel = new mxCell('p3', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Relation');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 120, 60, 
		    		'<p style="margin:0px;margin-top:10px;text-align:center;text-decoration:underline;">' +
	    			'instance1: Type1<br/></p>' +
	    			'<p style="margin:0px;margin-top:4px;text-align:center;">value1</p>',
		    		'Instance Specification', null, null, this.getTagsForStencil(gn, '', dt + 'instance specification').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 160, 80, 
		    		'<p style="margin:0px;margin-top:10px;text-align:center;text-decoration:underline;">' +
	    			'instance1: Type1<br/></p><hr/>' +
	    			'<p style="margin:0px;margin-top:4px;margin-left:4px;text-align:left;">property1 = 10<br/>property2 = "value"</p>',
		    		'Instance Specification', null, null, this.getTagsForStencil(gn, '', dt + 'instance specification').join(' ')),

		    this.addEntry(dt + 'instance specification', function()
			{
			    var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:5px;text-align:center;text-decoration:underline;">' +
		    			': Type1<hr/></p>',
			   			new mxGeometry(0, 0, 200, 180), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
			   	bg.vertex = true;
			   	var cardCell2 = new mxCell(
			    		'<p style="margin:0px;margin-top:5px;text-align:center;text-decoration:underline;">' +
		    			'instance1 / property1: Type2<hr/></p>',
			   			new mxGeometry(10, 30, 180, 140), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	bg.insert(cardCell2);
			   	var cardCell3 = new mxCell(
			    		'<p style="margin:0px;margin-top:5px;text-align:center;text-decoration:underline;">' +
		    			'instance2 / property2:<br/>Type3<hr/></p>' +
		    			'<p style="margin:0px;margin-top:4px;margin-left:4px;text-align:left;">property1 = 10<br/>property2 = "value"</p>',
			   			new mxGeometry(20, 60, 160, 100), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;');
			   	cardCell3.vertex = true;
			   	bg.insert(cardCell3);
			    
			   	return sb.createVertexTemplateFromCells([bg], 200, 180, 'Instance Specification');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 160, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;">' +
	    			': Type1</p><hr/>', 
		    		'Instance Specification', null, null, this.getTagsForStencil(gn, '', dt + 'instance specification').join(' ')),

			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;stereotype&gt;&gt;\ndependency1', 'Dependency', null, null, this.getTagsForStencil(gn, '', dt + 'dependency').join(' ')),
			
		    this.addEntry(dt + 'reference association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=open;endSize=12;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('0..1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('{ordered} 1..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Reference Association');
			}),
			
		    this.addEntry(dt + 'reference association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var sourceLabel2 = new mxCell('property2', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel2.geometry.relative = true;
		    	sourceLabel2.setConnectable(false);
		    	sourceLabel2.vertex = true;
		    	assoc.insert(sourceLabel2);
		    	var targetLabel = new mxCell('{ordered} 0..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Reference Association');
			}),
			    
		    this.addEntry(dt + 'part association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=open;endSize=12;edgeStyle=orthogonalEdgeStyle;startFill=1;startSize=12;startArrow=diamondThin;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('0..1', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('{ordered} 1..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Part Association');
			}),
		    
		    this.addEntry(dt + 'part association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;startFill=1;startSize=12;startArrow=diamondThin;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var sourceLabel2 = new mxCell('property2', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel2.geometry.relative = true;
		    	sourceLabel2.setConnectable(false);
		    	sourceLabel2.vertex = true;
		    	assoc.insert(sourceLabel2);
		    	var targetLabel = new mxCell('{ordered} 0..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Part Association');
			}),
		    
		    this.addEntry(dt + 'shared association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=open;endSize=12;edgeStyle=orthogonalEdgeStyle;startFill=0;startSize=12;startArrow=diamondThin;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('0..1', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('{ordered} 1..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Shared Association');
			}),
		    
		    this.addEntry(dt + 'shared association', function()
		    {
				var assoc = new mxCell('association1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;startFill=0;startSize=12;startArrow=diamondThin;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var sourceLabel2 = new mxCell('property2', new mxGeometry(-0.9, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel2.geometry.relative = true;
		    	sourceLabel2.setConnectable(false);
		    	sourceLabel2.vertex = true;
		    	assoc.insert(sourceLabel2);
		    	var targetLabel = new mxCell('{ordered} 0..*', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	var targetLabel2 = new mxCell('property1', new mxGeometry(0.9, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Shared Association');
			}),
				
		    this.addEntry(dt + 'multibranch part association', function()
		    {
			   	var cardCell = new mxCell('association1', new mxGeometry(123, 3, 4, 4), 'verticalAlign=bottom;html=1;ellipse;fillColor=#000000;strokeColor=#000000;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('property1', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(250, 5), false);
			   	edge1.geometry.relative = true;
			   	edge1.geometry.x = 1;
			   	edge1.edge = true;
		    	var edge1Label = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10;labelBackgroundColor=none;');
		    	edge1Label.geometry.relative = true;
		    	edge1Label.setConnectable(false);
		    	edge1Label.vertex = true;
		    	edge1.insert(edge1Label);
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('property2', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(250, 50), false);
			   	edge2.geometry.relative = true;
			   	edge2.geometry.x = 1;
			   	edge2.edge = true;
		    	var edge2Label = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	edge2Label.geometry.relative = true;
		    	edge2Label.setConnectable(false);
		    	edge2Label.vertex = true;
		    	edge2.insert(edge2Label);
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('property3', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=left;verticalAlign=bottom;endArrow=diamondThin;rounded=0;endFill=1;endSize=12;labelBackgroundColor=none;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 5), false);
			   	edge3.geometry.relative = true;
			   	edge3.geometry.x = 1;
			   	edge3.edge = true;
		    	var edge3Label = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	edge3Label.geometry.relative = true;
		    	edge3Label.setConnectable(false);
		    	edge3Label.vertex = true;
		    	edge3.insert(edge3Label);
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 250, 50, 'Multibranch Part Association');
			}),
			    
		    this.addEntry(dt + 'multibranch shared association', function()
		    {
			   	var cardCell = new mxCell('association1', new mxGeometry(123, 3, 4, 4), 'verticalAlign=bottom;html=1;ellipse;fillColor=#000000;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('property1', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(250, 5), false);
			   	edge1.geometry.relative = true;
			   	edge1.geometry.x = 1;
			   	edge1.edge = true;
		    	var edge1Label = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;align=right;html=1;verticalAlign=top;labelBackgroundColor=none;fontSize=10;labelBackgroundColor=none;');
		    	edge1Label.geometry.relative = true;
		    	edge1Label.setConnectable(false);
		    	edge1Label.vertex = true;
		    	edge1.insert(edge1Label);
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('property2', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(250, 50), false);
			   	edge2.geometry.relative = true;
			   	edge2.geometry.x = 1;
			   	edge2.edge = true;
		    	var edge2Label = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;align=right;html=1;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	edge2Label.geometry.relative = true;
		    	edge2Label.setConnectable(false);
		    	edge2Label.vertex = true;
		    	edge2.insert(edge2Label);
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('property3', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=left;verticalAlign=bottom;endArrow=diamondThin;rounded=0;endFill=0;endSize=12;labelBackgroundColor=none;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 5), false);
			   	edge3.geometry.relative = true;
			   	edge3.geometry.x = 1;
			   	edge3.edge = true;
		    	var edge3Label = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;align=left;html=1;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	edge3Label.geometry.relative = true;
		    	edge3Label.setConnectable(false);
		    	edge3Label.vertex = true;
		    	edge3.insert(edge3Label);
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 250, 50, 'Multibranch Shared Association');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endSize=12;endArrow=block;endFill=0;', 
					160, 0, '', 'Generalization', null, this.getTagsForStencil(gn, '', dt + 'generalization').join(' ')),
			
		    this.addEntry(dt + 'multibranch generalization', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(68, 23, 4, 4), 'verticalAlign=bottom;html=1;ellipse;fillColor=#000000;strokeColor=#000000;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;endSize=12;endArrow=block;endFill=0;elbow=horizontal;rounded=0;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(70, 0), false);
			   	edge1.geometry.relative = true;
			   	edge1.geometry.x = 1;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(140, 50), false);
			   	edge2.geometry.relative = true;
			   	edge2.geometry.x = 1;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 50), false);
			   	edge3.geometry.relative = true;
			   	edge3.geometry.x = 1;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 140, 50, 'Multibranch Generalization');
			}),
	
		    this.addEntry(dt + 'generalization set', function()
		    {
			   	var cardCell = new mxCell('{disjoint}', new mxGeometry(68, 23, 4, 4), 'ellipse;html=1;fillColor=#000000;strokeColor=#000000;labelPosition=right;align=left;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;endSize=12;endArrow=block;endFill=0;elbow=horizontal;rounded=0;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(70, 0), false);
			   	edge1.geometry.relative = true;
			   	edge1.geometry.x = 1;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(140, 50), false);
			   	edge2.geometry.relative = true;
			   	edge2.geometry.x = 1;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 50), false);
			   	edge3.geometry.relative = true;
			   	edge3.geometry.x = 1;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 140, 50, 'Generalization Set');
			}),
	
		    this.addEntry(dt + 'generalization set', function()
		    {
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=block;endFill=0;endSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(10, 0), false);
			   	edge1.geometry.setTerminalPoint(new mxPoint(10, 80), true);
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=block;endFill=0;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(40, 0), false);
			   	edge2.geometry.setTerminalPoint(new mxPoint(40, 80), true);
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=block;endFill=0;endSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(70, 0), false);
			   	edge3.geometry.setTerminalPoint(new mxPoint(70, 80), true);
		    	edge3.geometry.relative = true;
			   	edge3.edge = true;
			   	var edge4 = new mxCell('{overlapping}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;dashed=1;labelPosition=right;align=left;');
			   	edge4.geometry.relative = true;
			   	edge4.geometry.x = 1;
			   	edge4.geometry.setTerminalPoint(new mxPoint(0, 40), true);
			   	edge4.geometry.setTerminalPoint(new mxPoint(80, 40), false);
			   	edge4.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([edge1, edge2, edge3, edge4], 150, 80, 'Generalization Set');
			}),

		    this.addEntry(dt + 'block namespace containment', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(68, 38, 4, 4), 'verticalAlign=bottom;html=1;ellipse;fillColor=#000000;strokeColor=#000000;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;endSize=12;endArrow=sysMLPackCont;elbow=horizontal;rounded=0;align=left;verticalAlign=middle');
			   	edge1.geometry.setTerminalPoint(new mxPoint(70, 16), false);
			   	edge1.geometry.relative = true;
			   	edge1.geometry.x = 1;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(140, 70), false);
			   	edge2.geometry.relative = true;
			   	edge2.geometry.x = 1;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=none;rounded=0;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 70), false);
			   	edge3.geometry.relative = true;
			   	edge3.geometry.x = 1;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 140, 70, 'Block Namespace Containment');
			}),
			    
		    this.addEntry(dt + 'participant property', function()
		    {
			   	var cardCell = new mxCell('Block2', new mxGeometry(0, 0, 50, 20), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Block1', new mxGeometry(350, 0, 50, 20), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>Assoctiation1</b><hr/></p>' + 
		    			'<p style="margin:0px;margin-left:8px;text-align:center;">&lt;&lt;participant&gt;&gt; {end = property 1} p1 : Block 1<br/>' +
		    			'&lt;&lt;participant&gt;&gt; {end = property 2} p2 : Block 2</p>',
			   			new mxGeometry(50, 60, 300, 80), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('Association1', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;verticalAlign=bottom;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;dashed=1;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 10), false);
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell3.insertEdge(edge2, true);
		    	var label1 = new mxCell('property2', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=bottom;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	edge1.insert(label1);
		    	var label2 = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=top;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	edge1.insert(label2);
		    	var label3 = new mxCell('property1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=bottom;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = true;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	edge1.insert(label3);
		    	var label4 = new mxCell('{ordered} 0..*', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=top;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = true;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	edge1.insert(label4);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, cardCell3, edge1, edge2], 400, 140, 'Participant Property');
			}),
			    
		    this.addEntry(dt + 'participant property', function()
		    {
			   	var cardCell = new mxCell('Block2', new mxGeometry(0, 0, 50, 20), 'shape=rect;html=1;strokeWidth=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Block1', new mxGeometry(350, 0, 50, 20), 'shape=rect;html=1;strokeWidth=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>Assoctiation1</b></p><hr/>' + 
		    			'<p style="margin:0px;text-align:center;"><i>structure</i></p>',
			   			new mxGeometry(20, 60, 360, 150), 'shape=rect;html=1;strokeWidth=1;overflow=fill;whiteSpace=wrap;recursiveResize=0;');
			   	bg.vertex = true;
			   	var cardCell4 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'&lt;&lt;participant&gt;&gt;<br/>' +
		    			'{end = property 2}<br/><br/>' +
		    			'<b>p2 : Block 2</b></p>',
			   			new mxGeometry(20, 50, 150, 80), 'shape=rect;html=1;overflow=fill;dashed=1;whiteSpace=wrap;');
			   	cardCell4.vertex = true;
			   	bg.insert(cardCell4);
			   	var cardCell5 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'&lt;&lt;participant&gt;&gt;<br/>' +
		    			'{end = property 1}<br/><br/>' +
		    			'<b>p1 : Block 1</b></p>',
			   			new mxGeometry(190, 50, 150, 80), 'shape=rect;html=1;overflow=fill;dashed=1;whiteSpace=wrap;');
			   	cardCell5.vertex = true;
			   	bg.insert(cardCell5);
			   	var edge1 = new mxCell('Association1', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;verticalAlign=bottom;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;dashed=1;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 10), false);
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	bg.insertEdge(edge2, true);
		    	var label1 = new mxCell('property2', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=bottom;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	edge1.insert(label1);
		    	var label2 = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=top;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	edge1.insert(label2);
		    	var label3 = new mxCell('property1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=bottom;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = true;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	edge1.insert(label3);
		    	var label4 = new mxCell('{ordered} 0..*', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=top;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = true;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	edge1.insert(label4);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, bg, edge1, edge2], 400, 260, 'Participant Property');
			}),
			    
		    this.addEntry(dt + 'participant property', function()
		    {
			   	var cardCell = new mxCell('Block2', new mxGeometry(0, 0, 50, 20), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Block1', new mxGeometry(350, 0, 50, 20), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell('Association1', new mxGeometry(140, 60, 120, 20), 'shape=rect;html=1;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=none;html=1;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;dashed=1;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 10), false);
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell3.insertEdge(edge2, true);
		    	var label1 = new mxCell('property2', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=bottom;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	edge1.insert(label1);
		    	var label2 = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'spacingLeft=3;html=1;align=left;verticalAlign=top;labelPosition=right;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	edge1.insert(label2);
		    	var label3 = new mxCell('property1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=bottom;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = true;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	edge1.insert(label3);
		    	var label4 = new mxCell('{ordered} 0..*', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=top;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = true;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	edge1.insert(label4);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, cardCell3, edge1, edge2], 400, 80, 'Participant Property');
			}),
			    
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 300, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Assoctiation1</b></p><hr/>' + 
	    			'<p style="margin:0px;margin-left:8px;text-align:center;">&lt;&lt;participant&gt;&gt; {end = property 1} p1 : Blcok 1<br/>' +
	    			'&lt;&lt;participant&gt;&gt; {end = property 2} p2 : Blcok 2</p>',
		    		'Association', null, null, this.getTagsForStencil(gn, '', dt + 'association').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 300, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Assoctiation1</b></p><hr/>' + 
	    			'<p style="margin:0px;text-align:center;"><i>structure</i></p>',
		    		'Association', null, null, this.getTagsForStencil(gn, '', dt + 'association').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;dashed=1;whiteSpace=wrap;', 150, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;participant&gt;&gt;<br/>' +
	    			'{end = property 1}<br/><br/>' +
	    			'<b>p1 : Block 1</b></p>',
		    		'Participant', null, null, this.getTagsForStencil(gn, '', dt + 'participant').join(' ')),

		    this.addEntry(dt + 'connector property', function()
		    {
			   	var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>Block1</b><hr/></p>' +
			    		'<p style="margin:0px;margin-top:-6px;margin-left:10px;text-align:left;">' +
		    			'&lt;&lt;connector&gt;&gt; c1 : Association1<br/>' +
		    			'&lt;&lt;connector&gt;&gt; c2 : Association2<hr/></p>' +
			    		'<p style="margin:0px;margin-top:-6px;text-align:center;font-size:10px;">' + 
		    			'<i>structure</i></p>',
			   			new mxGeometry(0, 0, 400, 250), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
			   	bg.vertex = true;
			   	var cardCell2 = new mxCell('p1:\nType1', new mxGeometry(20, 100, 80, 40), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	bg.insert(cardCell2);
			   	var cardCell3 = new mxCell('p2:\nType2', new mxGeometry(300, 100, 80, 40), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell3.vertex = true;
			   	bg.insert(cardCell3);
			   	var edge1 = new mxCell('c1: Association1', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;verticalAlign=bottom;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell2.insertEdge(edge1, true);
		    	cardCell3.insertEdge(edge1, false);
		    	bg.insert(edge1);
		    	var label1 = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=bottom;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	edge1.insert(label1);
		    	var label2 = new mxCell('e1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=top;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	edge1.insert(label2);
			   	var cardCell4 = new mxCell('p3:\nType3', new mxGeometry(20, 160, 80, 40), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell4.vertex = true;
			   	bg.insert(cardCell4);
			   	var cardCell5 = new mxCell('p4:\nType4', new mxGeometry(300, 160, 80, 40), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell5.vertex = true;
			   	bg.insert(cardCell5);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;');
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell4.insertEdge(edge2, true);
		    	cardCell5.insertEdge(edge2, false);
		    	bg.insert(edge2);
		    	var label3 = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=bottom;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = true;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	edge2.insert(label3);
		    	var label4 = new mxCell('e1', new mxGeometry(1, 0, 0, 0), 'spacingRight=3;html=1;align=right;verticalAlign=top;labelPosition=left;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = true;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	edge2.insert(label4);
			   	var cardCell6 = new mxCell('c2: Association2', new mxGeometry(140, 210, 120, 20), 'shape=rect;html=1;align=center;');
			   	cardCell6.vertex = true;
			   	bg.insert(cardCell6);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;dashed=1;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(200, 180), false);
		    	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell6.insertEdge(edge3, true);
		    	bg.insert(edge3);
			    
			   	return sb.createVertexTemplateFromCells([bg], 400, 250, 'Connector Property');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 120, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Block1</b><hr/>' +
	    			'&lt;&lt;connector&gt;&gt; c1 : Association1<br/>' +
	    			'&lt;&lt;connector&gt;&gt; c2 : Association2<hr/></p>',
		    		'Connector Property', null, null, this.getTagsForStencil(gn, '', dt + 'connector property').join(' ')),

		    this.addEntry(dt + 'internal block diagram', function()
		    {
			    var bg = new mxCell('<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>ibd</b>   Block1</p>', new mxGeometry(0, 0, 300, 100), s + 'package;labelX=100;align=left;spacingLeft=10;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=0;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('p1:\nType1', new mxGeometry(15, 30, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('p2:\nType2', new mxGeometry(190, 30, 100, 50), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
				var assoc = new mxCell('c1:a1', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=none;');
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('p3', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
		    	cardCell2.insertEdge(assoc, true);
		    	cardCell3.insertEdge(assoc, false);
		    	bg.insert(assoc);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 100, 'Internal Block Diagram');
			}),
		    	
		    this.addEntry(dt + 'property', function()
		    {
			    var bg = new mxCell('', new mxGeometry(0, 0, 300, 120), 'shape=rect;html=1;strokeWidth=2;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;margin-right:4px;text-align:right;font-size:10px;">' +
		    			'0..*</p>' +
			    		'<p style="margin:0px;text-align:center;">' +
		    			'<b>p1 : Type1</b><hr/>' +
		    			'x : Integer = 4</p>',
			    		new mxGeometry(20, 20, 140, 80), 'shape=rect;html=1;overflow=fill;strokeWidth=2;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell(
			    		'r1: Type2', 
			    		new mxGeometry(180, 30, 100, 50), 'shape=rect;html=1;fontStyle=1;dashed=1;strokeWidth=2;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 120, 'Property');
			}),
		    	
		    this.createVertexTemplateEntry(s + 'package;html=1;overflow=fill;whiteSpace=wrap;', 300, 135, 
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>idb</b>   Block1</p>', 
		    		'Package', null, null, this.getTagsForStencil(gn, '', dt + 'package').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 100, 80, 
		    		'<p style="margin:0px;margin-top:4px;margin-right:4px;text-align:right;font-size:10px;">' +
	    			'0..*</p>' +
		    		'<p style="margin:0px;text-align:center;">' +
	    			'<b>p1 : Type1</b><hr/>' +
	    			'x : Integer = 4</p>',
		    		'Property', null, null, this.getTagsForStencil(gn, '', dt + 'property').join(' ')),

		    this.addEntry(dt + 'property', function()
		    {
			    var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;margin-right:4px;text-align:right;font-size:10px;">' +
		    			'0..*</p>' +
			    		'<p style="margin:0px;text-align:center;">' +
		    			'p1 : Type1<hr/></p>',
			    		new mxGeometry(0, 0, 250, 160), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>p3 : Type3</b></p><hr/>' +
			    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
		    			'<i>initialValues</i></p>' +
			    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
		    			'x1 = 5.0<br/>x2 = "today"</p>',
			    		new mxGeometry(30, 50, 140, 100), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    
			   	return sb.createVertexTemplateFromCells([bg], 250, 160, 'Property');
			}),
	    	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 100, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>p3 : Type3</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>initialValues</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'x1 = 5.0<br/>x2 = "today"</p>',
		    		'Property', null, null, this.getTagsForStencil(gn, '', dt + 'property').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 300, 70, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>p1 : [Type1]</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>values</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'&lt;&lt;normal&gt;&gt; {mean = 2, stdDeviation = 0.1} x : Real</p>',
		    		'Property Specific Type', null, null, this.getTagsForStencil(gn, '', dt + 'property specific type').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 100, 70, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>p2</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>values</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'y : Integer = 5</p>',
		    		'Property Specific Type', null, null, this.getTagsForStencil(gn, '', dt + 'property specific type').join(' ')),

			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;stereotype1&gt;&gt;\ndependency1', 'Dependency', null, null, this.getTagsForStencil(gn, '', dt + 'dependency').join(' ')),

		    this.addEntry(dt + 'property', function()
		    {
				var assoc = new mxCell('', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;strokeWidth=2;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Property');
			}),

		    this.addEntry(dt + 'binding connector', function()
		    {
				var assoc = new mxCell('&lt;&lt;equal&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;strokeWidth=2;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel = new mxCell('1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel.geometry.relative = true;
		    	sourceLabel.setConnectable(false);
		    	sourceLabel.vertex = true;
		    	assoc.insert(sourceLabel);
		    	var targetLabel = new mxCell('1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel.geometry.relative = true;
		    	targetLabel.setConnectable(false);
		    	targetLabel.vertex = true;
		    	assoc.insert(targetLabel);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Binding Connector');
			}),
	
		    this.addEntry(dt + 'bidirectional connector', function()
		    {
				var assoc = new mxCell('c1 : association', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel1 = new mxCell('0..1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel1.geometry.relative = true;
		    	sourceLabel1.setConnectable(false);
		    	sourceLabel1.vertex = true;
		    	assoc.insert(sourceLabel1);
		    	var sourceLabel2 = new mxCell('p1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel2.geometry.relative = true;
		    	sourceLabel2.setConnectable(false);
		    	sourceLabel2.vertex = true;
		    	assoc.insert(sourceLabel2);
		    	var targetLabel1 = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel1.geometry.relative = true;
		    	targetLabel1.setConnectable(false);
		    	targetLabel1.vertex = true;
		    	assoc.insert(targetLabel1);
		    	var targetLabel2 = new mxCell('p2', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Bidirectional Connector');
			}),
	
		    this.addEntry(dt + 'unidirectional connector', function()
		    {
				var assoc = new mxCell('c1 : association', new mxGeometry(0, 0, 0, 0), 'verticalAlign=bottom;html=1;endArrow=none;edgeStyle=orthogonalEdgeStyle;');
				assoc.geometry.setTerminalPoint(new mxPoint(0, 0), true);
				assoc.geometry.setTerminalPoint(new mxPoint(160, 0), false);
		    	assoc.geometry.relative = true;
				assoc.edge = true;
		    	var sourceLabel1 = new mxCell('0..1', new mxGeometry(-1, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	sourceLabel1.geometry.relative = true;
		    	sourceLabel1.setConnectable(false);
		    	sourceLabel1.vertex = true;
		    	assoc.insert(sourceLabel1);
		    	var targetLabel1 = new mxCell('0..*', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=none;fontSize=10');
		    	targetLabel1.geometry.relative = true;
		    	targetLabel1.setConnectable(false);
		    	targetLabel1.vertex = true;
		    	assoc.insert(targetLabel1);
		    	var targetLabel2 = new mxCell('p1', new mxGeometry(1, 0, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	targetLabel2.geometry.relative = true;
		    	targetLabel2.setConnectable(false);
		    	targetLabel2.vertex = true;
		    	assoc.insert(targetLabel2);
			    
			   	return sb.createVertexTemplateFromCells([assoc], assoc.geometry.width, assoc.geometry.height, 'Unidirectional Connector');
			})
		];
		
		this.addPalette('sysmlBlocks', 'SysML / Blocks', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLPortsAndFlowsPalette = function(expand)
	{
		var gn = '';
		var dt = 'sysml port flow ';
		var sb = this;
		var s = 'html=1;shape=mxgraph.sysml.';

		var fns = [
		    this.addEntry(dt + 'port', function()
		    {
				var s = 'html=1;shape=mxgraph.sysml.';
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 160, 60), s + 'port1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=1;align=right;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('p2', new mxGeometry(140, 20, 20, 20), 'shape=rect;html=1;resizable=1;labelBackgroundColor=none;fontSize=10;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Port');
			}),
	
		    this.addEntry(dt + 'port conjugated', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 200, 60), s + 'port2;fontStyle=1;spacingRight=20;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1 : ~T1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=1;align=right;verticalAlign=bottom;labelPositin=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('p2 : ~T2', new mxGeometry(140, 20, 60, 20), 'shape=rect;html=1;resizable=1;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Port (Conjugated Ports)');
			}),
	
		    this.addEntry(dt + 'port flow property', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 160, 80), s + 'port3;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1', new mxGeometry(0, 10, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label1 = new mxCell('p2', new mxGeometry(0, 50, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('p3', new mxGeometry(160, 30, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Ports with Flow Properties');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 160, 70, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Transmission</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>ports</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'p1 : ITransCmd</p>',
		    		'Port (Compartment Notation)', null, null, this.getTagsForStencil(gn, '', dt + 'port compartment notation').join(' ')),

		    this.addEntry(dt + 'nested port', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 160, 60), s + 'nestedPort;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1.1', new mxGeometry(0, 14, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('p1.2', new mxGeometry(0, 30, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
		    	var label3 = new mxCell('p1.3', new mxGeometry(0, 46, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = false;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	cardCell.insert(label3);
		    	var label4 = new mxCell('p1', new mxGeometry(22, 10, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = false;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	cardCell.insert(label4);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Nested Port');
			}),
	
		    this.addEntry(dt + 'proxy port', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 160, 60), s + 'port1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('&lt;&lt;proxy&gt;&gt;\np1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=1;align=right;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Proxy Port');
			}),

		    this.addEntry(dt + 'full port', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(0, 0, 160, 60), s + 'port1;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('&lt;&lt;full&gt;&gt;\np1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=1;align=right;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Full Port');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Transmission</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>flow properties</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'in gearSelect: Gear<br/>' +
	    			'in engineTorque: Torque<br/>' +
	    			'out wheelsTorque: Torque</p>',
		    		'Flow Property', null, null, this.getTagsForStencil(gn, '', dt + 'flow property').join(' ')),

		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 250, 150, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>Transmission</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>operations</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'prov Boolean selectGear(g : Gear)<br/>' +
	    			'reqd Torque getTorque()</p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>properties</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'prov temperature : Integer<br/>' +
	    			'reqd geometry : Spline</p>',
		    		'Required and Provided Features', null, null, this.getTagsForStencil(gn, '', dt + 'required provided feature').join(' ')),

		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;interfaceBlock&gt;&gt;\n' +
	    			'<b>ISpeedObserver</b></p><hr/>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'notifySpeedChange(): void</p>',
		    		'Interface Block', null, null, this.getTagsForStencil(gn, '', dt + 'interface block').join(' ')),

		    this.addEntry(dt + 'item flow', function()
		    {
			    var cardCell = new mxCell('eng: engine\n',	new mxGeometry(20, 0, 80, 60), s + 'itemFlow;fontStyle=1;flowDir=S;flowType=out;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('\ntrns: Transmission', new mxGeometry(0, 120, 120, 60), s + 'itemFlow;fontStyle=1;flowDir=N;flowType=in;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('Torque', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=right;endArrow=none;exitX=0.5;exitY=1;entryX=0.5;entryY=0;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	var label1 = new mxCell('p', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=10;verticalAlign=top;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.geometry.x = -1;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	assoc1.insert(label1);
		    	var label2 = new mxCell('p', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=10;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.geometry.x = 1;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	assoc1.insert(label2);
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1], 120, 180, 'Item Flow');
			}),
	
		    this.addEntry(dt + 'item flow property', function()
		    {
			    var cardCell = new mxCell('eng: engine\n',	new mxGeometry(40, 0, 80, 60), s + 'itemFlow;fontStyle=1;flowDir=S;flowType=out;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('\ntrns: Transmission', new mxGeometry(20, 120, 120, 60), s + 'itemFlow;fontStyle=1;flowDir=N;flowType=in;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('torque: Torque', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=right;endArrow=none;exitX=0.5;exitY=1;entryX=0.5;entryY=0;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	var label1 = new mxCell('p', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=10;verticalAlign=top;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.geometry.x = -1;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	assoc1.insert(label1);
		    	var label2 = new mxCell('p', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=10;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.geometry.x = 1;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	assoc1.insert(label2);
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1], 140, 180, 'Item Flow (Item Property)');
			}),

		    this.createVertexTemplateEntry(s + 'itemFlow;fontStyle=1;flowDir=N;flowType=in;whiteSpace=wrap;align=center;', 
		    		200, 80, 'eng:Engine', 'Item Flow North In', null, null, this.getTagsForStencil(gn, '', dt + 'item flow north in').join(' ')),
		    this.createVertexTemplateEntry(s + 'itemFlow;fontStyle=1;flowDir=E;flowType=out;whiteSpace=wrap;align=center;', 
		    		200, 80, 'eng:Engine', 'Item Flow East Out', null, null, this.getTagsForStencil(gn, '', dt + 'item flow east out').join(' ')),

		    this.addEntry(dt + 'item flow', function()
		    {
			    var cardCell = new mxCell('eng: engine',	new mxGeometry(40, 0, 100, 60), s + 'itemFlow;fontStyle=1;strokeWidth=1;flowDir=E;flowType=none;spacingRight=20;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('trns: Translation', new mxGeometry(260, 0, 140, 60), s + 'itemFlow;strokeWidth=1;fontStyle=1;flowDir=W;flowType=none;spacingLeft=15;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('Torque', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=left;verticalAlign=top;endArrow=none;exitX=1;exitY=0.5;entryX=0;entryY=0.5;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	var label1 = new mxCell('ep:EP', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=5;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = true;
		    	label1.geometry.x = -1;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	assoc1.insert(label1);
		    	var label2 = new mxCell('tp:TP', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=right;spacingRight=5;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = true;
		    	label2.geometry.x = 1;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	assoc1.insert(label2);
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
			    var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
						'<b>c1: Association-1</b></p><hr/>' +
			    		'<p style="margin:0px;margin-left:4px;text-align:left;font-size:0.9em;">' +
						'&lt;&lt;participant&gt;&gt;{end = ep} epInLink : EP[1]<br/>' +
						'&lt;&lt;participant&gt;&gt;{end = tp} etInLink : TP[1]<hr/></p>' +
			    		'<p style="margin:0px;text-align:center;font-size:0.9em;">' +
						'structure</p>',
			    		new mxGeometry(0, 120, 470, 250), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
			   	bg.vertex = true;
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=elbowEdgeStyle;elbow=horizontal;dashed=1;');
		    	assoc2.geometry.relative = true;
				assoc2.geometry.setTerminalPoint(new mxPoint(160, 30), true);
		    	assoc2.edge = true;
		    	bg.insertEdge(assoc2, false);
		    	var cardCell4 = new mxCell('epInLink : EP', new mxGeometry(30, 100, 160, 120), s + 'itemFlowRight;fontStyle=1;spacingRight=40;whiteSpace=wrap;align=center;');
		    	cardCell4.vertex = true;
		    	bg.insert(cardCell4);
		    	var label3 = new mxCell('ep.1', new mxGeometry(160, 30, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = false;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	cardCell4.insert(label3);
		    	var label4 = new mxCell('ep.2', new mxGeometry(160, 60, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label4.geometry.relative = false;
		    	label4.setConnectable(false);
		    	label4.vertex = true;
		    	cardCell4.insert(label4);
		    	var label5 = new mxCell('ep.3', new mxGeometry(160, 90, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label5.geometry.relative = false;
		    	label5.setConnectable(false);
		    	label5.vertex = true;
		    	cardCell4.insert(label5);
		    	var cardCell5 = new mxCell('tpInLink : TP', new mxGeometry(280, 100, 160, 120), s + 'itemFlowLeft;fontStyle=1;spacingLeft=40;whiteSpace=wrap;align=center;');
		    	cardCell5.vertex = true;
		    	bg.insert(cardCell5);
		    	var label6 = new mxCell('tp.1', new mxGeometry(0, 30, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label6.geometry.relative = false;
		    	label6.setConnectable(false);
		    	label6.vertex = true;
		    	cardCell5.insert(label6);
		    	var label7 = new mxCell('tp.2', new mxGeometry(0, 60, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label7.geometry.relative = false;
		    	label7.setConnectable(false);
		    	label7.vertex = true;
		    	cardCell5.insert(label7);
		    	var label8 = new mxCell('tp.3', new mxGeometry(0, 90, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label8.geometry.relative = false;
		    	label8.setConnectable(false);
		    	label8.vertex = true;
		    	cardCell5.insert(label8);
		    	var assoc3 = new mxCell('Vibration', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;verticalAlign=bottom;endArrow=none;exitX=1;exitY=0.25;entryX=0;entryY=0.25;');
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	cardCell4.insertEdge(assoc3, true);
		    	cardCell5.insertEdge(assoc3, false);
		    	bg.insert(assoc3);
		    	var assoc4 = new mxCell('Heat', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;verticalAlign=bottom;endArrow=none;exitX=1;exitY=0.5;entryX=0;entryY=0.5;');
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
		    	cardCell4.insertEdge(assoc4, true);
		    	cardCell5.insertEdge(assoc4, false);
		    	bg.insert(assoc4);
		    	var assoc5 = new mxCell('Current', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;verticalAlign=bottom;endArrow=none;exitX=1;exitY=0.75;entryX=0;entryY=0.75;');
		    	assoc5.geometry.relative = true;
		    	assoc5.edge = true;
		    	cardCell4.insertEdge(assoc5, true);
		    	cardCell5.insertEdge(assoc5, false);
		    	bg.insert(assoc5);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1, bg, assoc2], 470, 370, 'Item Flow');
			}),
	
		    this.addEntry(dt + 'item flow', function()
		    {
		    	var cardCell = new mxCell('tpInLink : TP', new mxGeometry(0, 0, 200, 120), s + 'itemFlowLeft;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('tp.1', new mxGeometry(0, 30, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('tp.2', new mxGeometry(0, 60, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
		    	var label3 = new mxCell('tp.3', new mxGeometry(0, 90, 0, 0), 'resizable=0;html=1;align=left;spacingLeft=22;verticalAlign=middle;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = false;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	cardCell.insert(label3);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Item Flow');
			}),
			    			
		    this.addEntry(dt + 'item flow', function()
		    {
		    	var cardCell = new mxCell('epInLink : EP', new mxGeometry(0, 0, 200, 120), s + 'itemFlowRight;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('ep.1', new mxGeometry(200, 30, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('ep.2', new mxGeometry(200, 60, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
		    	var label3 = new mxCell('ep.3', new mxGeometry(200, 90, 0, 0), 'resizable=0;html=1;align=right;spacingRight=22;verticalAlign=middle;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10');
		    	label3.geometry.relative = false;
		    	label3.setConnectable(false);
		    	label3.vertex = true;
		    	cardCell.insert(label3);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Item Flow');
			}),
			    			
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;interface&gt;&gt;<br/>' +
	    			'<b>ISpeedObserver</b></p><hr/>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:4px;text-align:left;">' +
	    			'notifySpeedChange(): void</p>',
		    		'Interface', null, null, this.getTagsForStencil(gn, '', dt + 'interface').join(' ')),
		    
		    this.addEntry(dt + 'required interface', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(90, 0, 160, 60), s + 'port4;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=0;align=left;verticalAlign=bottom;labelPosition=right;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var assoc1 = new mxCell('ITransCmd', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=left;verticalAlign=bottom;endArrow=sysMLReqInt;endSize=8;exitX=0;exitY=0.5;fillColor=#ffffff;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(0, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('ITransData', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=left;verticalAlign=top;endArrow=sysMLProvInt;endSize=12;exitX=0;exitY=0.5;fillColor=#ffffff;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(0, 60), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 250, 60, 'Required Interface');
			}),
			    
		    this.addEntry(dt + 'provided interface', function()
		    {
		    	var cardCell = new mxCell('Transmission', new mxGeometry(90, 0, 160, 60), s + 'port4;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('p1', new mxGeometry(0, 20, 20, 20), 'shape=rect;html=1;resizable=0;labelBackgroundColor=none;fontSize=10;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var assoc1 = new mxCell('ITransCmd', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=left;verticalAlign=bottom;endArrow=sysMLReqInt;endSize=8;exitX=0;exitY=0.5;fillColor=#ffffff;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(0, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('ITransData', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=left;verticalAlign=top;endArrow=sysMLProvInt;endSize=12;exitX=0;exitY=0.5;fillColor=#ffffff;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(0, 60), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 250, 60, 'Provided Interface');
			})
	    ];
	    
	    this.addPalette('sysmlPorts and Flows', 'SysML / Ports and Flows', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLConstraintBlocksPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml constraint block ';
		var sb = this;

		var fns = [
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 200, 180, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    		'&lt;&lt;constraint&gt;&gt;<br/>' +
		    		'<b>ConstraintBlock1</b></p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>constraints</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'{{L1} x > y }<br/>nested: ConstraintBlock2</p><hr/>' +
		    		'<p style="font-size:10px;margin:0px;margin-top:4px;text-align:center;">' +
	    			'<i>parameters</i></p>' +
		    		'<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;">' +
	    			'x: Real<br/>y: Real</p>',
		    		'Constraint Block', null, null, this.getTagsForStencil(gn, '', dt + '').join(' ')),

		    this.addEntry(dt + 'provided interface', function()
		    {
			    var bg = new mxCell('<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>par</b>   Block1</p>', new mxGeometry(0, 0, 300, 170), s + 'package;labelX=120;align=left;spacingLeft=10;overflow=fill;whiteSpace=wrap;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('C1: Constraint', new mxGeometry(130, 50, 150, 100), s + 'paramDgm;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
		    	var label1 = new mxCell('x:', new mxGeometry(0, 25, 0, 0), 'html=1;resizable=0;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingLeft=22;fontStyle=1;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell2.insert(label1);
		    	var label2 = new mxCell('y:', new mxGeometry(0, 75, 0, 0), 'html=1;resizable=0;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingLeft=22;fontStyle=1;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell2.insert(label2);
			    var cardCell3 = new mxCell('length: Real', new mxGeometry(30, 65, 20, 20), 'shape=rect;html=1;fontSize=10;verticalLabelPosition=top;verticalAlign=bottom;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
			    var cardCell4 = new mxCell('width: Real', new mxGeometry(30, 115, 20, 20), 'shape=rect;html=1;fontSize=10;verticalLabelPosition=top;verticalAlign=bottom;');
		    	cardCell4.vertex = true;
		    	bg.insert(cardCell4);
				var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;exitY=0.25;exitX=0;entryY=0.5;entryX=1;');
				assoc1.geometry.relative = true;
				assoc1.geometry.x=1;
				assoc1.edge = true;
		    	cardCell2.insertEdge(assoc1, true);
		    	cardCell3.insertEdge(assoc1, false);
		    	bg.insert(assoc1);
				var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;exitY=0.75;exitX=0;entryY=0.5;entryX=1;');
				assoc2.geometry.relative = true;
				assoc2.geometry.x=1;
				assoc2.edge = true;
		    	cardCell2.insertEdge(assoc2, true);
		    	cardCell4.insertEdge(assoc2, false);
		    	bg.insert(assoc2);
			    
			   	return sb.createVertexTemplateFromCells([bg], 300, 170, 'Parametric Diagram');
			}),
		    	
		    this.addEntry(dt + 'constraint property', function()
		    {
			    var cardCell = new mxCell('C1:Constraint1', new mxGeometry(0, 0, 150, 100), s + 'paramDgm;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('x: Real', new mxGeometry(0, 25, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingLeft=22;fontStyle=1;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('y: Real', new mxGeometry(0, 75, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingLeft=22;fontStyle=1;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Constraint Property');
			}),
			    
		    this.addEntry(dt + 'constraint property', function()
		    {
		    	var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
			    		'&lt;&lt;constraint&gt;&gt;<br/>' +
			    		'<b>C1: Constraint1</b></p><hr/>',
		    			new mxGeometry(0, 0, 150, 120), s + 'consProp;overflow=fill;whiteSpace=wrap;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('x: Real', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;spacingLeft=22;spacingTop=120;fontStyle=1;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('y: Real', new mxGeometry(0, 0, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;spacingLeft=22;spacingTop=180;fontStyle=1;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Constraint Property');
			})
		];

	    this.addPalette('sysmlConstraint Blocks', 'SysML / Constraint Blocks', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLActivitiesPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml activity ';
		var sb = this;
		
		var fns = [
		    this.createVertexTemplateEntry('shape=rect;html=1;rounded=1;whiteSpace=wrap;align=center;', 
		    		160, 80, 'Action', 'Action', null, null, this.getTagsForStencil(gn, '', dt + 'action').join(' ')),
		    this.createVertexTemplateEntry(s + 'callBehAct;whiteSpace=wrap;align=center;', 
		    		160, 80, 'action name:\nbehavior name', 'Call Behavior Action', null, null, this.getTagsForStencil(gn, 'callBehAct', dt + 'call behavior action').join(' ')),
		    this.createVertexTemplateEntry(s + 'accEvent;strokeWidth=2;whiteSpace=wrap;align=center;', 
		    		100, 60, 'Event', 'Accept Event Action', null, null, this.getTagsForStencil(gn, 'accEvent', dt + 'accept event action').join(' ')),
		    this.createVertexTemplateEntry(s + 'timeEvent;strokeWidth=2;verticalLabelPosition=bottom;verticalAlignment=top;', 
		    		35, 40, '', 'Time Event', null, null, this.getTagsForStencil(gn, 'timeEvent', dt + 'time event').join(' ')),
		    this.createVertexTemplateEntry(s + 'sendSigAct;strokeWidth=2;whiteSpace=wrap;align=center;', 
		    		100, 60, 'Signal', 'Send Signal Action', null, null, this.getTagsForStencil(gn, 'sendSigAct', dt + 'send signal action').join(' ')),
		    this.createVertexTemplateEntry(s + 'actFinal;strokeWidth=2;verticalLabelPosition=bottom;verticalAlignment=top;', 
		    		40, 40, '', 'Activity Final', null, null, this.getTagsForStencil(gn, 'actFinal', dt + 'activity final').join(' ')),
		    this.createVertexTemplateEntry(s + 'actParamNode;align=left;spacingLeft=15;verticalAlign=top;spacingTop=-3;', 
		    		300, 135, 'act', 'Activity Parameter Node', null, null, this.getTagsForStencil(gn, 'act', dt + 'activity parameter node').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;rounded=1;html=1;whiteSpace=wrap;align=center;', 
		    		160, 80, '&lt;&lt;controlOperator&gt;&gt;\nCallBehaviorAction', 'Control Operator', null, null, this.getTagsForStencil(gn, '', dt + 'control operator').join(' ')),
		    this.createVertexTemplateEntry(s + 'package;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;labelX=135;html=1;overflow=fill;', 
		    		250, 120, '<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>act</b>   [ControlOperator]</p>', 'Control Operator', 
		    		null, null, this.getTagsForStencil(gn, 'package', dt + 'control operator').join(' ')),

		    this.addEntry(dt + 'decision node', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(80, 40, 40, 40),
	    		'shape=rhombus;html=1;verticalLabelPosition=bottom;verticalAlignment=top;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;startArrow=open;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(100, 0), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('[guard]', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=open;rounded=0;labelBackgroundColor=none;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 60), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('[else]', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=open;rounded=0;labelBackgroundColor=none;endSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 60), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 200, 80, 'Decision Node');
			}),
			    
		    this.createVertexTemplateEntry(s + 'flowFinal;strokeWidth=2;verticalLabelPosition=bottom;verticalAlignment=top;', 
		    		40, 40, '', 'Flow Final', null, null, this.getTagsForStencil(gn, 'flowFinal', dt + 'flow final').join(' ')),
		    
		    this.addEntry(dt + 'fork node', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(60, 0, 4, 80),'shape=rect;html=1;fillColor=#000000;verticalLabelPosition=bottom;verticalAlignment=top;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=none;rounded=0;startArrow=open;strokeWidth=3;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 40), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;strokeWidth=3;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 10), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;strokeWidth=3;endSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(200, 30), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			   	var edge4 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;strokeWidth=3;endSize=12;');
			   	edge4.geometry.setTerminalPoint(new mxPoint(200, 50), false);
			   	edge4.geometry.relative = true;
			   	edge4.edge = true;
		    	cardCell.insertEdge(edge4, true);
			   	var edge5 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;strokeWidth=3;endSize=12;');
			   	edge5.geometry.setTerminalPoint(new mxPoint(200, 70), false);
			   	edge5.geometry.relative = true;
			   	edge5.edge = true;
		    	cardCell.insertEdge(edge5, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3, edge4, edge5], 200, 80, 'Fork Node');
			}),
			    
		    this.createVertexTemplateEntry('shape=ellipse;html=1;illColor=#000000;strokeWidth=2;verticalLabelPosition=bottom;verticalAlignment=top;', 
		    		40, 40, '', 'Initial Node', null, null, this.getTagsForStencil(gn, '', dt + 'initial node').join(' ')),

		    this.addEntry(dt + 'join node', function()
		    {
			    var cardCell = new mxCell('{joinspec=...}', new mxGeometry(136, 0, 4, 80),'shape=rect;html=1;fillColor=#000000;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;rounded=0;endArrow=open;strokeWidth=3;endSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(200, 40), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;startArrow=open;endArrow=none;rounded=0;strokeWidth=3;startSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(0, 10), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;startArrow=open;endArrow=none;rounded=0;strokeWidth=3;startSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			   	var edge4 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;startArrow=open;endArrow=none;rounded=0;strokeWidth=3;startSize=12;');
			   	edge4.geometry.setTerminalPoint(new mxPoint(0, 50), false);
			   	edge4.geometry.relative = true;
			   	edge4.edge = true;
		    	cardCell.insertEdge(edge4, true);
			   	var edge5 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;startArrow=open;endArrow=none;rounded=0;strokeWidth=3;startSize=12;');
			   	edge5.geometry.setTerminalPoint(new mxPoint(0, 70), false);
			   	edge5.geometry.relative = true;
			   	edge5.edge = true;
		    	cardCell.insertEdge(edge5, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3, edge4, edge5], 200, 80, 'Join Node');
			}),
			    
		    this.addEntry(dt + 'is control', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('{control}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=bottom;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('{control}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=bottom;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'Is Control');
			}),
	
		    this.addEntry(dt + 'is stream', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('{stream}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=bottom;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('{stream}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=bottom;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'Is Stream');
			}),
	
		    this.addEntry(dt + 'is stream', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isStream;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'Is Stream');
			}),
	
		    this.addEntry(dt + 'is stream', function()
		    {
		    	var cardCell = new mxCell('act', new mxGeometry(0, 0, 200, 100), s + 'isActStream;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('{stream}', new mxGeometry(200, 50, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingTop=5;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], 250, 100, 'Is Stream');
			}),
	
		    this.addEntry(dt + 'local pre precondition post postcondition', function()
		    {
			   	var cardCell1 = new mxCell('localPrecondition\nconstraint', new mxGeometry(0, 0, 120, 40), 'shape=note;html=1;size=15;strokeWidth=2;align=left;spacingLeft=5;whiteSpace=wrap;align=center;');
			   	cardCell1.vertex = true;
			   	var cardCell2 = new mxCell('Action', new mxGeometry(10, 65, 100, 50), 'shape=rect;html=1;rounded=1;strokeWidth=2;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell('localPostcondition\nconstraint', new mxGeometry(20, 140, 130, 40), 'shape=note;html=1;size=15;strokeWidth=2;align=left;spacingLeft=5;whiteSpace=wrap;align=center;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;rounded=0;endArrow=none;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell1.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;rounded=0;endArrow=none;');
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell2.insertEdge(edge2, true);
		    	cardCell3.insertEdge(edge2, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell1, cardCell2, cardCell3, edge1, edge2], 150, 180, 'Local Pre- and Postconditions');
			}),
			    
		    this.addEntry(dt + 'merge node', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(80, 0, 40, 40), 'shape=rhombus;html=1;verticalLabelPosition=top;verticalAlignment=bottom;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;rounded=0;labelBackgroundColor=none;endArrow=open;endSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(100, 80), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;startArrow=open;endArrow=none;rounded=0;labelBackgroundColor=none;startSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(200, 20), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;startArrow=open;endArrow=none;rounded=0;labelBackgroundColor=none;startSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 20), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 200, 80, 'Merge Node');
			}),
	
		    this.addEntry(dt + 'no buffer', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;noBuffer&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=bottom;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('&lt;&lt;noBuffer&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=bottom;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'No Buffer');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		160, 80, 'object node name:\n type name\n[state, state ...]', 'Object Node', null, null, this.getTagsForStencil(gn, '', dt + 'object node').join(' ')),
	    	
		    this.addEntry(dt + 'object node', function()
		    {
		    	var cardCell = new mxCell('Action', new mxGeometry(0, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('pin name: type name\n[state, state ...]', new mxGeometry(0, 30, 0, 0), 'resizable=0;html=1;align=right;verticalAlign=middle;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;spacingRight=5;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Object Node');
			}),
		    	
		    this.addEntry(dt + 'optional', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;optional&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=bottom;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('&lt;&lt;optional&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=bottom;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'Optional');
			}),
	
		    this.addEntry(dt + 'optional', function()
		    {
		    	var cardCell = new mxCell('act', new mxGeometry(0, 0, 200, 100), s + 'isActStream;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;fontStyle=1;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('&lt;&lt;optional&gt;&gt;', new mxGeometry(200, 50, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingTop=5;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Optional');
			}),
	
		    this.addEntry(dt + 'overwrite', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;overwrite&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=bottom;exitX=0;exitY=0.5;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('&lt;&lt;overwrite&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=bottom;entryX=0;entryY=0.5;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 300, 60, 'Overwrite');
			}),
	
		    this.createVertexTemplateEntry(s + 'paramSet;whiteSpace=wrap;align=center;', 
		    		160, 100, 'Action', 'Parameter Set', null, null, this.getTagsForStencil(gn, 'paramSet', dt + 'parameter set').join(' ')),
		    this.createVertexTemplateEntry(s + 'paramActSet;align=left;spacingLeft=15;verticalAlign=top;spacingTop=-3;fontStyle=1;', 
		    		250, 120, 'act', 'Parameter Set', null, null, this.getTagsForStencil(gn, 'paramActSet', dt + 'parameter set').join(' ')),

		    this.addEntry(dt + 'probability', function()
		    {
		    	var cardCell = new mxCell('Action', new mxGeometry(0, 0, 120, 160), s + 'probability;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('{ probability =\nvalueSpecification }', new mxGeometry(120, 40, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10;spacingBottom=25;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('{ probability =\nvalueSpecification }', new mxGeometry(120, 120, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10;spacingTop=25;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Probability');
			}),
	
		    this.addEntry(dt + 'probability', function()
		    {
		    	var cardCell = new mxCell('act', new mxGeometry(0, 0, 120, 160), s + 'actProb;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;fontStyle=1;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('{ probability =\nvalueSpecification }', new mxGeometry(120, 40, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=bottom;labelPosition=left;verticalLabelPosition=bottom;labelBackgroundColor=none;fontSize=10;spacingBottom=25;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
		    	var label2 = new mxCell('{ probability =\nvalueSpecification }', new mxGeometry(120, 120, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;fontSize=10;spacingTop=25;');
		    	label2.geometry.relative = false;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	cardCell.insert(label2);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Probability');
			}),
	
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		120, 60, '&lt;&lt;continuous&gt;&gt;\nObject Node', 'Rate', null, null, this.getTagsForStencil(gn, '', dt + 'rate').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		120, 60, '&lt;&lt;discrete&gt;&gt;\nObject Node', 'Rate', null, null, this.getTagsForStencil(gn, '', dt + 'rate').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		140, 120, '{ rate = constant }\n{ rate = distribution }\n&lt;&lt;continuous&gt;&gt;\n&lt;&lt;discrete&gt;&gt;\nObject Node', 'Rate', 
		    		null, null, this.getTagsForStencil(gn, '', dt + 'rate').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;', 
		    		140, 80, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    		'Object Node</p><hr/>' +
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    		'&lt;&lt;rate&gt;&gt;<br/>' +
		    		'rate = constant<br/>' +
	    			'rate = distribution</p>',
		    		'Rate', null, null, this.getTagsForStencil(gn, '', dt + 'rate').join(' ')),
	    	
		    this.addEntry(dt + 'rate', function()
		    {
		    	var cardCell = new mxCell('act', new mxGeometry(0, 0, 200, 100), s + 'isActStream;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;fontStyle=1;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell(
		    			'{ rate = constant }\n{ rate = distributuion}\n&lt;&lt;continuous&gt;&gt;\n&lt;&lt;discrete&gt;&gt;', 
		    			new mxGeometry(200, 50, 0, 0), 'resizable=0;html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=middle;labelBackgroundColor=none;fontSize=10;spacingTop=5;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Rate');
			}),
	
		    this.addEntry(dt + 'rate', function()
		    {
			   	var cardCell = new mxCell('Action', new mxGeometry(90, 0, 120, 60), s + 'isControl;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('{ rate = constant }\n{ rate = distributuion}\n&lt;&lt;continuous&gt;&gt;\n&lt;&lt;discrete&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;startArrow=open;rounded=0;endArrow=none;verticalAlign=top;exitX=0;exitY=0.5;labelBackgroundColor=none;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 30), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('{ rate = constant }\n{ rate = distributuion}\n&lt;&lt;continuous&gt;&gt;\n&lt;&lt;discrete&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;endArrow=open;rounded=0;verticalAlign=top;entryX=0;entryY=0.5;labelBackgroundColor=none;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(300, 30), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 'Rate');
			}),
	
		    this.addEntry(dt + 'control flow', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(0, 0, 60, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('', new mxGeometry(100, 0, 60, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=open;labelBackgroundColor=none;endSize=12;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 160, 60, 'control flow');
			}),
	
		    this.addEntry(dt + 'control flow', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(0, 0, 60, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('', new mxGeometry(100, 0, 60, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=open;labelBackgroundColor=none;dashed=1;endSize=12;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 160, 60, 'Control Flow');
			}),
	
		    this.addEntry(dt + 'object flow', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(0, 0, 60, 40), 'shape=rect;html=1;rounded=1;strokeWidth=2;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('', new mxGeometry(100, 0, 60, 40), 'shape=rect;html=1;strokeWidth=2;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell('', new mxGeometry(200, 0, 60, 40), 'shape=rect;html=1;rounded=1;strokeWidth=2;whiteSpace=wrap;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=open;labelBackgroundColor=none;strokeWidth=2;endSize=12;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=open;labelBackgroundColor=none;strokeWidth=2;endSize=12;');
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell2.insertEdge(edge2, true);
		    	cardCell3.insertEdge(edge2, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, cardCell3, edge1, edge2], 260, 60, 'Object Flow');
			}),
	
		    this.addEntry(dt + 'object flow', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(0, 0, 60, 40), s + 'objFlowR;strokeWidth=2;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('', new mxGeometry(140, 0, 60, 40), s + 'objFlowL;strokeWidth=2;whiteSpace=wrap;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;endArrow=open;labelBackgroundColor=none;strokeWidth=2;endSize=12;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
		    	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 200, 60, 'Object Flow');
			}),
	
		   	this.createVertexTemplateEntry(s + 'objFlowR;whiteSpace=wrap;', 
		   			120, 60, '', 'Object Flow', null, null, this.getTagsForStencil(gn, 'objFlowR', dt + 'object flow').join(' ')),
		    this.createVertexTemplateEntry(s + 'objFlowL;whiteSpace=wrap;', 
		    		120, 60, '', 'Object Flow', null, null, this.getTagsForStencil(gn, 'objFlowL', dt + 'object flow').join(' ')),

		    this.addEntry(dt + 'probability', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(155, 40, 40, 40), 'shape=rhombus;html=1;whiteSpace=wrap;verticalLabelPosition=bottom;verticalAlignment=top;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;endArrow=none;rounded=0;labelBackgroundColor=none;startArrow=open;startSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(175, 0), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, true);
			   	var edge2 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=open;rounded=0;labelBackgroundColor=none;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(350, 60), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;verticalAlign=bottom;endArrow=open;rounded=0;labelBackgroundColor=none;endSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(0, 60), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
		    	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 350, 80, 'Probability');
			}),
			    
		    this.addEntry(dt + 'probability', function()
		    {
		    	var cardCell = new mxCell('Action', new mxGeometry(0, 0, 160, 60), s + 'objFlowR;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=center;verticalAlign=bottom;endArrow=open;endSize=12;exitX=1;exitY=0.5;fillColor=#ffffff;labelBackgroundColor=none;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=center;verticalAlign=top;endArrow=open;endSize=12;exitX=1;exitY=0.5;fillColor=#ffffff;labelBackgroundColor=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(250, 60), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 250, 60, 'Probability');
			}),
			    
		    this.addEntry(dt + 'probability', function()
		    {
		    	var cardCell = new mxCell('Object Node', new mxGeometry(0, 0, 160, 60), 'shape=rect;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=center;verticalAlign=bottom;endArrow=open;endSize=12;exitX=1;exitY=0.3;fillColor=#ffffff;labelBackgroundColor=none;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(250, 0), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('{ probability = valueSpecification }', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;align=center;verticalAlign=top;endArrow=open;endSize=12;exitX=1;exitY=0.7;fillColor=#ffffff;labelBackgroundColor=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(250, 60), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1, assoc2], 250, 60, 'Probability');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;verticalAlign=top;labelBackgroundColor=none;', 160, 0, 
					'{ rate = constant }\n{rate = distribution}\n&lt;&lt;continuous&gt;&gt;\n&lt;&lt;discrete&gt;&gt;', 
					'Rate', null, null, this.getTagsForStencil(gn, '', dt + 'rate').join(' ')),
		    
		    this.addEntry(dt + 'in block definition diagram activity association', function()
		    {
			    var bg = new mxCell('bdd', new mxGeometry(0, 0, 330, 250), s + 'package;labelX=45;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;fontStyle=1;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('&lt;&lt;activity&gt;&gt;\nactivity name', new mxGeometry(30, 40, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('&lt;&lt;activity&gt;&gt;\nactivity name', new mxGeometry(30, 160, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
				var assoc1 = new mxCell('action\nname', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;endFill=0;startArrow=diamondThin;startFill=1;startSize=12;align=left;verticalAlign=bottom;');
				assoc1.geometry.relative = true;
				assoc1.geometry.x=1;
				assoc1.edge = true;
		    	cardCell2.insertEdge(assoc1, true);
		    	cardCell3.insertEdge(assoc1, false);
		    	bg.insert(assoc1);
			    var cardCell4 = new mxCell('&lt;&lt;activity&gt;&gt;\nactivity name', new mxGeometry(180, 40, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell4.vertex = true;
		    	bg.insert(cardCell4);
			    var cardCell5 = new mxCell('&lt;&lt;block&gt;&gt;\nblock name', new mxGeometry(180, 160, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell5.vertex = true;
		    	bg.insert(cardCell5);
				var assoc2 = new mxCell('object\nnode\nname', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;endFill=0;startFill=1;startSize=12;align=left;verticalAlign=bottom;');
				assoc2.geometry.relative = true;
				assoc2.geometry.x=1;
				assoc2.edge = true;
		    	cardCell4.insertEdge(assoc2, true);
		    	cardCell5.insertEdge(assoc2, false);
		    	bg.insert(assoc2);
			    
			   	return sb.createVertexTemplateFromCells([bg], 400, 250, 'In Block Definition Diagrams, Activity, Association');
			}),
		    	
			this.createVertexTemplateEntry(s + 'actPart;strokeWidth=3;verticalAlign=top;rotation=-90;whiteSpace=wrap;', 
					100, 100, 'Partition Name', 'Activity Partition', null, null, this.getTagsForStencil(gn, 'actPart', dt + 'activity partition').join(' ')),
			this.createVertexTemplateEntry('shape=rect;html=1;rounded=1;strokeWidth=2;verticalAlign=top;whiteSpace=wrap;align=center;', 
					140, 50, '(Partition Name)\nAction', 'Activity Partition', null, null, this.getTagsForStencil(gn, '', dt + 'activity partition').join(' ')),
		    
		    this.addEntry(dt + 'interruptible activity region', function()
		    {
		    	var cardCell = new mxCell('region name', new mxGeometry(0, 0, 160, 60), 'shape=rect;html=1;rounded=1;verticalAlign=top;dashed=1;strokeWidth=2;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'shape=mxgraph.lean_mapping.electronic_info_flow_edge;html=1;edgeStyle=none;align=center;verticalAlign=bottom;exitX=1;exitY=0.5;fillColor=#ffffff;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(250, 30), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1], 250, 60, 'Interruptible Activity Region');
			}),
			    
		    this.createVertexTemplateEntry('shape=rect;html=1;rounded=1;dashed=1;strokeWidth=2;verticalAlign=top;whiteSpace=wrap;align=center;', 
		    		160, 60, '&lt;&lt;structured&gt;&gt; node name', 'Structured Activity Node', null, null, this.getTagsForStencil(gn, '', dt + 'structured activity node').join(' '))
		];
		
		this.addPalette('sysmlActivities', 'SysML / Activities', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLInteractionsPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml interaction ';
		var sb = this;
		
		var fns = [
		    this.createVertexTemplateEntry(s + 'package;overflow=fill;labelX=95;align=left;spacingLeft=5;verticalAlign=top;spacingTop=-3;', 160, 80, 
		    		'<p style="margin:0px;margin-top:4px;margin-left:5px;text-align:left;"><b>sd</b>  Interaction1</p>', 
		    		'Sequence Diagram', null, null, this.getTagsForStencil(gn, 'package', dt + 'sequence diagram').join(' ')),

		    this.addEntry(dt + 'lifeline', function()
		    {
		    	var cardCell = new mxCell('b1:Block1', new mxGeometry(0, 0, 160, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;align=center;verticalAlign=bottom;exitX=0.5;exitY=1;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(80, 150), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.geometry.x = 1;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, assoc1], 160, 150, 'Lifeline');
			}),
			    
		    this.addEntry(dt + 'execution specification', function()
		    {
		    	var cardCell = new mxCell('b1:Block1', new mxGeometry(0, 0, 160, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var cardCell2 = new mxCell('', new mxGeometry(70, 100, 20, 80), 'shape=rect;html=1;fillColor=#eeeeee;');
		    	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(80, 220), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell2.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1, assoc2], 160, 220, 'Execution Specification');
			}),
			    
		    this.addEntry(dt + 'execution specification', function()
		    {
		    	var cardCell = new mxCell('b1:Block1', new mxGeometry(0, 0, 160, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var cardCell2 = new mxCell('execSpec', new mxGeometry(20, 100, 120, 80), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(80, 220), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell2.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1, assoc2], 160, 220, 'Execution Specification');
			}),
			    
		    this.addEntry(dt + 'use', function()
		    {
		    	var cardCell = new mxCell('Interaction3', new mxGeometry(0, 0, 160, 60), s + 'package;labelX=40;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('ref', new mxGeometry(0, 0, 0, 0), 'html=1;align=left;verticalAlign=top;labelPosition=left;verticalLabelPosition=top;labelBackgroundColor=none;spacingLeft=5;spacingTop=-2;fontStyle=1;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Interaction Use');
			}),
			    
		    this.addEntry(dt + 'combined fragment', function()
		    {
		    	var bg = new mxCell('<p style="margin:0px;margin-top:4px;margin-left:10px;text-align:left;"><b>sd</b>   Interaction1</p>', new mxGeometry(0, 0, 350, 320), s + 'package;labelX=100;html=1;overflow=fill;strokeWidth=1;recursiveResize=0;');
		    	bg.vertex = true;
			    var cardCell2 = new mxCell('b1: Block1', new mxGeometry(30, 40, 80, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	bg.insert(cardCell2);
			    var cardCell3 = new mxCell('b2: Block2', new mxGeometry(140, 40, 80, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell3.vertex = true;
		    	bg.insert(cardCell3);
			    var cardCell4 = new mxCell('b3: Block3', new mxGeometry(250, 40, 80, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell4.vertex = true;
		    	bg.insert(cardCell4);
			    var cardCell5 = new mxCell('alt', new mxGeometry(20, 90, 200, 160), s + 'package;labelX=35;fontStyle=1;align=left;verticalAlign=top;spacingLeft=5;spacingTop=-3;');
		    	cardCell5.vertex = true;
		    	bg.insert(cardCell5);
				var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(70, 300), false);
				assoc1.geometry.relative = true;
				assoc1.edge = true;
		    	cardCell2.insertEdge(assoc1, true);
		    	bg.insert(assoc1);
				var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
				assoc2.geometry.setTerminalPoint(new mxPoint(180, 300), false);
				assoc2.geometry.relative = true;
				assoc2.edge = true;
				bg.insert(assoc2);
		    	cardCell3.insertEdge(assoc2, true);
				var assoc3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
				assoc3.geometry.setTerminalPoint(new mxPoint(290, 300), false);
				assoc3.geometry.relative = true;
				assoc3.edge = true;
				bg.insert(assoc3);
		    	cardCell4.insertEdge(assoc3, true);
				var assoc4 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
				assoc4.geometry.setTerminalPoint(new mxPoint(20, 170), false);
				assoc4.geometry.setTerminalPoint(new mxPoint(220, 170), true);
				assoc4.geometry.relative = true;
				assoc4.edge = true;
				bg.insert(assoc4);
				var assoc5 = new mxCell('[if x < 10]', new mxGeometry(0, 0, 0, 0), 'endArrow=open;html=1;edgeStyle=none;verticalAlign=bottom;labelBackgroundColor=none;endSize=12;');
				assoc5.geometry.setTerminalPoint(new mxPoint(70, 150), true);
				assoc5.geometry.setTerminalPoint(new mxPoint(180, 150), false);
				assoc5.geometry.relative = true;
				assoc5.geometry.x = -1;
				assoc5.edge = true;
				bg.insert(assoc5);
		    	var label1 = new mxCell('msg1', new mxGeometry(1, 0, 0, 0), 'align=right;html=1;verticalAlign=bottom;labelBackgroundColor=none;');
		    	label1.geometry.relative = true;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	assoc5.insert(label1);
		    	var assoc6 = new mxCell('[else]', new mxGeometry(0, 0, 0, 0), 'endArrow=open;html=1;edgeStyle=none;verticalAlign=bottom;labelBackgroundColor=none;align=right;endSize=12;');
				assoc6.geometry.setTerminalPoint(new mxPoint(70, 230), true);
				assoc6.geometry.setTerminalPoint(new mxPoint(180, 230), false);
				assoc6.geometry.relative = true;
				assoc6.geometry.x = -1;
				assoc6.edge = true;
				bg.insert(assoc6);
		    	var label2 = new mxCell('msg2', new mxGeometry(1, 0, 0, 0), 'align=right;html=1;verticalAlign=bottom;labelBackgroundColor=none;');
		    	label2.geometry.relative = true;
		    	label2.setConnectable(false);
		    	label2.vertex = true;
		    	assoc6.insert(label2);
		    	bg.insert(assoc6);
				var assoc7 = new mxCell('msg3', new mxGeometry(0, 0, 0, 0), 'endArrow=open;html=1;edgeStyle=none;verticalAlign=bottom;labelBackgroundColor=none;endSize=12;');
				assoc7.geometry.setTerminalPoint(new mxPoint(70, 290), true);
				assoc7.geometry.setTerminalPoint(new mxPoint(290, 290), false);
		    	assoc7.geometry.relative = true;
				assoc7.edge = true;
				bg.insert(assoc7);
			    
			   	return sb.createVertexTemplateFromCells([bg], 350, 320, 'Combined Fragment');
			}),
		    	
		    this.addEntry(dt + 'state invariant configuration', function()
		    {
		    	var cardCell = new mxCell(':Y', new mxGeometry(0, 0, 120, 50), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var cardCell2 = new mxCell('p==15', new mxGeometry(0, 100, 120, 50), s + 'cont;fontStyle=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	cardCell2.insertEdge(assoc1, false);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(60, 220), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.geometry.x = 1;
		    	assoc2.edge = true;
		    	cardCell2.insertEdge(assoc2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, assoc1, assoc2], 120, 220, 'State Invariant / Continuations');
			}),
			    
		    this.addEntry(dt + 'coregion', function()
		    {
		    	var cardCell = new mxCell('s[u]:B', new mxGeometry(0, 0, 100, 50), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var cardCell2 = new mxCell('', new mxGeometry(40, 100, 20, 70), s + 'coregion;strokeWidth=3;');
		    	cardCell2.vertex = true;
		    	var knot1 = new mxCell('', new mxGeometry(48, 118, 4, 4), 'shape=ellipse;html=1;fillColor=#000000;');
		    	knot1.vertex = true;
		    	var knot2 = new mxCell('', new mxGeometry(48, 148, 4, 4), 'shape=ellipse;html=1;fillColor=#000000;');
		    	knot2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell.insertEdge(assoc1, true);
		    	knot1.insertEdge(assoc1, false);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc2.geometry.relative = true;
		    	assoc2.edge = true;
		    	knot1.insertEdge(assoc2, true);
		    	knot2.insertEdge(assoc2, false);
		    	var assoc3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc3.geometry.setTerminalPoint(new mxPoint(50, 220), false);
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	knot2.insertEdge(assoc3, true);
		    	var assoc4 = new mxCell('m3', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;startArrow=open;verticalAlign=bottom;startSize=12;');
		    	assoc4.geometry.setTerminalPoint(new mxPoint(250, 120), false);
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
		    	knot1.insertEdge(assoc4, true);
		    	var assoc5 = new mxCell('m2', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;startArrow=open;verticalAlign=bottom;startSize=12;');
		    	assoc5.geometry.setTerminalPoint(new mxPoint(250, 150), false);
		    	assoc5.geometry.relative = true;
		    	assoc5.edge = true;
		    	knot2.insertEdge(assoc5, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, knot1, knot2, assoc1, assoc2, assoc3, assoc4, assoc5], 250, 220, 'Coregion');
			}),
			    
		    this.addEntry(dt + 'creation destruction event', function()
		    {
		    	var cardCell1 = new mxCell('b1:Block1', new mxGeometry(0, 0, 100, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell1.vertex = true;
		    	var cardCell2 = new mxCell('b2:Block2', new mxGeometry(150, 40, 100, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	var cardCell3 = new mxCell('', new mxGeometry(190, 70, 20, 100), 'shape=rect;fillColor=#eeeeee;html=1;');
		    	cardCell3.vertex = true;
		    	var knot1 = new mxCell('', new mxGeometry(48, 53, 4, 4), 'shape=ellipse;fillColor=#000000;html=1;');
		    	knot1.vertex = true;
		    	var knot2 = new mxCell('', new mxGeometry(48, 148, 4, 4), 'shape=ellipse;fillColor=#000000;html=1;');
		    	knot2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;endArrow=none;html=1;');
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell1.insertEdge(assoc1, true);
		    	knot1.insertEdge(assoc1, false);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;endArrow=none;html=1;');
		    	assoc2.geometry.relative = true;
		    	assoc2.edge = true;
		    	knot1.insertEdge(assoc2, true);
		    	knot2.insertEdge(assoc2, false);
		    	var assoc3 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;endArrow=none;html=1;');
		    	assoc3.geometry.setTerminalPoint(new mxPoint(50, 220), false);
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	knot2.insertEdge(assoc3, true);
		    	var assoc4 = new mxCell('create', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=open;verticalAlign=bottom;endSize=12;html=1;');
		    	assoc4.geometry.setTerminalPoint(new mxPoint(250, 120), false);
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
		    	knot1.insertEdge(assoc4, true);
		    	cardCell2.insertEdge(assoc4, false);
		    	var assoc5 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;endArrow=open;elbow=vertical;endSize=12;html=1;');
		    	assoc5.geometry.setTerminalPoint(new mxPoint(250, 150), false);
		    	assoc5.geometry.relative = true;
		    	assoc5.edge = true;
		    	knot2.insertEdge(assoc5, true);
		    	cardCell3.insertEdge(assoc5, false);
		    	var assoc6 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;endArrow=sysMLx;endSize=22;dashed=1;html=1;');
		    	assoc6.geometry.setTerminalPoint(new mxPoint(200, 200), false);
		    	assoc6.geometry.relative = true;
		    	assoc6.edge = true;
		    	cardCell3.insertEdge(assoc6, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell1, cardCell2, cardCell3, knot1, knot2, assoc1, assoc2, assoc3, assoc4, assoc5, assoc6], 250, 220, 'Creation/Destruction Event');
			}),
			    
		    this.addEntry(dt + 'duration constraint', function()
		    {
		    	var cardCell1 = new mxCell(':User', new mxGeometry(0, 0, 100, 50), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell1.vertex = true;
		    	var cardCell2 = new mxCell('{d..3*d}', new mxGeometry(-20, 100, 100, 40), s + 'dimension;rotation=-90;verticalAlign=top;spacingTop=-5');
		    	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;endArrow=none;html=1;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(50, 250), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell1.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('Code d=duration', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;endSize=12;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(50, 70), true);
		    	assoc2.geometry.setTerminalPoint(new mxPoint(250, 70), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.edge = true;
		    	var assoc3 = new mxCell('CardOut {0..13}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;spacingBottom=5;endSize=12;');
		    	assoc3.geometry.setTerminalPoint(new mxPoint(50, 170), false);
		    	assoc3.geometry.setTerminalPoint(new mxPoint(250, 170), true);
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	var assoc4 = new mxCell('OK', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=top;spacingTop=5;endSize=12;');
		    	assoc4.geometry.setTerminalPoint(new mxPoint(50, 200), false);
		    	assoc4.geometry.setTerminalPoint(new mxPoint(250, 140), true);
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([cardCell1, cardCell2, assoc1, assoc2, assoc3, assoc4], 250, 250, 'Duration Constraint');
			}),
			    
		    this.addEntry(dt + 'duration constraint', function()
		    {
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(20, 0), true);
		    	assoc1.geometry.setTerminalPoint(new mxPoint(20, 200), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;dashed=1;endArrow=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(230, 0), true);
		    	assoc2.geometry.setTerminalPoint(new mxPoint(230, 200), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.edge = true;
		    	var assoc3 = new mxCell('CardOut {0..13}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;spacingBottom=5;endSize=12;');
		    	assoc3.geometry.setTerminalPoint(new mxPoint(20, 140), false);
		    	assoc3.geometry.setTerminalPoint(new mxPoint(230, 140), true);
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	var assoc4 = new mxCell('OK', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=top;spacingTop=5;endSize=12;');
		    	assoc4.geometry.setTerminalPoint(new mxPoint(20, 170), false);
		    	assoc4.geometry.setTerminalPoint(new mxPoint(230, 110), true);
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
		    	var assoc5 = new mxCell('{t..t+3}', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;align=right;labelBackgroundColor=none;');
		    	assoc5.geometry.setTerminalPoint(new mxPoint(20, 170), false);
		    	assoc5.geometry.setTerminalPoint(new mxPoint(0, 170), true);
		    	assoc5.geometry.relative = true;
		    	assoc5.geometry.x = -1;
		    	assoc5.edge = true;
		    	var assoc6 = new mxCell('t=now', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;align=left;labelBackgroundColor=none;');
		    	assoc6.geometry.setTerminalPoint(new mxPoint(230, 140), false);
		    	assoc6.geometry.setTerminalPoint(new mxPoint(250, 140), true);
		    	assoc6.geometry.relative = true;
		    	assoc6.geometry.x = -1;
		    	assoc6.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([assoc1, assoc2, assoc3, assoc4, assoc5, assoc6], 250, 200, 'Time Constraint');
			}),
			    
		    this.addEntry(dt + 'message', function()
		    {
		    	var cardCell1 = new mxCell('b1:Block1', new mxGeometry(0, 0, 100, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell1.vertex = true;
		    	var cardCell2 = new mxCell('b2:Block2', new mxGeometry(150, 0, 100, 30), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
		    	cardCell2.vertex = true;
		    	var assoc1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;html=1;endArrow=none;');
		    	assoc1.geometry.setTerminalPoint(new mxPoint(50, 250), false);
		    	assoc1.geometry.relative = true;
		    	assoc1.edge = true;
		    	cardCell1.insertEdge(assoc1, true);
		    	var assoc2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;dashed=1;html=1;endArrow=none;');
		    	assoc2.geometry.setTerminalPoint(new mxPoint(200, 250), false);
		    	assoc2.geometry.relative = true;
		    	assoc2.edge = true;
		    	cardCell2.insertEdge(assoc2, true);
		    	var assoc3 = new mxCell('asyncSignal', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;endSize=12;');
		    	assoc3.geometry.setTerminalPoint(new mxPoint(50, 70), true);
		    	assoc3.geometry.setTerminalPoint(new mxPoint(200, 70), false);
		    	assoc3.geometry.relative = true;
		    	assoc3.edge = true;
		    	var assoc4 = new mxCell('syncCall(param)', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=block;verticalAlign=bottom;endSize=12;endFill=1;');
		    	assoc4.geometry.setTerminalPoint(new mxPoint(50, 160), true);
		    	assoc4.geometry.setTerminalPoint(new mxPoint(200, 160), false);
		    	assoc4.geometry.relative = true;
		    	assoc4.edge = true;
		    	var assoc5 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;endSize=12;endFill=1;dashed=1;');
		    	assoc5.geometry.setTerminalPoint(new mxPoint(200, 200), true);
		    	assoc5.geometry.setTerminalPoint(new mxPoint(50, 200), false);
		    	assoc5.geometry.relative = true;
		    	assoc5.edge = true;
			    
			   	return sb.createVertexTemplateFromCells([cardCell1, cardCell2, assoc1, assoc2, assoc3, assoc4, assoc5], 250, 250, 'Message');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=sysMLLost;endSize=12;verticalAlign=bottom;', 
					160, 0, 'lost', 'Lost Message', null, this.getTagsForStencil(gn, '', dt + 'lost message').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;verticalAlign=bottom;startArrow=sysMLFound;startSize=12;', 
					160, 0, 'found', 'Found Message', null, this.getTagsForStencil(gn, '', dt + 'found message').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=none;verticalAlign=bottom;dashed=1;strokeWidth=2;', 
					160, 0, '', 'General Ordering', null, this.getTagsForStencil(gn, '', dt + 'general ordering').join(' '))
		];
		
		this.addPalette('sysmlInteractions', 'SysML / Interactions', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLStateMachinesPalette = function(expand)
	{
		var s = 'shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml state machine ';
		var sb = this;
		
		var fns = [
		    this.addEntry(dt + 'choice pseudo state', function()
		    {
			   	var cardCell = new mxCell('', new mxGeometry(0, 20, 40, 40), 'shape=rhombus;html=1;labelPosition=right;align=left;verticalAlign=middle');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=horizontal;align=right;verticalAlign=bottom;rounded=0;labelBackgroundColor=none;endArrow=open;endSize=12;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(20, 0), true);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell.insertEdge(edge1, false);
			   	var edge2 = new mxCell('[Id<=10]', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=right;endArrow=open;rounded=0;labelBackgroundColor=none;endSize=12;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(20, 100), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	var edge3 = new mxCell('[Id>10]', new mxGeometry(0, 0, 0, 0), 'edgeStyle=elbowEdgeStyle;html=1;elbow=vertical;align=left;endArrow=open;rounded=0;labelBackgroundColor=none;verticalAlign=bottom;endSize=12;');
			   	edge3.geometry.setTerminalPoint(new mxPoint(150, 100), false);
			   	edge3.geometry.relative = true;
			   	edge3.edge = true;
			   	cardCell.insertEdge(edge3, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2, edge3], 150, 100, 'Choice Pseudo State');
			}),
			    
		    this.addEntry(dt + 'composite state', function()
		    {
			   	var bg = new mxCell('CompositeState1', new mxGeometry(0, 0, 220, 190), s + 'compState;align=left;verticalAlign=top;spacingTop=-3;spacingLeft=18;strokeWidth=1;recursiveResize=0;');
			   	bg.vertex = true;
			   	var cardCell2 = new mxCell('', new mxGeometry(20, 50, 20, 20), 'shape=ellipse;html=1;fillColor=#000000;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;');
			   	cardCell2.vertex = true;
			   	bg.insert(cardCell2);
			   	var cardCell3 = new mxCell('State1', new mxGeometry(80, 60, 100, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;align=center;');
			   	cardCell3.vertex = true;
			   	bg.insert(cardCell3);
			   	var cardCell4 = new mxCell('State2', new mxGeometry(80, 130, 100, 40), 'shape=rect;html=1;rounded=1;whiteSpace=wrap;align=center;');
			   	cardCell4.vertex = true;
			   	bg.insert(cardCell4);
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;endSize=12;');
		    	edge1.geometry.relative = true;
			   	edge1.edge = true;
		    	cardCell2.insertEdge(edge1, true);
		    	cardCell3.insertEdge(edge1, false);
		    	bg.insert(edge1);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=open;endSize=12;');
		    	edge2.geometry.relative = true;
			   	edge2.edge = true;
		    	cardCell3.insertEdge(edge2, true);
		    	cardCell4.insertEdge(edge2, false);
		    	bg.insert(edge2);
			    
			   	return sb.createVertexTemplateFromCells([bg], 220, 190, 'Composite State');
			}),
			    
		    this.createVertexTemplateEntry(s + 'compState;html=1;align=left;verticalAlign=top;spacingTop=-3;spacingLeft=18;', 
		    		200, 160, 'CompositeState1', 'Composite State', null, null, this.getTagsForStencil(gn, 'compState', dt + 'composite state').join(' ')),
		    this.createVertexTemplateEntry('ellipse;html=1;labelPosition=left;verticalLabelPosition=bottom;spacingBottom=10;align=right;verticalAlign=bottom;resizable=0;', 
		    		20, 20, 'again', 'Entry Point', null, null, this.getTagsForStencil(gn, 'compState', dt + 'entry point').join(' ')),

		    this.addEntry(dt + 'exit point', function()
		    {
			    var cardCell = new mxCell('aborted', new mxGeometry(0, 10, 20, 20), s + 'flowFinal;labelPosition=right;verticalLabelPosition=top;spacingTop=5;spacingLeft=3;align=left;verticalAlign=top;resizable=0;');
		    	cardCell.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Exit Point');
			}),
		    
		    this.createVertexTemplateEntry(s + 'actFinal;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;', 
		    		40, 40, '', 'Final State', null, null, this.getTagsForStencil(gn, 'actFinal', dt + 'final state').join(' ')),
		    this.createVertexTemplateEntry('shape=ellipse;html=1;fontSize=18;align=center;', 
		    		40, 40, 'H*', 'History, Deep Pseudo State', null, null, this.getTagsForStencil(gn, '', dt + 'history deep pseudo state').join(' ')),
		    this.createVertexTemplateEntry('shape=ellipse;html=1;fontSize=18;align=center;', 
		    		40, 40, 'H', 'History, Shallow Pseudo State', null, null, this.getTagsForStencil(gn, '', dt + 'history shallow pseudo state').join(' ')),
		    this.createVertexTemplateEntry('shape=ellipse;html=1;fillColor=#000000;fontSize=18;fontColor=#ffffff;', 
		    		40, 40, '', 'Initial Pseudo State', null, null, this.getTagsForStencil(gn, '', dt + 'initial pseudo state').join(' ')),
		    this.createVertexTemplateEntry('shape=ellipse;html=1;fillColor=#000000;fontSize=18;fontColor=#ffffff;', 
		    		40, 40, '', 'Junction Pseudo State', null, null, this.getTagsForStencil(gn, '', dt + 'junction pseudo state').join(' ')),
		    this.createVertexTemplateEntry(s + 'accEvent;flipH=1;whiteSpace=wrap;align=center;', 
		    		140, 40, 'Req(Id)', 'Receive Signal Action', null, null, this.getTagsForStencil(gn, 'accEvent', dt + 'receive signal action').join(' ')),
		    this.createVertexTemplateEntry(s + 'sendSigAct;whiteSpace=wrap;align=center;', 
		    		140, 40, 'TurnOn', 'Send Signal Action', null, null, this.getTagsForStencil(gn, 'sendSigAct', dt + 'send signal action').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		140, 40, 'MinorReq := Id;', 'Action', null, null, this.getTagsForStencil(gn, '', dt + 'action').join(' ')),
		    this.createVertexTemplateEntry(s + 'region;align=left;verticalAlign=top;spacingTop=-3;spacingLeft=25;', 
		    		200, 160, 'S', 'Region', null, null, this.getTagsForStencil(gn, '', dt + 'region').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;rounded=1;html=1;whiteSpace=wrap;align=center;', 
		    		100, 40, 'State1', 'Simple State', null, null, this.getTagsForStencil(gn, '', dt + 'simple state').join(' ')),

		    this.createVertexTemplateEntry(s + 'simpleState;html=1;overflow=fill;whiteSpace=wrap;align=center;', 200, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'State2<hr/></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">entry / entryActivity<br/>do / doActivity<br/>exit / exitActivity</p>',
		    		'Simple State', null, null, this.getTagsForStencil(gn, 'simpleState', dt + 'simple state').join(' ')),

		    this.createVertexTemplateEntry('shape=rect;rounded=1;html=1;whiteSpace=wrap;align=center;', 
		    		120, 40, 'State1, State2', 'State List', null, null, this.getTagsForStencil(gn, '', dt + 'state list').join(' ')),
		    
		    this.addEntry(dt + 'state machine', function()
		    {
		    	var cardCell = new mxCell('ReadAmountSM', new mxGeometry(0, 0, 160, 120), s + 'stateMachine;verticalAlign=top;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('aborted', new mxGeometry(160, 60, 0, 0), 'resizable=0;html=1;verticalAlign=top;align=left;labelBackgroundColor=none;spacingLeft=5;spacingTop=-2;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'State Machine');
			}),
			    
		    this.createVertexTemplateEntry(s + 'x;', 
		    		40, 40, '', 'Terminate Node', null, null, this.getTagsForStencil(gn, 'x', dt + 'terminate node').join(' ')),
		    
		    this.addEntry(dt + 'submachine state', function()
		    {
		    	var cardCell = new mxCell('ReadAmount :\nReadAmountSM', new mxGeometry(0, 0, 160, 120), s + 'submState;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('aborted', new mxGeometry(160, 60, 0, 0), 'resizable=0;html=1;verticalAlign=bottom;align=left;labelBackgroundColor=none;spacingLeft=5;spacingBottom=2;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Submachine State');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;strokeWidth=3;verticalAlign=bottom;', 
					160, 0, 'trigger[guard]/activity', 'Transition', null, this.getTagsForStencil(gn, '', dt + 'transition').join(' '))
		];
		
		this.addPalette('sysmlState Machines', 'SysML / State Machines', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLUseCasesPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml use case ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry('shape=ellipse;html=1;strokeWidth=3;fontStyle=1;whiteSpace=wrap;align=center;', 
					120, 60, 'UseCaseName', 'Use Case', null, null, this.getTagsForStencil(gn, '', dt + 'use case').join(' ')),

			this.addEntry(dt + '', function()
			{
		    	var cardCell = new mxCell('\nextension points\np1, p2', new mxGeometry(0, 0, 160, 80), s + 'useCaseExtPt;whiteSpace=wrap;align=center;');
		    	cardCell.vertex = true;
		    	var label1 = new mxCell('UseCaseName', new mxGeometry(80, 17, 0, 0), 'resizable=0;html=1;verticalAlign=middle;align=center;labelBackgroundColor=none;fontStyle=1;');
		    	label1.geometry.relative = false;
		    	label1.setConnectable(false);
		    	label1.vertex = true;
		    	cardCell.insert(label1);
			    
			   	return sb.createVertexTemplateFromCells([cardCell], cardCell.geometry.width, cardCell.geometry.height, 'Use Case');
			}),
			    
		    this.createVertexTemplateEntry('shape=umlActor;html=1;verticalLabelPosition=bottom;verticalAlign=top;align=center;', 
		    		30, 60, 'ActorName', 'Actor', null, null, this.getTagsForStencil(gn, 'umlActor', dt + '').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;html=1;whiteSpace=wrap;align=center;', 80, 40, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    		'&lt;&lt;actor&gt;&gt;<br/>' +
	    			'<b>ActorName</b></p>',
		    		'Actor', null, null, this.getTagsForStencil(gn, '', dt + '').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;verticalAlign=top;fontStyle=1;whiteSpace=wrap;align=center;', 
		    		120, 60, 'SubjectName', 'Subject', null, null, this.getTagsForStencil(gn, '', dt + 'subject').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=none;verticalAlign=bottom;', 
					160, 0, '', 'Communication Path', null, this.getTagsForStencil(gn, '', dt + 'communication path').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;verticalAlign=bottom;dashed=1;labelBackgroundColor=none;', 
					160, 0, '&lt;&lt;include&gt;&gt;', 'Include', null, this.getTagsForStencil(gn, '', dt + 'include').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;startArrow=open;endArrow=none;startSize=12;verticalAlign=bottom;dashed=1;labelBackgroundColor=none;', 
					160, 0, '&lt;&lt;extend&gt;&gt;', 'Extend', null, this.getTagsForStencil(gn, '', dt + 'extend').join(' ')),
		    
			this.addEntry(dt + 'extend condition', function()
			{
			   	var cardCell = new mxCell('Condition: {boolean expression}\nextension point: p1, p2', new mxGeometry(20, 0, 230, 40), 'shape=note;size=15;spacingLeft=5;align=left;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;extend&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'align=right;html=1;verticalAlign=bottom;rounded=0;labelBackgroundColor=none;endArrow=open;endSize=12;dashed=1;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(0, 80), false);
			   	edge1.geometry.setTerminalPoint(new mxPoint(160, 80), true);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'edgeStyle=none;html=1;endArrow=none;rounded=0;labelBackgroundColor=none;dashed=1;exitX=0.5;exitY=1;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(100, 80), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, edge1, edge2], 250, 80, 'Extend with Condition');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=block;endFill=0;endSize=12;verticalAlign=bottom;', 
					160, 0, '', 'Generalization', null, this.getTagsForStencil(gn, '', dt + 'generalization').join(' '))
		];
		
		this.addPalette('sysmlUse Cases', 'SysML / UseCases', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLAllocationsPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml allocation ';
		var sb = this;
		
		var fns = [
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;html=1;whiteSpace=wrap;align=center;', 120, 60, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    		'&lt;&lt;allocated&gt;&gt;<br/>' +
	    			'<b>Named<br/>Element</b></p>',
		    		'Allocated Stereotype', null, null, this.getTagsForStencil(gn, '', dt + 'allocated stereotype').join(' ')),

		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;strokeWidth=2;whiteSpace=wrap;align=center;', 200, 120, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>BlockName</b></p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>allocatedFrom</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">&lt;&lt;elementType&gt;&gt; ElementName</p><hr/>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>allocatedTo</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">&lt;&lt;elementType&gt;&gt; ElementName</p>',
		    		'Allocation derived properties (Block)', null, null, this.getTagsForStencil(gn, '', dt + 'derived property block').join(' ')),
		   	
			this.addEntry(dt + 'derived property comment', function()
			{
			   	var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:10px;margin-left:10px;text-align:left;">' +
		    			'<b>allocatedFrom</b><br/>' +
						'&lt;&lt;elementType&gt;&gt; ElementName<br/>' +
		    			'<b>allocatedTo</b><br/>' +
						'&lt;&lt;elementType&gt;&gt; ElementName</p>',
			   			new mxGeometry(40, 0, 230, 80), 'shape=note;html=1;size=15;spacingLeft=5;align=left;html=1;overflow=fill;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('ElementName', new mxGeometry(0, 100, 120, 40), 'shape=rect;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;html=1;labelBackgroundColor=none;endArrow=none;dashed=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 270, 140, 'Allocation derived properties (Comment)');
			}),
		    
			this.addEntry(dt + 'derived property internal block diagram', function()
			{
			   	var bg = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'&lt;&lt;block&gt;&gt;<br/>' +
						'<b>BlockName</b></p><hr/>',
			   			new mxGeometry(0, 0, 250, 160), 'shape=rect;html=1;overflow=fill;strokeWidth=2;whiteSpace=wrap;align=center;verticalAlign=top;strokeWidth=1;recursiveResize=0;');
			   	bg.vertex = true;
			   	var cardCell2 = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'<b>PartName</b><hr/></p>' +
						'<p style="font-size:10px;margin:0px;text-align:center;"><i>allocatedFrom</i></p>' +
						'<p style="margin:0px;margin-left:8px;text-align:left;">&lt;&lt;elementType&gt;&gt; ElementName</p>',
			   			new mxGeometry(20, 60, 210, 80), 'shape=rect;html=1;overflow=fill;strokeWidth=2;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	bg.insert(cardCell2);
			    
			   	return sb.createVertexTemplateFromCells([bg], 250, 160, 'Allocation derived properties (Internal Block Diagram)');
			}),
			    
		    this.createVertexTemplateEntry(s + 'simpleState;html=1;overflow=fill;whiteSpace=wrap;align=center;', 200, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>ActivityName</b><hr/></p>' +
					'<p style="font-size:10px;margin:0px;text-align:center;"><i>allocatedTo</i></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">&lt;&lt;elementType&gt;&gt; ElementName</p>',
		    		'Allocation Derived Properties (Activity Diagram)', null, null, this.getTagsForStencil(gn, '', dt + 'derived property activity diagram').join(' ')),
		   	
			this.addEntry(dt + 'activity partition', function()
			{
			   	var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
		    			'&lt;&lt;allocate&gt;&gt;<br/>:ElementName<hr/></p>',
			   			new mxGeometry(0, 0, 250, 160), 'shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;verticalAlign=top;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('ActionName', new mxGeometry(65, 70, 120, 60), s + 'cont;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2], 250, 160, 'Allocation Activity Partition');
			}),
			    
			this.addEntry(dt + 'general', function()
			{
			   	var cardCell = new mxCell('Client',	new mxGeometry(0, 0, 100, 60), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Supplier', new mxGeometry(200, 0, 100, 60), 'shape=rect;html=1;fontStyle=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;allocate&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'rounded=0;html=1;verticalAlign=top;labelBackgroundColor=none;endArrow=open;dashed=1;endSize=12;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 300, 60, 'Allocation (General)');
			})
		];
		
		this.addPalette('sysmlAllocations', 'SysML / Allocations', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLRequirementsPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml requirement ';
		var sb = this;
		
		var fns = [
			this.createVertexTemplateEntry(s + 'package;overflow=fill;labelX=110;strokeWidth=2;align=center;', 160, 80, 
		    		'<p style="margin:0px;margin-top:4px;margin-left:7px;text-align:left;"><b>req</b>  ReqDiagram</p>', 
		    		'Requirement Diagram', null, null, this.getTagsForStencil(gn, 'package', dt + 'diagram').join(' ')),

		    this.createVertexTemplateEntry('shape=rect;overflow=fill;html=1;whiteSpace=wrap;align=center;', 200, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;requirement&gt;&gt;<br/><b>Requirement Name</b><hr/></p>' +
					'<p style="margin:0px;margin-left:8px;text-align:left;">text="The system shall do"<br/>Id="62j32."</p>',
		    		'Requirement', null, null, this.getTagsForStencil(gn, 'package', dt + '').join(' ')),
		   	
		    this.createVertexTemplateEntry('shape=rect;overflow=fill;html=1;whiteSpace=wrap;align=center;', 200, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'&lt;&lt;testCase&gt;&gt;<br/><b>TestCaseName</b><hr/></p>',
		    		'Test Case', null, null, this.getTagsForStencil(gn, 'package', dt + 'test case').join(' ')),
		   	
			this.addEntry(dt + 'containment relationship', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;requirement&gt;&gt;\nParent',	new mxGeometry(90, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nChild1', new mxGeometry(0, 120, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell('&lt;&lt;requirement&gt;&gt;\nChild2', new mxGeometry(180, 120, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;html=1;labelBackgroundColor=none;endArrow=none;edgeStyle=elbowEdgeStyle;elbow=vertical;startArrow=sysMLPackCont;startSize=12;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;html=1;labelBackgroundColor=none;endArrow=none;edgeStyle=elbowEdgeStyle;elbow=vertical;startArrow=sysMLPackCont;startSize=12;');
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			   	cardCell3.insertEdge(edge2, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, cardCell3, edge1, edge2], 300, 180, 'Requirement Containment Relationship');
			}),
			    
			this.addEntry(dt + 'copy dependency', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;requirement&gt;&gt;\nSlave',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nMaster', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;copy&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;edgeStyle=none;endSize=12;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Copy Dependency');
			}),
			    
			this.addEntry(dt + 'master callout', function()
			{
			   	var cardCell = new mxCell('Master\n&lt;&lt;requirement&gt;&gt; Master',	new mxGeometry(0, 0, 160, 60), 'shape=note;html=1;size=15;align=left;spacingLeft=5;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt; Slave', new mxGeometry(200, 0, 160, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Master Callout');
			}),
			    
			this.addEntry(dt + 'derive dependency', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;requirement&gt;&gt;\nClient',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nSupplier', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;deriveReq&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;html=1;edgeStyle=none;endSize=12;dashed=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Derive Dependency');
			}),
			    
			this.addEntry(dt + 'derive callout', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqA',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Derived\n&lt;&lt;requirement&gt;&gt; ReqB', new mxGeometry(200, 0, 160, 60), 'shape=note;html=1;size=15;align=left;spacingLeft=5;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;dashed=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Derive Callout');
			}),
			    
			this.addEntry(dt + 'derive callout', function()
			{
			   	var cardCell = new mxCell('DerivedFrom\n&lt;&lt;requirement&gt;&gt; ReqA', new mxGeometry(0, 0, 160, 60), 'shape=note;html=1;size=15;align=left;spacingLeft=5;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqB',	new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Derive Callout');
			}),
			    
			this.addEntry(dt + 'satisfy dependency', function()
			{
			   	var cardCell = new mxCell('NamedElement', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nSupplier', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;satisfy&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;edgeStyle=none;endSize=12;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Satisfy Dependency');
			}),
			    
			this.addEntry(dt + 'satisfy callout', function()
			{
			   	var cardCell = new mxCell('NamedElement',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Satisfies\n&lt;&lt;requirement&gt;&gt; ReqA', new mxGeometry(200, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Satisfy Callout');
			}),
			    
			this.addEntry(dt + 'satisfy callout', function()
			{
			   	var cardCell = new mxCell('SatisfiedBy\nNamedElement', new mxGeometry(0, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqA',	new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Satisfy Callout');
			}),
			    
			this.addEntry(dt + 'verify dependency', function()
			{
			   	var cardCell = new mxCell('NamedElement', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nSupplier', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;verify&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;edgeStyle=none;endSize=12;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Verify Dependency');
			}),
			    
			this.addEntry(dt + 'verify callout', function()
			{
			   	var cardCell = new mxCell('NamedElement',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Verifies\n&lt;&lt;requirement&gt;&gt; ReqA', new mxGeometry(200, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Verify Callout');
			}),
			    
			this.addEntry(dt + 'verify callout', function()
			{
			   	var cardCell = new mxCell('VerifiedBy\nNamedElement', new mxGeometry(0, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqA',	new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Verify Callout');
			}),
			    
			this.addEntry(dt + 'refine dependency', function()
			{
			   	var cardCell = new mxCell('NamedElement', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nClient', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;refine&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;edgeStyle=none;endSize=12;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Refine Dependency');
			}),
		    
			this.addEntry(dt + 'refine dependency', function()
			{
			   	var cardCell = new mxCell('NamedElement',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Refines\n&lt;&lt;requirement&gt;&gt; ReqA', new mxGeometry(200, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Refine Callout');
			}),
			    
			this.addEntry(dt + 'refine dependency', function()
			{
			   	var cardCell = new mxCell('RefinedBy\nNamedElement', new mxGeometry(0, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqA',	new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Refine Callout');
			}),
		    
			this.addEntry(dt + 'trace dependency', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;requirement&gt;&gt;\nClient', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nSupplier', new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('&lt;&lt;trace&gt;&gt;', new mxGeometry(0, 0, 0, 0), 'endArrow=open;edgeStyle=none;endSize=12;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Trace Dependency');
			}),
			    
			this.addEntry(dt + 'refine callout', function()
			{
			   	var cardCell = new mxCell('NamedElement',	new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('TracedFrom\n&lt;&lt;requirement&gt;&gt; ReqA', new mxGeometry(200, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Refine Callout');
			}),
			    
			this.addEntry(dt + 'trace callout', function()
			{
			   	var cardCell = new mxCell('TracedTo\nNamedElement', new mxGeometry(0, 0, 160, 60), 'shape=note;size=15;align=left;spacingLeft=5;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;requirement&gt;&gt;\nReqA',	new mxGeometry(240, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=none;edgeStyle=none;dashed=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 360, 60, 'Trace Callout');
			})
		];
		   	
		this.addPalette('sysmlRequirements', 'SysML / Requirements', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLProfilesPalette = function(expand)
	{
		var s = 'shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml profile ';
		var sb = this;
		
		var fns = [
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		160, 80, '&lt;&lt;stereotype&gt;&gt;\nStereotypeName', 'Stereotype', null, null, this.getTagsForStencil(gn, '', dt + 'stereotype').join(' ')),
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 
		    		160, 80, '&lt;&lt;metaclass&gt;&gt;\nMetaClassName', 'Metaclass', null, null, this.getTagsForStencil(gn, '', dt + 'metaclass').join(' ')),
		    this.createVertexTemplateEntry('shape=folder;tabWidth=80;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;align=center;', 
		    		160, 100, '&lt;&lt;profile&gt;&gt;\nProfileName', 'Profile', null, null, this.getTagsForStencil(gn, '', dt + 'profile').join(' ')),
		    this.createVertexTemplateEntry('shape=folder;tabWidth=80;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;align=center;', 
		    		160, 100, '&lt;&lt;modelLibrary&gt;&gt;\nLibraryName', 'Model Library', null, null, this.getTagsForStencil(gn, '', dt + 'model library').join(' ')),
		   	
			this.addEntry(dt + 'extension', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;metaclass&gt;&gt;\nMetaClassName', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;stereotype&gt;&gt;\nStereotypeName', new mxGeometry(0, 120, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('{required}', new mxGeometry(0, 0, 0, 0), 'endArrow=block;html=1;endFill=1;edgeStyle=none;endSize=12;labelBackgroundColor=none;align=left;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, false);
			   	cardCell2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 120, 180, 'Extension');
			}),
		    
			this.addEntry(dt + 'generalization', function()
			{
			   	var cardCell = new mxCell('&lt;&lt;stereotype&gt;&gt;\nStereotypeName', new mxGeometry(0, 0, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('&lt;&lt;stereotype&gt;&gt;\nStereotypeName', new mxGeometry(0, 120, 120, 60), 'shape=rect;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'endArrow=block;html=1;endFill=0;edgeStyle=none;endSize=12;labelBackgroundColor=none;align=left;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, false);
			   	cardCell2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 120, 180, 'Generalization');
			}),
			    
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=bottom;', 
					160, 0, '&lt;&lt;apply&gt;&gt;{strict}', 'Profile Application', null, this.getTagsForStencil(gn, '', dt + 'profile application').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;dashed=1;verticalAlign=top;', 
					160, 0, '&lt;&lt;reference&gt;&gt;', 'Metamodel Reference', null, this.getTagsForStencil(gn, '', dt + 'metamodel reference').join(' ')),
			this.createEdgeTemplateEntry('edgeStyle=none;html=1;endArrow=open;endSize=12;verticalAlign=bottom;', 
					160, 0, 'propertyName', 'Unidirectional Association', null, this.getTagsForStencil(gn, '', dt + 'unidirectional association').join(' '))
		];
		
		this.addPalette('sysmlProfiles', 'SysML / Profiles', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

	Sidebar.prototype.addSysMLStereotypesPalette = function(expand)
	{
		var s = 'html=1;shape=mxgraph.sysml.';
		var gn = '';
		var dt = 'sysml stereotype ';
		var sb = this;
		
		var fns = [
			this.addEntry(dt + 'note', function()
			{
				var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:10px;margin-left:10px;text-align:left;">' +
		    			'<b>&lt;&lt;stereotypeName&gt;&gt;<br/>' +
						'PropertyName=ValueString<br/>' +
		    			'MultiPropertyName=ValueString, ValueString<br/>' +
						'BooleanPropertyName</b></p>',
			   			new mxGeometry(40, 0, 280, 80), 'shape=note;size=15;spacingLeft=5;html=1;overflow=fill;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Element\nName', new mxGeometry(0, 110, 80, 40), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var cardCell3 = new mxCell('Element\nName', new mxGeometry(220, 110, 80, 40), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
			   	cardCell3.vertex = true;
			   	var edge1 = new mxCell('PathName', new mxGeometry(0, 0, 0, 0), 'rounded=0;labelBackgroundColor=none;verticalAlign=top;endArrow=none;fontStyle=1;html=1;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell2.insertEdge(edge1, true);
			   	cardCell3.insertEdge(edge1, false);
			   	var edge2 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;endArrow=none;dashed=1;html=1;');
			   	edge2.geometry.setTerminalPoint(new mxPoint(150, 130), false);
			   	edge2.geometry.relative = true;
			   	edge2.edge = true;
			   	cardCell.insertEdge(edge2, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, cardCell3, edge1, edge2], 320, 150, 'Stereotype Note');
			}),
			    
			this.addEntry(dt + 'note', function()
			{
				var cardCell = new mxCell(
			    		'<p style="margin:0px;margin-top:10px;margin-left:10px;text-align:left;">' +
		    			'<b>&lt;&lt;stereotypeName&gt;&gt;<br/>' +
						'PropertyName=ValueString<br/>' +
		    			'MultiPropertyName=ValueString, ValueString<br/>' +
						'BooleanPropertyName</b></p>',
			   			new mxGeometry(40, 0, 280, 80), 'shape=note;size=15;spacingLeft=5;html=1;overflow=fill;whiteSpace=wrap;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Element\nName', new mxGeometry(0, 110, 80, 40), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell('', new mxGeometry(0, 0, 0, 0), 'rounded=0;endArrow=none;dashed=1;html=1;');
			   	edge1.geometry.setTerminalPoint(new mxPoint(150, 130), false);
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, true);
			   	cardCell2.insertEdge(edge1, false);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 320, 150, 'Stereotype Note');
			}),
			    
		    this.createVertexTemplateEntry('shape=rect;html=1;whiteSpace=wrap;align=center;', 160, 80, 
		    		'&lt;&lt;stereotypeName&gt;&gt;\n{PropertyName=ValueString;\nBooleanPropertyName}\nNodeName', 
		    		'Stereotype (Node)', null, null, this.getTagsForStencil(gn, '', dt + 'node').join(' ')),
		   	
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 400, 100, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>NodeName</b><hr/></p>' + 
		    		'<p style="margin:0px;margin-left:10px;text-align:left;">' +
	    			'&lt;&lt;stereotypeName&gt;&gt;{PropertyName=ValueString}ElementName<br/>' + 
	    			'&lt;&lt;stereotypeName&gt;&gt;{PropertyName=ValueString};<br/>' + 
	    			'BooleanPropertyName<br/>' + 
	    			'ElementName</p>',
		    		'Stereotype (Compartment)', null, null, this.getTagsForStencil(gn, '', dt + 'compartment').join(' ')),
		   	
			this.addEntry(dt + 'edge', function()
			{
			   	var cardCell = new mxCell('Element\nName', new mxGeometry(0, 0, 120, 60), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
			   	cardCell.vertex = true;
			   	var cardCell2 = new mxCell('Element\nName', new mxGeometry(0, 120, 120, 60), 'shape=rect;fontStyle=1;html=1;whiteSpace=wrap;align=center;');
			   	cardCell2.vertex = true;
			   	var edge1 = new mxCell(
			   			'&lt;&lt;steretyoeName&gt;&gt;\n{PropertyName=ValueString;\nBooleanPropertyName}PathName', 
			   			new mxGeometry(0, 0, 0, 0), 'endArrow=none;html=1;edgeStyle=none;labelBackgroundColor=none;align=left;fontStyle=1;fontSize=10;');
			   	edge1.geometry.relative = true;
			   	edge1.edge = true;
			   	cardCell.insertEdge(edge1, false);
			   	cardCell2.insertEdge(edge1, true);
			    
			   	return sb.createVertexTemplateFromCells([cardCell, cardCell2, edge1], 200, 180, 'Stereotype (Edge)');
			}),
			    
		    this.createVertexTemplateEntry('shape=rect;html=1;overflow=fill;whiteSpace=wrap;align=center;', 300, 120, 
		    		'<p style="margin:0px;margin-top:4px;text-align:center;">' +
	    			'<b>&lt;&lt;stereotypeName&gt;&gt;</br>NodeName</b><hr/></p>' + 
		    		'<p style="margin:0px;margin-left:10px;text-align:left;">' +
	    			'&lt;&lt;stereotypeName&gt;&gt;<br/>PropertyName=ValueString<br/>' + 
	    			'MultiPropertyName=ValueString, ValueString<br/>' + 
	    			'BooleanPropertyName<br/></p>', 
		    		'Stereotype (Compartment)', null, null, this.getTagsForStencil(gn, '', dt + 'compartment').join(' '))
		];
		
		this.addPalette('sysmlStereotypes', 'SysML / Stereotypes', expand || false, mxUtils.bind(this, function(content)
		{
			for (var i = 0; i < fns.length; i++)
			{
				content.appendChild(fns[i](content));
			}
		}));
	};

})();

(function()
{
	// Adds mockup shapes
	Sidebar.prototype.addVeeamPalette = function()
	{
		this.addVeeam2DPalette();
		this.addVeeam3DPalette();
	};
	
	Sidebar.prototype.addVeeam2DPalette = function()
	{
		var sn = 'shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.2d.';
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.2d.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#EF8F21;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.2d.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.veeam.2d';
		var dt = 'veeam 2d two dimension vmware virtual machine ';
		
		var w = 2.0;
		var h = 2.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(s + '1ftvm;',
					w * 35, h * 35, '', '1FTVM', null, null, this.getTagsForStencil(gn, '1ftvm', dt).join(' ')),
			this.createVertexTemplateEntry(s + '1ftvm_error;',
					w * 35, h * 39, '', '1FTVM Error', null, null, this.getTagsForStencil(gn, '1ftvm error', dt).join(' ')),
			this.createVertexTemplateEntry(s + '1ftvm_running;',
					w * 35, h * 39, '', '1FTVM Running', null, null, this.getTagsForStencil(gn, '1frvm running', dt).join(' ')),
			this.createVertexTemplateEntry(s + '1ftvm_unavailable;',
					w * 35, h * 39, '', '1FTVM Unavailable', null, null, this.getTagsForStencil(gn, '1ftvm unavailable', dt).join(' ')),
			this.createVertexTemplateEntry(s + '1ftvm_warning;',
					w * 35, h * 39, '', '1FTVM Warning', null, null, this.getTagsForStencil(gn, '1ftvm warning', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + '1_click_failover_orchestration;',
					w * 22, h * 22, '', '1 Click Failover Orchestration', null, null, this.getTagsForStencil(gn, 'one click failover orchestration', dt).join(' ')),
			this.createVertexTemplateEntry(s + '2ftvm;',
					w * 35, h * 35, '', '2FTVM', null, null, this.getTagsForStencil(gn, '2ftvm', dt).join(' ')),
			this.createVertexTemplateEntry(s + '2ftvm_error;',
					w * 35, h * 39, '', '2FTVM Error', null, null, this.getTagsForStencil(gn, '2ftvm error', dt).join(' ')),
			this.createVertexTemplateEntry(s + '2ftvm_running;',
					w * 35, h * 39, '', '2FTVM Running', null, null, this.getTagsForStencil(gn, '2ftvm running', dt).join(' ')),
			this.createVertexTemplateEntry(s + '2ftvm_unavailable;',
					w * 35, h * 39, '', '2FTVM Unavailable', null, null, this.getTagsForStencil(gn, '2ftvm unavailable', dt).join(' ')),
			this.createVertexTemplateEntry(s + '2ftvm_warning;',
					w * 35, h * 39, '', '2FTVM Warning', null, null, this.getTagsForStencil(gn, '2ftvm warning', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'agent;',
					w * 19, h * 19, '', 'Agent', null, null, this.getTagsForStencil(gn, 'agent', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'alarm;',
					w * 31, h * 23, '', 'Alarm', null, null, this.getTagsForStencil(gn, 'alarm', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'alert;',
					w * 15, h * 15, '', 'Alert', null, null, this.getTagsForStencil(gn, 'alert', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'assisted_failover_and_failback;',
					w * 23, h * 23, '', 'Assisted Failover and Failback', null, null, this.getTagsForStencil(gn, 'assisted failover and failback', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_browser;',
					w * 23, h * 23, '', 'Backup Browser', null, null, this.getTagsForStencil(gn, 'backup browser', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'backup_from_storage_snapshots;',
					w * 23, h * 23, '', 'Backup from Storage Snapshots', null, null, this.getTagsForStencil(gn, 'backup from storage snapshots', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_repository;',
					w * 26, h * 24, '', 'Backup Repository', null, null, this.getTagsForStencil(gn, 'backup repository', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'backup_repository_2;',
					w * 29, h * 25, '', 'Backup Repository', null, null, this.getTagsForStencil(gn, 'backup repository', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'built_in_wan_acceleration;',
					w * 23, h * 23, '', 'Built-in WAN Acceleration', null, null, this.getTagsForStencil(gn, 'built in wan acceleration wireless area network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cd;',
					w * 23, h * 23, '', 'CD', null, null, this.getTagsForStencil(gn, 'cd compact disc', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud;',
					w * 33, h * 23, '', 'Cloud', null, null, this.getTagsForStencil(gn, 'cloud', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'cloud_gateway;',
					w * 23, h * 23, '', 'Cloud Gateway', null, null, this.getTagsForStencil(gn, 'cloud gateway', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'database;',
					w * 29, h * 25, '', 'Database', null, null, this.getTagsForStencil(gn, 'database db', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'datastore;',
					w * 22, h * 22, '', 'Datastore', null, null, this.getTagsForStencil(gn, 'datastore', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'datastore_snapshot;',
					w * 23, h * 6, '', 'Datastore Snapshot', null, null, this.getTagsForStencil(gn, 'datastore snapshot', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'datastore_volume;',
					w * 23, h * 6, '', 'Datastore Volume', null, null, this.getTagsForStencil(gn, 'datastore volume', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'data_mover;',
					w * 19, h * 19, '', 'Data Mover', null, null, this.getTagsForStencil(gn, 'data mover', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'disaster_recovery;',
					w * 23, h * 23, '', 'Disaster Recovery', null, null, this.getTagsForStencil(gn, 'disaster recovery', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'download;',
					w * 23, h * 23, '', 'Download', null, null, this.getTagsForStencil(gn, 'download', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'emc_data_domain_boost;',
					w * 23, h * 23, '', 'EMC Data Domain Boost', null, null, this.getTagsForStencil(gn, 'emc data domain boost', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'encryption_object;',
					w * 23, h * 23, '', 'Encryption Object', null, null, this.getTagsForStencil(gn, 'encryption object', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'end_to_end_encryption;',
					w * 23, h * 23, '', 'End to end Encryption', null, null, this.getTagsForStencil(gn, 'end to end encryption', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'esx_esxi;',
					w * 15, h * 23, '', 'ESX/ESXi', null, null, this.getTagsForStencil(gn, 'esx esxi', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'exagrid;',
					w * 23, h * 23, '', 'ExaGrid', null, null, this.getTagsForStencil(gn, 'exagrid', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'failover_protective_snapshot;',
					w * 23, h * 23, '', 'Failover Protective Snapshot', null, null, this.getTagsForStencil(gn, 'failover protective snapshot', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'failover_protective_snapshot_locked;',
					w * 27, h * 25, '', 'Failover Protective Snapshot Locked', null, null, this.getTagsForStencil(gn, 'failover protective snapshot locked', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'failover_protective_snapshot_running;',
					w * 28, h * 25, '', 'Failover Protective Snapshot Running', null, null, this.getTagsForStencil(gn, 'failover protective snapshot running', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file;',
					w * 17, h * 23, '', 'File', null, null, this.getTagsForStencil(gn, 'file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'file_system_browser;',
					w * 23, h * 23, '', 'File System Browser', null, null, this.getTagsForStencil(gn, 'file system browser', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'folder;',
					w * 24, h * 23, '', 'Folder', null, null, this.getTagsForStencil(gn, 'folder', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'forward_incremental_backup_increment;fillColor=#999A98;',
					w * 17, h * 12, '', 'Forward Incremental Backup - Increment (grey)', null, null, this.getTagsForStencil(gn, 'forward incremental backup increment', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'forward_incremental_backup_increment;',
					w * 17, h * 12, '', 'Forward Incremental Backup - Increment (blue)', null, null, this.getTagsForStencil(gn, 'forward incremental backup increment', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'free_datastore;',
					w * 23, h * 23, '', 'Free Datastore', null, null, this.getTagsForStencil(gn, 'free datastore', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'full_datastore;',
					w * 23, h * 23, '', 'Full Datastore', null, null, this.getTagsForStencil(gn, 'full datastore', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'full_veeam_backup;fillColor=#999A98;',
					w * 13, h * 21, '', 'Full Veeam Backup (grey)', null, null, this.getTagsForStencil(gn, 'full veeam backup', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'full_veeam_backup;fillColor=#24B14B;',
					w * 13, h * 21, '', 'Full Veeam Backup (green)', null, null, this.getTagsForStencil(gn, 'full veeam backup', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'full_veeam_backup;fillColor=#EF8F21;',
					w * 13, h * 21, '', 'Full Veeam Backup (orange)', null, null, this.getTagsForStencil(gn, 'full veeam backup', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'full_veeam_backup;fillColor=#FBB715;',
					w * 13, h * 21, '', 'Full Veeam Backup (yellow)', null, null, this.getTagsForStencil(gn, 'full veeam backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'group;',
					w * 20, h * 23, '', 'Group', null, null, this.getTagsForStencil(gn, 'group', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hard_drive;',
					w * 19, h * 23, '', 'Hard Drive', null, null, this.getTagsForStencil(gn, 'hard drive', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'hp_storeonce;',
					w * 23, h * 23, '', 'HP StoreOnce', null, null, this.getTagsForStencil(gn, 'hp storeonce', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hyper_v_host;',
					w * 62, h * 60, '', 'Hyper-V Host', null, null, this.getTagsForStencil(gn, 'hyper host', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'hyper_v_vmware_host;',
					w * 62, h * 60, '', 'VMware/Hyper-V Host', null, null, this.getTagsForStencil(gn, 'hyper vmware host', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'letter;',
					w * 23, h * 18, '', 'Letter', null, null, this.getTagsForStencil(gn, 'letter', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'license;',
					w * 23, h * 23, '', 'License', null, null, this.getTagsForStencil(gn, 'license', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lost_space;',
					w * 23, h * 23, '', 'Lost Space', null, null, this.getTagsForStencil(gn, 'lost space', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'lun;',
					w * 29, h * 11, '', 'LUN', null, null, this.getTagsForStencil(gn, 'lun', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'medium_datastore;',
					w * 23, h * 23, '', 'Medium Datastore', null, null, this.getTagsForStencil(gn, 'medium datastore', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'monitoring_console;',
					w * 23, h * 23, '', 'Monitoring Console', null, null, this.getTagsForStencil(gn, 'monitoring console', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'native_tape_support;',
					w * 23, h * 23, '', 'Native Tape Support', null, null, this.getTagsForStencil(gn, 'native tape support', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'network_card;',
					w * 23, h * 16, '', 'Network Card', null, null, this.getTagsForStencil(gn, 'network card', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'on_demand_sandbox;',
					w * 23, h * 23, '', 'On Demand Sandbox', null, null, this.getTagsForStencil(gn, 'on demand sandbox', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'physical_storage;',
					w * 38, h * 13, '', 'Physical Storage', null, null, this.getTagsForStencil(gn, 'physical storage', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'powershell_extension;',
					w * 23, h * 23, '', 'PowerShell Extension', null, null, this.getTagsForStencil(gn, 'powershell extension', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'private_key;',
					w * 28, h * 26, '', 'Private Key', null, null, this.getTagsForStencil(gn, 'private key', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'privilege;',
					w * 25, h * 24, '', 'Privilege', null, null, this.getTagsForStencil(gn, 'privilege', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'proxy;',
					w * 23, h * 23, '', 'Proxy', null, null, this.getTagsForStencil(gn, 'proxy', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'proxy_appliance;',
					w * 23, h * 23, '', 'Proxy Appliance', null, null, this.getTagsForStencil(gn, 'proxy appliance', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'quick_migration;',
					w * 23, h * 23, '', 'Quick Migration', null, null, this.getTagsForStencil(gn, 'quick migration', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_site;',
					w * 21, h * 22, '', 'Remote Site', null, null, this.getTagsForStencil(gn, 'remote site', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'remote_storage;',
					w * 23, h * 23, '', 'Remote Storage', null, null, this.getTagsForStencil(gn, 'remote storage', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'replication_from_a_backup;',
					w * 23, h * 23, '', 'Replication from a Backup', null, null, this.getTagsForStencil(gn, 'replication from a backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'report;',
					w * 17, h * 23, '', 'Report', null, null, this.getTagsForStencil(gn, 'report', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'resource_pool;',
					w * 23, h * 23, '', 'Resource Pool', null, null, this.getTagsForStencil(gn, 'resource pool', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'restful_apis;',
					w * 23, h * 23, '', 'RESTful APIs', null, null, this.getTagsForStencil(gn, 'restful apis api', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'restore_data_from_the_vm_backup;',
					w * 23, h * 23, '', 'Restore Data from the VM Backup', null, null, this.getTagsForStencil(gn, 'restore data from the vm backup', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'reversed_incremental_backup_increment;fillColor=#999A98;',
					w * 17, h * 12, '', 'Reversed Incremental Backup - Increment (grey)', null, null, this.getTagsForStencil(gn, 'reversed incremental backup increment', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'reversed_incremental_backup_increment;fillColor=#6E5CA7;',
					w * 17, h * 12, '', 'Reversed Incremental Backup - Increment (purple)', null, null, this.getTagsForStencil(gn, 'reversed incremental backup increment', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'role;',
					w * 17, h * 23, '', 'Role', null, null, this.getTagsForStencil(gn, 'role', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'scheduled_backups;',
					w * 23, h * 23, '', 'Scheduled Backups', null, null, this.getTagsForStencil(gn, 'Scheduled Backups', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'search;',
					w * 23, h * 23, '', 'Search', null, null, this.getTagsForStencil(gn, 'search', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'self_service_recovery;',
					w * 23, h * 23, '', 'Self-Service Recovery', null, null, this.getTagsForStencil(gn, 'self service recovery', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service;',
					w * 23, h * 23, '', 'Service', null, null, this.getTagsForStencil(gn, 'service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_console;',
					w * 23, h * 23, '', 'Service Console', null, null, this.getTagsForStencil(gn, 'service console', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'service_vnic;',
					w * 30, h * 27, '', 'Service vNIC', null, null, this.getTagsForStencil(gn, 'service vnic', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sure_backup;',
					w * 23, h * 23, '', 'SureBackup', null, null, this.getTagsForStencil(gn, 'sure backup', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'sure_replica;',
					w * 23, h * 23, '', 'SureReplica', null, null, this.getTagsForStencil(gn, 'sure replica', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'switch;',
					w * 37, h * 6, '', 'Switch', null, null, this.getTagsForStencil(gn, 'switch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape;',
					w * 30, h * 16, '', 'Tape', null, null, this.getTagsForStencil(gn, 'tape', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_checked;',
					w * 35, h * 21, '', 'Tape Checked', null, null, this.getTagsForStencil(gn, 'tape checked', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_device;',
					w * 26, h * 26, '', 'Tape Device', null, null, this.getTagsForStencil(gn, 'tape device', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_ejecting;',
					w * 35, h * 21, '', 'Tape Ejecting', null, null, this.getTagsForStencil(gn, 'tape ejecting', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_library;',
					w * 20, h * 23, '', 'Tape Library', null, null, this.getTagsForStencil(gn, 'tape library', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_licensed;',
					w * 34, h * 19, '', 'Tape Licensed', null, null, this.getTagsForStencil(gn, 'tape licensed', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_recording;',
					w * 35, h * 21, '', 'Tape Recording', null, null, this.getTagsForStencil(gn, 'tape recording', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'tape_server;',
					w * 37, h * 36, '', 'Tape Server', null, null, this.getTagsForStencil(gn, 'tape server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'transport_service;',
					w * 19, h * 19, '', 'Transport Service', null, null, this.getTagsForStencil(gn, 'transport service', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'user;',
					w * 13, h * 23, '', 'User', null, null, this.getTagsForStencil(gn, 'user', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'u_air;',
					w * 23, h * 23, '', 'U-AIR', null, null, this.getTagsForStencil(gn, 'air', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vapp;',
					w * 24, h * 24, '', 'vApp', null, null, this.getTagsForStencil(gn, 'vapp', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vapp_started;',
					w * 30, h * 27, '', 'vApp Started', null, null, this.getTagsForStencil(gn, 'vapp started', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeamzip;',
					w * 23, h * 23, '', 'VeeamZIP', null, null, this.getTagsForStencil(gn, 'veeamzip zip', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_availability_suite;',
					w * 23, h * 23, '', 'Veeam Availability Suite', null, null, this.getTagsForStencil(gn, 'availability suite', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'veeam_backup_and_replication_server;',
					w * 37, h * 36, '', 'Veeam Backup and Replication Server', null, null, this.getTagsForStencil(gn, 'backup and replication server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'veeam_backup_enterprise_manager_server;',
					w * 37, h * 36, '', 'Veeam Backup Enterprise Manager Server', null, null, this.getTagsForStencil(gn, 'backup enterprise manager server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'veeam_backup_search_server;',
					w * 37, h * 36, '', 'Veeam Backup Search Server', null, null, this.getTagsForStencil(gn, 'backup search server', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'veeam_backup_shell;',
					w * 23, h * 23, '', 'Veeam Backup Shell', null, null, this.getTagsForStencil(gn, 'backup shell', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_cloud_connect;',
					w * 23, h * 23, '', 'Veeam Cloud Connect', null, null, this.getTagsForStencil(gn, 'cloud connect', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_explorer;',
					w * 23, h * 23, '', 'Veeam Explorer', null, null, this.getTagsForStencil(gn, 'explorer', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_explorer_for_active_directory;',
					w * 23, h * 23, '', 'Veeam Explorer for Active Directory', null, null, this.getTagsForStencil(gn, 'explorer for active directory', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_explorer_for_exchange;',
					w * 23, h * 23, '', 'Veeam Explorer for Exchange', null, null, this.getTagsForStencil(gn, 'explorer for exchange', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_explorer_for_sharepoint;',
					w * 23, h * 23, '', 'Veeam Explorer for SharePoint', null, null, this.getTagsForStencil(gn, 'explorer for sharepoint', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_explorer_for_sql;',
					w * 23, h * 23, '', 'Veeam Explorer for SQL', null, null, this.getTagsForStencil(gn, 'explorer for sql', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_logo;fillColor=#232020;',
					w * 72, h * 19, '', 'Veeam Logo', null, null, this.getTagsForStencil(gn, 'logo', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_one_business_view;',
					w * 23, h * 23, '', 'Veeam ONE Business View', null, null, this.getTagsForStencil(gn, 'one business view', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_one_monitor;',
					w * 23, h * 23, '', 'Veeam ONE Monitor', null, null, this.getTagsForStencil(gn, 'one monitor', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_one_reporter;',
					w * 23, h * 23, '', 'Veeam ONE Reporter', null, null, this.getTagsForStencil(gn, 'one reporter', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'veeam_one_server;',
					w * 23, h * 23, '', 'Veeam ONE Server', null, null, this.getTagsForStencil(gn, 'one server', dt).join(' ')),
			this.createVertexTemplateEntry(s2 + 'virtual_lab;',
					w * 23, h * 23, '', 'Virtual Lab', null, null, this.getTagsForStencil(gn, 'virtual lab', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_machine;',
					w * 23, h * 23, '', 'Virtual Machine', null, null, this.getTagsForStencil(gn, '', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'virtual_switch;',
					w * 23, h * 23, '', 'Virtual Switch', null, null, this.getTagsForStencil(gn, 'switch', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vmware_host;',
					w * 62, h * 60, '', 'VMware Host', null, null, this.getTagsForStencil(gn, 'vmware host', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_backup;',
					w * 25, h * 23, '', 'VM Backup', null, null, this.getTagsForStencil(gn, 'vm backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_failed;',
					w * 28, h * 27, '', 'VM Failed', null, null, this.getTagsForStencil(gn, 'vm failed', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_image_full_backup;',
					w * 19, h * 26, '', 'VM Image Full Backup', null, null, this.getTagsForStencil(gn, 'vm image full backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_image_incremental_backup;',
					w * 19, h * 26, '', 'VM Image Incremental Backup', null, null, this.getTagsForStencil(gn, 'vm image incremental backup', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_linux;',
					w * 23, h * 42, '', 'VM Linux', null, null, this.getTagsForStencil(gn, 'vm linux', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_locked;',
					w * 28, h * 26, '', 'VM Locked', null, null, this.getTagsForStencil(gn, 'vm locked', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_no_network;',
					w * 27, h * 26, '', 'VM No Network', null, null, this.getTagsForStencil(gn, 'vm no network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_problem;',
					w * 28, h * 26, '', 'VM Problem', null, null, this.getTagsForStencil(gn, 'vm problem', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_running;',
					w * 28, h * 27, '', 'VM Running', null, null, this.getTagsForStencil(gn, 'vm running', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_saved_state;',
					w * 28, h * 27, '', 'VM Saved State', null, null, this.getTagsForStencil(gn, 'vm saved state', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vm_windows;',
					w * 23, h * 42, '', 'VM Windows', null, null, this.getTagsForStencil(gn, 'vm windows', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vnic;',
					w * 23, h * 23, '', 'vNIC', null, null, this.getTagsForStencil(gn, 'vnic', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'vsb_file;',
					w * 17, h * 23, '', '.vsb File', null, null, this.getTagsForStencil(gn, 'vsb file', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'wan_accelerator;',
					w * 23, h * 23, '', 'WAN Accelerator', null, null, this.getTagsForStencil(gn, 'wan accelerator wireless area network', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_console;',
					w * 23, h * 23, '', 'Web Console', null, null, this.getTagsForStencil(gn, 'web console', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'web_ui;',
					w * 23, h * 23, '', 'Web UI', null, null, this.getTagsForStencil(gn, 'web ui user interface', dt).join(' ')),
			this.createVertexTemplateEntry(s + 'workstation;',
					w * 34, h * 23, '', 'Workstation', null, null, this.getTagsForStencil(gn, 'workstation', dt).join(' '))
		];
			
		this.addPalette('veeam2D', 'Veeam / 2D', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	Sidebar.prototype.addVeeam3DPalette = function()
	{
		var sn = 'shadow=0;dashed=0;html=1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.3d.';
		var s = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.3d.';
		var s2 = 'shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#EF8F21;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.veeam.3d.';

		// Space savers
		var sb = this;
		var gn = 'mxgraph.veeam.3d';
		var dt = 'veeam 3d three dimension vmware virtual machine ';
		
		var w = 2.0;
		var h = 2.0;
		
		var fns =
		[
			this.createVertexTemplateEntry(sn + '1ftvm;',
					w * 34, h * 31, '', '1FTVM', null, null, this.getTagsForStencil(gn, '1ftvm', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '1ftvm_error;',
					w * 34, h * 31, '', '1FTVM Error', null, null, this.getTagsForStencil(gn, '1ftvm error', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '1ftvm_running;',
					w * 34, h * 31, '', '1FTVM Running', null, null, this.getTagsForStencil(gn, '1ftvm running', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '1ftvm_unavailable;',
					w * 34, h * 31, '', '1FTVM Unavailable', null, null, this.getTagsForStencil(gn, '1ftvm unavailable', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '1ftvm_warning;',
					w * 34, h * 31, '', '1FTVM Warning', null, null, this.getTagsForStencil(gn, '1ftvm warning', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '2ftvm;',
					w * 34, h * 31, '', '2FTVM', null, null, this.getTagsForStencil(gn, '2ftvm', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '2ftvm_error;',
					w * 34, h * 31, '', '2FTVM Error', null, null, this.getTagsForStencil(gn, '2ftvm error', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '2ftvm_running;',
					w * 34, h * 31, '', '2FTVM Running', null, null, this.getTagsForStencil(gn, '2ftvm running', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '2ftvm_unavailable;',
					w * 34, h * 31, '', '2FTVM Unavailable', null, null, this.getTagsForStencil(gn, '2ftvm unavailable', dt).join(' ')),
			this.createVertexTemplateEntry(sn + '2ftvm_warning;',
					w * 34, h * 31, '', '2FTVM Warning', null, null, this.getTagsForStencil(gn, '2ftvm warning', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'backup_repository;',
					w * 31, h * 31, '', 'Backup Repository', null, null, this.getTagsForStencil(gn, 'backup repository', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'backup_repository_2;',
					w * 31, h * 31, '', 'Backup Repository', null, null, this.getTagsForStencil(gn, 'backup repository', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'cd;',
					w * 34, h * 13, '', 'CD', null, null, this.getTagsForStencil(gn, 'cd', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'database;',
					w * 29, h * 31, '', 'Database', null, null, this.getTagsForStencil(gn, 'database', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'datastore;',
					w * 22, h * 30, '', 'Datastore', null, null, this.getTagsForStencil(gn, 'datastore', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'datastore_snapshot;',
					w * 27, h * 17, '', 'Datastore Snapshot', null, null, this.getTagsForStencil(gn, 'datastore snapshot', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'datastore_volume;',
					w * 27, h * 17, '', 'Datastore Volume', null, null, this.getTagsForStencil(gn, 'datastore volume', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'esx_esxi;',
					w * 19, h * 26, '', 'ESX ESXi', null, null, this.getTagsForStencil(gn, 'esx esxi', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'failover_protective_snapshot;',
					w * 23, h * 23, '', 'Failover Protective Snapshot', null, null, this.getTagsForStencil(gn, 'failover protective snapshot', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'failover_protective_snapshot_locked;',
					w * 28, h * 23, '', 'Failover Protective Snapshot Locked', null, null, this.getTagsForStencil(gn, 'failover protective snapshot locked', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'failover_protective_snapshot_running;',
					w * 29, h * 23, '', 'Failover Protective Snapshot Running', null, null, this.getTagsForStencil(gn, 'failover protective snapshot running', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'free_datastore;',
					w * 22, h * 30, '', 'Free Datastore', null, null, this.getTagsForStencil(gn, 'free datastore', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'full_datastore;',
					w * 22, h * 30, '', 'Full Datastore', null, null, this.getTagsForStencil(gn, 'full datastore', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'hard_drive;fillColor=#637D8A;gradientColor=#324752;strokeColor=none;',
					w * 31, h * 14, '', 'Hard Drive', null, null, this.getTagsForStencil(gn, 'hard drive', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'hyper_v_host;',
					w * 55, h * 49, '', 'Hyper-V Host', null, null, this.getTagsForStencil(gn, 'hyper-v host', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'lost_space;',
					w * 22, h * 30, '', 'Lost Space', null, null, this.getTagsForStencil(gn, 'lost space', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'lun;',
					w * 36, h * 20, '', 'LUN', null, null, this.getTagsForStencil(gn, 'lun', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'medium_datastore;',
					w * 22, h * 30, '', 'Medium Datastore', null, null, this.getTagsForStencil(gn, 'medium datastore', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'network_card;',
					w * 19, h * 20, '', 'Network Card', null, null, this.getTagsForStencil(gn, 'network card', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'physical_storage;',
					w * 54, h * 30, '', 'Physical Storage', null, null, this.getTagsForStencil(gn, 'physical_storage', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'proxy;',
					w * 23, h * 23, '', 'Proxy', null, null, this.getTagsForStencil(gn, 'proxy', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'proxy_appliance;',
					w * 23, h * 23, '', 'Proxy Appliance', null, null, this.getTagsForStencil(gn, 'proxy appliance', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'remote_site;',
					w * 23, h * 30, '', 'Remote Site', null, null, this.getTagsForStencil(gn, 'remote site', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'remote_storage;',
					w * 26, h * 31, '', 'Remote Storage', null, null, this.getTagsForStencil(gn, 'remote storage', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'resource_pool;',
					w * 28, h * 16, '', 'Resource Pool', null, null, this.getTagsForStencil(gn, 'resource pool', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'service_vnic;',
					w * 36, h * 32, '', 'Service vNIC', null, null, this.getTagsForStencil(gn, 'service vnic', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'switch;',
					w * 55, h * 29, '', 'Switch', null, null, this.getTagsForStencil(gn, 'switch', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape;',
					w * 29, h * 29, '', 'Tape', null, null, this.getTagsForStencil(gn, 'tape', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_checked;',
					w * 35, h * 29, '', 'Tape Checked', null, null, this.getTagsForStencil(gn, 'tape checked', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_ejecting;',
					w * 35, h * 29, '', 'Tape Ejecting', null, null, this.getTagsForStencil(gn, 'tape ejecting', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_library;',
					w * 31, h * 37, '', 'Tape Library', null, null, this.getTagsForStencil(gn, 'tape library', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_licensed;',
					w * 35, h * 29, '', 'Tape Licensed', null, null, this.getTagsForStencil(gn, 'tape licensed', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_recording;',
					w * 35, h * 29, '', 'Tape Recording', null, null, this.getTagsForStencil(gn, 'tape recording', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'tape_server;',
					w * 23, h * 23, '', 'Tape Server', null, null, this.getTagsForStencil(gn, 'tape server', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vapp;',
					w * 46, h * 31, '', 'vApp', null, null, this.getTagsForStencil(gn, 'vapp', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vapp_started;',
					w * 46, h * 31, '', 'vApp Started', null, null, this.getTagsForStencil(gn, 'vapp started', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_availability_suite;',
					w * 23, h * 23, '', 'Veeam Availability Suite', null, null, this.getTagsForStencil(gn, 'veeam availability suite', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_backup_and_replication_server;',
					w * 23, h * 23, '', 'Veeam Backup and Replication Server', null, null, this.getTagsForStencil(gn, 'veeam backup and replication server', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_backup_enterprise_manager_server;',
					w * 23, h * 23, '', 'Veeam Backup Enterprise Manager Server', null, null, this.getTagsForStencil(gn, 'veeam backup enterprise manager server', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_backup_enterprise_manager_server_2d;',
					w * 20, h * 20, '', 'Veeam Backup Enterprise Manager Server 2D', null, null, this.getTagsForStencil(gn, 'veeam backup enterprise manager derver 2d two dimensional', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_backup_search_server;',
					w * 23, h * 23, '', 'Veeam Backup Search Server', null, null, this.getTagsForStencil(gn, 'veeam backup search server', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_one_business_view;',
					w * 23, h * 23, '', 'Veeam ONE Business View', null, null, this.getTagsForStencil(gn, 'veeam one business view', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_one_monitor;',
					w * 23, h * 23, '', 'Veeam ONE Monitor', null, null, this.getTagsForStencil(gn, 'veeam one monitor', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_one_reporter;',
					w * 23, h * 23, '', 'Veeam ONE Reporter', null, null, this.getTagsForStencil(gn, 'veeam one reporter', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'veeam_one_server;',
					w * 23, h * 23, '', 'Veeam ONE Server', null, null, this.getTagsForStencil(gn, 'veeam one server', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'virtual_machine;',
					w * 23, h * 23, '', 'Virtual Machine', null, null, this.getTagsForStencil(gn, 'virtual machine', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vmware_host;',
					w * 55, h * 49, '', 'VMware Host', null, null, this.getTagsForStencil(gn, 'vmware host', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_failed;',
					w * 28, h * 23, '', 'VM Failed', null, null, this.getTagsForStencil(gn, 'vm failed', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_linux;',
					w * 23, h * 30, '', 'VM Linux', null, null, this.getTagsForStencil(gn, 'vm linux', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_no_network;',
					w * 29, h * 23, '', 'VM No Network', null, null, this.getTagsForStencil(gn, 'vm no network', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_problem;',
					w * 28, h * 23, '', 'VM Problem', null, null, this.getTagsForStencil(gn, 'vm problem', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_running;',
					w * 28, h * 23, '', 'VM Running', null, null, this.getTagsForStencil(gn, 'vm running', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_saved_state;',
					w * 29, h * 24, '', 'VM Saved State', null, null, this.getTagsForStencil(gn, 'vm saved state', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vm_windows;',
					w * 23, h * 30, '', 'VM Windows', null, null, this.getTagsForStencil(gn, 'vm windows', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'vnic;',
					w * 31, h * 31, '', 'vNIC', null, null, this.getTagsForStencil(gn, 'vnic', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'wan_accelerator;',
					w * 23, h * 23, '', 'WAN Accelerator', null, null, this.getTagsForStencil(gn, 'wan accelerator', dt).join(' ')),
			this.createVertexTemplateEntry(sn + 'workstation;',
					w * 38, h * 31, '', 'Workstation', null, null, this.getTagsForStencil(gn, 'workstation', dt).join(' '))
		];
			
		this.addPalette('veeam3D', 'Veeam / 3D', false, mxUtils.bind(this, function(content)
				{
					for (var i = 0; i < fns.length; i++)
					{
						content.appendChild(fns[i](content));
					}
		}));
	};

	
	
	
	
	
	
	
	
})();

(function()
{
	// Adds Web Icons shapes
	Sidebar.prototype.addWebIconsPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.webicons.";
		var gn = 'mxgraph.webicons';
		var dt = 'web icons icon';
		var w = 0.2;
		var h = 0.2;
		
		this.addPaletteFunctions('webicons', 'Web Icons', false,
		[
		 this.createVertexTemplateEntry(s + 'adfty;fillColor=#66E8F3;gradientColor=#1C7CBA',
				 w * 512, h * 512, '', 'Adfty', null, null, this.getTagsForStencil(gn, 'adfty', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'adobe_pdf;fillColor=#F40C0C;gradientColor=#610603',
				 w * 512, h * 512, '', 'Adobe PDF', null, null, this.getTagsForStencil(gn, 'adobe pdf', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aim;fillColor=#27E1E5;gradientColor=#0A4361',
				 w * 512, h * 512, '', 'Aim', null, null, this.getTagsForStencil(gn, 'aim', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'allvoices;fillColor=#807E7E;gradientColor=#1B1C1C',
				 w * 512, h * 512, '', 'Allvoices', null, null, this.getTagsForStencil(gn, 'allvoices', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'amazon;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Amazon', null, null, this.getTagsForStencil(gn, 'amazon', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'amazon_2;fillColor=#605658;gradientColor=#231F20',
				 w * 512, h * 512, '', 'Amazon', null, null, this.getTagsForStencil(gn, 'amazon', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'android;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Android', null, null, this.getTagsForStencil(gn, 'android', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apache;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Apache', null, null, this.getTagsForStencil(gn, 'apache db database', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apple;fillColor=#807E7E;gradientColor=#1B1C1C',
				 w * 512, h * 512, '', 'Apple', null, null, this.getTagsForStencil(gn, 'apple', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apple_classic;fillColor=#66E8F3;gradientColor=#1C7CBA',
				 w * 512, h * 512, '', 'Apple (classic)', null, null, this.getTagsForStencil(gn, 'apple classic', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'arduino;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Arduino', null, null, this.getTagsForStencil(gn, 'arduino', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ask;fillColor=#F33543;gradientColor=#B50E11',
				 w * 512, h * 512, '', 'Ask', null, null, this.getTagsForStencil(gn, 'ask', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'atlassian;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Atlassian', null, null, this.getTagsForStencil(gn, 'atlassian', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'audioboo;fillColor=#EB35CF;gradientColor=#8C0E35',
				 w * 512, h * 512, '', 'Audioboo', null, null, this.getTagsForStencil(gn, 'audioboo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aws;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'AWS', null, null, this.getTagsForStencil(gn, 'aws amazon web service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aws_s3;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'AWS S3', null, null, this.getTagsForStencil(gn, 'aws s3 amazon web service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'baidu;fillColor=#738FE8;gradientColor=#1F2470',
				 w * 512, h * 512, '', 'Baidu', null, null, this.getTagsForStencil(gn, 'baidu', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bebo;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Bebo', null, null, this.getTagsForStencil(gn, 'bebo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'behance;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Behance', null, null, this.getTagsForStencil(gn, 'behance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bing;fillColor=#0A776E;gradientColor=#053D39',
				 w * 512, h * 512, '', 'Bing', null, null, this.getTagsForStencil(gn, 'bing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bitbucket;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Bitbucket', null, null, this.getTagsForStencil(gn, 'bitbucket', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blinklist;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Blinklist', null, null, this.getTagsForStencil(gn, 'blinklist', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blogger;fillColor=#FDE47C;gradientColor=#F55F21',
				 w * 512, h * 512, '', 'Blogger', null, null, this.getTagsForStencil(gn, 'blogger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blogmarks;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Blogmarks', null, null, this.getTagsForStencil(gn, 'blogmarks', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bookmarks.fr;fillColor=#F9FAF4;gradientColor=#DCDFBB',
				 w * 512, h * 512, '', 'Bookmarks.fr', null, null, this.getTagsForStencil(gn, 'bookmarks.fr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'box;fillColor=#4CDFEF;gradientColor=#153EA0',
				 w * 512, h * 512, '', 'Box', null, null, this.getTagsForStencil(gn, 'box', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buddymarks;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Buddymarks', null, null, this.getTagsForStencil(gn, 'buddymarks', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buffer;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Buffer', null, null, this.getTagsForStencil(gn, 'buffer', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buzzfeed;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Buzzfeed', null, null, this.getTagsForStencil(gn, 'buzzfeed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'chrome;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 516, h * 520, '', 'Chrome', null, null, this.getTagsForStencil(gn, 'chrome', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'citeulike;fillColor=#ACD65E;gradientColor=#2E3618',
				 w * 512, h * 512, '', 'Citeulike', null, null, this.getTagsForStencil(gn, 'citeulike', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'confluence;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Confluence', null, null, this.getTagsForStencil(gn, 'confluence', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'connotea;fillColor=#E9FDFC;gradientColor=#BADBE9',
				 w * 512, h * 512, '', 'Connotea', null, null, this.getTagsForStencil(gn, 'connotea', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dealsplus;fillColor=#B569B5;gradientColor=#7A467A',
				 w * 512, h * 512, '', 'Dealsplus', null, null, this.getTagsForStencil(gn, 'dealsplus', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'delicious',
				 w * 512, h * 512, '', 'Delicious', null, null, this.getTagsForStencil(gn, 'delicious', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'designfloat;fillColor=#247BE0;gradientColor=#0A1F42',
				 w * 512, h * 512, '', 'Designfloat', null, null, this.getTagsForStencil(gn, 'designfloat', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deviantart;fillColor=#00C659;gradientColor=#00813B',
				 w * 512, h * 512, '', 'Deviantart', null, null, this.getTagsForStencil(gn, 'deviantart', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'digg;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Digg', null, null, this.getTagsForStencil(gn, 'digg', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'diigo;fillColor=#2C7DE0;gradientColor=#1E5599',
				 w * 512, h * 512, '', 'Diigo', null, null, this.getTagsForStencil(gn, 'diiigo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dopplr;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Dopplr', null, null, this.getTagsForStencil(gn, 'dopplr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drawio1;fillColor=#2174CE;gradientColor=#134277',
				 w * 512, h * 512, '', 'Draw.io', null, null, this.getTagsForStencil(gn, 'drawio draw io', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drawio2;fillColor=#2174CE;gradientColor=#134277',
				 w * 512, h * 512, '', 'Draw.io', null, null, this.getTagsForStencil(gn, 'drawio draw io', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dribbble;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Dribbble', null, null, this.getTagsForStencil(gn, 'dribbble', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dropbox;fillColor=#0BAAFE;gradientColor=#0080E6',
				 w * 512, h * 512, '', 'Dropbox', null, null, this.getTagsForStencil(gn, 'dropbox', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dropbox2;fillColor=#2FB8FC;gradientColor=#0080E6',
				 w * 512, h * 512, '', 'Dropbox', null, null, this.getTagsForStencil(gn, 'dropbox', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drupal;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Drupal', null, null, this.getTagsForStencil(gn, 'drupal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dzone;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Dzone', null, null, this.getTagsForStencil(gn, 'dzone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ebay;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Ebay', null, null, this.getTagsForStencil(gn, 'ebay', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'edmodo;fillColor=#2F81CE;gradientColor=#1F5487',
				 w * 512, h * 512, '', 'Edmodo', null, null, this.getTagsForStencil(gn, 'edmodo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'evernote;fillColor=#D4EF75;gradientColor=#399F1F',
				 w * 512, h * 512, '', 'Evernote', null, null, this.getTagsForStencil(gn, 'evernote', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'facebook;fillColor=#6294E4;gradientColor=#1A2665',
				 w * 512, h * 512, '', 'Facebook', null, null, this.getTagsForStencil(gn, 'facebook', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fancy;fillColor=#C3ECF8;gradientColor=#348DD4',
				 w * 512, h * 512, '', 'Fancy', null, null, this.getTagsForStencil(gn, 'fancy', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fark;fillColor=#EBEBF1;gradientColor=#8482A7',
				 w * 512, h * 512, '', 'Fark', null, null, this.getTagsForStencil(gn, 'fark', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fashiolista;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Fashiolista', null, null, this.getTagsForStencil(gn, 'fashiolista', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'feed;fillColor=#FFAC75;gradientColor=#FF6600',
				 w * 512, h * 512, '', 'Feed', null, null, this.getTagsForStencil(gn, 'feed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'feedburner;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Feedburner', null, null, this.getTagsForStencil(gn, 'feedburner', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'flickr;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Flickr', null, null, this.getTagsForStencil(gn, 'flickr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'folkd;fillColor=#27A2E9;gradientColor=#0A2977',
				 w * 512, h * 512, '', 'Folkd', null, null, this.getTagsForStencil(gn, 'folkd', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'forrst;fillColor=#3E6B32;gradientColor=#111C0D',
				 w * 512, h * 512, '', 'Forrst', null, null, this.getTagsForStencil(gn, 'forrst', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fotolog;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Fotolog', null, null, this.getTagsForStencil(gn, 'fotolog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'freshbump;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Freshbump', null, null, this.getTagsForStencil(gn, 'freshbump', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fresqui;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Fresqui', null, null, this.getTagsForStencil(gn, 'fresqui', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'friendfeed;fillColor=#7BDCEF;gradientColor=#21379E',
				 w * 512, h * 512, '', 'Friendfeed', null, null, this.getTagsForStencil(gn, 'fiendfeed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'funp;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Funp', null, null, this.getTagsForStencil(gn, 'funp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fwisp;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Fwisp', null, null, this.getTagsForStencil(gn, 'fwisp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gabbr;fillColor=#FBAC39;gradientColor=#EA2B0E',
				 w * 512, h * 512, '', 'Gabbr', null, null, this.getTagsForStencil(gn, 'gabbr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gamespot;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Gamespot', null, null, this.getTagsForStencil(gn, 'gamespot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'github;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Github', null, null, this.getTagsForStencil(gn, 'github', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gmail;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Gmail', null, null, this.getTagsForStencil(gn, 'gmail', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Google', null, null, this.getTagsForStencil(gn, 'google', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_drive;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Google Drive', null, null, this.getTagsForStencil(gn, 'google drive', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_hangout;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Google Hangout', null, null, this.getTagsForStencil(gn, 'google hangout', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_play;fillColor=#000000',
				 w * 347, h * 103, '', 'Google Play', null, null, this.getTagsForStencil(gn, 'google play', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_play_light;fillColor=#66E8F3;gradientColor=#1C7CBA',
				 w * 300, h * 52, '', 'Google Play Light', null, null, this.getTagsForStencil(gn, 'google play light', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_photos;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Google Photos', null, null, this.getTagsForStencil(gn, 'google photos', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_plus;fillColor=#F24B46;gradientColor=#AD3832',
				 w * 512, h * 512, '', 'Google Plus', null, null, this.getTagsForStencil(gn, 'google plus', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'grooveshark;fillColor=#695D5D;gradientColor=#000000',
				 w * 512, h * 512, '', 'Grooveshark', null, null, this.getTagsForStencil(gn, 'grooveshark', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'hatena;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Hatena', null, null, this.getTagsForStencil(gn, 'hatena', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'html5;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'HTML5', null, null, this.getTagsForStencil(gn, 'html5 html', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'identi.ca;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Identi.ca', null, null, this.getTagsForStencil(gn, 'identi.ca', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'instagram;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Instagram', null, null, this.getTagsForStencil(gn, 'instagram', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'instapaper;fillColor=#807E7E;gradientColor=#1B1C1C',
				 w * 512, h * 512, '', 'Instapaper', null, null, this.getTagsForStencil(gn, 'instapaper', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ios;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'iOS', null, null, this.getTagsForStencil(gn, 'ios', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'jamespot;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Jamespot', null, null, this.getTagsForStencil(gn, 'jamespot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'java;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Java', null, null, this.getTagsForStencil(gn, 'java', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'joomla;fillColor=#1F457D;gradientColor=#081220',
				 w * 512, h * 512, '', 'Joomla', null, null, this.getTagsForStencil(gn, 'joomla', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'jquery;fillColor=#0BB9EA;gradientColor=#032F80',
				 w * 512, h * 512, '', 'Jquery', null, null, this.getTagsForStencil(gn, 'jquery', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'json;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'JSON', null, null, this.getTagsForStencil(gn, 'json', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'json_2;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'JSON', null, null, this.getTagsForStencil(gn, 'json', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'last.fm;fillColor=#F33543;gradientColor=#BD0E11',
				 w * 512, h * 512, '', 'Last.fm', null, null, this.getTagsForStencil(gn, 'last.fm last fm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'linkagogo;fillColor=#F6F5FA;gradientColor=#C8C1E1',
				 w * 512, h * 512, '', 'Linkagogo', null, null, this.getTagsForStencil(gn, 'linkagogo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'linkedin;fillColor=#0095DB;gradientColor=#006391',
				 w * 512, h * 512, '', 'LinkedIn', null, null, this.getTagsForStencil(gn, 'linkedin', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'livejournal;fillColor=#2690E5;gradientColor=#0A2463',
				 w * 512, h * 512, '', 'Livejournal', null, null, this.getTagsForStencil(gn, 'livejournal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mail.ru;fillColor=#267BE0;gradientColor=#0A1F42',
				 w * 512, h * 512, '', 'Mail.ru', null, null, this.getTagsForStencil(gn, 'mail.ru', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'meetup;fillColor=#F83263;gradientColor=#D40D19',
				 w * 512, h * 512, '', 'Meetup', null, null, this.getTagsForStencil(gn, 'meetup', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'meneame;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Meneame', null, null, this.getTagsForStencil(gn, 'meneame', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger_2;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger_3;fillColor=#09BEFC;gradientColor=#0060FA',
				 w * 512, h * 512, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mind_body_green;fillColor=#E0EEF8;gradientColor=#4496D5',
				 w * 512, h * 512, '', 'Mind Body Green', null, null, this.getTagsForStencil(gn, 'mind body green', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mongodb;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'MongoDb', null, null, this.getTagsForStencil(gn, 'mongodb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'myspace;fillColor=#3C69E2;gradientColor=#101B54',
				 w * 512, h * 512, '', 'MySpace', null, null, this.getTagsForStencil(gn, 'myspace', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'n4g;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'N4g', null, null, this.getTagsForStencil(gn, 'n4g', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netlog;fillColor=#FA3743;gradientColor=#E10E11',
				 w * 512, h * 512, '', 'Netlog', null, null, this.getTagsForStencil(gn, 'netlog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netvibes;fillColor=#99DB00;gradientColor=#638E00',
				 w * 512, h * 512, '', 'Netvibes', null, null, this.getTagsForStencil(gn, 'netvibes', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netvouz;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Netvouz', null, null, this.getTagsForStencil(gn, 'netvouz', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networkedblogs;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Networkedblogs', null, null, this.getTagsForStencil(gn, 'networkedblogs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'newsvine;fillColor=#008733;gradientColor=#00441B',
				 w * 512, h * 512, '', 'Newsvine', null, null, this.getTagsForStencil(gn, 'newsvine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'odnoklassniki;fillColor=#FDE15A;gradientColor=#F24317',
				 w * 512, h * 512, '', 'Odnoklassniki', null, null, this.getTagsForStencil(gn, 'odnoklassniki', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'oknotizie;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Oknotizie', null, null, this.getTagsForStencil(gn, 'oknotizie', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'onedrive;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'OneDrive', null, null, this.getTagsForStencil(gn, 'onedrive', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'oracle;fillColor=#FA3743;gradientColor=#E10E11',
				 w * 512, h * 512, '', 'Oracle', null, null, this.getTagsForStencil(gn, 'oracle', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'paypal;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Paypal', null, null, this.getTagsForStencil(gn, 'paypal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'phone;fillColor=#76F21E;gradientColor=#079704',
				 w * 512, h * 512, '', 'Phone', null, null, this.getTagsForStencil(gn, 'phone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'phonefavs;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Phonefavs', null, null, this.getTagsForStencil(gn, 'phonefavs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'pinterest;fillColor=#E50B28;gradientColor=#890616',
				 w * 512, h * 512, '', 'Pinterest', null, null, this.getTagsForStencil(gn, 'pinterest', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'plaxo;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Plaxo', null, null, this.getTagsForStencil(gn, 'plaxo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'playfire;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Playfire', null, null, this.getTagsForStencil(gn, 'playfire', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'plurk;fillColor=#FF5656;gradientColor=#A8312D',
				 w * 512, h * 512, '', 'Plurk', null, null, this.getTagsForStencil(gn, 'plurk', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'pocket;fillColor=#FF4460;gradientColor=#B73143',
				 w * 512, h * 512, '', 'Pocket', null, null, this.getTagsForStencil(gn, 'pocket', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'protopage;fillColor=#4B78C0;gradientColor=#294282',
				 w * 512, h * 512, '', 'Protopage', null, null, this.getTagsForStencil(gn, 'protopage', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'readernaut;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Readernaut', null, null, this.getTagsForStencil(gn, 'readernaut', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'reddit;fillColor=#F3F8FC;gradientColor=#B4D2F0',
				 w * 512, h * 512, '', 'Reddit', null, null, this.getTagsForStencil(gn, 'reddit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'rss;fillColor=#FDE532;gradientColor=#F4600D',
				 w * 512, h * 512, '', 'RSS', null, null, this.getTagsForStencil(gn, 'rss', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'scoopit;fillColor=#8CD845;gradientColor=#4E7A27',
				 w * 512, h * 512, '', 'Scoopit', null, null, this.getTagsForStencil(gn, 'scoopit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'scribd;fillColor=#1D637D;gradientColor=#071920',
				 w * 512, h * 512, '', 'Scribd', null, null, this.getTagsForStencil(gn, 'scribd', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'segnalo;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Segnalo', null, null, this.getTagsForStencil(gn, 'segnalo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sina;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Sina', null, null, this.getTagsForStencil(gn, 'sina', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sitejot;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Sitejot', null, null, this.getTagsForStencil(gn, 'sitejot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'skype;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Skype', null, null, this.getTagsForStencil(gn, 'skype', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'skyrock;fillColor=#47B8FF;gradientColor=#006AAD',
				 w * 512, h * 512, '', 'Skyrock', null, null, this.getTagsForStencil(gn, 'skyrock', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'slashdot;fillColor=#03B2AC;gradientColor=#012C2C',
				 w * 512, h * 512, '', 'Slashdot', null, null, this.getTagsForStencil(gn, 'slashdot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sms;fillColor=#86D466;gradientColor=#42B418',
				 w * 512, h * 512, '', 'SMS', null, null, this.getTagsForStencil(gn, 'sms', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'socialvibe;fillColor=#FA16E2;gradientColor=#DF064B',
				 w * 512, h * 512, '', 'Socialvibe', null, null, this.getTagsForStencil(gn, 'socialvibe', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'society6;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Society6', null, null, this.getTagsForStencil(gn, 'society6', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sonico;fillColor=#3FEAF6;gradientColor=#117EC9',
				 w * 512, h * 512, '', 'Sonico', null, null, this.getTagsForStencil(gn, 'sonico', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'soundcloud;fillColor=#F78E11;gradientColor=#F93A0E',
				 w * 512, h * 512, '', 'Soundcloud', null, null, this.getTagsForStencil(gn, 'soundcloud', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sourceforge;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Sourceforge', null, null, this.getTagsForStencil(gn, 'sourceforge', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sourceforge_2;fillColor=#0078AF;gradientColor=#00385E',
				 w * 512, h * 512, '', 'Sourceforge', null, null, this.getTagsForStencil(gn, 'sourceforge', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'spring.me;fillColor=#3CBEF2;gradientColor=#2B8AAF',
				 w * 512, h * 512, '', 'Spring.me', null, null, this.getTagsForStencil(gn, 'spring me', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stackexchange;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Stackexchange', null, null, this.getTagsForStencil(gn, 'stackexchange stack exchange', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stackoverflow;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'StackOverflow', null, null, this.getTagsForStencil(gn, 'stackoverflow stack overflow', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'startaid;fillColor=#47B0E5;gradientColor=#2F7599',
				 w * 512, h * 512, '', 'Startaid', null, null, this.getTagsForStencil(gn, 'startaid', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'startlap;fillColor=#B9E6F0;gradientColor=#3062A2',
				 w * 512, h * 512, '', 'Startlap', null, null, this.getTagsForStencil(gn, 'startlap', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'steam;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 512, h * 512, '', 'Steam', null, null, this.getTagsForStencil(gn, 'steam', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stumbleupon;fillColor=#FA823C;gradientColor=#E12110',
				 w * 512, h * 512, '', 'StumbleUpon', null, null, this.getTagsForStencil(gn, 'stumbleupon', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stumpedia;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Stumpedia', null, null, this.getTagsForStencil(gn, 'stumpedia', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'technorati;fillColor=#99EC92;gradientColor=#288925',
				 w * 512, h * 512, '', 'Technorati', null, null, this.getTagsForStencil(gn, 'technorati', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'translate;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Translate', null, null, this.getTagsForStencil(gn, 'translate', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'tumblr;fillColor=#588BBC;gradientColor=#172330',
				 w * 512, h * 512, '', 'Tumblr', null, null, this.getTagsForStencil(gn, 'tumblr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'tunein;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Tunein', null, null, this.getTagsForStencil(gn, 'tunein', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'twitter;fillColor=#49EAF7;gradientColor=#137BD0',
				 w * 512, h * 512, '', 'Twitter', null, null, this.getTagsForStencil(gn, 'twitter', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'two;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Two', null, null, this.getTagsForStencil(gn, 'two', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'typepad;fillColor=#CBD372;gradientColor=#818748',
				 w * 512, h * 512, '', 'Typepad', null, null, this.getTagsForStencil(gn, 'typepad', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viadeo;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Viadeo', null, null, this.getTagsForStencil(gn, 'viadeo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viber;fillColor=#9964C4;gradientColor=#52366B',
				 w * 512, h * 512, '', 'Viber', null, null, this.getTagsForStencil(gn, 'viber', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viddler;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Viddler', null, null, this.getTagsForStencil(gn, 'viddler', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'vimeo;fillColor=#A4EDF9;gradientColor=#2B8ED9',
				 w * 512, h * 512, '', 'Vimeo', null, null, this.getTagsForStencil(gn, 'vimeo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'virb;fillColor=#536873;gradientColor=#161A1D',
				 w * 512, h * 512, '', 'Virb', null, null, this.getTagsForStencil(gn, 'virb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'vkontakte;fillColor=#5F94CC;gradientColor=#39587A',
				 w * 512, h * 512, '', 'Vkontakte', null, null, this.getTagsForStencil(gn, 'vkontakte', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wakoopa;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Wakoopa', null, null, this.getTagsForStencil(gn, 'wakoopa', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'weheartit;fillColor=#FF7AA2;gradientColor=#FF4577',
				 w * 512, h * 512, '', 'Weheartit', null, null, this.getTagsForStencil(gn, 'weheartit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'whatsapp;fillColor=#4FE238;gradientColor=#138709',
				 w * 512, h * 512, '', 'Whatsapp', null, null, this.getTagsForStencil(gn, 'whatsapp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wix;fillColor=#8AE3F2;gradientColor=#2451B0',
				 w * 512, h * 512, '', 'Wix', null, null, this.getTagsForStencil(gn, 'wix', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wordpress;fillColor=#35E2EE;gradientColor=#0E4D99',
				 w * 512, h * 512, '', 'Wordpress', null, null, this.getTagsForStencil(gn, 'wordpress', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wordpress_2;fillColor=#35E2EE;gradientColor=#0E4D99',
				 w * 512, h * 512, '', 'Wordpress', null, null, this.getTagsForStencil(gn, 'wordpress', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xanga;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Xanga', null, null, this.getTagsForStencil(gn, 'xanga', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xerpi;fillColor=#7F719B;gradientColor=#32264B',
				 w * 512, h * 512, '', 'Xerpi', null, null, this.getTagsForStencil(gn, 'xerpi', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xing;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Xing', null, null, this.getTagsForStencil(gn, 'xing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yahoo;fillColor=#AC37AE;gradientColor=#2E0E2D',
				 w * 512, h * 512, '', 'Yahoo', null, null, this.getTagsForStencil(gn, 'yahoo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yahoo_2;fillColor=#AC37AE;gradientColor=#2E0E2D',
				 w * 512, h * 512, '', 'Yahoo', null, null, this.getTagsForStencil(gn, 'yahoo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yammer;fillColor=#00AFE0;gradientColor=#005F7A',
				 w * 512, h * 512, '', 'Yammer', null, null, this.getTagsForStencil(gn, 'yammer', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yandex;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Yandex', null, null, this.getTagsForStencil(gn, 'yandex', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yelp;fillColor=#EF5140;gradientColor=#9C1410',
				 w * 512, h * 512, '', 'Yelp', null, null, this.getTagsForStencil(gn, 'yelp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yoolink;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Yoolink', null, null, this.getTagsForStencil(gn, 'yoolink', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'youmob;fillColor=#FFFFFF;gradientColor=#DFDEDE',
				 w * 512, h * 512, '', 'Youmob', null, null, this.getTagsForStencil(gn, 'youmob', dt).join(' '))
		]);
	};
	
	// Adds Web Icons shapes
	Sidebar.prototype.addWebLogosPalette = function()
	{
		var sb = this;
		var s = 'dashed=0;html=1;' + mxConstants.STYLE_SHAPE + "=mxgraph.weblogos.";
		var gn = 'mxgraph.weblogos';
		var dt = 'web logos logo';
		var w = 0.2;
		var h = 0.2;
		
		this.addPaletteFunctions('weblogos', 'Web Logos', false,
		[
		 this.createVertexTemplateEntry(s + 'adfty;fillColor=#66E8F3;gradientColor=#1C7CBA',
				 w * 456, h * 458, '', 'Adfty', null, null, this.getTagsForStencil(gn, 'adfty', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'adobe_pdf;fillColor=#A60908',
				 w * 347, h * 338, '', 'Adobe PDF', null, null, this.getTagsForStencil(gn, 'adobe pdf', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aim',
				 w * 312, h * 342, '', 'Aim', null, null, this.getTagsForStencil(gn, 'aim', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'allvoices',
				 w * 420, h * 398, '', 'Allvoices', null, null, this.getTagsForStencil(gn, 'allvoices', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'amazon',
				 w * 314, h * 341, '', 'Amazon', null, null, this.getTagsForStencil(gn, 'amazon', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'android;fillColor=#A4CA39;strokeColor=none',
				 w * 338, h * 400, '', 'Android', null, null, this.getTagsForStencil(gn, 'android', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apache',
				 w * 213, h * 426, '', 'Apache', null, null, this.getTagsForStencil(gn, 'apache db database', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apple;fillColor=#1B1C1C;strokeColor=none',
				 w * 312, h * 381, '', 'Apple', null, null, this.getTagsForStencil(gn, 'apple', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'apple_classic',
				 w * 312, h * 381, '', 'Apple (classic)', null, null, this.getTagsForStencil(gn, 'apple classic', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_store;fillColor=#000000;strokeColor=none',
				 w * 306, h * 100, '', 'App Store', null, null, this.getTagsForStencil(gn, 'app store application', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'app_store_iphone;fillColor=#75797C;strokeColor=none',
				 w * 306, h * 100, '', 'App Store iPhone', null, null, this.getTagsForStencil(gn, 'app store iphone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'arduino;fillColor=#36868D;strokeColor=none',
				 w * 337, h * 160, '', 'Arduino', null, null, this.getTagsForStencil(gn, 'arduino', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ask;fillColor=#D22028;strokeColor=none',
				 w * 343, h * 253, '', 'Ask', null, null, this.getTagsForStencil(gn, 'ask', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'atlassian;fillColor=#59AFE1;strokeColor=none',
				 w * 301, h * 275, '', 'Atlassian', null, null, this.getTagsForStencil(gn, 'atlassian', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'audioboo;fillColor=#B9217E',
				 w * 270, h * 397, '', 'Audioboo', null, null, this.getTagsForStencil(gn, 'audioboo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aws',
				 w * 318, h * 292, '', 'AWS', null, null, this.getTagsForStencil(gn, 'aws amazon web service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'aws_s3',
				 w * 308, h * 288, '', 'AWS S3', null, null, this.getTagsForStencil(gn, 'aws s3 amazon web service', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'baidu;fillColor=#3F4D9E',
				 w * 355, h * 385, '', 'Baidu', null, null, this.getTagsForStencil(gn, 'baidu', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bebo;fillColor=#EC1C23;strokeColor=none',
				 w * 279, h * 357, '', 'Bebo', null, null, this.getTagsForStencil(gn, 'bebo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'behance;fillColor=#3A3333',
				 w * 369, h * 228, '', 'Behance', null, null, this.getTagsForStencil(gn, 'behance', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bing;fillColor=#008373;strokeColor=none',
				 w * 265, h * 331, '', 'Bing', null, null, this.getTagsForStencil(gn, 'bing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bitbucket;fillColor=#205081;strokeColor=none',
				 w * 326, h * 374, '', 'Bitbucket', null, null, this.getTagsForStencil(gn, 'bitbucket', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blinklist;fillColor=#3A3333;strokeColor=none',
				 w * 406, h * 360, '', 'Blinklist', null, null, this.getTagsForStencil(gn, 'blinklist', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blogger;fillColor=#F66C2A;strokeColor=none',
				 w * 290, h * 291, '', 'Blogger', null, null, this.getTagsForStencil(gn, 'blogger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'blogmarks',
				 w * 188, h * 322, '', 'Blogmarks', null, null, this.getTagsForStencil(gn, 'blogmarks', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'bookmarks.fr',
				 w * 351, h * 314, '', 'Bookmarks.fr', null, null, this.getTagsForStencil(gn, 'bookmarks.fr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'box;fillColor=#2771B9;strokeColor=none',
				 w * 223, h * 321, '', 'Box', null, null, this.getTagsForStencil(gn, 'box', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buddymarks',
				 w * 397, h * 285, '', 'Buddymarks', null, null, this.getTagsForStencil(gn, 'buddymarks', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buffer;fillColor=#221F1F;strokeColor=none',
				 w * 352, h * 302, '', 'Buffer', null, null, this.getTagsForStencil(gn, 'buffer', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'buzzfeed;fillColor=#ED3223;strokeColor=none',
				 w * 390, h * 390, '', 'Buzzfeed', null, null, this.getTagsForStencil(gn, 'buzzfeed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'chrome',
				 w * 374, h * 377, '', 'Chrome', null, null, this.getTagsForStencil(gn, 'chrome', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'citeulike;fillColor=#698139',
				 w * 378, h * 180, '', 'Citeulike', null, null, this.getTagsForStencil(gn, 'citeulike', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'confluence;fillColor=#1F5081;strokeColor=none',
				 w * 389, h * 334, '', 'Confluence', null, null, this.getTagsForStencil(gn, 'confluence', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'connotea',
				 w * 405, h * 413, '', 'Connotea', null, null, this.getTagsForStencil(gn, 'connotea', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dealsplus;fillColor=#935492',
				 w * 380, h * 333, '', 'Dealsplus', null, null, this.getTagsForStencil(gn, 'dealsplus', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'designfloat;strokeColor=none',
				 w * 360, h * 360, '', 'Designfloat', null, null, this.getTagsForStencil(gn, 'designfloat', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'deviantart;fillColor=#009544;strokeColor=none;',
				 w * 310, h * 432, '', 'Deviantart', null, null, this.getTagsForStencil(gn, 'deviantart', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'digg;fillColor=#ffffff',
				 w * 290, h * 280, '', 'Digg', null, null, this.getTagsForStencil(gn, 'digg', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'diigo;fillColor=#2973D2;strokeColor=none',
				 w * 306, h * 344, '', 'Diigo', null, null, this.getTagsForStencil(gn, 'diiigo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dopplr;fillColor=#F9634D;strokeColor=none',
				 w * 512, h * 512, '', 'Dopplr', null, null, this.getTagsForStencil(gn, 'dopplr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drawio1;fillColor=#1A5BA3',
				 w * 248, h * 341, '', 'Draw.io', null, null, this.getTagsForStencil(gn, 'drawio draw io', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drawio2;fillColor=#1A5BA3',
				 w * 261, h * 354, '', 'Draw.io', null, null, this.getTagsForStencil(gn, 'drawio draw io', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dribbble;fillColor=#EB548D',
				 w * 337, h * 336, '', 'Dribbble', null, null, this.getTagsForStencil(gn, 'dribbble', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dropbox;fillColor=#0287EA',
				 w * 367, h * 310, '', 'Dropbox2', null, null, this.getTagsForStencil(gn, 'dropbox', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'drupal',
				 w * 303, h * 345, '', 'Drupal', null, null, this.getTagsForStencil(gn, 'drupal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'dzone',
				 w * 438, h * 306, '', 'Dzone', null, null, this.getTagsForStencil(gn, 'dzone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ebay',
				 w * 406, h * 172, '', 'Ebay', null, null, this.getTagsForStencil(gn, 'ebay', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'edmodo;fillColor=#276CB0;strokeColor=none',
				 w * 346, h * 369, '', 'Edmodo', null, null, this.getTagsForStencil(gn, 'edmodo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'evernote;fillColor=#3F3F3F',
				 w * 317, h * 376, '', 'Evernote', null, null, this.getTagsForStencil(gn, 'evernote', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fancy;fillColor=#6DB3E3',
				 w * 196, h * 395, '', 'Fancy', null, null, this.getTagsForStencil(gn, 'fancy', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fark;fillColor=#B1B0C7;gradientColor=#ffffff;strokeColor=#B1B0C7',
				 w * 221, h * 351, '', 'Fark', null, null, this.getTagsForStencil(gn, 'fark', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fashiolista',
				 w * 388, h * 366, '', 'Fashiolista', null, null, this.getTagsForStencil(gn, 'fashiolista', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'feed;fillColor=#000000',
				 w * 302, h * 296, '', 'Feed', null, null, this.getTagsForStencil(gn, 'feed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'feedburner',
				 w * 342, h * 372, '', 'Feedburner', null, null, this.getTagsForStencil(gn, 'feedburner', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'flickr',
				 w * 356, h * 156, '', 'Flickr', null, null, this.getTagsForStencil(gn, 'flickr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'folkd;fillColor=#165AA6',
				 w * 419, h * 218, '', 'Folkd', null, null, this.getTagsForStencil(gn, 'folkd', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'forrst;fillColor=#27431F',
				 w * 264, h * 366, '', 'Forrst', null, null, this.getTagsForStencil(gn, 'forrst', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fotolog;fillColor=#000000;strokeColor=none',
				 w * 238, h * 238, '', 'Fotolog', null, null, this.getTagsForStencil(gn, 'fotolog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'freshbump;fillColor=#C2D952;strokeColor=none',
				 w * 356, h * 380, '', 'Freshbump', null, null, this.getTagsForStencil(gn, 'freshbump', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fresqui',
				 w * 512, h * 512, '', 'Fresqui', null, null, this.getTagsForStencil(gn, 'fresqui', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'friendfeed;fillColor=#4172BB',
				 w * 369, h * 355, '', 'Friendfeed', null, null, this.getTagsForStencil(gn, 'fiendfeed', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'funp',
				 w * 375, h * 200, '', 'Funp', null, null, this.getTagsForStencil(gn, 'funp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'fwisp;fillColor=#66676A;strokeColor=none',
				 w * 327, h * 330, '', 'Fwisp', null, null, this.getTagsForStencil(gn, 'fwisp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gabbr;fillColor=#F05B1E',
				 w * 322, h * 330, '', 'Gabbr', null, null, this.getTagsForStencil(gn, 'gabbr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gamespot',
				 w * 408, h * 408, '', 'Gamespot', null, null, this.getTagsForStencil(gn, 'gamespot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'github',
				 w * 375, h * 375, '', 'Github', null, null, this.getTagsForStencil(gn, 'github', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'gmail',
				 w * 324, h * 234, '', 'Gmail', null, null, this.getTagsForStencil(gn, 'gmail', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google',
				 w * 326, h * 347, '', 'Google', null, null, this.getTagsForStencil(gn, 'google', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_drive',
				 w * 332, h * 290, '', 'Google Drive', null, null, this.getTagsForStencil(gn, 'google drive', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_hangout;fillColor=#4BA139;strokeColor=none',
				 w * 324, h * 377, '', 'Google Hangout', null, null, this.getTagsForStencil(gn, 'google hangout', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_play;fillColor=#000000',
				 w * 347, h * 103, '', 'Google Play', null, null, this.getTagsForStencil(gn, 'google play', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_play_light;fillColor=#66E8F3;gradientColor=#1C7CBA',
				 w * 300, h * 52, '', 'Google Play Light', null, null, this.getTagsForStencil(gn, 'google play light', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_photos',
				 w * 436, h * 436, '', 'Google Photos', null, null, this.getTagsForStencil(gn, 'google photos', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'google_plus;fillColor=#DD4C40;strokeColor=none',
				 w * 328, h * 220, '', 'Google+', null, null, this.getTagsForStencil(gn, 'google plus', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'grooveshark;fillColor=#000000;strokeColor=none',
				 w * 311, h * 311, '', 'Grooveshark', null, null, this.getTagsForStencil(gn, 'grooveshark', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'hatena',
				 w * 431, h * 221, '', 'Hatena', null, null, this.getTagsForStencil(gn, 'hatena', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'html5',
				 w * 262, h * 370, '', 'HTML5', null, null, this.getTagsForStencil(gn, 'html5 html', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'identi.ca',
				 w * 371, h * 238, '', 'Identi.ca', null, null, this.getTagsForStencil(gn, 'identi.ca', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'instagram;fillColor=#6FC0E4;gradientColor=#1E305B',
				 w * 361, h * 361, '', 'Instagram', null, null, this.getTagsForStencil(gn, 'instagram', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'instapaper',
				 w * 138, h * 351, '', 'Instapaper', null, null, this.getTagsForStencil(gn, 'instapaper', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'ios;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 368, h * 197, '', 'iOS', null, null, this.getTagsForStencil(gn, 'ios', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'jamespot;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 390, h * 390, '', 'Jamespot', null, null, this.getTagsForStencil(gn, 'jamespot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'java',
				 w * 172, h * 325, '', 'Java', null, null, this.getTagsForStencil(gn, 'java', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'joomla;fillColor=#1F457D;gradientColor=#081220',
				 w * 330, h * 328, '', 'Joomla', null, null, this.getTagsForStencil(gn, 'joomla', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'jquery;fillColor=#0BB9EA;gradientColor=#032F80',
				 w * 369, h * 335, '', 'Jquery', null, null, this.getTagsForStencil(gn, 'jquery', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'json',
				 w * 350, h * 379, '', 'JSON', null, null, this.getTagsForStencil(gn, 'json', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'json_2',
				 w * 402, h * 126, '', 'JSON', null, null, this.getTagsForStencil(gn, 'json', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'last.fm;fillColor=#F33543;gradientColor=#BD0E11',
				 w * 416, h * 250, '', 'Last.fm', null, null, this.getTagsForStencil(gn, 'last.fm last fm', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'linkagogo;fillColor=#F6F5FA;gradientColor=#C8C1E1',
				 w * 511, h * 400, '', 'Linkagogo', null, null, this.getTagsForStencil(gn, 'linkagogo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'linkedin;fillColor=#0095DB;gradientColor=#006391',
				 w * 287, h * 303, '', 'LinkedIn', null, null, this.getTagsForStencil(gn, 'linkedin', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'livejournal;fillColor=#2690E5;gradientColor=#0A2463',
				 w * 320, h * 343, '', 'Livejournal', null, null, this.getTagsForStencil(gn, 'livejournal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mail.ru;fillColor=#267BE0;gradientColor=#0A1F42',
				 w * 406, h * 393, '', 'Mail.ru', null, null, this.getTagsForStencil(gn, 'mail.ru', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mathoverflow;fillColor=#656463;gradientColor=#F28711;gradientDirection=east',
				 w * 295, h * 241, '', 'MathOverflow', null, null, this.getTagsForStencil(gn, 'mathoverflow', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'meetup;fillColor=#413E3E;strokeColor=none',
				 w * 374, h * 150, '', 'Meetup', null, null, this.getTagsForStencil(gn, 'meetup', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'meneame',
				 w * 380, h * 338, '', 'Meneame', null, null, this.getTagsForStencil(gn, 'meneame', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger',
				 w * 413, h * 384, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger_2',
				 w * 322, h * 324, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'messenger_3;fillColor=#437BBD;strokeColor=#dddddd',
				 w * 322, h * 324, '', 'Messenger', null, null, this.getTagsForStencil(gn, 'messenger', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mind_body_green;strokeColor=#888888',
				 w * 407, h * 464, '', 'Mind Body Green', null, null, this.getTagsForStencil(gn, 'mind body green', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'mongodb',
				 w * 206, h * 431, '', 'MongoDb', null, null, this.getTagsForStencil(gn, 'mongodb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'myspace;fillColor=#003399;strokeColor=none',
				 w * 315, h * 351, '', 'MySpace', null, null, this.getTagsForStencil(gn, 'myspace', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'n4g;fillColor=#000000;strokeColor=none',
				 w * 441, h * 159, '', 'N4g', null, null, this.getTagsForStencil(gn, 'n4g', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netlog;fillColor=#F42424;strokeColor=none',
				 w * 383, h * 344, '', 'Netlog', null, null, this.getTagsForStencil(gn, 'netlog', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netvibes;fillColor=#84BD00;strokeColor=none',
				 w * 309, h * 309, '', 'Netvibes', null, null, this.getTagsForStencil(gn, 'netvibes', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'netvouz',
				 w * 286, h * 287, '', 'Netvouz', null, null, this.getTagsForStencil(gn, 'netvouz', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'networkedblogs',
				 w * 394, h * 394, '', 'Networkedblogs', null, null, this.getTagsForStencil(gn, 'networkedblogs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'newsvine;fillColor=#005221;strokeColor=none',
				 w * 203, h * 386, '', 'Newsvine', null, null, this.getTagsForStencil(gn, 'newsvine', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'odnoklassniki;fillColor=#F58220;strokeColor=none',
				 w * 247, h * 410, '', 'Odnoklassniki', null, null, this.getTagsForStencil(gn, 'odnoklassniki', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'oknotizie',
				 w * 237, h * 352, '', 'Oknotizie', null, null, this.getTagsForStencil(gn, 'oknotizie', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'onedrive;fillColor=#094AB1;strokeColor=none',
				 w * 356, h * 216, '', 'OneDrive', null, null, this.getTagsForStencil(gn, 'onedrive', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'oracle;fillColor=#FF0000;strokeColor=none',
				 w * 450, h * 115, '', 'Oracle', null, null, this.getTagsForStencil(gn, 'oracle', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'paypal',
				 w * 256, h * 290, '', 'Paypal', null, null, this.getTagsForStencil(gn, 'paypal', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'phone;fillColor=#36BE0F;strokeColor=none',
				 w * 289, h * 271, '', 'Phone', null, null, this.getTagsForStencil(gn, 'phone', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'phonefavs',
				 w * 322, h * 394, '', 'Phonefavs', null, null, this.getTagsForStencil(gn, 'phonefavs', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'pinterest;fillColor=#BD081C;strokeColor=none',
				 w * 384, h * 372, '', 'Pinterest', null, null, this.getTagsForStencil(gn, 'pinterest', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'plaxo;fillColor=#414F5C;strokeColor=none',
				 w * 400, h * 400, '', 'Plaxo', null, null, this.getTagsForStencil(gn, 'plaxo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'playfire;fillColor=#FDA21A;gradientColor=#FEE635;strokeColor=none',
				 w * 310, h * 308, '', 'Playfire', null, null, this.getTagsForStencil(gn, 'playfire', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'plurk;fillColor=#E9443D;strokeColor=none',
				 w * 512, h * 512, '', 'Plurk', null, null, this.getTagsForStencil(gn, 'plurk', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'pocket;fillColor=#EE4056;strokeColor=none',
				 w * 314, h * 289, '', 'Pocket', null, null, this.getTagsForStencil(gn, 'pocket', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'protopage;fillColor=#4B78C0;gradientColor=#294282',
				 w * 394, h * 400, '', 'Protopage', null, null, this.getTagsForStencil(gn, 'protopage', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'readernaut;fillColor=#000000;strokeColor=none',
				 w * 360, h * 360, '', 'Readernaut', null, null, this.getTagsForStencil(gn, 'readernaut', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'reddit;fillColor=#F3F8FC;gradientColor=#B4D2F0',
				 w * 440, h * 368, '', 'Reddit', null, null, this.getTagsForStencil(gn, 'reddit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'rss;fillColor=#F56800;strokeColor=none',
				 w * 408, h * 408, '', 'RSS', null, null, this.getTagsForStencil(gn, 'rss', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'scoopit;fillColor=#6CAB36;strokeColor=none',
				 w * 290, h * 350, '', 'Scoopit', null, null, this.getTagsForStencil(gn, 'scoopit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'scribd;fillColor=#3D3533;strokeColor=none',
				 w * 289, h * 346, '', 'Scribd', null, null, this.getTagsForStencil(gn, 'scribd', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'segnalo',
				 w * 403, h * 389, '', 'Segnalo', null, null, this.getTagsForStencil(gn, 'segnalo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sina',
				 w * 429, h * 343, '', 'Sina', null, null, this.getTagsForStencil(gn, 'sina', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sitejot',
				 w * 386, h * 330, '', 'Sitejot', null, null, this.getTagsForStencil(gn, 'sitejot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'skype;fillColor=#2AACE2;strokeColor=none',
				 w * 388, h * 394, '', 'Skype', null, null, this.getTagsForStencil(gn, 'skype', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'skyrock;fillColor=#009AFF;strokeColor=none',
				 w * 339, h * 352, '', 'Skyrock', null, null, this.getTagsForStencil(gn, 'skyrock', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'slashdot;fillColor=#026664;strokeColor=none',
				 w * 262, h * 310, '', 'Slashdot', null, null, this.getTagsForStencil(gn, 'slashdot', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sms;fillColor=#48B921;strokeColor=none',
				 w * 346, h * 320, '', 'SMS', null, null, this.getTagsForStencil(gn, 'sms', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'socialvibe;fillColor=#EE2F7F;strokeColor=none',
				 w * 250, h * 250, '', 'Socialvibe', null, null, this.getTagsForStencil(gn, 'socialvibe', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'society6;fillColor=#000000;strokeColor=none',
				 w * 374, h * 265, '', 'Society6', null, null, this.getTagsForStencil(gn, 'society6', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sonico;fillColor=#01AEF0;strokeColor=none',
				 w * 346, h * 316, '', 'Sonico', null, null, this.getTagsForStencil(gn, 'sonico', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'soundcloud;fillColor=#FE4600;strokeColor=none',
				 w * 367, h * 163, '', 'Soundcloud', null, null, this.getTagsForStencil(gn, 'soundcloud', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sourceforge',
				 w * 371, h * 372, '', 'Sourceforge', null, null, this.getTagsForStencil(gn, 'sourceforge', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'sourceforge_2;fillColor=#00547E;strokeColor=none',
				 w * 316, h * 234, '', 'Sourceforge', null, null, this.getTagsForStencil(gn, 'sourceforge', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'spring.me;fillColor=#0374B8;strokeColor=none',
				 w * 366, h * 158, '', 'Spring.me', null, null, this.getTagsForStencil(gn, 'spring me', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stackexchange',
				 w * 319, h * 395, '', 'Stackexchange', null, null, this.getTagsForStencil(gn, 'stackexchange stack exchange', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stackoverflow',
				 w * 272, h * 320, '', 'StackOverflow', null, null, this.getTagsForStencil(gn, 'stackoverflow stack overflow', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'startaid;fillColor=#409FCF;strokeColor=none',
				 w * 206, h * 213, '', 'Startaid', null, null, this.getTagsForStencil(gn, 'startaid', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'startlap;fillColor=#B9E6F0;gradientColor=#3062A2',
				 w * 410, h * 421, '', 'Startlap', null, null, this.getTagsForStencil(gn, 'startlap', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'steam;fillColor=#695D5D;gradientColor=#100E0E',
				 w * 426, h * 198, '', 'Steam', null, null, this.getTagsForStencil(gn, 'steam', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stumbleupon;fillColor=#EB4924;strokeColor=none',
				 w * 512, h * 512, '', 'StumbleUpon', null, null, this.getTagsForStencil(gn, 'stumbleupon', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'stumpedia',
				 w * 335, h * 338, '', 'Stumpedia', null, null, this.getTagsForStencil(gn, 'stumpedia', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'translate',
				 w * 342, h * 335, '', 'Translate', null, null, this.getTagsForStencil(gn, 'translate', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'tumblr;fillColor=#36465D;strokeColor=none',
				 w * 203, h * 326, '', 'Tumblr', null, null, this.getTagsForStencil(gn, 'tumblr', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'tunein',
				 w * 350, h * 350, '', 'Tunein', null, null, this.getTagsForStencil(gn, 'tunein', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'twitter;fillColor=#1DA1F2;strokeColor=none',
				 w * 400, h * 350, '', 'Twitter', null, null, this.getTagsForStencil(gn, 'twitter', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'two;fillColor=#FF6D00;strokeColor=none',
				 w * 377, h * 100, '', 'Two', null, null, this.getTagsForStencil(gn, 'two', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'typepad;fillColor=#ADB560;strokeColor=none',
				 w * 324, h * 192, '', 'Typepad', null, null, this.getTagsForStencil(gn, 'typepad', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viadeo',
				 w * 367, h * 420, '', 'Viadeo', null, null, this.getTagsForStencil(gn, 'viadeo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viber;fillColor=#7D539F;strokeColor=none',
				 w * 387, h * 426, '', 'Viber', null, null, this.getTagsForStencil(gn, 'viber', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'viddler;fillColor=#1896E0;gradientColor=#06253F',
				 w * 410, h * 106, '', 'Viddler', null, null, this.getTagsForStencil(gn, 'viddler', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'vimeo;fillColor=#1AB7EA;strokeColor=none',
				 w * 313, h * 290, '', 'Vimeo', null, null, this.getTagsForStencil(gn, 'vimeo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'virb;fillColor=#000000;strokeColor=none',
				 w * 330, h * 353, '', 'Virb', null, null, this.getTagsForStencil(gn, 'virb', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'vkontakte;fillColor=#4C75A3;strokeColor=none',
				 w * 352, h * 200, '', 'Vkontakte', null, null, this.getTagsForStencil(gn, 'vkontakte', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wakoopa;fillColor=#FF6D00;strokeColor=none',
				 w * 413, h * 224, '', 'Wakoopa', null, null, this.getTagsForStencil(gn, 'wakoopa', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'weheartit;fillColor=#FF4577;strokeColor=none',
				 w * 411, h * 348, '', 'Weheartit', null, null, this.getTagsForStencil(gn, 'weheartit', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'whatsapp;fillColor=#00E676;strokeColor=#dddddd',
				 w * 372, h * 374, '', 'Whatsapp', null, null, this.getTagsForStencil(gn, 'whatsapp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wix;strokeColor=#dddddd',
				 w * 370, h * 308, '', 'Wix', null, null, this.getTagsForStencil(gn, 'wix', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wordpress;fillColor=#00A7DA;strokeColor=none',
				 w * 333, h * 327, '', 'Wordpress', null, null, this.getTagsForStencil(gn, 'wordpress', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'wordpress_2;fillColor=#00A7DA;strokeColor=none',
				 w * 344, h * 344, '', 'Wordpress', null, null, this.getTagsForStencil(gn, 'wordpress', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xanga;fillColor=#000000;strokeColor=none',
				 w * 350, h * 190, '', 'Xanga', null, null, this.getTagsForStencil(gn, 'xanga', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xerpi;fillColor=#7F719B;gradientColor=#32264B;strokeColor=none',
				 w * 351, h * 328, '', 'Xerpi', null, null, this.getTagsForStencil(gn, 'xerpi', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'xing',
				 w * 325, h * 369, '', 'Xing', null, null, this.getTagsForStencil(gn, 'xing', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yahoo;fillColor=#65106E;strokeColor=none',
				 w * 372, h * 218, '', 'Yahoo', null, null, this.getTagsForStencil(gn, 'yahoo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yahoo_2;fillColor=#65106E;strokeColor=none',
				 w * 400, h * 233, '', 'Yahoo', null, null, this.getTagsForStencil(gn, 'yahoo', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yammer;fillColor=#0093BE;strokeColor=none',
				 w * 348, h * 298, '', 'Yammer', null, null, this.getTagsForStencil(gn, 'yammer', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yandex',
				 w * 159, h * 332, '', 'Yandex', null, null, this.getTagsForStencil(gn, 'yandex', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yelp;fillColor=#C41200;strokeColor=none',
				 w * 317, h * 415, '', 'Yelp', null, null, this.getTagsForStencil(gn, 'yelp', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'yoolink',
				 w * 396, h * 396, '', 'Yoolink', null, null, this.getTagsForStencil(gn, 'yoolink', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'youmob',
				 w * 380, h * 381, '', 'Youmob', null, null, this.getTagsForStencil(gn, 'youmob', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'youtube;fillColor=#FF2626;gradientColor=#B5171F',
				 w * 786, h * 329, '', 'Youtube', null, null, this.getTagsForStencil(gn, 'youtube', dt).join(' ')),
		 this.createVertexTemplateEntry(s + 'youtube_2;fillColor=#FF2626;gradientColor=#B5171F',
				 w * 232, h * 163, '', 'Youtube', null, null, this.getTagsForStencil(gn, 'youtube', dt).join(' '))
		]);
	};
	
})();

(function()
{
	/**
	 * Download from following URL as TSV and convert using https://jgraph.github.io/drawio-tools/tools/convert.html:
	 * https://docs.google.com/spreadsheets/d/1sAL1zn-UtmJtKPH4cLApGjRX-TRSJa5dYdfZ9NKYfRs
	 * Maps package and stencil names to additional tags.
	 */
	Sidebar.prototype.tagIndex = 'vV1bV+M6sv41rDP7gax0oHufeYQEaGYamk1o+ryxFFtJNNiWt2yTpn/9UVVJtpP4Il+YtbqJnfj7VNalVJJKpfDXjWLxdsKUkrvkZPpPvNCfR/8uwr1HJ5c8Sk9m0298DR8XBsaiTcB9fZFmKnLleBSb7WCSH3GJIYubaQ455iwIZAY0C5mtAl6iSndS3+3Yu0umFDx/ZcwvsaxlpjrQbPmbklEJH8nU2+LLJGITsUD/JNqzZi6UlwVMlYg8/VUgoo2LGP/KwvhUFGLMpp/0c4rHAbzFinmvkNWRL/Fb/HCnmvWlMjWORf5hqUuVbuVGQvY41p17k62z6RKztSyizitTDA5ZNai4lwGPfK6OW1PyKqIIKCLbLJNAhK5kT1hzf2oZKhh9quf11PW8P4UPDeSJiYD7A6V9UmIv49Kt4tw9545fcTb9KpX4LaMUa8G2fNOL7pmrVHiIfysuG6h+Z4pPLjyPJ4mGz3XiSgIk4V6mRArv9crfq76o48pSGbJUYE1k+kZ/bLhu1dN/BqA5I2rOnoS/64Al2waipZaf508bmuZXgb+QIYF+fZBAK5SQVJJY6+wwgjlxzJluUwdyW4l9lrIVS+Bnf9VOdcfUK0/jgHmACPEOVQlwJlsZOwm0XPwbHpfrdMfwC5+/8UDGIXUqrwI4E0/xna+ELn/XF11mK40SsckcT/cKoLxjHnniuP7UkPzkq0SkHN8qANQmkCvehr7UyjQDtbjk6k1g7tjk9Scq2iSV8Y5p1QctToS8gUykl5kHWQtVGdv9Uus2ZF3RD+2N4VL8fmLBayFSUpKpDTyHRof1DN9Edw66aAQ2Qp9jj+iLONANBPInY4pFKacq5vEIa1PMVSjSSm6UYS+nnJvFAda09bXYZIqaxGx6LbCp+dLLsD4BPTzRkVpfPegyZRtecK7kL5e8oxI7lqMdGMZZitU9lJFIpcJ8TnRzO9bLR1hdAth6FjyANgPa9J5rO0q9lsrdNvuyKqgnXdQoh9rnlYwvdR5V1FrMudhkaAvNlX4VFSuRUH0XgU+CrrJERKDgW/Ddcx4RZB11QN2I9Gu2sm+rM5kBSnqppKuNSBvxXxe3UYJWeL0ergZyFqRbqBNb3Wawim856pgt/uIABl1OdYzy1hIZQ7dNgPcYjZJnGEdwT5r6dsciXbyqg575xuIUOw2vqPttmDtdBagWhQzVOrefEfYivBktV1Q94q2M4DOVmbdtTZNQe7o0yfVXA9UhTxakApQD86B56/49S7egWvMevWSfmH4jZr65auB9X/71DRp/UY2Sv4PmenVAcV+2LLRBl62wStPQqr1UDuBPMhbeCdgt+/ZLJeEB1XdduTSPrpc6v9+TlIf64jakMpeQ9VumQFVr3YiV3vcb+R7kjqvllgdBL7X8uHjAah5KI1N3iiWMd7IAq7fp+r3jMq3CgTXTL0ldOzE9xSrSqX6eur3LLMGhNM+wmv8NFz0IHnlVt+UExcqT5MPNslmXYDOjupXsm3vNSRw2D6cO7QClRcEvyFQ0HNWqrpZo+R55Fe0yoa8V9969oME0JKJHHuthN2nuQ6ZSHVmLRqpUq3y0WZ8YtiN3M2yplRc1R5124FQ7NGIpwjgoW8ZtoCcghxcJrdJ2UtY/IoHm6lrgSNnYIt9X/+EekGVriQpJ8NZa8yPBJrTNQgbPxlzSC9Ate9NZr+rRz18XJ0ZXVSip6uepksCH0W2Edlfjz0IXKk5V3elhn8B+6S08aTUpW2m0EuIspYq/zq+qWN+qZzQOeAvjNMqv2nLo58Vifn2DucM2kUxSUhPdtaMd5M2mNzziCtWJHefViXNMAS1RYtLVY8QmUNIFpcVBe8umRk2U2qs7MmmFbhCqK5rwJucwApICxxRLquc4wVYtbhn55RiZiLqRUxn4v8dAbuzjNugliyJsq3qEUzfNWn5+ThbbhsuQp6phfmkPpCSOPuIgw1n76iZdRiyOlHEkcUgds/jQ2D2AXjcP1SoxX40Vnw8DAm2aI8frsVVcBt5J7EIjx9y+l2iahSucY1tLtRK+X6FOj5Hfi9li3e8ogcsFUEGODfdK/DLU2QhKBs0xD6Xesjh+bwWaKiwwQ2KsZW2QDNh91Gn6b1CZOQeYJ4HWlh2P4SdMk7XhfjKUy9Tela3NjZj/O6FJJUiHRR4PsHrVFEiBlTJNUn05aReyGndXO+wK86FZM0PWuV81DHEID5QmAmIlPboKdTcf1KWscZMLH+epvQ7ZDLBLm5hWolnAC3OpyfQp4b9JKiG7KlS32leBMvOtqkJinL/f4svUcujhOHW1RuAtmNOt8uZjDoMyCksbYjQ8b9RcSJBb8052ZQmJ5lYhbtfa4bGVLqkU5znpEmrn35mIK62CI9xkfgmrbXlpCciFleKMioB6jFgeFno9z2z669N0HLZZnVSwUtqNp0mqjmxntVLhilI3Ji3X57HozusEMyZMF6IGuTqw3c0p/z/rP1/OLuCVH6BOi0hYW7rDm7vwn7vwV79BLf2XM0xj+mHylxMY9wUkzHX+pmXnnYBlGPsK+S+6O6VfushdxXs+Ei+MXlGXYLGeT3W2VOeCg3LbJ4SXn43FdjYjGUfge1C6u/HMJKIm7034yBPhU/c3z5SyayOmZ5pBASmvuTt05DrvxLXMFC4p7b3oJ6Co6xHcafCt6lS4Ow22inqV606EOVOrIyt5nmDZkEYH59MwnOW91apyvrSVYwQK0ErDaT6P8DZfUDcO5/mzIwcX0J3y8rKcHj7xjbKLFjED4/DY3Yvg60BKFQdovQXsvX494eDxySVq1YV1mlnhIu46U5EwHYIjw1KYUWY9tgYu5atH025dofMtE6oPTsYCdZzPzeqSG4rmRRO5Zl3zaP74BEb380l5Dq80r1chRwXLgievONmqaIBiR0edRNknoQXZfkRKj9jsSmSCA4EdU76i+bYaqgqeq4Dr4QbmA088FphrFxGu9cMj5Os1XGmebyyERlg9CVENrVpcjWHEGDLzV7diSW5AVhiY+UzSwr2ogvb7ek0dn63iXmtVr2B5EAznKvT3OCoVUZKq6unbKrT+QxNdCqbD9Q+7poF8CahAc3VuX48swu4NXDFZHAcC5ls6Ymd9sHytxAaWQ7HOdIUvSR14Rjt0KqAn0+58njT3DocQyiUD65Gk8cMYgD8biD8fiP/cFy8FrXdp1aFo6SZgqH9AdWiVliopj307D2l+shS151xKWnLewReevXOR5OeeGgh6KJJKWl9foLctLNY4a1J49NH6ydTDbixspxUSToPD9QnqJ/Jt4X9nhRubYDqdypWqnGJyEUUytS4NnygDjIrS5du+9lzDNBvCNJdBQG55W21ZbwJW4RBVjTxc/U7yVdx2aO2ichMKvV1OS9gQvnBapitIHlhsZgVjpxnyQ/yyKHWzuAo2Re1iwxEcVslN6fMgEHFiZyKqxzN1+FlvvFRkBpPodYVWg87C0DitZJFnXYwyqPY1q1eHDE+6f07WvDxvreoWQggbcBa9hLqrojWrNxZkoBS18uIsbJS7jJxci0gktE3gRkof5t9TiSNwnQVhX4EmN7h0xc1Y1c/sWNW46JDM2Kp4c7vaY/2epYkouTziHHQhaJJBx91UX/fYnrVVQ470ZgrcrJe4YC8EKk0Q5U/IIrLMlF1Hpd+qNa42xJQUUCtCid7MTerZPEyOp7/Mmv6Fzc1LnKH329aU2knA8I18bXpjgx2ZcDb9uTWu3tVVqCv1ULqlriXpWPlYSTZGfrYSf1BG9KJ9AN9MNL1Ltdt4EzUOwSzBX5nwXnUPLXEzQH6xIr8GvF0drmw1klBf0JNoaZ9LDkAHfI0cWlHQ+HohEjBZQcde6145Ic9+10rRyKPrgymjDoVVMD7gAL6nOBbcSwZtxJtphxMz+dAwIs1BuuauBQ9w46O+PgE7iW7bkOAOqkXW9QN1fBdJ96BgIWBOtWfYLsEGEbLfaA/sOFqDhWcz2yV1uInuZl7so7RnYsmZwuGldetL7BcN6dfzwPaga/035CnzyebpT3xlfBTMRxfo8moJSVqfRevtUHh9O9Lc79Ec7N/qwzab0lvNpvcHZKMm8vXp6eGj07Be4qOx/rWX2dZ1uQ/NbFrsMxiJ8C+LHkz387pMA3N2ZqjbhwmWsjzhk6E6GqfxPOxNaaYaXrSyezEemWDeXs1pIMXA97OkGnpSaQvj7raOMMwdaEVYGnJ1IEe99tPs+TtOw+4G7Cf5ApZe0Ti6jZLUzAoeJ0JO4cXQXxQPd03xypDrFB8q0xLH+z9duRvfYTBrUi3uQVZ0ob973KPUwy89TM8qZmad6aC66CEjNpqRib8urpcO/Fvmk7OaL/RoXaw0H24aJGs5oa04zkk/P8z1w2/G4Rtc9cSb2U96XKzOjKUJgNn0RvPRpvXxk7mFdYII9+B+ZDKP0kyojk/9/HCPs8DaKrZTPx+VyMAcat79WPv4ZPEesVAuwE3Ex8s+WN0HpKa2j8WTlIlYib0r4y21uCFCAcWePMK24m48+XpQV1lMr2GjEJTUsPmmOwuYpX5XsslGySzGTRBw0eENHhdgViqdGDQjVjsMaGYwPXapoxvOmJPBnjD0CX7kcaAN6LHZl/rCX72PQnsHf2gj26iZkW+CHT2bvyvm4cremNS0HQ6VV24jd8aCe4weDUZdSHQNke+wAoMaPcRN23BLw/BrqfK4J3nYgNJ3o1BjhfJePzaJJ64zZL8HGikVa9I3GPL9KCHgi9koPQr17cWdfp62Q+KecubZ7RL5Q/2ZtbS+f4qZ+XFJLJ+Wg/gjGZ2alvmSxHqku4bNVVJl2Cuu4aK9zST+K064+hjIxQauwRnkPHDN9J+vewEfjhkm95zWsNOoNoRLGUJLfZgtHsX3ePFNdA9T25WkCCe2epv7MVhBs+yiQGKvsrADggO9MGp6Vz76yXyT3pH+GTWdJa5E0rLoR73Y1SXU2sI8WRVBgGrdztxYtfwRi5OtTD8sgWcZZCH/APoleObk/VSxlO0wH9TGC7EDTGSkD05gNt0JDKBCO8qTthSl3XjeN93B6Xgi8eTERtIBolJUnfpafgCbXCpt9eCLkwcgOmM067FDCrvbGjIzl6Azy93ix4l1JtmBUwXSZJFIK9lqeZYhw/W4y2I/4VZmSbMNRSTWEyrBcov1S8VbrliQTG4vode60zbZWjEK9VF4TaXGTxG8w8ilKvYGJCIiCCZzsTyfTvfTib2hL/BkJB2JtNYXtSffXcnnrERJDmlF7u67sxYJuqcjPCVtfJ/ih0E1BOfFSkLXiduTG6wyndvkAkjhI8YT3E5YeeMS5165IxEuPesfNhZhbPcejUWYRWaVpCjwkdrGMovB3TPnGok2j8aylwO0Tt6X0u5JGU3IH4eNawjZsx51oMuZ1uOKjVf2FAXkEqKfjlmlaitTTW9TxY1xUwPLHkqIWpVMPk1vrsC3Yy6vTnCnfdYy0dBMd/bpT9hV9Y8FyfVHaWkij90amKpbuumd3P9RcriV4qMTKwIx5rtB72x+Dc64a6H4jmyWYpe9oYcX3C3v/hgjnSPyMThtJLfx87wIKpTneSkRnTHPy/nZdDr9o2uCvs5vCNSH8+fmugtsAmPZoIQMZFukGWLYZit6xQ0trEATnF6yhMNWLQrNt82aV0rqiObw/WCWYWhreA9jOVx62jQuQh2HdTpIINR/J//m71DY+6GhGxGPD0v9T/+s4jqH4SNMZRRJJ2S+pudpJWO3Bbm9bgWj9Hlo+hEwcXXloCCJD8bgzT0lW2U7YvoqZZrbzeazO0sedzMP7X37UJLP44FLa6ri9TkFRfMrFsNcGJZy3fn98kgm1q+7DaDQ1oZqouwycRukFD+0dNmOgmiRtj46JoQQiFoc6qE3zdklpmeydmfxSwdGCOeWi9Gw3aQOW5ZhXeZyJcFB346vcmAIX5xYT8lmDuyBqGnboA9tmJ3uIAKaf9iJtahB3CBCP+hRwLIJW0E0JS+dLC7A6PXFRlDIfaZNaknR6SMIn18Rr6eBjIcZBGvTFR4mWHSF/dUSlreKRZcDJbvSbSZu26NUxXCX/Tq1suxL0ixZG+kRXTcGE5zWRDC7CCE+DO4KDeMAIk6Owzgbxvh0YaSSJW49VoO9PLpOwK4Xs4BZk4gD/exj6c8+ih62RNkVwgcTBi6pXQM64vFYzDxhbML8pjt6Ms+xVFSZcxOpIZmNQQLZTk/J4J2m/is4OxDCXtqsObZnO8nnMaS6M60eHRlLXDC+L5KC7gz8SzjpzzCkwIhcG5cUOvDj0nzA2NZ5mrFMhHOavtAWCg1TyDPGCWXy9DTk3pZF+NXslE5iWeYRi3Z1zj4udN9k5if53Flx1ZfvIUu25XHePfR8EazqB3ioEYZ7aNjY2JH9+z67VkgNe3SbuSkeNo1MtR4aXfYK/r7SC+6df/pzcjE/vZgTY25F5KZFR6JFLVFhtrjzLcYkw7ganTvbEno2vRQ0xrddVV+2y8JYWlsDqiveRATthV9cHGRshU3pTlZRfQbyHdWigq/G1G2hFOs1V/nu8GFV4Sry1HuMq/KR10EJG/hXMaTkv8m+6BddDMLDWRX0jWQVjqp1aLTFyBSy152xk1uLNIY0xZQ5cjPownM2Es/nITy0c16rX25fTSgzMz+Qa9aLy8bXodKqjbbTjgelx7UoRveGcenSsf3t1zm8q6t7LfAJHKiw1Zkh6dQJ8F/5ZnzmzKEKTpQwu8YD2B2viSbXWWID2egmMogDC4tz50ZVSYKjoVUiA+7eOiuJzgdJcxsEGSzYmYNQLrMA5kOE/RZYbYAq/FzRA53SwEBXlPWWS5ST7S61YZyNyGjOTj3MAGI7zo8++XDPcYhq4n61JjGE3lTSEZKQyZqnCZQdXZ7AWRENoTkqsJMFLeXAvD4sQH1fXl/Bqsf9yd4wDOze6DDgd09q2MxWGm31os7JbucjCbvPOKqMsIaAMfx1BX4dU9SHA+KhEt+fWlipuD6dNAzIezHORmc8G53xfHTGz6MzfhnC+FBX1rUTIb0YZ6Mzno3OeD464+fRGb/0Z4Qi6Ns/zEbXCTWMA3RCDeMAnVDDOEAn1DAO0Ak1jAN0wmx0nVDDOEAn1DAO0Ak1jAN0Qg3jAJ1Qw9hHJ8g4lS9mPjMSXjL5E9dvN+Yw6EUeOjfhb7VHDPVlzX35Fw+lFHzuiZD8KY7PCXJK7Z817xCJWkeBvqT7r2ASGP4G364WB6MwHorUnjl4vMjQgXQ2MilQnTIvRdcXjPc9h+AMiUfhRwJzTFTu+QVT7DhbezDJ55Tad/3FqSezmDzI4Pfirl+5IiWuboqEZtDgkb0v+hE/bGUqbbbGcFOdzbV8L3p0iAGhcAy6vxzbYe01DryXgPk+V3BMrC6g71kaZzaqZtv5sk5Es95EI8jSWwrYY/GS6DZglrWlccEpfTGEa3Lz9L1oDu0Nwcy/pRmG8pfrNdxs35Wphc7J3t7MbT9tzwnAtAw/+gWl5rsSf/f3MwnNPjyhe3S7u725LN4ryYL91FYilnTAV2XT7ZfW7L+Y1tl/Ma3zj03r4f7hv1Zee2l9cHntpfXB5bWX1geXF6goKqgO/XX3BGYfmMCt9cLDLWhV2qaeUXHKOvT05N16/URsdIf8kuRxh+mqH3yCK7ZLy8BgLdFMAXvm5KMepIsSqTkdAJfLx2SdfQjr2Uiszxhs+00GaVvs7gYOXN8dzDHrTpJuYZ8W2JQvFDIXHY2azs9woCDr1HhwW+O00qG7ki9XN0md8nHF701b/KtyOuk/rpNULbSzEWgfqqXtOuxuoewzI7JjbxzWqNGP2Vw3YoVM/pyAEsUlaa/WSfzw6ckFNidP8TZnhTIGA6tgTEaMZJCKkCL4hCLym5atSxyXFLNG8RgdqpwxO7NbVumqLzPS8jtRcRprNQGMjpMtuvWs5PFB2pUgakjMRJPp9pZSvmJSsulU4AoYiFZEJoBYvY3ui2WsEnxtTtpKpQyqXrMGOmcBj3wTJ929Osy3GCbAF4mXJUn9BoVj4H79sTnsAJShblEYVsMXzWPEPRQaKTQuxKkSc+yxHoynouKMgkoSDHf2H/bGXJM1p000B+arBHLjo6CrnGzRHWVYcSiIJytO826BYYdUUMQsafIk2SPY4YyfDXWDhiB3rbZX9ujr2fQfV2GcvuPuyzxusOLMrYmXeUzYYWDKokqGOpJ3tMgxfriJZlEs6TedLVPiwEPn91w4XFO/lgHpF6k2LBK/nUuegMZ1reXMjT2YMlo1MvHWdZk7IW9YhqUDDbjZXiiDAjo6bqM/a3dwHqG+cjp5aMu1JV23E+gYJVGzNIUiOcJ8K7mZHDu5YOnv1YxWuohO7i7FDnWTwwZvyk85at38s49+xdFYzHyjZisPp6zGyldyS7oxZyLVhIuvwZtT7YvWWzrXnh/Hj6+kyLEe9S7FIU/O4GRPBsPjgC7HKXmTZJlD8nS6nlZqchOJPIi7Em18xTmF+eKFmyCSNkzk53VF/0OfumAiabrcNFOrVp4EZlSfBd9xOrQDHR3r+kAZ0/bDNtI30LF4jlCusBiemOP8gvcSuxY9osKcDbMEfReBIhCHKqiK4Lu2daL8LLBvJq6WNmZx7UnJPIJDZc5XMeI2JtpgwSuMyjqU4uj87B1koIOZUU0n3pgH0hoPdCchHnne7a4Vx3A+2rrmWOsVT5XD2z8WzxcUOasjBT3WX4hlOdOq8/UwPz10f99wc15LJeuWwgxmsXkfpzxd6qFCTKpwTv3PKnOu3kvdCZuz2lLSJSYWnE+WUhtcjxjyfdGN28ePoSnmhKp2yqwFyXhXRONsscxrGI4GLL5iNeeJHsMzbKrYTB1tryoac7odau6Gw0qOcfJobOCGU9rQ83ATuu4b3im67Uo49/M/4s7V8gcFu4EDLZkN/cE8t+4tj0jYrv/3m58DqVmQlhl1BxWRoavAP1lA0ZCobZnhuQNOXEPfW9ry3QLDsA9ze15gcYSgEyw/rb4UVJOmdVxMOuToPKAjFGkLe0KfC+TqV0zGigW1lgTCzHmiXVL6pmut0Y82XxNzeJQbwaPNCp+3euSXUMYm6iLq0p4Z9o+vUonf0GQCGBrWnBfmwPMMbcbryYKzfdB2t7z2zPgjUDe9jhhUL035tEEAnVM4YT5s/RIJ8dccDVqB88zUEW3lzqeRHHAKxmbB5F4PPU+1HfV2sje5507QBwvHclIoEjydTFtegtsjbu1nO0sxrWQuXVAwowseJnbKxVy6QPVzGUm9ytIUp160/j6hKMPgQ6Z/hwalvzSWRkjftNAaNZfgfq0LU2Pi3CDuSPCVNFBX/A03PRrO1PIUNZfpqk5aOqdKQjMYtaZAMSBsFkZXCFwOYaus/aj6GA9DjIU5p7XY4JV3FEqaSNs82oiIc7XfgMtMs/GoJgz2dJqVHXsN+ZkK3ZtVWmUV2MmFRWqdN1cySU4vOQsxBBjcgaKoOo/Wge0aFsFPLwOGB74+MN8PcLquIY7tTUEZx0yrQt0WnNtRAcagT2Kd0TRBcdcOlGEMhyKasBX5XRcgrQ1fCBOxoGDotEp8SDq3L4E7c0q8s+mp/v+UqZXA02wXenxJ3pmqbU3qII2X0xeRyI7vrbJkC3HmNrqmmjjF+N1J+Vww/NF+UswjwrlxTubwDVoikLU3NikIH2yTOCCsFVjnCs2i4gV+vjcNYQBDbbFolfBustFnoYSaXJmVPxBXmqZxMf+jT4VoolwgpfsifJkPw02zcWTb4+oj1JpzO9GNV61FSlu5HTd1lwCTb+LvTOBhrITTAl8KiZtmye5bieaYHkSWj7TWuY9uCySQu5eER4n1Y4xcmtqWs/SF/4Il6A29bn5zglPnaX7hzjK5Fr/IFzhVzOzWfMpWHPYIfwWm2fSqlEqardpVymESRzzQ00g8mROT+mNM4msYn/jFW4DCuGbRqGkc5lVv8h+Q8VsWlwXune29dq4DMNRVAOsTXjg+PrmNTr9Rj/Mo9cgFHOzvDF5EQZv/fiXREuwgrzsRGVQloqF4nNzzOlFk5AEOn24P697Wx3kkA/ErJpX2UAlHi8jqDHPTmlii65d+uxfTG9OBMLbXbIa+wfHQOPahK1fAZCGzFc6UQQBOxXEX8ROzS2UpEzTw9ASEF255bcuJeGzOz1aYYVyDZdG9hZTpH2MQlfIJoteOxQn9GFBKPZIMRyZ9lHL9AZT6A8aWIwv9pgeT/phcVBNHK/+F0MarP2au7jGStB9SIa5ZgAEzxqQMpI2cMVp2HHAOKD7FvFcTj9SGiJ6zlAXvuA5rR7t5aLSz6WyqP9Y0bQJbz7Z8F/CU3G+8V/LNGCmtT0PT6goCt1k6cGeDp5tFNGjIT/p7D1c4Y2Z+r8ZPWASb8HAaIzLb8VKZKVolpquw/GMzzQQDKyzkxpxbthK+37IhkvBrKf2apFtxkznDoL6F7iIfHVo6WuG9E881w7K9JllC3uJEU0I+8iRlmWKR3aS1buBoJZh1IyDPHY+WYXM3npD7wiNLYyuT+DjkXC2Lzk/crPkNj83w9A3EThK/m2Ik1zDdYnTl38zOLYrSfTempfQoAJpzXPIaoqfFAqoXrBIcxH7OvcV9ztbmmcOw2Qe8ur1lmvOKKczzGCLXYLBW3Xpb65wB/yvThUNnbFj4Bste10YFI+L3CsJqqjtGcTy/0QvoBsD8ZnfKAzjat8PF4MrL1PsoVOSqk+gBdhCIlmWsPeQ9j9OMQp8PFeIhyNDzfzDRkpl9i8OZIrlbB+wVntw1LQRUYfFYH9zIlLYsq1XgZj1xZz1x551xP7QazUapyM98KJFTOP1jwOSa6+4UC1d2wt0RqiPG1geTZifcrDPuJ76S6Sd5P+ysCzZha45HDGzZ7yqTqg4B1kw3M6bA6Y4qJGdPsGs3tPYGn9q6a+0ZEk/AHMhE98ASZxpA+KDiFKsKaCwVncMIF6VPBxSElZRowGqzNgxJ+FjWrrtWMPybvTPcfiJ3ZqVbkpcpi2Rd4IQ9gkc892YVMLOgkZ+Do/If2rPPUu1M6ofSOKGfT9DvCDbwkH3wxrfCazclDX7JBA33MMVE37VNTx/AI2Gm9iCKhkzI+MlXK4tDtFJwkwJNcbyhoIba4xFO9YHjqo298abNbhdTwXK86h5Z56YyxZTk9x04IiwgResMib0rXzeGPtwnszXWbjXrUmtL4Jk7OOXetvY0mirjsYHl4DA4OiMyLB0guX/sYlocSlfL6b4+fwR9XMJhQbAEBG1AUKBSsr4SOJoA9VETwVP+9qY4Gk6faQTPhoDPhoDPh4A/dwHDLkeoh6UG/cbNaRJwim03gskF+ooXWY/XXcUos8xGYTkbheV8FJbPo7B8GYXlz/4slxhOGAs5WwVYUfInelHNxqM6G4/qfAyqOcuDd+vBnIPXdwPLbBSWs1FYzgeywHGNqcrQU3ItcArJ3nahuVG412Q2farQZjUF1kq6pNXYSx6gCaXvVnTZkccsOTEVki8QfOL8vKNFd0inmIjGaniWbJSmZ8lGaXyaLBzxLcPxXhKqJwk2oHJZmtk4NGfj0JyPQ/N5HJov49D82Z3GGEA1iwB1kAk5186m91cneKxMuj3ltOcWb3jj/ttqpp85044XTOa6C9MSZEpkVsiENz1kWv7MmYwceNNBpku22dBgIMjslTNUrdAVZ0nbSbZMKK8lntw+AYRumE0vsLtYyuxNj0ZLfBDSISldpo2nR+wx01YS773kwXOCMeLcFgkMy1XA34x3RyDWHV4MdwaTF7DdruWIxPmiB6bMfFGXGSfD8GC2eno2CypPNKvGQsbjjBHlepcc/xHrMakgrxh7cfDv/wE=';

	/**
	 * See etc/build/README on how to update this file
	 */
	Sidebar.prototype.searchFileUrl = 'search.xml';

	/**
	 * Overrides gear image URL.
	 */
	Sidebar.prototype.gearImage = GRAPH_IMAGE_PATH + '/clipart/Gear_128x128.png';
	
	/**
	 * 
	 */
	Sidebar.prototype.defaultEntries = 'general;images;uml;er;bpmn;flowchart;basic;arrows2';
	
	/**
	 * 
	 */
	Sidebar.prototype.signs = ['Animals', 'Food', 'Healthcare', 'Nature', 'People', 'Safety', 'Science', 'Sports', 'Tech', 'Transportation', 'Travel'];

	/**
	 * 
	 */
	Sidebar.prototype.gcp = ['Cards', 'Big Data', 'Compute', 'Developer Tools', 'Extras', 'Identity and Security', 'Machine Learning', 'Management Tools', 'Networking', 'Storage Databases'];
	/**
	 *
	 */
	Sidebar.prototype.rack = ['General', 'APC', 'Cisco', 'Dell', 'F5', 'HP', 'IBM', 'Oracle'];

	/**
	 *
	 */
	Sidebar.prototype.pids = ['Agitators', 'Apparatus Elements', 'Centrifuges', 'Compressors', 'Compressors ISO', 'Crushers Grinding', 
                              'Driers', 'Engines', 'Feeders', 'Filters', 'Fittings', 'Flow Sensors', 'Heat Exchangers', 'Instruments', 'Misc',
                              'Mixers', 'Piping', 'Pumps', 'Pumps DIN', 'Pumps ISO', 'Separators', 'Shaping Machines', 'Valves', 'Vessels'];

	/**
	 *
	 */
	Sidebar.prototype.cisco = ['Buildings', 'Computers and Peripherals', 'Controllers and Modules', 'Directors', 'Hubs and Gateways', 'Misc',
	                           'Modems and Phones', 'People', 'Routers', 'Security', 'Servers', 'Storage', 'Switches', 'Wireless'];
	
	/**
	 *
	 */
	Sidebar.prototype.sysml = ['Model Elements', 'Blocks', 'Ports and Flows', 'Constraint Blocks', 'Activities', 'Interactions', 'State Machines', 
	                           'Use Cases', 'Allocations', 'Requirements', 'Profiles', 'Stereotypes'];

	/**
	 *
	 */
	Sidebar.prototype.eip = ['Message Construction', 'Message Routing', 'Message Transformation', 'Messaging Channels', 'Messaging Endpoints', 
	                         'Messaging Systems', 'System Management'];

	/**
	 *
	 */
	Sidebar.prototype.gmdl = ['Bottom Navigation', 'Bottom Sheets', 'Buttons', 'Cards', 'Chips', 'Dialogs', 'Dividers', 'Grid Lists', 'Icons', 'Lists', 'Menus', 'Misc', 'Pickers', 
	                          'Selection Controls', 'Sliders', 'Steppers', 'Tabs', 'Text Fields'];

	/**
	 *
	 */
	Sidebar.prototype.aws2 = ['Analytics', 'Application Services', 'Compute', 'Database', 'Developer Tools', 'Enterprise Applications', 'Game Development', 'General', 'Internet of Things',  
	                          'Management Tools', 'Mobile Services', 'Networking', 'On-Demand Workforce', 'SDKs', 'Security and Identity', 'Storage and Content Delivery', 'Groups'];

	/**
	 *
	 */
	Sidebar.prototype.aws3 = ['Analytics', 'Application Services', 'Artificial Intelligence', 'Business Productivity', 'Compute', 'Database', 'Desktop and App Streaming', 'Developer Tools', 
	                          'Game Development', 'General', 'Groups', 'Internet of Things',  
	                          'Management Tools', 'Messaging', 'Migration', 'Mobile Services', 'Networking and Content Delivery', 'On Demand Workforce', 'SDKs', 'Security Identity and Compliance', 'Storage'];
	
	/**
	 * 
	 */
	Sidebar.prototype.office = ['Clouds', 'Communications', 'Concepts', 'Databases', 'Devices', 'Security', 'Servers', 'Services', 'Sites', 'Users'];

	/**
	 * 
	 */
	Sidebar.prototype.veeam = ['2D', '3D'];

	/**
	 * 
	 */
	Sidebar.prototype.archimate3 = ['Application', 'Business', 'Composite', 'Implementation and Migration', 'Motivation', 'Physical', 'Relationships', 'Strategy', 'Technology'];

	/**
	 * 
	 */
	Sidebar.prototype.electrical = ['LogicGates', 'Resistors', 'Capacitors', 'Inductors', 'SwitchesRelays', 'Diodes', 'Sources', 'Transistors', 'Misc', 'Audio', 'PlcLadder', 'Abstract', 'Optical', 'VacuumTubes', 'Waveforms', 'Instruments', 'RotMech', 'Transmission'];

	/**
	 *
	 */
	Sidebar.prototype.configuration = [{id: 'general', libs: ['general', 'misc', 'advanced']}, {id: 'uml'}, {id: 'search'}, {id: 'er'},
	                                   {id: 'ios', prefix: 'ios', libs: [''/*prefix is library*/, '7icons', '7ui']}, 
	                                   {id: 'android', prefix: 'android', libs: [''/*prefix is library*/]}, {id: 'aws3d'},
	                                   {id: 'flowchart'}, {id: 'basic'}, {id: 'arrows'}, {id: 'arrows2'}, {id: 'lean_mapping'}, {id: 'citrix'}, {id: 'azure'}, {id: 'network'},
	                                   
	                                   {id: 'mscae', prefix: 'mscae', libs: ['Cloud', 'Enterprise', 'General', 'Intune', 'Other', 'System Center', 'Deprecated']},
	                                   
	                                   {id: 'bpmn', prefix: 'bpmn', libs: [''/*prefix is library*/, 'Gateways', 'Events']},
	                                   {id: 'clipart', prefix: null, libs: ['computer', 'finance', 'clipart', 'networking', 'people', 'telco']},
	                                   {id: 'eip', prefix: 'eip', libs: Sidebar.prototype.eip},
	                                   {id: 'mockups', prefix: 'mockup', libs: ['Buttons', 'Containers', 'Forms', 'Graphics', 'Markup', 'Misc', 'Navigation', 'Text']},
	                                   {id: 'pid2', prefix: 'pid2', libs: ['Agitators', 'Apparatus Elements', 'Centrifuges', 'Compressors', 'Compressors ISO', 'Crushers Grinding', 
	                                          	                          'Driers', 'Engines', 'Feeders', 'Filters', 'Fittings', 'Flow Sensors', 'Heat Exchangers', 'Instruments', 'Misc',
	                                        	                          'Mixers', 'Piping', 'Pumps', 'Pumps DIN', 'Pumps ISO', 'Separators', 'Shaping Machines', 'Valves', 'Vessels']},
           	                           {id: 'signs', prefix: 'signs', libs: Sidebar.prototype.signs},
           	                           {id: 'gcp', prefix: 'gcp', libs: Sidebar.prototype.gcp},
           	                           {id: 'rack', prefix: 'rack', libs: Sidebar.prototype.rack},
           	                           {id: 'electrical', prefix: 'electrical', libs: Sidebar.prototype.electrical},
           	                           {id: 'aws2', prefix: 'aws2', libs: Sidebar.prototype.aws2},
           	                           {id: 'aws3', prefix: 'aws3', libs: Sidebar.prototype.aws3},
           	                           {id: 'pid', prefix: 'pid', libs: Sidebar.prototype.pids},
           	                           {id: 'cisco', prefix: 'cisco', libs: Sidebar.prototype.cisco},
           	                           {id: 'office', prefix: 'office', libs: Sidebar.prototype.office},
           	                           {id: 'veeam', prefix: 'veeam', libs: Sidebar.prototype.veeam},
           	                           {id: 'cabinets', libs: ['cabinets']},
           	                           {id: 'floorplan', libs: ['floorplan']},
           	                           {id: 'bootstrap', libs: ['bootstrap']},
	                                   {id: 'gmdl', prefix: 'gmdl', libs: Sidebar.prototype.gmdl},
           	                           {id: 'archimate3', prefix: 'archimate3', libs: Sidebar.prototype.archimate3},
           	                           {id: 'archimate', libs: ['archimate']},
           	                           {id: 'webicons', libs: ['webicons', 'weblogos']},
           	                           {id: 'sysml', prefix: 'sysml', libs: Sidebar.prototype.sysml}];
	
	/**
	 * Adds hint for quick tutorial video for certain search terms.
	 */
	var siderbarInsertSearchHint = Sidebar.prototype.insertSearchHint;
	
	Sidebar.prototype.insertSearchHint = function(div, searchTerm, count, page, results, len, more, terms)
	{
		if (terms != null && page == 1)
		{
			var hintText = null;
			
			// Adds hint for text inserts
			if (mxUtils.indexOf(terms, 'text') >= 0)
			{
				hintText = 'Double click anywhere in the diagram to insert text.';
			}
			else
			{
				// Checks if any of the following keywords are in the search terms
				var words = ['line', 'lines', 'arrow', 'arrows', 'connect', 'connection', 'connections',
				             'connector', 'connectors', 'curve', 'curves', 'link', 'links', 'directed',
				             'directional', 'bidirectional'];
				
				for (var i = 0; i < words.length; i++)
				{
					if (mxUtils.indexOf(terms, words[i]) >= 0)
					{
						hintText = 'Need help with connections?';
						break;
					}
				}
			}
			
			if (hintText != null && !this.hideSearchHint)
			{
				var link = document.createElement('a');
				link.setAttribute('href', 'https://www.youtube.com/watch?v=8OaMWa4R1SE&t=1');
				link.setAttribute('target', '_blank');
				link.className = 'geTitle';
				link.style.cssText = 'background-color:#ffd350;border-radius:6px;color:black;' +
					'border:1px solid black !important;text-align:center;white-space:normal;' +
					'padding:6px 0px 6px 0px !important;margin:4px 4px 8px 2px;';
				mxUtils.write(link, hintText);
				
				// Adds close button
				var img = document.createElement('img');
				img.setAttribute('src', Dialog.prototype.closeImage);
				img.setAttribute('title', mxResources.get('hide'));
				img.className = 'geDialogClose';
				img.style.position = 'relative';
				img.style.cursor = 'default';
				img.style.top = '1px';
				img.style.right = '0px';
				
				mxEvent.addListener(img, 'click', mxUtils.bind(this, function(evt)
				{
					link.parentNode.removeChild(link);
					this.hideSearchHint = true;
					mxEvent.consume(evt);
				}));
				
				link.appendChild(img);
				div.appendChild(link);
				
				// Shows hint only once
				this.hideSearchHint = true;
			}
		}
		
		siderbarInsertSearchHint.apply(this, arguments);
	};

	/**
	 * Toggle palette.
	 */
	Sidebar.prototype.togglePalettes = function(prefix, ids)
	{
		this.showPalettes(prefix, ids);
	};

	/**
	 * Toggle palette.
	 */
	Sidebar.prototype.togglePalette = function(id)
	{
		this.showPalette(id);
	};
	
	/**
	 * Shows or hides palettes.
	 */
	Sidebar.prototype.showPalettes = function(prefix, ids, visible)
	{
		for (var i = 0; i < ids.length; i++)
		{
			this.showPalette(prefix + ids[i], visible);
		}
	};

	
	/**
	 * Shows or hides a palette.
	 */
	Sidebar.prototype.showPalette = function(id, visible)
	{
		var elts = this.palettes[id];
		
		if (elts != null)
		{
			var vis = (visible != null) ? ((visible) ? 'block' : 'none') : (elts[0].style.display == 'none') ? 'block' : 'none';
			
			for (var i = 0; i < elts.length; i++)
			{
				elts[i].style.display = vis;
			}
		}
	};
	
	/**
	 * 
	 */
	Sidebar.prototype.isEntryVisible = function(key)
	{
		for (var i = 0; i < this.configuration.length; i++)
		{
			if (this.configuration[i].id == key)
			{
				var id = (this.configuration[i].libs != null) ? ((this.configuration[i].prefix || '') + this.configuration[i].libs[0]) : key;
				var elts = this.palettes[id];

				if (elts != null)
				{
					return elts[0].style.display != 'none';
				}
			}
		}
		
		return false;
	};
	
	/**
	 * 
	 */
	Sidebar.prototype.showEntries = function(stc, remember, force)
	{
		this.libs = (stc != null && (force || stc.length > 0)) ? stc : ((urlParams['libs'] != null &&
			urlParams['libs'].length > 0) ? decodeURIComponent(urlParams['libs']) : mxSettings.getLibraries());
		var tmp = this.libs.split(';');
		
		for (var i = 0; i < this.configuration.length; i++)
		{
			// Search has separate switch in Extras menu
			if (this.configuration[i].id != 'search')
			{
				this.showPalettes(this.configuration[i].prefix || '', this.configuration[i].libs || [this.configuration[i].id], mxUtils.indexOf(tmp, this.configuration[i].id) >= 0);
			}
		}
		
		if (remember)
		{
			mxSettings.setLibraries(stc);
			mxSettings.save();
		}
	};

	/**
	 * Overrides the sidebar init.
	 */
	Sidebar.prototype.init = function()
	{
		// Defines all entries for the sidebar. This is used in the MoreShapes dialog. Create screenshots using the savesidebar URL parameter and
		// http://www.alderg.com/merge.html for creating a vertical stack of PNG images if multiple sidebars are part of an entry.
		this.entries = [{title: mxResources.get('standard'),
            			entries: [{title: mxResources.get('general'), id: 'general', image: IMAGE_PATH + '/sidebar-general.png'},
            			          {title: mxResources.get('arrows'), id: 'arrows2', image: IMAGE_PATH + '/sidebar-arrows2.png'},
            			          {title: mxResources.get('basic'), id: 'basic', image: IMAGE_PATH + '/sidebar-basic.png'},
            			          {title: mxResources.get('clipart'), id: 'clipart', image: IMAGE_PATH + '/sidebar-clipart.png'},
            			          {title: mxResources.get('flowchart'), id: 'flowchart', image: IMAGE_PATH + '/sidebar-flowchart.png'}]},
            			{title: mxResources.get('software'),
            			entries: [{title: mxResources.get('android'), id: 'android', image: IMAGE_PATH + '/sidebar-android.png'},
            			          {title: mxResources.get('bootstrap'), id: 'bootstrap', image: IMAGE_PATH + '/sidebar-bootstrap.png'},
            			          {title: mxResources.get('entityRelation'), id: 'er', image: IMAGE_PATH + '/sidebar-er.png'},
            			          {title: mxResources.get('ios'), id: 'ios', image: IMAGE_PATH + '/sidebar-ios.png'},
            			          {title: mxResources.get('mockups'), id: 'mockups', image: IMAGE_PATH + '/sidebar-mockups.png'},
            			          {title: mxResources.get('uml'), id: 'uml', image: IMAGE_PATH + '/sidebar-uml.png'}]},
            			{title: mxResources.get('networking'),
            			entries: [{title: mxResources.get('aws'), id: 'aws3', image: IMAGE_PATH + '/sidebar-aws3.png'},
            			// TODO: Add isometric containers  		                          
            			          {title: mxResources.get('aws3d'), id: 'aws3d', image: IMAGE_PATH + '/sidebar-aws3d.png'},
            			          {title: mxResources.get('azure'), id: 'azure', image: IMAGE_PATH + '/sidebar-azure.png'},
            			          {title: 'Cloud & Enterprise', id: 'mscae', image: IMAGE_PATH + '/sidebar-mscae.png'},
            			          {title: mxResources.get('cisco'), id: 'cisco', image: IMAGE_PATH + '/sidebar-cisco.png'},
            			          {title: 'Citrix', id: 'citrix', image: IMAGE_PATH + '/sidebar-citrix.png'},
            			          {title: 'Google Cloud Platform', id: 'gcp', image: IMAGE_PATH + '/sidebar-gcp.png'},
            			          {title: 'Network', id: 'network', image: IMAGE_PATH + '/sidebar-network.png'},
            			          {title: 'Office', id: 'office', image: IMAGE_PATH + '/sidebar-office.png'},
            			          {title: mxResources.get('rack'), id: 'rack', image: IMAGE_PATH + '/sidebar-rack.png'},
            			          {title: 'Veeam', id: 'veeam', image: IMAGE_PATH + '/sidebar-veeam.png'}]},
            			{title: mxResources.get('business'),
            			entries: [{title: 'ArchiMate 3.0', id: 'archimate3', image: IMAGE_PATH + '/sidebar-archimate3.png'},
            			          {title: mxResources.get('archiMate21'), id: 'archimate', image: IMAGE_PATH + '/sidebar-archimate.png'},
            			          {title: mxResources.get('bpmn'), id: 'bpmn', image: IMAGE_PATH + '/sidebar-bpmn.png'},
            			          {title: mxResources.get('leanMapping'), id: 'lean_mapping', image: IMAGE_PATH + '/sidebar-leanmapping.png'},
            			          {title: mxResources.get('sysml'), id: 'sysml', image: IMAGE_PATH + '/sidebar-sysml.png'}]},
            			{title: mxResources.get('other'),
            			entries: [{title: mxResources.get('cabinets'), id: 'cabinets', image: IMAGE_PATH + '/sidebar-cabinets.png'},
            			          {title: mxResources.get('eip'), id: 'eip', image: IMAGE_PATH + '/sidebar-eip.png'},
            			          {title: mxResources.get('electrical'), id: 'electrical', image: IMAGE_PATH + '/sidebar-electrical.png'},
            			          {title: mxResources.get('floorplans'), id: 'floorplan', image: IMAGE_PATH + '/sidebar-floorplans.png'},
            			          {title: mxResources.get('gmdl'), id: 'gmdl', image: IMAGE_PATH + '/sidebar-gmdl.png'},
            			          {title: mxResources.get('procEng'), id: 'pid', image: IMAGE_PATH + '/sidebar-pid.png'},
            			          // TODO add to mxResources
            			          {title: 'Web Icons', id: 'webicons', image: IMAGE_PATH + '/sidebar-webIcons.png'},
            			          {title: mxResources.get('signs'), id: 'signs', image: IMAGE_PATH + '/sidebar-signs.png'}]}];

		// Uses server-side stencil search if online
		this.addStencilsToIndex = this.editorUi.isOffline();
		
		// Contains additional tags for shapes
		this.shapetags = {};
		
		// Adds tags from compressed text file for improved searches.
		if (this.tagIndex != null)
		{
			var text = this.editorUi.editor.graph.decompress(this.tagIndex);
			var lines = text.split('\n');
			
			for (var i = 0; i < lines.length; i++)
			{
				if (lines[i] != null)
				{
					var tags = lines[i].split('\t');
					
					if (tags.length > 1)
					{
						var key = tags[0].toLowerCase().replace(' ', '_');
						var value = mxUtils.trim(tags.slice(1, tags.length).join(' ').toLowerCase());
						
						if (value.length > 0)
						{
							this.shapetags[key] = value;
						}
					}
				}
			}
		}

		this.initPalettes();
		
		// Loads search index to avoid having to pre-parse the stencil files
		// before they are used for stencils that are not programmatically added
		if (!this.editorUi.isOffline())
		{
			mxUtils.get(this.searchFileUrl, mxUtils.bind(this, function(req)
			{
				var node = req.getDocumentElement();
				
				if (node != null)
				{
					var shapes = node.getElementsByTagName('shape');
					
					for (var i = 0; i < shapes.length; i++)
					{
						var style = shapes[i].getAttribute('style');
						var shapeStyle = this.extractShapeStyle(style);
						
						if (style != null && shapeStyle != null)
						{
							var lastDot = shapeStyle.lastIndexOf('.');
							
							if (lastDot > 0)
							{
								var pkg = shapeStyle.substring(0, lastDot);
								var stc = shapeStyle.substring(lastDot + 1, shapeStyle.length);
								var tags = this.getTagsForStencil(pkg, stc, shapes[i].getAttribute('tags'));
								
								// TODO: Use shapetags for programmatic stencils
								if (tags != null)
								{
									// Converts stencil name to lowercase
									var semi = style.indexOf(';');
									style = 'shape=' + pkg + '.' + stc.toLowerCase() + ';' +
										((semi < 0) ? '' : style.substring(semi + 1));
									
									this.createVertexTemplateEntry(style, parseInt(shapes[i].getAttribute('w')),
											parseInt(shapes[i].getAttribute('h')), '', stc.replace(/_/g, ' '),
											null, null, this.filterTags(tags.join(' ')));
								}
							}
						}
					}
				}
			}));
		}
	}
	
	/**
	 * Overridden to add image export via servlet
	 */
	if (urlParams['savesidebar'] == '1')
	{
		Sidebar.prototype.addFoldingHandler = function(title, content, funct)
		{
			var initialized = false;
	
			// Avoids mixed content warning in IE6-8
			if (!mxClient.IS_IE || document.documentMode >= 8)
			{
				title.style.backgroundImage = (content.style.display == 'none') ?
					'url(\'' + this.collapsedImage + '\')' : 'url(\'' + this.expandedImage + '\')';
			}
			
			title.style.backgroundRepeat = 'no-repeat';
			title.style.backgroundPosition = '0% 50%';
	
			var btn = document.createElement('button');
			btn.style.marginLeft = '4px';
			mxUtils.write(btn, 'Save');
			
			mxEvent.addListener(title, 'click', mxUtils.bind(this, function(evt)
			{
				if (mxEvent.getSource(evt).nodeName == 'BUTTON')
				{
					var title2 = title.cloneNode(true);
					title2.style.backgroundImage = '';
					title2.style.textDecoration = 'none';
					title2.style.fontWeight = 'bold';
					title2.style.fontSize = '14px';
					title2.style.color = 'rgb(80, 80, 80)';
					title2.style.width = '456px';
					title2.style.backgroundColor = '#ffffff';
					title2.style.paddingLeft = '6px';
					
					var btn2 = title2.getElementsByTagName('button')[0];
					btn2.parentNode.removeChild(btn2);
					
					var clone = content.cloneNode(true);
					clone.style.backgroundColor = '#ffffff';
					clone.style.borderColor = 'transparent';
					clone.style.width = '456px';
	
					var html = '<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://www.draw.io/styles/grapheditor.css">' +
						'</head><body style="background:#ffffff;font-family:Helvetica,Arial;">' +
						title2.outerHTML + clone.outerHTML + '</body></html>';
	
					clone.style.position = 'absolute';
					window.document.body.appendChild(clone);
					var h = clone.clientHeight + 18;
					clone.parentNode.removeChild(clone);
					
		    		new mxXmlRequest(EXPORT_URL, 'w=456&h=' + h + '&html=' + encodeURIComponent(
		    			this.editorUi.editor.graph.compress(html))).simulate(document, '_blank');
	
					return;
				}
				
				if (content.style.display == 'none')
				{
					if (!initialized)
					{
						initialized = true;
						
						if (funct != null)
						{
							if (btn.parentNode != null)
							{
								btn.parentNode.removeChild(btn);
							}
							
							// Wait cursor does not show up on Mac
							title.style.cursor = 'wait';
							var prev = title.innerHTML;
							title.innerHTML = mxResources.get('loading') + '...';
							
							window.setTimeout(function()
							{
								funct(content);
								title.style.cursor = '';
								title.innerHTML = prev;
								title.appendChild(btn);
							}, 0);
						}
						else
						{
							title.appendChild(btn);
						}
					}
					else
					{
						title.appendChild(btn);
					}
					
					title.style.backgroundImage = 'url(\'' + this.expandedImage + '\')';
					content.style.display = 'block';
				}
				else
				{
					title.style.backgroundImage = 'url(\'' + this.collapsedImage + '\')';
					content.style.display = 'none';
					
					if (btn.parentNode != null)
					{
						btn.parentNode.removeChild(btn);
					}
				}
				
				mxEvent.consume(evt);
			}));
		};
	}
	
	/**
	 * Overridden to use shapetags to improve search results.
	 */
	Sidebar.prototype.extractShapeStyle = function(style)
	{
		if (style != null && style.substring(0, 6) == 'shape=')
		{
			var semi = style.indexOf(';');
			
			if (semi < 0)
			{
				semi = style.length;
			}
			
			return style.substring(6, semi);
		}
		
		return null;
	};
	
	/**
	 * Overridden to use shapetags to improve search results.
	 */
	var sidebarGetTagsForStencil = Sidebar.prototype.getTagsForStencil;
	
	Sidebar.prototype.getTagsForStencil = function(pkg, stc, moreTags)
	{
		var tags = sidebarGetTagsForStencil.apply(this, arguments);
		
		// Adds tags from tags file
		if (this.shapetags != null)
		{
			pkg = pkg.toLowerCase();
			stc = stc.toLowerCase();
			
			if (this.shapetags[pkg] != null)
			{
				tags.push(this.shapetags[pkg]);
			}
			
			stc = pkg + '.' + stc;
			
			if (this.shapetags[stc] != null)
			{
				tags.push(this.shapetags[stc]);
			}
		}

		return tags;
	};
	
	/**
	 * Overrides the sidebar init.
	 */
	Sidebar.prototype.initPalettes = function()
	{
		var imgDir = GRAPH_IMAGE_PATH;
		var dir = STENCIL_PATH;
		var signs = this.signs;
		var gcp = this.gcp;
		var rack = this.rack;
		var pids = this.pids;
		var cisco = this.cisco;
		var sysml = this.sysml;
		var eip = this.eip;
		var gmdl = this.gmdl;
		var office = this.office;
		var veeam = this.veeam;
		var archimate3 = this.archimate3;
		var electrical = this.electrical;
		
		if (urlParams['createindex'] == '1')
		{
			mxLog.show();
			mxLog.textarea.value = '';
		}

		this.addSearchPalette(true);
		this.addGeneralPalette(true);
		this.addMiscPalette(false);
		this.addAdvancedPalette(false);
		this.addUmlPalette(false);
		this.addErPalette();
		this.addBasicPalette();
		this.addFlowchartPalette();
		this.addNetworkPalette();
		this.addAzurePalette();
		this.addCitrixPalette();
		this.addMSCAEPalette();
		this.addBpmnPalette(dir, false);
		this.addAWS3Palette();
		this.addAWS3DPalette();
		this.addLeanMappingPalette();
		this.addIos7Palette();
		this.addIosPalette();
		this.addAndroidPalette();
		this.addMockupPalette();
		this.addElectricalPalette();
		this.addOfficePalette();
		this.addVeeamPalette();

		this.addStencilPalette('arrows', mxResources.get('arrows'), dir + '/arrows.xml',
				';html=1;' + mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;' + mxConstants.STYLE_STROKEWIDTH + '=2;strokeColor=#000000;');
		
		this.addArrows2Palette();
				
		this.addImagePalette('computer', 'Clipart / Computer', imgDir
				+ '/lib/clip_art/computers/', '_128x128.png', ['Antivirus',
				'Data_Filtering', 'Database', 'Database_Add', 'Database_Minus',
				'Database_Move_Stack', 'Database_Remove', 'Fujitsu_Tablet',
				'Harddrive', 'IBM_Tablet', 'iMac', 'iPad', 'Laptop', 'MacBook',
				'Mainframe', 'Monitor', 'Monitor_Tower',
				'Monitor_Tower_Behind', 'Netbook', 'Network', 'Network_2',
				'Printer', 'Printer_Commercial', 'Secure_System', 'Server',
				'Server_Rack', 'Server_Rack_Empty', 'Server_Rack_Partial',
				'Server_Tower', 'Software', 'Stylus', 'Touch', 'USB_Hub',
				'Virtual_Application', 'Virtual_Machine', 'Virus',
				'Workstation' ], [ 'Antivirus', 'Data Filtering', 'Database',
	            'Database Add', 'Database Minus', 'Database Move Stack',
	            'Database Remove', 'Fujitsu Tablet', 'Harddrive', 'IBMTablet',
	            'iMac', 'iPad', 'Laptop', 'MacBook', 'Mainframe', 'Monitor',
	            'Monitor Tower', 'Monitor Tower Behind', 'Netbook', 'Network',
	            'Network 2', 'Printer', 'Printer Commercial', 'Secure System',
	            'Server', 'Server Rack', 'Server Rack Empty', 'Server Rack Partial',
	            'Server Tower', 'Software', 'Stylus', 'Touch', 'USB Hub',
	            'Virtual Application', 'Virtual Machine', 'Virus', 'Workstation']);
		this.addImagePalette('finance', 'Clipart / Finance', imgDir
				+ '/lib/clip_art/finance/', '_128x128.png', [ 'Arrow_Down',
				'Arrow_Up', 'Coins', 'Credit_Card', 'Dollar', 'Graph',
				'Pie_Chart', 'Piggy_Bank', 'Safe', 'Shopping_Cart',
				'Stock_Down', 'Stock_Up'], ['Arrow_Down', 'Arrow Up',
	            'Coins', 'Credit Card', 'Dollar', 'Graph', 'Pie Chart',
	            'Piggy Bank', 'Safe', 'Shopping Basket', 'Stock Down', 'Stock Up']);
		this.addImagePalette('clipart', 'Clipart / Various', imgDir
				+ '/lib/clip_art/general/', '_128x128.png', [ 'Battery_0',
				'Battery_100', 'Battery_50', 'Battery_75', 'Battery_allstates',
				'Bluetooth', 'Earth_globe', 'Empty_Folder', 'Full_Folder',
				'Gear', 'Keys', 'Lock', 'Mouse_Pointer', 'Plug', 'Ships_Wheel',
				'Star', 'Tire' ], [ 'Battery 0%', 'Battery 100%', 'Battery 50%',
	            'Battery 75%', 'Battery', 'Bluetooth', 'Globe',
	            'Empty Folder', 'Full Folder', 'Gear', 'Keys', 'Lock', 'Mousepointer',
	            'Plug', 'Ships Wheel', 'Star', 'Tire']);
		this.addImagePalette('networking', 'Clipart / Networking', imgDir
				+ '/lib/clip_art/networking/', '_128x128.png', ['Bridge',
				'Certificate', 'Certificate_Off', 'Cloud', 'Cloud_Computer',
				'Cloud_Computer_Private', 'Cloud_Rack', 'Cloud_Rack_Private',
				'Cloud_Server', 'Cloud_Server_Private', 'Cloud_Storage',
				'Concentrator', 'Email', 'Firewall_02', 'Firewall',
				'Firewall-page1', 'Ip_Camera', 'Modem',
				'power_distribution_unit', 'Print_Server',
				'Print_Server_Wireless', 'Repeater', 'Router', 'Router_Icon',
				'Switch', 'UPS', 'Wireless_Router', 'Wireless_Router_N'],
				['Bridge', 'Certificate', 'Certificate Off', 'Cloud', 'Cloud Computer',
				'Cloud Computer Private', 'Cloud Rack', 'Cloud Rack Private',
				'Cloud Server', 'Cloud Server Private', 'Cloud Storage',
				'Concentrator', 'Email', 'Firewall 1', 'Firewall 2',
				'Firewall', 'Camera', 'Modem',
				'Power Distribution Unit', 'Print Server',
				'Print Server Wireless', 'Repeater', 'Router', 'Router Icon',
				'Switch', 'UPS', 'Wireless Router', 'Wireless Router N'],
				 {'Wireless_Router': 'wireless router switch wap wifi access point wlan',
				  'Wireless_Router_N': 'wireless router switch wap wifi access point wlan',
				  'Router': 'router switch',
				  'Router_Icon': 'router switch'});
		this.addImagePalette('people', 'Clipart / People', imgDir
				+ '/lib/clip_art/people/', '_128x128.png', ['Suit_Man',
				'Suit_Man_Black', 'Suit_Man_Blue', 'Suit_Man_Green',
				'Suit_Man_Green_Black', 'Suit_Woman', 'Suit_Woman_Black',
				'Suit_Woman_Blue', 'Suit_Woman_Green',
				'Suit_Woman_Green_Black', 'Construction_Worker_Man',
				'Construction_Worker_Man_Black', 'Construction_Worker_Woman',
				'Construction_Worker_Woman_Black', 'Doctor_Man',
				'Doctor_Man_Black', 'Doctor_Woman', 'Doctor_Woman_Black',
				'Farmer_Man', 'Farmer_Man_Black', 'Farmer_Woman',
				'Farmer_Woman_Black', 'Nurse_Man', 'Nurse_Man_Black',
				'Nurse_Woman',
				'Nurse_Woman_Black',
				'Military_Officer', 'Military_Officer_Black',
				'Military_Officer_Woman', 'Military_Officer_Woman_Black',
				'Pilot_Man', 'Pilot_Man_Black', 'Pilot_Woman',
				'Pilot_Woman_Black', 'Scientist_Man', 'Scientist_Man_Black',
				'Scientist_Woman', 'Scientist_Woman_Black', 'Security_Man',
				'Security_Man_Black', 'Security_Woman', 'Security_Woman_Black',
				'Tech_Man', 'Tech_Man_Black',
				'Telesales_Man', 'Telesales_Man_Black', 'Telesales_Woman',
				'Telesales_Woman_Black', 'Waiter', 'Waiter_Black',
				'Waiter_Woman', 'Waiter_Woman_Black', 'Worker_Black',
				'Worker_Man', 'Worker_Woman', 'Worker_Woman_Black']);
		this.addImagePalette('telco', 'Clipart / Telecommunication', imgDir
				+ '/lib/clip_art/telecommunication/', '_128x128.png', [
				'BlackBerry', 'Cellphone', 'HTC_smartphone', 'iPhone',
				'Palm_Treo', 'Signal_tower_off', 'Signal_tower_on' ],
				['BlackBerry', 'Cellphone', 'HTC smartphone', 'iPhone',
				  'Palm Treo', 'Signaltower off', 'Signaltower on']);

		for (var i = 0; i < signs.length; i++)
		{
			this.addStencilPalette('signs' + signs[i], 'Signs / ' + signs[i],
				dir + '/signs/' + signs[i].toLowerCase() + '.xml',
				';html=1;fillColor=#000000;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;');
		}
		
		for (var i = 0; i < gcp.length; i++)
		{
			if (gcp[i].toLowerCase() === 'cards')
			{
				this.addGoogleCloudPlatformCardsPalette();
			}
			else
			{
				this.addStencilPalette('gcp' + gcp[i], 'GCP / ' + gcp[i],
						dir + '/gcp/' + gcp[i].toLowerCase().replace(/ /g, '_') + '.xml',
						';html=1;fillColor=#4387FD;gradientColor=#4683EA;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;');
			}
		}

		for (var i = 0; i < rack.length; i++)
		{
			if (rack[i].toLowerCase() === 'general')
			{
				this.addRackGeneralPalette();
			}
			else if (rack[i].toLowerCase() === 'f5')
			{
				this.addRackF5Palette();
			}
			else
			{
				this.addStencilPalette('rack' + rack[i], 'Rack / ' + rack[i],
					dir + '/rack/' + rack[i].toLowerCase() + '.xml',
					';html=1;labelPosition=right;align=left;spacingLeft=15;dashed=0;shadow=0;fillColor=#ffffff;');
			}
		}

		for (var i = 0; i < pids.length; i++)
		{
			if (pids[i] == 'Instruments')
			{
				this.addPidInstrumentsPalette();
			}
			else if (pids[i] == 'Misc')
			{
				this.addPidMiscPalette();
			}
			else if (pids[i] == 'Valves')
			{
				this.addPidValvesPalette();
			}
			else if (pids[i] == 'Compressors')
			{
				this.addPidCompressorsPalette();
			}
			else if (pids[i] == 'Engines')
			{
				this.addPidEnginesPalette();
			}
			else if (pids[i] == 'Filters')
			{
				this.addPidFiltersPalette();
			}
			else if (pids[i] == 'Flow Sensors')
			{
				this.addPidFlowSensorsPalette();
			}
			else if (pids[i] == 'Piping')
			{
				this.addPidPipingPalette();
			}
			else
			{
				this.addStencilPalette('pid' + pids[i], 'Proc. Eng. / ' + pids[i],
					dir + '/pid/' + pids[i].toLowerCase().replace(' ', '_') + '.xml',
					';html=1;align=center;' + mxConstants.STYLE_VERTICAL_LABEL_POSITION + '=bottom;' + mxConstants.STYLE_VERTICAL_ALIGN + '=top;dashed=0;');
			}
		}
		
		for (var i = 0; i < sysml.length; i++)
		{
			if (sysml[i] == 'Model Elements')
			{
				this.addSysMLModelElementsPalette();
			}
			else if (sysml[i] == 'Blocks')
			{
				this.addSysMLBlocksPalette();
			}
			else if (sysml[i] == 'Ports and Flows')
			{
				this.addSysMLPortsAndFlowsPalette();
			}
			else if (sysml[i] == 'Constraint Blocks')
			{
				this.addSysMLConstraintBlocksPalette();
			}
			else if (sysml[i] == 'Activities')
			{
				this.addSysMLActivitiesPalette();
			}
			else if (sysml[i] == 'Interactions')
			{
				this.addSysMLInteractionsPalette();
			}
			else if (sysml[i] == 'State Machines')
			{
				this.addSysMLStateMachinesPalette();
			}
			else if (sysml[i] == 'Use Cases')
			{
				this.addSysMLUseCasesPalette();
			}
			else if (sysml[i] == 'Allocations')
			{
				this.addSysMLAllocationsPalette();
			}
			else if (sysml[i] == 'Requirements')
			{
				this.addSysMLRequirementsPalette();
			}
			else if (sysml[i] == 'Profiles')
			{
				this.addSysMLProfilesPalette();
			}
			else if (sysml[i] == 'Stereotypes')
			{
				this.addSysMLStereotypesPalette();
			}
		}

		for (var i = 0; i < eip.length; i++)
		{
			if (eip[i] == 'Message Construction')
			{
				this.addEipMessageConstructionPalette();
			}
			else if (eip[i] == 'Message Routing')
			{
				this.addEipMessageRoutingPalette();
			}
			else if (eip[i] == 'Message Transformation')
			{
				this.addEipMessageTransformationPalette();
			}
			else if (eip[i] == 'Messaging Channels')
			{
				this.addEipMessagingChannelsPalette();
			}
			else if (eip[i] == 'Messaging Endpoints')
			{
				this.addEipMessagingEndpointsPalette();
			}
			else if (eip[i] == 'Messaging Systems')
			{
				this.addEipMessagingSystemsPalette();
			}
			else if (eip[i] == 'System Management')
			{
				this.addEipSystemManagementPalette();
			}
		}
		
		for (var i = 0; i < cisco.length; i++)
		{
			this.addStencilPalette('cisco' + cisco[i], 'Cisco / ' + cisco[i],
				dir + '/cisco/' + cisco[i].toLowerCase().replace(/ /g, '_') + '.xml',
				';html=1;dashed=0;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top', null, null, 1.6);
		}

		this.addFloorplanPalette();
		this.addBootstrapPalette();

		for (var i = 0; i < gmdl.length; i++)
		{
			if (gmdl[i] == 'Bottom Navigation')
			{
				this.addGMDLBottomNavigationPalette();
			}
			else if (gmdl[i] == 'Bottom Sheets')
			{
				this.addGMDLBottomSheetsPalette();
			}
			else if (gmdl[i] == 'Buttons')
			{
				this.addGMDLButtonsPalette();
			}
			else if (gmdl[i] == 'Cards')
			{
				this.addGMDLCardsPalette();
			}
			else if (gmdl[i] == 'Chips')
			{
				this.addGMDLChipsPalette();
			}
			else if (gmdl[i] == 'Dialogs')
			{
				this.addGMDLDialogsPalette();
			}
			else if (gmdl[i] == 'Dividers')
			{
				this.addGMDLDividersPalette();
			}
			else if (gmdl[i] == 'Grid Lists')
			{
				this.addGMDLGridListsPalette();
			}
			else if (gmdl[i] == 'Icons')
			{
				this.addGMDLIconsPalette();
			}
			else if (gmdl[i] == 'Lists')
			{
				this.addGMDLListsPalette();
			}
			else if (gmdl[i] == 'Menus')
			{
				this.addGMDLMenusPalette();
			}
			else if (gmdl[i] == 'Misc')
			{
				this.addGMDLMiscPalette();
			}
			else if (gmdl[i] == 'Pickers')
			{
				this.addGMDLPickersPalette();
			}
			else if (gmdl[i] == 'Selection Controls')
			{
				this.addGMDLSelectionControlsPalette();
			}
			else if (gmdl[i] == 'Sliders')
			{
				this.addGMDLSlidersPalette();
			}
			else if (gmdl[i] == 'Steppers')
			{
				this.addGMDLSteppersPalette();
			}
			else if (gmdl[i] == 'Tabs')
			{
				this.addGMDLTabsPalette();
			}
			else if (gmdl[i] == 'Text Fields')
			{
				this.addGMDLTextFieldsPalette();
			}
		}

		this.addCabinetsPalette();
		this.addArchimate3Palette();
		this.addArchiMatePalette();
		this.addWebIconsPalette();
		this.addWebLogosPalette();
		
		// LATER: Check if conflicts with restore libs after loading file
		this.showEntries();
	};
	
	/**
	 * Overridden to manually create search index for stencil files which are not pre-loaded
	 * and no entries are created programmatically.
	 */
	if (urlParams['createindex'] == '1')
	{
		var sidebarAddStencilPalette = Sidebar.prototype.addStencilPalette;
		
		Sidebar.prototype.addStencilPalette = function(id, title, stencilFile, style, ignore, onInit, scale, tags)
		{
			sidebarAddStencilPalette.apply(this, arguments);
			scale = (scale != null) ? scale : 1;
	
			// Used for creating index
			mxStencilRegistry.loadStencilSet(stencilFile, mxUtils.bind(this, function(packageName, stencilName, displayName, w, h)
			{
				if (ignore == null || mxUtils.indexOf(ignore, stencilName) < 0)
				{
					var tmpTags = (tags != null) ? tags[stencilName] : null;
	
					mxLog.debug('<shape style="shape=' + packageName + stencilName + style + '" ' +
						'w="' + Math.round(w * scale) + '" h="' + Math.round(h * scale) + '"' +
						((tmpTags != null) ? ' tags="' + tmpTags + '"' : '') + '/>');
				}
			}), true);
		};
	}
	
	/**
	 * Adds server icon results to local search results
	 */
	var sidebarSearchEntries = Sidebar.prototype.searchEntries;
	
	Sidebar.prototype.searchEntries = function(searchTerms, count, page, success, error)
	{
		var succ = success;
		
		// Logs search terms for improving search results
		if (this.editorUi.enableLogging && !this.editorUi.isOffline() && page == 0)
		{
			try
			{
				var img = new Image();
				var logDomain = window.DRAWIO_LOG_URL != null ? window.DRAWIO_LOG_URL : '';
				img.src = logDomain + '/log?severity=CONFIG&msg=shapesearch:' + encodeURIComponent(searchTerms) + '&v=' + encodeURIComponent(EditorUi.VERSION);
		 	}
	    	catch (e)
	    	{
	    		// ignore
	    	}
		}
		
		success = mxUtils.bind(this, function(results, len, more, terms)
		{
			if (!this.editorUi.isOffline() && results.length <= count / 4)
			{
				var pg = page - Math.ceil((len - count / 4) / count);

				mxUtils.get(ICONSEARCH_PATH + '?v=2&q=' + encodeURIComponent(searchTerms) +
					'&p=' + pg + '&c=' + count, mxUtils.bind(this, function(req)
				{
					try
					{
						if (req.getStatus() >= 200 && req.getStatus() <= 299)
						{
							var res = JSON.parse(req.getText());
							
							for (var i = 0; i < res.icons.length; i++)
							{
								var sizes = res.icons[i].raster_sizes;
								var index = sizes.length - 1;
								
								while (index > 0 && sizes[index].size > 128)
								{
									index--;
								}
		
								var size = sizes[index].size;
								var url = sizes[index].formats[0].preview_url;
		
								if (size != null && url != null)
								{
									(mxUtils.bind(this, function(s, u)
									{
										results.push(mxUtils.bind(this, function()
										{
											return this.createVertexTemplate('shape=image;html=1;verticalAlign=top;' +
												'verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;' +
												'aspect=fixed;image=' + u, s, s, '');
										}));
									}))(size, url);
								}
							}
		
							succ(results, (page - 1) * count + results.length, res.icons.length == count, terms);
						}
						else
						{
							succ(results, len, false, terms);
							this.editorUi.handleError({message: mxResources.get('unknownError')});
						}
					}
					catch (e)
					{
						succ(results, len, false, terms);
						this.editorUi.handleError(e);
					}
				},
				function()
				{
					succ(results, len, false, terms);
				}));
			}
			else
			{
				succ(results, len, more || !this.editorUi.isOffline(), terms);
			}
		});
		
		sidebarSearchEntries.apply(this, arguments);
	};

	/**
	 * Adds a click handler for inserting the cell as target for dangling edge.
	 */
	var sidebarItemClicked = Sidebar.prototype.itemClicked;
	
	Sidebar.prototype.itemClicked = function(cells, ds, evt)
	{
		var graph = this.editorUi.editor.graph;
		var handled = false;
		
		if (cells != null && graph.getSelectionCount() == 1 && graph.getModel().isVertex(cells[0]))
		{
			var target = graph.cloneCells(cells)[0];
			
			// Inserts cell as target of selected edge if not connected
			if (graph.getModel().isEdge(graph.getSelectionCell()) && graph.getModel().getTerminal(graph.getSelectionCell(), false) == null &&
				graph.getModel().isVertex(target))
			{
				graph.getModel().beginUpdate();
				try
				{
					var edgeState = graph.view.getState(graph.getSelectionCell());
					
					if (edgeState != null)
					{
						var tr = graph.view.translate;
						var s = graph.view.scale;
						var pt = edgeState.absolutePoints[edgeState.absolutePoints.length - 1];

						target.geometry.x = pt.x / s - tr.x - target.geometry.width / 2;
						target.geometry.y = pt.y / s - tr.y - target.geometry.height / 2;
					}
					
					graph.addCell(target);
					graph.getModel().setTerminal(graph.getSelectionCell(), target, false);
				}
				finally
				{
					graph.getModel().endUpdate();
				}
				
				graph.scrollCellToVisible(target);
				graph.setSelectionCell(target);
				handled = true;
			}
		}
		
		if (!handled)
		{
			sidebarItemClicked.apply(this, arguments);
		}
	};
})();

/**
 * mxAsyncCanvas
 */

/**
 * Extends mxAbstractCanvas2D
 */
function mxAsyncCanvas(htmlCanvas)
{
	mxAbstractCanvas2D.call(this);
	this.htmlCanvas = htmlCanvas;
	htmlCanvas.images = htmlCanvas.images || [];
	htmlCanvas.subCanvas = htmlCanvas.subCanvas || [];
};

/**
 * Extends mxAbstractCanvas2D
 */
mxUtils.extend(mxAsyncCanvas, mxAbstractCanvas2D);

/**
 * Variable: htmlCanvas
 * 
 * The canvas instance this object is obtaining async resources for
 */
mxAsyncCanvas.prototype.htmlCanvas = null;

/**
 * Variable: canvasIndex
 * 
 * The current index into the canvas sub-canvas array being processed
 */
mxAsyncCanvas.prototype.canvasIndex = 0;

/**
 * Variable: ctx
 * 
 * Holds the current canvas context
 */
mxAsyncCanvas.prototype.waitCounter = 0;

/**
 * Variable: ctx
 * 
 * Holds the current canvas context
 */
mxAsyncCanvas.prototype.onComplete = null;

mxAsyncCanvas.prototype.incWaitCounter = function()
{
	this.waitCounter++;
};
	
mxAsyncCanvas.prototype.decWaitCounter = function()
{
	this.waitCounter--;
	
	if (this.waitCounter == 0 && this.onComplete != null)
	{
		this.onComplete();
		this.onComplete = null;
	}
};

mxAsyncCanvas.prototype.updateFont = function()
{
	var style = '';
	
	if ((this.state.fontStyle & mxConstants.FONT_BOLD) == mxConstants.FONT_BOLD)
	{
		style += 'bold ';
	}
	
	if ((this.state.fontStyle & mxConstants.FONT_ITALIC) == mxConstants.FONT_ITALIC)
	{
		style += 'italic ';
	}
	
	this.ctx.font = style + this.state.fontSize + 'px ' + this.state.fontFamily;
};

mxAsyncCanvas.prototype.rotate = function(theta, flipH, flipV, cx, cy)
{
};

mxAsyncCanvas.prototype.setAlpha = function(alpha)
{
	this.state.alpha = alpha;
};

mxAsyncCanvas.prototype.setFontColor = function(value)
{
	this.state.fontColor = value;
};

mxAsyncCanvas.prototype.setFontBackgroundColor = function(value)
{
	if (value == mxConstants.NONE)
	{
		value = null;
	}
	
	this.state.fontBackgroundColor = value;
};

mxAsyncCanvas.prototype.setFontBorderColor = function(value)
{
	if (value == mxConstants.NONE)
	{
		value = null;
	}
	
	this.state.fontBorderColor = value;
};

mxAsyncCanvas.prototype.setFontSize = function(value)
{
	this.state.fontSize = value;
};

mxAsyncCanvas.prototype.setFontFamily = function(value)
{
	this.state.fontFamily = value;
};

mxAsyncCanvas.prototype.setFontStyle = function(value)
{
	this.state.fontStyle = value;
};

mxAsyncCanvas.prototype.rect = function(x, y, w, h) {};

mxAsyncCanvas.prototype.roundrect = function(x, y, w, h, dx, dy) {};

mxAsyncCanvas.prototype.ellipse = function(x, y, w, h) {};

//Redirect can be implemented via a hook
mxAsyncCanvas.prototype.rewriteImageSource = function(src)
{
	if (src.substring(0, 7) == 'http://' || src.substring(0, 8) == 'https://')
	{
		src = '/proxy?url=' + encodeURIComponent(src);
	}
	
	return src;
};

mxAsyncCanvas.prototype.image = function(x, y, w, h, src, aspect, flipH, flipV)
{
	src = this.rewriteImageSource(src);
	var image = this.htmlCanvas.images[src];
	
	if (image == null)
	{
		var image = new Image();
		
		image.onload = mxUtils.bind(this, function()
		{
			this.decWaitCounter();
		});
		
		image.onerror = mxUtils.bind(this, function()
		{
			this.decWaitCounter();
			// TODO null the image out? this.htmlCanvas.images[src] = null;
		});

		this.incWaitCounter();
		this.htmlCanvas.images[src] = image;
		image.src = src;
	}
};

mxAsyncCanvas.prototype.fill = function() {};

mxAsyncCanvas.prototype.stroke = function() {};

mxAsyncCanvas.prototype.fillAndStroke = function() {};
	
mxAsyncCanvas.prototype.text = function(x, y, w, h, str, align, valign, wrap, format, overflow, clip, rotation)
{
	if (str == null || str.length == 0)
	{
		return;
	}

	var sc = this.state.scale;

	if (format == 'html' && typeof html2canvas === 'function')
	{
		this.incWaitCounter();
		var canvasIndex = this.canvasIndex++;
		
	    html2canvas(str,
	    {
	        onrendered: mxUtils.bind(this, function(canvas)
	        {
	        	this.htmlCanvas.subCanvas[canvasIndex] = canvas;
	        	this.decWaitCounter();
	        }),
	        scale: sc,
	        logging: true
	    });
	}
};

mxAsyncCanvas.prototype.finish = function(handler)
{
	// TODO: Check if waitCounter updates need a monitor. Question is
	// if image load-handler can be executed in parallel leading to
	// race conditions when updating the "shared" waitCounter.
	if (this.waitCounter == 0)
	{
		handler();
	}
	else
	{
		this.onComplete = handler;
	}
};
/**
 * mxJsCanvas
 * 
 * Open Issues:
 * 
 * - Canvas has no built-in dash-pattern for strokes
 *   - Use AS code for straight lines
 * - Must use proxy for cross domain images
 * - Use html2canvas for HTML rendering (Replaces complete page with
 *   canvas currently, needs API call to render elt to canvas)
 */

/**
 * Extends mxAbstractCanvas2D
 */
function mxJsCanvas(canvas)
{
	mxAbstractCanvas2D.call(this);

	this.ctx = canvas.getContext('2d');
	this.ctx.textBaseline = 'top';
	this.ctx.fillStyle = 'rgba(255,255,255,0)';
	this.ctx.strokeStyle = 'rgba(0, 0, 0, 0)';
	
	//this.ctx.translate(0.5, 0.5);
	
	this.M_RAD_PER_DEG = Math.PI / 180;
	
	this.images = this.images == null ? [] : this.images;
	this.subCanvas = this.subCanvas == null ? [] : this.subCanvas;
};

/**
 * Extends mxAbstractCanvas2D
 */
mxUtils.extend(mxJsCanvas, mxAbstractCanvas2D);

/**
 * Variable: ctx
 * 
 * Holds the current canvas context
 */
mxJsCanvas.prototype.ctx = null;

/**
 * Variable: ctx
 * 
 * Holds the current canvas context
 */
mxJsCanvas.prototype.waitCounter = 0;

/**
 * Variable: ctx
 * 
 * Holds the current canvas context
 */
mxJsCanvas.prototype.onComplete = null;

/**
 * Variable: images
 * 
 * Ordered array of images used in this canvas
 */
mxJsCanvas.prototype.images = null;

/**
 * Variable: subCanvas
 * 
 * Ordered array of sub canvas elements in this canvas
 */
mxJsCanvas.prototype.subCanvas = null;

/**
 * Variable: canvasIndex
 * 
 * The current index into the canvas sub-canvas array being processed
 */
mxJsCanvas.prototype.canvasIndex = 0;

mxJsCanvas.prototype.hexToRgb = function(hex) {
    // Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
    var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
    hex = hex.replace(shorthandRegex, function(m, r, g, b) {
        return r + r + g + g + b + b;
    });

    var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
    } : null;
};

mxJsCanvas.prototype.incWaitCounter = function()
{
	this.waitCounter++;
};
	
mxJsCanvas.prototype.decWaitCounter = function()
{
	this.waitCounter--;
	
	if (this.waitCounter == 0 && this.onComplete != null)
	{
		this.onComplete();
		this.onComplete = null;
	}
};

mxJsCanvas.prototype.updateFont = function()
{
	var style = '';
	
	if ((this.state.fontStyle & mxConstants.FONT_BOLD) == mxConstants.FONT_BOLD)
	{
		style += 'bold ';
	}
	
	if ((this.state.fontStyle & mxConstants.FONT_ITALIC) == mxConstants.FONT_ITALIC)
	{
		style += 'italic ';
	}
	
	this.ctx.font = style + this.state.fontSize + 'px ' + this.state.fontFamily;
};

mxJsCanvas.prototype.save = function()
{
	this.states.push(this.state);
	this.state = mxUtils.clone(this.state);
	this.ctx.save();
};

mxJsCanvas.prototype.restore = function()
{
	this.state = this.states.pop();
	this.ctx.restore();
};

mxJsCanvas.prototype.scale = function(s)
{
	this.state.scale *= s;
	this.state.strokeWidth *= s;
	this.ctx.scale(s, s);
};

mxJsCanvas.prototype.translate = function(dx, dy)
{
	this.state.dx += dx;
	this.state.dy += dy;
	this.ctx.translate(dx, dy);
};

mxJsCanvas.prototype.rotate = function(theta, flipH, flipV, cx, cy)
{
    // This is a special case where the rotation center is scaled so dx/dy,
    // which are also scaled, must be applied after scaling the center.
    cx -= this.state.dx;
    cy -= this.state.dy;
	
	this.ctx.translate(cx, cy);
	
	if (flipH || flipV)
	{
		var sx = (flipH) ? -1 : 1;
		var sy = (flipV) ? -1 : 1;

		this.ctx.scale(sx, sy);
	}

	this.ctx.rotate(theta * this.M_RAD_PER_DEG);
	this.ctx.translate(-cx, -cy);
};

mxJsCanvas.prototype.setAlpha = function(alpha)
{
	this.state.alpha = alpha;
	this.ctx.globalAlpha = alpha;
};

/**
 * Function: setFillColor
 * 
 * Sets the current fill color.
 */
mxJsCanvas.prototype.setFillColor = function(value)
{
	if (value == mxConstants.NONE)
	{
		value = null;
	}
	
	this.state.fillColor = value;
	this.state.gradientColor = null;
	this.ctx.fillStyle = value;
};

mxJsCanvas.prototype.setGradient = function(color1, color2, x, y, w, h, direction, alpha1, alpha2)
{
	var gradient = this.ctx.createLinearGradient(0, y, 0, y + h);
	
	var s = this.state;
	s.fillColor = color1;
	s.fillAlpha = (alpha1 != null) ? alpha1 : 1;
	s.gradientColor = color2;
	s.gradientAlpha = (alpha2 != null) ? alpha2 : 1;
	s.gradientDirection = direction;

	var rgb1 = this.hexToRgb(color1);
	var rgb2 = this.hexToRgb(color2);
	
	if (rgb1 != null)
	{
		gradient.addColorStop(0, 'rgba(' + rgb1.r + ',' + rgb1.g + ',' + rgb1.b + ',' + s.fillAlpha + ')');
	}	
	
	if (rgb2 != null)
	{
		gradient.addColorStop(1, 'rgba(' + rgb2.r + ',' + rgb2.g + ',' + rgb2.b + ',' + s.gradientAlpha + ')');
	}
	
	this.ctx.fillStyle = gradient;
};

mxJsCanvas.prototype.setStrokeColor = function(value)
{
	if (value == null)
	{
		// null value ignored
	}
	else if (value == mxConstants.NONE)
	{
		this.state.strokeColor = null;
		this.ctx.strokeStyle = 'rgba(0, 0, 0, 0)';
	}
	else
	{
		this.ctx.strokeStyle = value;
		this.state.strokeColor = value;
	}
};

mxJsCanvas.prototype.setStrokeWidth = function(value)
{
	this.ctx.lineWidth = value;
};

mxJsCanvas.prototype.setDashed = function(value)
{
	this.state.dashed = value;
	
	if (value)
	{
		var dashArray = this.state.dashPattern.split(" ");

		for (var i = 0; i < dashArray.length; i++)
		{
			dashArray[i] = parseInt(dashArray[i], 10);
		}
		
		this.setLineDash(dashArray);
	}
	else
	{
		this.setLineDash([0]);
	}
};

mxJsCanvas.prototype.setLineDash = function(value)
{
	try
	{
		if (typeof this.ctx.setLineDash === "function")
		{
			this.ctx.setLineDash(value);
		}
		else
		{
			// Line dash not supported IE 10-
		}
	}
	catch (e)
	{
		// ignore
	}
};

mxJsCanvas.prototype.setDashPattern = function(value)
{
	this.state.dashPattern = value;
	
	if (this.state.dashed)
	{
		var dashArray = value.split(" ");

		for (var i = 0; i < dashArray.length; i++)
		{
			dashArray[i] = parseInt(dashArray[i], 10);
		}
		
		this.ctx.setLineDash(dashArray);
	}
};

mxJsCanvas.prototype.setLineCap = function(value)
{
	this.ctx.lineCap = value;
};

mxJsCanvas.prototype.setLineJoin = function(value)
{
	this.ctx.lineJoin = value;
};

mxJsCanvas.prototype.setMiterLimit = function(value)
{
	this.ctx.lineJoin = value;
};

mxJsCanvas.prototype.setFontColor = function(value)
{
	this.ctx.fillStyle = value;
};

mxJsCanvas.prototype.setFontBackgroundColor = function(value)
{
	if (value == mxConstants.NONE)
	{
		value = null;
	}
	
	this.state.fontBackgroundColor = value;
};

mxJsCanvas.prototype.setFontBorderColor = function(value)
{
	if (value == mxConstants.NONE)
	{
		value = null;
	}
	
	this.state.fontBorderColor = value;
};

mxJsCanvas.prototype.setFontSize = function(value)
{
	this.state.fontSize = value;
};

mxJsCanvas.prototype.setFontFamily = function(value)
{
	this.state.fontFamily = value;
};

mxJsCanvas.prototype.setFontStyle = function(value)
{
	this.state.fontStyle = value;
};

/**
* Function: setShadow
* 
* Enables or disables and configures the current shadow.
*/
mxJsCanvas.prototype.setShadow = function(enabled)
{
	this.state.shadow = enabled;

	if (enabled)
	{
		this.setShadowOffset(this.state.shadowDx, this.state.shadowDy);
		this.setShadowAlpha(this.state.shadowAlpha);
	}
	else
	{
		this.ctx.shadowColor = 'transparent';
		this.ctx.shadowBlur = 0;
		this.ctx.shadowOffsetX = 0;
		this.ctx.shadowOffsetY = 0;
	}
};

/**
* Function: setShadowColor
* 
* Enables or disables and configures the current shadow.
*/
mxJsCanvas.prototype.setShadowColor = function(value)
{
	if (value == null || value == mxConstants.NONE)
	{
		value = null;
		this.ctx.shadowColor = 'transparent';
	}
	
	this.state.shadowColor = value;
	
	if (this.state.shadow && value != null)
	{
		var alpha = (this.state.shadowAlpha != null) ? this.state.shadowAlpha : 1;
		var rgb = this.hexToRgb(value);
		
		this.ctx.shadowColor = 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + alpha + ')';
	}
};

/**
* Function: setShadowAlpha
* 
* Enables or disables and configures the current shadow.
*/
mxJsCanvas.prototype.setShadowAlpha = function(value)
{
	this.state.shadowAlpha = value;
	this.setShadowColor(this.state.shadowColor);
};

/**
* Function: setShadowOffset
* 
* Enables or disables and configures the current shadow.
*/

mxJsCanvas.prototype.setShadowOffset = function(dx, dy)
{
	this.state.shadowDx = dx;
	this.state.shadowDy = dy;
	
	if (this.state.shadow)
	{
		this.ctx.shadowOffsetX = dx;
		this.ctx.shadowOffsetY = dy;
	}
};

mxJsCanvas.prototype.moveTo = function(x, y)
{
	this.ctx.moveTo(x, y);
	this.lastMoveX = x;
	this.lastMoveY = y;
};

mxJsCanvas.prototype.lineTo = function(x, y)
{
	this.ctx.lineTo(x, y);
	this.lastMoveX = x;
	this.lastMoveY = y;
};

mxJsCanvas.prototype.quadTo = function(x1, y1, x2, y2)
{
	this.ctx.quadraticCurveTo(x1, y1, x2, y2);
	this.lastMoveX = x2;
	this.lastMoveY = y2;
};

mxJsCanvas.prototype.arcTo = function(rx, ry, angle, largeArcFlag, sweepFlag, x, y)
{
	var curves = mxUtils.arcToCurves(this.lastMoveX, this.lastMoveY, rx, ry, angle, largeArcFlag, sweepFlag, x, y);
	
	if (curves != null)
	{
		for (var i = 0; i < curves.length; i += 6) 
		{
			this.curveTo(curves[i], curves[i + 1], curves[i + 2],
				curves[i + 3], curves[i + 4], curves[i + 5]);
		}
	}
};

mxJsCanvas.prototype.curveTo = function(x1, y1, x2, y2, x3, y3)
{
	this.ctx.bezierCurveTo(x1, y1, x2, y2 , x3, y3);
	this.lastMoveX = x3;
	this.lastMoveY = y3;
};

mxJsCanvas.prototype.rect = function(x, y, w, h)
{
	// TODO: Check if fillRect/strokeRect is faster
	this.begin();
	this.moveTo(x, y);
	this.lineTo(x + w, y);
	this.lineTo(x + w, y + h);
	this.lineTo(x, y + h);
	this.close();
};

mxJsCanvas.prototype.roundrect = function(x, y, w, h, dx, dy)
{
	this.begin();
	this.moveTo(x + dx, y);
	this.lineTo(x + w - dx, y);
	this.quadTo(x + w, y, x + w, y + dy);
	this.lineTo(x + w, y + h - dy);
	this.quadTo(x + w, y + h, x + w - dx, y + h);
	this.lineTo(x + dx, y + h);
	this.quadTo(x, y + h, x, y + h - dy);
	this.lineTo(x, y + dy);
	this.quadTo(x, y, x + dx, y);
};

mxJsCanvas.prototype.ellipse = function(x, y, w, h)
{
	this.ctx.save();
	this.ctx.translate((x + w / 2), (y + h / 2));
	this.ctx.scale(w / 2, h / 2);
	this.ctx.beginPath();
	this.ctx.arc(0, 0, 1, 0, 2 * Math.PI, false);
	this.ctx.restore();
};

//Redirect can be implemented via a hook
mxJsCanvas.prototype.rewriteImageSource = function(src)
{
	if (src.substring(0, 7) == 'http://' || src.substring(0, 8) == 'https://')
	{
		src = '/proxy?url=' + encodeURIComponent(src);
	}
	
	return src;
};

mxJsCanvas.prototype.image = function(x, y, w, h, src, aspect, flipH, flipV)
{
	var scale = this.state.scale;

//	x = this.state.tx + x / scale;
//	y = this.state.ty + y / scale;
//	w /= scale;
//	h /= scale;

	src = this.rewriteImageSource(src);
	var image = this.images[src];
	
	function drawImage(ctx, image, x, y, w, h)
	{
		ctx.save();
		
		if (aspect)
		{
			var iw = image.width;
			var ih = image.height;
			
			var s = Math.min(w / iw, h / ih);
			var x0 = (w - iw * s) / 2;
			var y0 = (h - ih * s) / 2;
			
			x += x0;
			y += y0;
			w = iw * s;
			h = ih * s;
		}
		
		var s = this.state.scale;

		if (flipH)
		{
			ctx.translate(2 * x + w, 0);
			ctx.scale(-1, 1);
		}
		
		if (flipV)
		{
			ctx.translate(0, 2 * y + h);
			ctx.scale(1, -1);
		}

		ctx.drawImage(image, x, y, w, h);
		ctx.restore();
	};
	
	if (image != null && image.height > 0 && image.width > 0)
	{
		drawImage.call(this, this.ctx, image, x, y, w, h);
	}
	else
	{
		// TODO flag error that image wasn't obtaining in canvas preprocessing
	}
};

mxJsCanvas.prototype.begin = function()
{
	this.ctx.beginPath();
};

mxJsCanvas.prototype.close = function()
{
	this.ctx.closePath();
};

mxJsCanvas.prototype.fill = function()
{
	this.ctx.fill();
};

mxJsCanvas.prototype.stroke = function()
{
	this.ctx.stroke();
};

mxJsCanvas.prototype.fillAndStroke = function()
{
	// If you fill then stroke, the shadow of the stroke appears over the fill
	// So stroke, fill, disable shadow, stroke, restore previous shadow
	if (!this.state.shadow)
	{
		this.ctx.fill();
		this.ctx.stroke();
	}
	else
	{
		this.ctx.stroke();
		this.ctx.fill();
		
		var shadowColor = this.ctx.shadowColor;
		var shadowOffsetX = this.ctx.shadowOffsetX;
		var shadowOffsetY = this.ctx.shadowOffsetY;
		
		this.ctx.shadowColor = 'transparent';
		this.ctx.shadowOffsetX = 0; 
		this.ctx.shadowOffsetY = 0;
		
		this.ctx.stroke();
		
		this.ctx.shadowColor = shadowColor;
		this.ctx.shadowOffsetX = shadowOffsetX;
		this.ctx.shadowOffsetY = shadowOffsetY;
	}
};

mxJsCanvas.prototype.text = function(x, y, w, h, str, align, valign, wrap, format, overflow, clip, rotation)
{
	if (str == null || str.length == 0)
	{
		return;
	}

	var sc = this.state.scale;
	w *= sc;
	h *= sc;
	
	if (rotation != 0)
	{
		this.ctx.translate(Math.round(x), Math.round(y));
		this.ctx.rotate(rotation * Math.PI / 180);
		this.ctx.translate(Math.round(-x), Math.round(-y));
	}

	if (format == 'html')
	{
		var subCanvas = this.subCanvas[this.canvasIndex++];
		var cavHeight = subCanvas.height;
		var cavWidth = subCanvas.width;

		switch (valign)
		{
		 case mxConstants.ALIGN_MIDDLE:
			 y -= cavHeight / 2 /sc;
			 break;
		 case mxConstants.ALIGN_BOTTOM:
			 y -= cavHeight / sc;
			 break;
		}
		
		switch (align)
		{
		 case mxConstants.ALIGN_CENTER:
			 x -= cavWidth / 2 / sc;
			 break;
		 case mxConstants.ALIGN_RIGHT:
			 x -= cavWidth / sc;
			 break;
		}
		
		this.ctx.save();

		if (this.state.fontBackgroundColor != null || this.state.fontBorderColor != null)
		{
			
			if (this.state.fontBackgroundColor != null)
			{
				this.ctx.fillStyle = this.state.fontBackgroundColor;
				this.ctx.fillRect(Math.round(x) - 0.5, Math.round(y) - 0.5, Math.round(subCanvas.width / sc), Math.round(subCanvas.height / sc));
			}
			if (this.state.fontBorderColor != null)
			{
				this.ctx.strokeStyle = this.state.fontBorderColor;
				this.ctx.lineWidth = 1;
				this.ctx.strokeRect(Math.round(x) - 0.5, Math.round(y) - 0.5, Math.round(subCanvas.width / sc), Math.round(subCanvas.height / sc));
			}
		}

		//if (sc < 1)
		//{
			this.ctx.scale(1/sc, 1/sc);
		//}

    	this.ctx.drawImage(subCanvas, Math.round(x * sc) ,Math.round(y * sc));
    	
		this.ctx.restore();

	}
	else
	{
		this.ctx.save();
		this.updateFont();
			
		var div = document.createElement("div");
	    div.innerHTML = str;
	    div.style.position = 'absolute';
	    div.style.top  = '-9999px';
	    div.style.left = '-9999px';
	    div.style.fontFamily = this.state.fontFamily;
	    div.style.fontWeight = 'bold';
	    div.style.fontSize = this.state.fontSize + 'pt';
	    document.body.appendChild(div);
	    var measuredFont = [div.offsetWidth, div.offsetHeight];
	    document.body.removeChild(div);
	
	    var lines = str.split('\n');
		var lineHeight = measuredFont[1];
		
		this.ctx.textBaseline = 'top';
		var backgroundY = y;
		
		switch (valign)
		{
		 case mxConstants.ALIGN_MIDDLE:
			 this.ctx.textBaseline = 'middle';
			 y -= (lines.length-1) * lineHeight / 2;
			 backgroundY = y - this.state.fontSize / 2;
			 break;
		 case mxConstants.ALIGN_BOTTOM:
			 this.ctx.textBaseline = 'alphabetic';
			 y -= lineHeight * (lines.length-1);
			 backgroundY = y - this.state.fontSize;
			 break;
		}
	
	    var lineWidth = [];
	    var lineX = [];
	    
		for (var i = 0; i < lines.length; i++)
		{
			lineX[i] = x;
			lineWidth[i] = this.ctx.measureText(lines[i]).width;
	  
			if (align != null && align != mxConstants.ALIGN_LEFT)
			{
				lineX[i] -= lineWidth[i];
	
				if (align == mxConstants.ALIGN_CENTER)
				{
					lineX[i] += lineWidth[i] / 2;
				}
			}
		}
	
		if (this.state.fontBackgroundColor != null || this.state.fontBorderColor != null)
		{
			var startMostX = lineX[0];
			var maxWidth = lineWidth[0];
	 
			for (var i = 1; i < lines.length; i++)
			{
				startMostX = Math.min(startMostX, lineX[i]);
				maxWidth = Math.max(maxWidth, lineWidth[i]);
			}
	
			this.ctx.save();
			
			startMostX = Math.round(startMostX) - 0.5;
			backgroundY = Math.round(backgroundY) - 0.5;
			
			if (this.state.fontBackgroundColor != null)
			{
				this.ctx.fillStyle = this.state.fontBackgroundColor;
				this.ctx.fillRect(startMostX, backgroundY, maxWidth, this.state.fontSize * mxConstants.LINE_HEIGHT * lines.length);
			}
			if (this.state.fontBorderColor != null)
			{
				this.ctx.strokeStyle = this.state.fontBorderColor;
				this.ctx.lineWidth = 1;
				this.ctx.strokeRect(startMostX, backgroundY, maxWidth, this.state.fontSize * mxConstants.LINE_HEIGHT * lines.length);
			}
			
			this.ctx.restore();
		}
		
		for (var i = 0; i < lines.length; i++)
		{
			this.ctx.fillText(lines[i], lineX[i], y);
			y += this.state.fontSize * mxConstants.LINE_HEIGHT;
		}
		
		this.ctx.restore();
	}
};

mxJsCanvas.prototype.getCanvas = function()
{
	return canvas;
};

mxJsCanvas.prototype.finish = function(handler)
{
	// TODO: Check if waitCounter updates need a monitor. Question is
	// if image load-handler can be executed in parallel leading to
	// race conditions when updating the "shared" waitCounter.
	if (this.waitCounter == 0)
	{
		handler();
	}
	else
	{
		this.onComplete = handler;
	}
};
/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
DrawioFile = function(ui, data)
{
	mxEventSource.call(this);
	
	/**
	 * Holds the x-coordinate of the point.
	 * @type number
	 * @default 0
	 */
	this.ui = ui;
	
	/**
	 * Holds the x-coordinate of the point.
	 * @type number
	 * @default 0
	 */
	this.data = data || '';
};

//Extends mxEventSource
mxUtils.extend(DrawioFile, mxEventSource);

/**
 * Sets the delay for autosave in milliseconds. Default is 1500.
 */
DrawioFile.prototype.autosaveDelay = 1500;

/**
 * Sets the delay for autosave in milliseconds. Default is 30000.
 */
DrawioFile.prototype.maxAutosaveDelay = 30000;

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
DrawioFile.prototype.autosaveThread = null;

/**
 * Sets the delay for autosave in milliseconds. Default is 500.
 */
DrawioFile.prototype.lastAutosave = null;

/**
 * Sets the delay for autosave in milliseconds. Default is 1500.
 */
DrawioFile.prototype.modified = false;

/**
 * Specifies if the graph change listener is enabled. Default is true.
 */
DrawioFile.prototype.changeListenerEnabled = true;

/**
 * Sets the delay for autosave in milliseconds. Default is 1500.
 */
DrawioFile.prototype.lastAutosaveRevision = null;

/**
 * Sets the delay for autosave in milliseconds. Default is 1000.
 */
DrawioFile.prototype.maxAutosaveRevisionDelay = 1800000;

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.descriptorChanged = function()
{
	this.fireEvent(new mxEventObject('descriptorChanged'));
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.contentChanged = function()
{
	this.fireEvent(new mxEventObject('contentChanged'));
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
DrawioFile.prototype.save = function(revision, success, error, unloading)
{
	this.updateFileData();
	this.clearAutosave();
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.updateFileData = function()
{
	this.setData(this.ui.getFileData());
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.saveAs = function(filename, success, error) { };

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.saveFile = function(title, revision, success, error) { };

/**
 * Returns true if copy, export and print are not allowed for this file.
 */
DrawioFile.prototype.getPublicUrl = function(fn)
{
	fn(null);
};

/**
 * Returns true if copy, export and print are not allowed for this file.
 */
DrawioFile.prototype.isRestricted = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.isModified = function()
{
	return this.modified;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.setModified = function(value)
{
	this.modified = value;
};

/**
 * Specifies if the autosave checkbox should be shown in the document
 * properties dialog. Default is false.
 */
DrawioFile.prototype.isAutosaveOptional = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.isAutosave = function()
{
	return this.ui.editor.autosave;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.isRenamable = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.rename = function(title, success, error) { };

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.isMovable = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.move = function(folderId, success, error) { };

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.getHash = function()
{
	return '';
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.getId = function()
{
	return '';
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.isEditable = function()
{
	return !this.ui.editor.chromeless;
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
DrawioFile.prototype.getUi = function()
{
	return this.ui;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
DrawioFile.prototype.getTitle = function()
{
	return '';
};

/**
 * Sets the location of this point.
 * 
 * @param {number} x New X-coordinate of the point.
 * @param {number} y New Y-coordinate of the point.
 */
DrawioFile.prototype.setData = function(data)
{
	this.data = data;
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
DrawioFile.prototype.getData = function()
{
	return this.data;
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
DrawioFile.prototype.open = function()
{
	this.ui.setFileData(this.getData());
	
	this.changeListener = mxUtils.bind(this, function(sender, eventObject)
	{
		var edit = (eventObject != null) ? eventObject.getProperty('edit') : null;
		
		if (this.changeListenerEnabled && this.isEditable() &&
			(edit == null || !edit.ignoreEdit))
		{
			this.setModified(true);
			
			if (this.isAutosave())
			{
				this.ui.editor.setStatus(mxUtils.htmlEntities(mxResources.get('saving')) + '...');
				
				this.autosave(this.autosaveDelay, this.maxAutosaveDelay, mxUtils.bind(this, function(resp)
				{
					// Does not update status if another autosave was scheduled
					if (this.autosaveThread == null && this.ui.getCurrentFile() == this && !this.isModified())
					{
						this.ui.editor.setStatus(mxUtils.htmlEntities(mxResources.get('allChangesSaved')));
					}
				}), mxUtils.bind(this, function(resp)
				{
					if (this.ui.getCurrentFile() == this)
					{
						this.addUnsavedStatus(resp);
					}
				}));
			}
			else
			{
				this.addUnsavedStatus();
			}
		}
	});
	
	this.ui.editor.graph.model.addListener(mxEvent.CHANGE, this.changeListener);

	// Some options trigger autosave
	this.ui.editor.graph.addListener('gridSizeChanged', this.changeListener);
	this.ui.editor.graph.addListener('shadowVisibleChanged', this.changeListener);
	this.ui.addListener('pageFormatChanged', this.changeListener);
	this.ui.addListener('pageScaleChanged', this.changeListener);
	this.ui.addListener('backgroundColorChanged', this.changeListener);
	this.ui.addListener('backgroundImageChanged', this.changeListener);
	this.ui.addListener('foldingEnabledChanged', this.changeListener);
	this.ui.addListener('mathEnabledChanged', this.changeListener);
	this.ui.addListener('gridEnabledChanged', this.changeListener);
	this.ui.addListener('guidesEnabledChanged', this.changeListener);
	this.ui.addListener('pageViewChanged', this.changeListener);
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
DrawioFile.prototype.addUnsavedStatus = function(err)
{
	if (err instanceof Error && err.message != null)
	{
		this.ui.editor.setStatus('<div class="geStatusAlert" style="cursor:pointer;">' +
				mxUtils.htmlEntities(mxResources.get('unsavedChanges')) +
				' (' + mxUtils.htmlEntities(err.message) + ')</div>');
	}
	else
	{
		// FIXME: Handle multiple tabs
//		if (this.ui.mode == null && urlParams['splash'] == '0')
//		{
//			try
//			{
//				this.ui.updateDraft();
//				this.setModified(false);
//			}
//			catch (e)
//			{
//				// Keeps modified flag unchanged
//			}
//		}
		
		this.ui.editor.setStatus('<div class="geStatusMessage" style="cursor:pointer;">' +
			mxUtils.htmlEntities(mxResources.get('unsavedChangesClickHereToSave')) + '</div>');
		
		// Installs click handler for saving
		if (this.ui.statusContainer != null)
		{
			var links = this.ui.statusContainer.getElementsByTagName('div');
			
			if (links.length > 0)
			{
				mxEvent.addListener(links[0], 'click', mxUtils.bind(this, function()
				{
					this.ui.actions.get((this.ui.mode == null) ? 'saveAs' : 'save').funct();
				}));
			}
		}
	}
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
DrawioFile.prototype.autosave = function(delay, maxDelay, success, error)
{
	if (this.lastAutosave == null)
	{
		this.lastAutosave = new Date().getTime();
	}
	
	var tmp = (new Date().getTime() - this.lastAutosave < maxDelay) ? delay : 0;
	this.clearAutosave();
	
	// Starts new timer or executes immediately if not unsaved for maxDelay
	this.autosaveThread = window.setTimeout(mxUtils.bind(this, function()
	{
		this.autosaveThread = null;
		this.lastAutosave = null;
		
		// Workaround for duplicate save if UI is blocking
		// after save while pending autosave triggers
		if (this.isModified() && this.isAutosaveNow())
		{
			var rev = this.isAutosaveRevision();
			
			if (rev)
			{
				this.lastAutosaveRevision = new Date().getTime();
			}
			
			this.save(rev, mxUtils.bind(this, function(resp)
			{
				this.autosaveCompleted();
				
				if (success != null)
				{
					success(resp);
				}
			}), mxUtils.bind(this, function(resp)
			{
				if (error != null)
				{
					error(resp);
				}
			}));
		}
		else
		{
			if (success != null)
			{
				success(null);
			}
		}
	}), tmp);
};

/**
 * Returns true if an autosave is required at the time of execution.
 * This implementation returns true.
 */
DrawioFile.prototype.isAutosaveNow = function()
{
	return true;
};

/**
 * Hooks for subclassers after the autosave has completed.
 */
DrawioFile.prototype.autosaveCompleted = function() { };

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
DrawioFile.prototype.clearAutosave = function()
{
	if (this.autosaveThread != null)
	{
		window.clearTimeout(this.autosaveThread);
		this.autosaveThread = null;
	}
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
DrawioFile.prototype.isAutosaveRevision = function()
{
	var now = new Date().getTime();
	
	return (this.lastAutosaveRevision == null) || (now - this.lastAutosaveRevision) > this.maxAutosaveRevisionDelay;
};

/**
 * Returns the location as a new object.
 */
DrawioFile.prototype.close = function(unloading)
{
	if (this.isAutosave() && this.isModified())
	{
		this.save(this.isAutosaveRevision(), null, null, unloading);
	}
	
	this.destroy();
};

/**
 * Returns the location as a new object.
 */
DrawioFile.prototype.hasSameExtension = function(title, newTitle)
{
	if (title != null && newTitle != null)
	{
		var dot = title.lastIndexOf('.');
		var ext = (dot > 0) ? title.substring(dot) : '';
		dot = newTitle.lastIndexOf('.');

		return ext === ((dot > 0) ? newTitle.substring(dot) : '');
	}
	
	return title == newTitle;
};

/**
 * Stops any pending autosaves and removes all listeners.
 */
DrawioFile.prototype.destroy = function()
{
	this.clearAutosave();
	
	if (this.changeListener != null)
	{
		this.ui.editor.graph.model.removeListener(this.changeListener);
		this.ui.editor.graph.removeListener(this.changeListener);
		this.ui.removeListener(this.changeListener);
		this.changeListener = null;
	}
};

// $Id = LocalFile.js,v 1.12 2010-01-02 09 =45 =14 gaudenz Exp $
// Copyright (c) 2006-2014, JGraph Ltd
/**
 * Constructs a new point for the optional x and y coordinates. If no
 * coordinates are given, then the default values for <x> and <y> are used.
 * @constructor
 * @class Implements a basic 2D point. Known subclassers = {@link mxRectangle}.
 * @param {number} x X-coordinate of the point.
 * @param {number} y Y-coordinate of the point.
 */
LocalFile = function(ui, data, title, temp)
{
	DrawioFile.call(this, ui, data);
	
	this.title = title;
	this.mode = (temp) ? null : App.MODE_DEVICE;
};

//Extends mxEventSource
mxUtils.extend(LocalFile, DrawioFile);

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.isAutosave = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.getMode = function()
{
	return this.mode;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.getTitle = function()
{
	return this.title;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.isRenamable = function()
{
	return true;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.save = function(revision, success, error)
{
	this.saveAs(this.title, success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.saveAs = function(title, success, error)
{
	this.saveFile(title, false, success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.saveFile = function(title, revision, success, error)
{
	this.title = title;

	// Updates data after changing file name
	this.updateFileData();
	var data = this.getData();
	
	if (this.ui.isOfflineApp() || this.ui.isLocalFileSave())
	{
		this.ui.doSaveLocalFile(data, title, 'text/xml');
	}
	else
	{
		if (data.length < MAX_REQUEST_SIZE)
		{
			var dot = title.lastIndexOf('.');
			var format = (dot > 0) ? title.substring(dot + 1) : 'xml';

			// Do not update modified flag
			new mxXmlRequest(SAVE_URL, 'format=' + format + '&filename=' +
				encodeURIComponent(title) + '&xml=' +
				encodeURIComponent(data)).simulate(document, '_blank');
		}
		else
		{
			this.ui.handleError({message: mxResources.get('drawingTooLarge')}, mxResources.get('error'), mxUtils.bind(this, function()
			{
				mxUtils.popup(data);
			}));
		}
	}
	
	this.setModified(false);
	this.contentChanged();
	
	if (success != null)
	{
		success();
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalFile.prototype.rename = function(title, success, error)
{
	this.title = title;
	this.descriptorChanged();
	
	if (success != null)
	{
		success();
	}
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
LocalFile.prototype.open = function()
{
	this.ui.setFileData(this.getData());
	
	// Only used to update the status when the file changes
	this.changeListener = mxUtils.bind(this, function(sender, eventObject)
	{
		this.setModified(true);
		this.addUnsavedStatus();
	});
	
	this.ui.editor.graph.model.addListener(mxEvent.CHANGE, this.changeListener);
};

// $Id = DriveFile.js,v 1.12 2010-01-02 09 =45 =14 gaudenz Exp $
// Copyright (c) 2006-2014, JGraph Ltd
/**
 * Constructs a new point for the optional x and y coordinates. If no
 * coordinates are given, then the default values for <x> and <y> are used.
 * @constructor
 * @class Implements a basic 2D point. Known subclassers = {@link mxRectangle}.
 * @param {number} x X-coordinate of the point.
 * @param {number} y Y-coordinate of the point.
 */
LocalLibrary = function(ui, data, title)
{
	LocalFile.call(this, ui, data, title);
};

//Extends mxEventSource
mxUtils.extend(LocalLibrary, LocalFile);

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalLibrary.prototype.getHash = function()
{
	return 'F' + this.getTitle();
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalLibrary.prototype.isAutosave = function()
{
	return false;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalLibrary.prototype.saveAs = function(title, success, error)
{
	this.saveFile(title, false, success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
LocalLibrary.prototype.updateFileData = function()
{
	// Do nothing
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
LocalLibrary.prototype.open = function()
{
	// Do nothing - this should never be called
};

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
/**
 * Constructs a new point for the optional x and y coordinates. If no
 * coordinates are given, then the default values for <x> and <y> are used.
 * @constructor
 * @class Implements a basic 2D point. Known subclassers = {@link mxRectangle}.
 * @param {number} x X-coordinate of the point.
 * @param {number} y Y-coordinate of the point.
 */
StorageFile = function(ui, data, title)
{
	DrawioFile.call(this, ui, data);
	
	this.title = title;
};

//Extends mxEventSource
mxUtils.extend(StorageFile, DrawioFile);

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
StorageFile.prototype.autosaveDelay = 2000;

/**
 * Sets the delay for autosave in milliseconds. Default is 20000.
 */
StorageFile.prototype.maxAutosaveDelay = 20000;

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.getMode = function()
{
	return App.MODE_BROWSER;
};

/**
 * Overridden to enable the autosave option in the document properties dialog.
 */
StorageFile.prototype.isAutosaveOptional = function()
{
	return true;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.getHash = function()
{
	return 'L' + encodeURIComponent(this.getTitle());
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.getTitle = function()
{
	return this.title;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.isRenamable = function()
{
	return true;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.save = function(revision, success, error)
{
	this.saveAs(this.getTitle(), success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.saveAs = function(title, success, error)
{
	DrawioFile.prototype.save.apply(this, arguments);
	this.saveFile(title, false, success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.saveFile = function(title, revision, success, error)
{
	if (!this.isEditable())
	{
		if (success != null)
		{
			success();
		}
	}
	else
	{
		var fn = mxUtils.bind(this, function()
		{
			if (this.isRenamable())
			{
				this.title = title;
			}
			
			try
			{
				this.ui.setLocalData(this.title, this.getData(), mxUtils.bind(this, function()
				{
					this.setModified(false);
					this.contentChanged();
					
					if (success != null)
					{
						success();
					}
		        }));
			}
			catch (e)
			{
				if (error != null)
				{
					error(e);
				}
			}
		});
		
		// Checks for trailing dots
		if (this.isRenamable() && title.charAt(0) == '.' && error != null)
		{
			error({message: mxResources.get('invalidName')});
		}
		else
		{
			this.ui.getLocalData(title, mxUtils.bind(this, function(data)
			{
				if (!this.isRenamable() || this.getTitle() == title || data == null)
				{
					fn();
				}
				else
				{
					this.ui.confirm(mxResources.get('replaceIt', [title]), fn, error);
				}
			}));
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageFile.prototype.rename = function(title, success, error)
{
	var oldTitle = this.getTitle();
	this.title = title;
	
	// Updates the data if the extension has changed
	if (!this.hasSameExtension(oldTitle, title))
	{
		this.setData(this.ui.getFileData());
	}
	
	this.saveFile(title, false, mxUtils.bind(this, function()
	{
		if (oldTitle != title)
		{
			this.ui.removeLocalData(oldTitle, success);
		}
	}), error);
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
StorageFile.prototype.open = function()
{
	DrawioFile.prototype.open.apply(this, arguments);

	// Immediately creates the storage entry
	this.saveFile(this.getTitle());
};

/**
 * Stops any pending autosaves and removes all listeners.
 */
StorageFile.prototype.destroy = function()
{
	DrawioFile.prototype.destroy.apply(this, arguments);
	
	if (this.storageListener != null)
	{
		mxEvent.removeListener(window, 'storage', this.storageListener);
		this.storageListener = null;
	}
};

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
/**
 * Constructs a new point for the optional x and y coordinates. If no
 * coordinates are given, then the default values for <x> and <y> are used.
 * @constructor
 * @class Implements a basic 2D point. Known subclassers = {@link mxRectangle}.
 * @param {number} x X-coordinate of the point.
 * @param {number} y Y-coordinate of the point.
 */
StorageLibrary = function(ui, data, title)
{
	StorageFile.call(this, ui, data, title);
};

//Extends mxEventSource
mxUtils.extend(StorageLibrary, StorageFile);

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageLibrary.prototype.isAutosave = function()
{
	return true;
};

/**
 * Overridden to avoid updating data with current file.
 */
StorageLibrary.prototype.saveAs = function(title, success, error)
{
	this.saveFile(title, false, success, error);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageLibrary.prototype.getHash = function()
{
	return 'L' + encodeURIComponent(this.title);
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
StorageLibrary.prototype.getTitle = function()
{
	return (this.title == '.scratchpad') ? mxResources.get('scratchpad') : this.title;
};

/**
 * Overridden to avoid updating data with current file.
 */
StorageLibrary.prototype.isRenamable = function(title, success, error)
{
	return this.title != '.scratchpad';
};

/**
 * Returns the location as a new object.
 * @type mx.Point
 */
StorageLibrary.prototype.open = function()
{
	// Do nothing - this should never be called
};

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
var StorageDialog = function(editorUi, fn, rowLimit)
{
	rowLimit = (rowLimit != null) ? rowLimit : 3;
	
	var div = document.createElement('div');
	div.style.textAlign = 'center';
	div.style.whiteSpace = 'nowrap';
	div.style.paddingTop = '0px';
	div.style.paddingBottom = '20px';
	
	var elt = editorUi.addLanguageMenu(div);
	var bottom = '28px';
	
	if (elt != null)
	{
		elt.style.bottom = bottom;
	}
	
	if (!editorUi.isOffline() && editorUi.getServiceCount() > 1)
	{
		var help = document.createElement('a');
		help.setAttribute('href', 'https://support.draw.io/display/DO/Selecting+Storage');
		help.setAttribute('title', mxResources.get('help'));
		help.setAttribute('target', '_blank');
		help.style.position = 'absolute';
		help.style.textDecoration = 'none';
		help.style.cursor = 'pointer';
		help.style.fontSize = '12px';
		help.style.bottom = bottom;
		help.style.left = '26px';
		help.style.color = 'gray';
		mxUtils.write(help, mxResources.get('help'));
		
		div.appendChild(help);
	}

	var demo = document.createElement('div');
	demo.style.position = 'absolute';
	demo.style.cursor = 'pointer';
	demo.style.fontSize = '12px';
	demo.style.bottom = bottom;
	demo.style.color = 'gray';
	mxUtils.write(demo, mxResources.get('decideLater'));
	
	if (editorUi.isOfflineApp())
	{
		demo.style.right = '20px';
	}
	else
	{
		mxUtils.setPrefixedStyle(demo.style, 'transform', 'translate(-50%,0)');
		demo.style.left = '50%';
	}
	
	this.init = function()
	{
		if (mxClient.IS_QUIRKS || document.documentMode == 8)
		{
			demo.style.marginLeft = -Math.round(demo.clientWidth / 2) + 'px';
		}
	};
	
	div.appendChild(demo);
	
	mxEvent.addListener(demo, 'click', function()
	{
		editorUi.hideDialog();
		var prev = Editor.useLocalStorage;
		editorUi.createFile(editorUi.defaultFilename, null, null, null, null, null, null, true);
		Editor.useLocalStorage = prev;
	});
	
	var buttons = document.createElement('div');
	
	if (mxClient.IS_QUIRKS)
	{
		buttons.style.whiteSpace = 'nowrap';
		buttons.style.cssFloat = 'left';
	}

	buttons.style.border = '1px solid #d3d3d3';
	buttons.style.borderWidth = '1px 0px 1px 0px';
	buttons.style.padding = '18px 0px 18px 0px';

	var cb = document.createElement('input');
	cb.setAttribute('type', 'checkbox');
	cb.setAttribute('checked', 'checked');
	cb.defaultChecked = true;
	var count = 0;
	
	function addLogo(img, title, mode, clientName)
	{
		var button = document.createElement('a');
		button.style.overflow = 'hidden';
		
		var logo = document.createElement('img');
		logo.setAttribute('src', img);
		logo.setAttribute('border', '0');
		logo.setAttribute('align', 'absmiddle');
		logo.style.width = '60px';
		logo.style.height = '60px';
		logo.style.paddingBottom = '6px';
		button.style.display = (mxClient.IS_QUIRKS) ? 'inline' : 'inline-block';
		button.className = 'geBaseButton';
		button.style.position = 'relative';
		button.style.margin = '4px';
		button.style.padding = '8px 10px 12px 10px';
		button.style.whiteSpace = 'nowrap';
		
		// Workaround for quirks is a vertical list (limited to max 2 items)
		if (mxClient.IS_QUIRKS)
		{
			button.style.cssFloat = 'left';
			button.style.zoom = '1';
		}

		button.appendChild(logo);
		
		var label = document.createElement('div');
		button.appendChild(label);
		mxUtils.write(label, title);
		
		function initButton()
		{
			mxEvent.addListener(button, 'click', function()
			{
				// Special case: Redirect all drive users to draw.io pro
				if (mode == App.MODE_GOOGLE && !editorUi.isDriveDomain())
				{
					window.location.hostname = DriveClient.prototype.newAppHostname;
				}
				else if (mode == App.MODE_GOOGLE && editorUi.spinner.spin(document.body, mxResources.get('authorizing')))
				{
					// Tries immediate authentication
					editorUi.drive.checkToken(mxUtils.bind(this, function()
					{
						editorUi.spinner.stop();
						editorUi.setMode(mode, cb.checked);
						fn();
					}));
				}
				else
				{
					editorUi.setMode(mode, cb.checked);
					fn();
				}
			});
		};
		
		// Supports lazy loading
		if (clientName != null && editorUi[clientName] == null)
		{
			logo.style.visibility = 'hidden';
			mxUtils.setOpacity(label, 10);
			var size = 12;
			
			var spinner = new Spinner({
				lines: 12, // The number of lines to draw
				length: size, // The length of each line
				width: 5, // The line thickness
				radius: 10, // The radius of the inner circle
				rotate: 0, // The rotation offset
				color: '#000', // #rgb or #rrggbb
				speed: 1.5, // Rounds per second
				trail: 60, // Afterglow percentage
				shadow: false, // Whether to render a shadow
				hwaccel: false, // Whether to use hardware acceleration
				top: '40%',
				zIndex: 2e9 // The z-index (defaults to 2000000000)
			});
			spinner.spin(button);
			
			// Timeout after 30 secs
			var timeout = window.setTimeout(function()
			{
				if (editorUi[clientName] == null)
				{
					spinner.stop();
					button.style.display = 'none';
				}
			}, 30000);
			
			editorUi.addListener('clientLoaded', mxUtils.bind(this, function()
			{
				if (editorUi[clientName] != null)
				{
					window.clearTimeout(timeout);
					mxUtils.setOpacity(label, 100);
					logo.style.visibility = '';
					spinner.stop();
					initButton();
				}
			}));
		}
		else
		{
			initButton();
		}

		buttons.appendChild(button);
		
		if (++count >= rowLimit)
		{
			mxUtils.br(buttons);
			count = 0;
		}
	};

	var hd = document.createElement('p');
	hd.style.fontSize = '16pt';
	hd.style.padding = '0px';
	hd.style.paddingTop = '4px';
	hd.style.paddingBottom = '16px';
	hd.style.margin = '0px';
	hd.style.color = 'gray';
	mxUtils.write(hd, mxResources.get('saveDiagramsTo') + ':');
	div.appendChild(hd);
	
	if (typeof window.DriveClient === 'function')
	{
		addLogo(IMAGE_PATH + '/google-drive-logo.svg', mxResources.get('googleDrive'), App.MODE_GOOGLE, 'drive');
	}
	
	if (editorUi.gitHub != null)
	{
		addLogo(IMAGE_PATH + '/github-logo.svg', mxResources.get('github'), App.MODE_GITHUB, 'gitHub');
	}
	
	if (typeof window.DropboxClient === 'function')
	{
		addLogo(IMAGE_PATH + '/dropbox-logo.svg', mxResources.get('dropbox'), App.MODE_DROPBOX, 'dropbox');
	}
	
	if (typeof window.OneDriveClient === 'function')
	{
		addLogo(IMAGE_PATH + '/onedrive-logo.svg', mxResources.get('oneDrive'), App.MODE_ONEDRIVE, 'oneDrive');
	}

	if (!mxClient.IS_IOS || urlParams['storage'] == 'device')
	{
		addLogo(IMAGE_PATH + '/osa_drive-harddisk.png', mxResources.get('device'), App.MODE_DEVICE);
	}
	
	if (isLocalStorage && (urlParams['browser'] == '1' || urlParams['offline'] == '1'))
	{
		addLogo(IMAGE_PATH + '/osa_database.png', mxResources.get('browser'), App.MODE_BROWSER);
	}
	
	div.appendChild(buttons);

	var p2 = document.createElement('p');
	p2.style.marginTop = '12px';
	p2.style.marginBottom = '10px';
	p2.appendChild(cb);
	
	var span = document.createElement('span');
	span.style.color = 'gray';
	span.style.fontSize = '12px';
	mxUtils.write(span, ' ' + mxResources.get('rememberThisSetting'));
	p2.appendChild(span);
	mxUtils.br(p2);

	var recent = editorUi.getRecent();

	if (recent != null && recent.length > 0)
	{
		var recentSelect = document.createElement('select');
		recentSelect.style.marginTop = '14px';
		recentSelect.style.width = '140px';

		var titleOption = document.createElement('option');
		titleOption.setAttribute('value', '');
		titleOption.setAttribute('selected', 'selected');
		titleOption.style.textAlign = 'center';
		mxUtils.write(titleOption, mxResources.get('openRecent') + '...');
		recentSelect.appendChild(titleOption);
		
		for (var i = 0; i < recent.length; i++)
		{
			(function(entry)
			{
				var modeKey = entry.mode;
				
				// Google and oneDrive use different keys
				if (modeKey == App.MODE_GOOGLE)
				{
					modeKey = 'googleDrive';
				}
				else if (modeKey == App.MODE_ONEDRIVE)
				{
					modeKey = 'oneDrive';
				}
				
				var entryOption = document.createElement('option');
				entryOption.setAttribute('value', entry.id);
				mxUtils.write(entryOption, entry.title + ' (' + mxResources.get(modeKey) + ')');
				recentSelect.appendChild(entryOption);
			})(recent[i]);
		}

		p2.appendChild(recentSelect);
		
		mxEvent.addListener(recentSelect, 'change', function(evt)
		{
			if (recentSelect.value != '')
			{
				editorUi.loadFile(recentSelect.value);
			}
		});
	}
	else
	{
		p2.style.marginTop = '20px';
		buttons.style.padding = '30px 0px 26px 0px';
	}
	
	buttons.appendChild(p2);
	
	mxEvent.addListener(span, 'click', function(evt)
	{
		cb.checked = !cb.checked;
		mxEvent.consume(evt);
	});

	// Checks if Google Drive is missing after a 5 sec delay
	if (mxClient.IS_SVG && isLocalStorage && urlParams['gapi'] != '0' &&
		(document.documentMode == null || document.documentMode >= 10))
	{
		window.setTimeout(function()
		{
			if (editorUi.drive == null)
			{
				// To check for Disconnect plugin in chrome use mxClient.IS_GC and check for URL:
				// chrome-extension://jeoacafpbcihiomhlakheieifhpjdfeo/scripts/vendor/jquery/jquery-2.0.3.min.map
				var p3 = document.createElement('p');
				p3.style.padding = '8px';
				p3.style.fontSize = '9pt';
				p3.style.marginTop = '-14px';
				p3.innerHTML = '<a style="background-color:#dcdcdc;padding:5px;color:black;text-decoration:none;" ' +
					'href="https://plus.google.com/u/0/+DrawIo1/posts/1HTrfsb5wDN" target="_blank">' +
					'<img border="0" src="' + mxGraph.prototype.warningImage.src + '" align="top"> ' +
					mxResources.get('googleDriveMissingClickHere') + '</a>';
				div.appendChild(p3);
			}
		}, 5000);
	}
	
	this.container = div;
};

/**
 * Constructs a dialog for creating new files from templates.
 */
var SplashDialog = function(editorUi)
{
	var div = document.createElement('div');
	div.style.textAlign = 'center';
	
	editorUi.addLanguageMenu(div);
	var help = null;
	var serviceCount = editorUi.getServiceCount();
	
	if (!editorUi.isOffline() && serviceCount > 1)
	{
		help = document.createElement('a');
		help.setAttribute('href', 'https://support.draw.io/display/DO/Selecting+Storage');
		help.setAttribute('title', mxResources.get('help'));
		help.setAttribute('target', '_blank');
		help.style.position = 'absolute';
		help.style.fontSize = '12px';
		help.style.textDecoration = 'none';
		help.style.cursor = 'pointer';
		help.style.bottom = '22px';
		help.style.left = '26px';
		help.style.color = 'gray';
		mxUtils.write(help, mxResources.get('help'));
		
		div.appendChild(help);
	}

	var hd = document.createElement('p');
	hd.style.fontSize = '16pt';
	hd.style.padding = '0px';
	hd.style.paddingTop = '2px';
	hd.style.margin = '0px';
	hd.style.color = 'gray';
	
	var logo = document.createElement('img');
	logo.setAttribute('border', '0');
	logo.setAttribute('align', 'absmiddle');
	logo.style.width = '40px';
	logo.style.height = '40px';
	logo.style.marginRight = '12px';
	logo.style.paddingBottom = '4px';
	
	var service = '';
	
	if (editorUi.mode == App.MODE_GOOGLE)
	{
		logo.src = IMAGE_PATH + '/google-drive-logo.svg';
		service = mxResources.get('googleDrive');
		
		if (help != null)
		{
			help.setAttribute('href', 'https://support.draw.io/display/DO/Using+draw.io+with+Google+Drive');
		}
	}
	else if (editorUi.mode == App.MODE_DROPBOX)
	{
		logo.src = IMAGE_PATH + '/dropbox-logo.svg';
		service = mxResources.get('dropbox');
		
		if (help != null)
		{
			help.setAttribute('href', 'https://support.draw.io/display/DO/Using+draw.io+with+Dropbox');
		}
	}
	else if (editorUi.mode == App.MODE_ONEDRIVE)
	{
		logo.src = IMAGE_PATH + '/onedrive-logo.svg';
		service = mxResources.get('oneDrive');
		
		if (help != null)
		{
			help.setAttribute('href', 'https://support.draw.io/display/DO/Using+draw.io+with+OneDrive');
		}
	}
	else if (editorUi.mode == App.MODE_GITHUB)
	{
		logo.src = IMAGE_PATH + '/github-logo.svg';
		service = mxResources.get('github');
	}
	else if (editorUi.mode == App.MODE_BROWSER)
	{
		logo.src = IMAGE_PATH + '/osa_database.png';
		service = mxResources.get('browser');
	}
	else
	{
		logo.src = IMAGE_PATH + '/osa_drive-harddisk.png';
		service = mxResources.get('device');
	}

	hd.appendChild(logo);
	
	mxUtils.write(hd, service);
		
	div.appendChild(hd);

	var buttons = document.createElement('div');
	
	if (mxClient.IS_QUIRKS)
	{
		buttons.style.whiteSpace = 'nowrap';
		buttons.style.cssFloat = 'left';
	}

	buttons.style.border = '1px solid #d3d3d3';
	buttons.style.borderWidth = '1px 0px 1px 0px';
	buttons.style.padding = '18px 0px 24px 0px';
	buttons.style.margin = '4px 0px 0px 0px';
	
	var btn = document.createElement('button');
	btn.className = 'geBigButton';
	btn.style.marginBottom = '8px';
	btn.style.overflow = 'hidden';
	btn.style.width = '340px';
	
	if (mxClient.IS_QUIRKS)
	{
		btn.style.width = '340px';
	}
	
	mxUtils.write(btn, mxResources.get('createNewDiagram'));
	
	mxEvent.addListener(btn, 'click', function()
	{
		editorUi.hideDialog();
		editorUi.actions.get('new').funct();
	});
	
	buttons.appendChild(btn);
	mxUtils.br(buttons);
	
	var btn = document.createElement('button');
	btn.className = 'geBigButton';
	btn.style.marginBottom = '22px';
	btn.style.overflow = 'hidden';
	btn.style.width = '340px';
	
	if (mxClient.IS_QUIRKS)
	{
		btn.style.width = '340px';
	}
	
	mxUtils.write(btn, mxResources.get('openExistingDiagram'));
	
	mxEvent.addListener(btn, 'click', function()
	{
		editorUi.actions.get('open').funct();
	});
	
	buttons.appendChild(btn);

	var storage = 'undefined';
	
	if (editorUi.mode == App.MODE_GOOGLE)
	{
		storage = mxResources.get('googleDrive');
	}
	else if (editorUi.mode == App.MODE_DROPBOX)
	{
		storage = mxResources.get('dropbox');
	}
	else if (editorUi.mode == App.MODE_ONEDRIVE)
	{
		storage = mxResources.get('oneDrive');
	}
	else if (editorUi.mode == App.MODE_GITHUB)
	{
		storage = mxResources.get('github');
	}
	else if (editorUi.mode == App.MODE_DEVICE)
	{
		storage = mxResources.get('device');
	}
	else if (editorUi.mode == App.MODE_BROWSER)
	{
		storage = mxResources.get('browser');
	}
	
	if (!mxClient.IS_CHROMEAPP)
	{
		var driveUser = (editorUi.drive != null) ? editorUi.drive.getUser() : null;
		
		function addLogout(logout)
		{
			btn.style.marginBottom = '24px';
			
			var link = document.createElement('a');
			link.setAttribute('href', 'javascript:void(0)');
			link.style.display = 'block';
			link.style.marginTop = '6px';
			mxUtils.write(link, mxResources.get('signOut'));

			// Makes room after last big buttons
			btn.style.marginBottom = '16px';
			buttons.style.paddingBottom = '18px';
			
			mxEvent.addListener(link, 'click', function()
			{
				editorUi.confirm(mxResources.get('areYouSure'), function()
				{
					logout();
				});
			});
			
			buttons.appendChild(link);
		};
		
		if (editorUi.mode == App.MODE_GOOGLE && driveUser != null)
		{
			btn.style.marginBottom = '24px';
			
			var link = document.createElement('a');
			link.setAttribute('href', 'javascript:void(0)');
			link.style.display = 'block';
			link.style.marginTop = '6px';
			mxUtils.write(link, mxResources.get('changeUser') + ' (' + driveUser.displayName + ')');

			// Makes room after last big buttons
			btn.style.marginBottom = '16px';
			buttons.style.paddingBottom = '18px';
			
			mxEvent.addListener(link, 'click', function()
			{
				editorUi.hideDialog();
				editorUi.drive.clearUserId();
				editorUi.drive.setUser(null);
				gapi.auth.signOut();

				// Restores current dialog after clearing user
				editorUi.setMode(App.MODE_GOOGLE);
				editorUi.hideDialog();
				editorUi.showSplash();
				
				// FIXME: Does not force showing the auth dialog if only one user is logged in
				editorUi.drive.authorize(false, mxUtils.bind(this, mxUtils.bind(this, function()
				{
					editorUi.hideDialog();
					editorUi.showSplash();
				})), mxUtils.bind(this, function(resp)
				{
					editorUi.handleError(resp, null, function()
					{
						editorUi.hideDialog();
						editorUi.showSplash();
					});
				}));
			});

			buttons.appendChild(link);
		}
		else if (editorUi.mode == App.MODE_ONEDRIVE && editorUi.oneDrive != null)
		{
			addLogout(function()
			{
				editorUi.oneDrive.logout();
			});
		}
		else if (editorUi.mode == App.MODE_GITHUB && editorUi.gitHub != null)
		{
			addLogout(function()
			{
				editorUi.gitHub.logout();
				window.open('https://www.github.com/logout');
			});
		}
		else if (editorUi.mode == App.MODE_DROPBOX && editorUi.dropbox != null)
		{
			// NOTE: Dropbox has a logout option in the picker
			addLogout(function()
			{
				editorUi.dropbox.logout();
				window.open('https://www.dropbox.com/logout');
			});
		}
		
		if (serviceCount > 1)
		{
			var link = document.createElement('a');
			link.setAttribute('href', 'javascript:void(0)');
			link.style.display = 'block';
			link.style.marginTop = '8px';
			mxUtils.write(link, mxResources.get('notUsingService', [storage]));
			
			mxEvent.addListener(link, 'click', function()
			{
				editorUi.hideDialog(false);
				editorUi.setMode(null);
				editorUi.clearMode();
				editorUi.showSplash(true);
			});
			
			buttons.appendChild(link);
		}
	}
	
	div.appendChild(buttons);
	
	// Changes Chrome App dialog
	if (serviceCount < 2)
	{
		hd.style.paddingTop = '12px';
		hd.innerHTML = '';
		mxUtils.write(hd, mxResources.get('chooseAnOption') + ':');
		buttons.style.border = 'none';
		buttons.style.padding = '16px 0px 0px 0px';
		btn.style.marginBottom = '0px';
	}
	
	this.container = div;
};

/**
 * 
 */
var ConfirmDialog = function(editorUi, message, okFn, cancelFn, okLabel, cancelLabel)
{
	var div = document.createElement('div');
	div.style.textAlign = 'center';
	
	var p2 = document.createElement('div');
	p2.style.padding = '6px';
	p2.style.overflow = 'auto';
	p2.style.maxHeight = '40px';
	
	if (mxClient.IS_QUIRKS)
	{
		p2.style.height = '60px';
	}
	
	mxUtils.write(p2, message);
	div.appendChild(p2);
	
	var btns = document.createElement('div');
	btns.style.marginTop = '16px';
	btns.style.textAlign = 'center';
	
	var cancelBtn = mxUtils.button(cancelLabel || mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
		
		if (cancelFn != null)
		{
			cancelFn();
		}
	});
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	var okBtn = mxUtils.button(okLabel || mxResources.get('ok'), function()
	{
		editorUi.hideDialog();
		
		if (okFn != null)
		{
			okFn();
		}
	});
	btns.appendChild(okBtn);
	
	okBtn.className = 'geBtn gePrimaryBtn';
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	div.appendChild(btns);

	this.container = div;
};

/**
 * 
 */
var ErrorDialog = function(editorUi, title, message, buttonText, fn, retry, buttonText2, fn2, hide)
{
	hide = (hide != null) ? hide : true;
	
	var div = document.createElement('div');
	div.style.textAlign = 'center';

	if (title != null)
	{
		var hd = document.createElement('div');
		hd.style.padding = '0px';
		hd.style.margin = '0px';
		hd.style.fontSize = '18px';
		hd.style.paddingBottom = '16px';
		hd.style.marginBottom = '16px';
		hd.style.borderBottom = '1px solid #c0c0c0';
		hd.style.color = 'gray';
		mxUtils.write(hd, title);
		div.appendChild(hd);
	}

	var p2 = document.createElement('div');
	p2.style.padding = '6px';
	p2.innerHTML = message;
	div.appendChild(p2);
	
	var btns = document.createElement('div');
	btns.style.marginTop = '16px';
	btns.style.textAlign = 'right';
	
	if (retry != null)
	{
		var retryBtn = mxUtils.button(mxResources.get('tryAgain'), function()
		{
			editorUi.hideDialog();
			retry();
		});
		retryBtn.className = 'geBtn';
		btns.appendChild(retryBtn);
		
		btns.style.textAlign = 'center';
	}
	
	var btn = mxUtils.button(buttonText, function()
	{
		if (hide)
		{
			editorUi.hideDialog();
		}
		
		if (fn != null)
		{
			fn();
		}
	});
	btn.className = 'geBtn';
	
	btns.appendChild(btn);
	
	if (buttonText2 != null)
	{
		var mainBtn = mxUtils.button(buttonText2, function()
		{
			if (hide)
			{
				editorUi.hideDialog();
			}
			
			if (fn2 != null)
			{
				fn2();
			}
		});
		mainBtn.className = 'geBtn gePrimaryBtn';
		btns.appendChild(mainBtn);
	}
	
	this.init = function()
	{
		btn.focus();
	};
	
	div.appendChild(btns);

	this.container = div;
};

/**
 * Constructs a new embed dialog
 */
var EmbedDialog = function(editorUi, result, timeout, ignoreSize, previewFn)
{
	var div = document.createElement('div');
	var maxSize = 500000;
	var maxFbSize = 51200;
	var maxTwitterSize = 7168;

	// Checks if result is a link
	var validUrl = /^https?:\/\//.test(result) || /^mailto:\/\//.test(result);

	mxUtils.write(div, mxResources.get((result.length < maxSize) ?
		((validUrl) ? 'link' : 'mainEmbedNotice') : 'preview') + ':');
	mxUtils.br(div);
	
	var size = document.createElement('div');
	size.style.position = 'absolute';
	size.style.top = '30px';
	size.style.right = '30px';
	size.style.color = 'gray';
	mxUtils.write(size, editorUi.formatFileSize(result.length));

	div.appendChild(size);
	
	// Using DIV for faster rendering
	var text = document.createElement('textarea');
	text.setAttribute('autocomplete', 'off');
	text.setAttribute('autocorrect', 'off');
	text.setAttribute('autocapitalize', 'off');
	text.setAttribute('spellcheck', 'false');
	text.style.marginTop = '10px';
	text.style.resize = 'none';
	text.style.height = '150px';
	text.style.width = '440px';
	text.style.border = '1px solid gray';
	text.value = mxResources.get('updatingDocument');
	div.appendChild(text);
	mxUtils.br(div);

	this.init = function()
	{
		window.setTimeout(function()
		{
			if (result.length < maxSize)
			{
				text.value = result;
				text.focus();
					
				if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
				{
					text.select();
				}
				else
				{
					document.execCommand('selectAll', false, null);
				}
			}
			else
			{
				text.setAttribute('readonly', 'true');
				text.value = result.substring(0, 340) + '... (' + mxResources.get('drawingTooLarge') + ')';
			}
		}, 0);
	};
	
	var buttons = document.createElement('div');
	buttons.style.position = 'absolute';
	buttons.style.bottom = '36px';
	buttons.style.right = '32px';
	
	var previewBtn = null;
	
	// Loads forever in IE9
	if (!mxClient.IS_CHROMEAPP && !navigator.standalone && (validUrl ||
		(mxClient.IS_SVG && (document.documentMode == null || document.documentMode > 9))))
	{
		previewBtn = mxUtils.button(mxResources.get((result.length < maxSize) ? 'preview' : 'openInNewWindow'), function()
		{
			var value = (result.length < maxSize) ? text.value : result;
			
			if (previewFn != null)
			{
				previewFn(value);
			}
			else
			{
				if (validUrl)
				{
					try
					{
						var win = window.open(value);
						
						if (timeout == null || timeout > 0)
						{
							window.setTimeout(mxUtils.bind(this, function()
							{
								if (win != null && win.location.href != null &&
									win.location.href.substring(0, 8) != value.substring(0, 8))
								{
									win.close();
									editorUi.handleError({message: mxResources.get('drawingTooLarge')});
								}
							}), timeout || 500);
						}
					}
					catch (e)
					{
						editorUi.handleError({message: e.message || mxResources.get('drawingTooLarge')});
					}
				}
				else
				{
					var wnd = window.open();
					var doc = wnd.document;
					doc.writeln('<html><head><title>' + encodeURIComponent(mxResources.get('preview')) +
							'</title><meta charset="utf-8"></head>' +
							'<body>' + result + '</body></html>');
					doc.close();
				}
			}
		});
		
		previewBtn.className = 'geBtn';
		buttons.appendChild(previewBtn);
	}
	
	if (!validUrl || result.length > 7500)
	{
		var downloadBtn = mxUtils.button(mxResources.get('download'), function()
		{
			editorUi.saveData('embed.txt', 'txt', result, 'text/plain');
		});
		downloadBtn.className = 'geBtn';
		buttons.appendChild(downloadBtn);
	}

	// Twitter-intent does not allow more characters, must be pasted manually
	if (validUrl && !editorUi.isOffline())
	{
		if (result.length < maxFbSize)
		{
			var fbBtn = mxUtils.button('', function()
			{
				try
				{
					var url = 'https://www.facebook.com/sharer.php?p[url]=' +
						encodeURIComponent(text.value);
					window.open(url);
				}
				catch (e)
				{
					editorUi.handleError({message: e.message || mxResources.get('drawingTooLarge')});
				}
			});
			
			var img = document.createElement('img');
			img.setAttribute('src', Editor.facebookImage);
			img.setAttribute('border', '0');
				
			fbBtn.appendChild(img);
			fbBtn.setAttribute('title', mxResources.get('facebook') + ' (' +
					editorUi.formatFileSize(maxFbSize) + ' max)');
			fbBtn.style.verticalAlign = 'bottom';
			fbBtn.style.paddingTop = '4px';
			fbBtn.style.minWidth = '46px'
			fbBtn.className = 'geBtn';
			buttons.appendChild(fbBtn);
		}
		
		if (result.length < maxTwitterSize)
		{
			var tweetBtn = mxUtils.button('', function()
			{
				try
				{
					var url = 'https://twitter.com/intent/tweet?text=' + 
						encodeURIComponent('Check out the diagram I made using @drawio') +
						'&url=' + encodeURIComponent(text.value);
					window.open(url);
				}
				catch (e)
				{
					editorUi.handleError({message: e.message || mxResources.get('drawingTooLarge')});
				}
			});
			
			var img = document.createElement('img');
			img.setAttribute('src', Editor.tweetImage);
			img.setAttribute('border', '0');
			img.style.marginBottom = '5px'
	
			tweetBtn.appendChild(img);
			tweetBtn.setAttribute('title', mxResources.get('twitter') + ' (' +
					editorUi.formatFileSize(maxTwitterSize) + ' max)');
			tweetBtn.style.verticalAlign = 'bottom';
			tweetBtn.style.paddingTop = '4px';
			tweetBtn.style.minWidth = '46px'
			tweetBtn.className = 'geBtn';
			buttons.appendChild(tweetBtn);
		}
	}
	
	var closeBtn = mxUtils.button(mxResources.get('close'), function()
	{
		editorUi.hideDialog();
	});

	buttons.appendChild(closeBtn);

	var copyBtn = mxUtils.button(mxResources.get('copy'), function()
	{
		text.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			text.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
		
		document.execCommand('copy');
		editorUi.alert(mxResources.get('copiedToClipboard'));
	});

	if (result.length < maxSize)
	{
		// Does not work in Safari and shows annoying dialog for IE11-
		if (!mxClient.IS_SF && document.documentMode == null)
		{
			buttons.appendChild(copyBtn);
			copyBtn.className = 'geBtn gePrimaryBtn';
			closeBtn.className = 'geBtn';
		}
		else
		{
			closeBtn.className = 'geBtn gePrimaryBtn';
		}
	}
	else
	{
		buttons.appendChild(previewBtn);
		closeBtn.className = 'geBtn';
		previewBtn.className = 'geBtn gePrimaryBtn';
	}
	
	div.appendChild(buttons);
	this.container = div;
};

/**
 * Constructs a dialog for embedding the diagram in Google Sites.
 */
var GoogleSitesDialog = function(editorUi, publicUrl)
{
	var div = document.createElement('div');

	var graph = editorUi.editor.graph;
	var bounds = graph.getGraphBounds();
	var scale = graph.view.scale;
	var x0 = Math.floor(bounds.x / scale - graph.view.translate.x);
	var y0 = Math.floor(bounds.y / scale - graph.view.translate.y);

	mxUtils.write(div, mxResources.get('googleGadget') + ':');
	mxUtils.br(div);
	
	var gadgetInput = document.createElement('input');
	gadgetInput.setAttribute('type', 'text');
	gadgetInput.style.marginBottom = '8px';
	gadgetInput.style.marginTop = '2px';
	gadgetInput.style.width = '410px';
	div.appendChild(gadgetInput);
	mxUtils.br(div);
	
	this.init = function()
	{
		gadgetInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			gadgetInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
	};
	
	mxUtils.write(div, mxResources.get('top') + ':');
	var topInput = document.createElement('input');
	topInput.setAttribute('type', 'text');
	topInput.setAttribute('size', '4');
	topInput.style.marginRight = '16px';
	topInput.style.marginLeft = '4px';
	topInput.value = x0;
	div.appendChild(topInput);
	
	mxUtils.write(div, mxResources.get('height') + ':');
	var heightInput = document.createElement('input');
	heightInput.setAttribute('type', 'text');
	heightInput.setAttribute('size', '4');
	heightInput.style.marginLeft = '4px';
	heightInput.value = Math.ceil(bounds.height / scale);
	div.appendChild(heightInput);
	mxUtils.br(div);
	
	var hr = document.createElement('hr');
	hr.setAttribute('size', '1');
	hr.style.marginBottom = '16px';
	hr.style.marginTop = '16px';
	div.appendChild(hr);
	
	mxUtils.write(div, mxResources.get('publicDiagramUrl') + ':');
	mxUtils.br(div);
	
	var urlInput = document.createElement('input');
	urlInput.setAttribute('type', 'text');
	urlInput.setAttribute('size', '28');
	urlInput.style.marginBottom = '8px';
	urlInput.style.marginTop = '2px';
	urlInput.style.width = '410px';
	urlInput.value = publicUrl || '';
	div.appendChild(urlInput);
	mxUtils.br(div);

	mxUtils.write(div, mxResources.get('borderWidth') + ':');
	var borderInput = document.createElement('input');
	borderInput.setAttribute('type', 'text');
	borderInput.setAttribute('size', '3');
	borderInput.style.marginBottom = '8px';
	borderInput.style.marginLeft = '4px';
	borderInput.value = '0';
	div.appendChild(borderInput);
	mxUtils.br(div);

	var panCheckBox = document.createElement('input');
	panCheckBox.setAttribute('type', 'checkbox');
	panCheckBox.setAttribute('checked', 'checked');
	panCheckBox.defaultChecked = true;
	panCheckBox.style.marginLeft = '16px';
	div.appendChild(panCheckBox);
	mxUtils.write(div, mxResources.get('pan') + ' ');

	var zoomCheckBox = document.createElement('input');
	zoomCheckBox.setAttribute('type', 'checkbox');
	zoomCheckBox.setAttribute('checked', 'checked');
	zoomCheckBox.defaultChecked = true;
	zoomCheckBox.style.marginLeft = '8px';
	div.appendChild(zoomCheckBox);
	mxUtils.write(div, mxResources.get('zoom') + ' ');
	
	var editCheckBox = document.createElement('input');
	editCheckBox.setAttribute('type', 'checkbox');
	editCheckBox.style.marginLeft = '8px';
	editCheckBox.setAttribute('title', window.location.href);
	div.appendChild(editCheckBox);
	mxUtils.write(div, mxResources.get('edit') + ' ');
	
	var editBlankCheckBox = document.createElement('input');
	editBlankCheckBox.setAttribute('type', 'checkbox');
	editBlankCheckBox.style.marginLeft = '8px';
	div.appendChild(editBlankCheckBox);
	mxUtils.write(div, mxResources.get('asNew') + ' ');
	mxUtils.br(div);

	var resizeCheckBox = document.createElement('input');
	resizeCheckBox.setAttribute('type', 'checkbox');
	resizeCheckBox.setAttribute('checked', 'checked');
	resizeCheckBox.defaultChecked = true;
	resizeCheckBox.style.marginLeft = '16px';
	div.appendChild(resizeCheckBox);
	mxUtils.write(div, mxResources.get('resize') + ' ');
	
	var fitCheckBox = document.createElement('input');
	fitCheckBox.setAttribute('type', 'checkbox');
	fitCheckBox.style.marginLeft = '8px';
	div.appendChild(fitCheckBox);
	mxUtils.write(div, mxResources.get('fit') + ' ');
	
	var embedCheckBox = document.createElement('input');
	embedCheckBox.setAttribute('type', 'checkbox');
	embedCheckBox.style.marginLeft = '8px';
	div.appendChild(embedCheckBox);
	mxUtils.write(div, mxResources.get('embed') + ' ');

	var node = null;
	var s = editorUi.getBasenames().join(';');
	var file = editorUi.getCurrentFile();

	function update()
	{
		var title = (file.getTitle() != null) ? file.getTitle() : this.defaultFilename;
		
		if (embedCheckBox.checked && urlInput.value != '')
		{
			var encUrl = encodeURIComponent(mxUtils.htmlEntities(urlInput.value));
			var gurl = 'https://www.draw.io/gadget.xml?type=4&diagram=' + encUrl;
			
			if (title != null)
			{
				gurl += '&title=' + encodeURIComponent(title);
			}
			
			if (s.length > 0)
			{
				gurl += '&s=' + s;
			}
			
			if (borderInput.value != '' && borderInput.value != '0')
			{
				gurl += '&border=' + borderInput.value;
			}
		
			if (heightInput.value != '')
			{
				gurl += '&height=' + heightInput.value;
			}
			
			gurl += '&pan=' + ((panCheckBox.checked) ? '1': '0');
			gurl += '&zoom=' + ((zoomCheckBox.checked) ? '1': '0');
			gurl += '&fit=' + ((fitCheckBox.checked) ? '1': '0');
			gurl += '&resize=' + ((resizeCheckBox.checked) ? '1': '0');
			gurl += '&x0=' + Number(topInput.value);
			gurl += '&y0=' + y0;
			
			if (graph.mathEnabled)
			{
				gurl += '&math=1';
			}
			
			if (editBlankCheckBox.checked)
			{
				gurl += '&edit=_blank';
			}
			else if (editCheckBox.checked)
			{
				gurl += '&edit=' + encodeURIComponent(mxUtils.htmlEntities(window.location.href));
			}
			
			gadgetInput.value = gurl;
		}
		else if (file.constructor == DriveFile || file.constructor == DropboxFile)
		{
			var gurl = 'https://www.draw.io/gadget.xml?embed=0&diagram=';
			
			if (urlInput.value != '')
			{
				gurl += encodeURIComponent(mxUtils.htmlEntities(urlInput.value)) + '&type=3';
			}
			else
			{
				gurl += file.getHash().substring(1);
				
				if (file.constructor == DropboxFile)
				{
					gurl += '&type=2';
				}
				else
				{
					gurl += '&type=1';
				}
			}
			
			if (title != null)
			{
				gurl += '&title=' + encodeURIComponent(title);
			}
			
			if (heightInput.value != '')
			{
				var h = parseInt(heightInput.value) + parseInt(topInput.value);
				gurl += '&height=' + h;
			}

			gadgetInput.value = gurl;
		}
		else
		{
			gadgetInput.value = '';
		}
	};
	
	mxEvent.addListener(panCheckBox, 'change', update);
	mxEvent.addListener(zoomCheckBox, 'change', update);
	mxEvent.addListener(resizeCheckBox, 'change', update);
	mxEvent.addListener(fitCheckBox, 'change', update);
	mxEvent.addListener(editCheckBox, 'change', update);
	mxEvent.addListener(editBlankCheckBox, 'change', update);
	mxEvent.addListener(embedCheckBox, 'change', update);
	mxEvent.addListener(heightInput, 'change', update);
	mxEvent.addListener(topInput, 'change', update);
	mxEvent.addListener(borderInput, 'change', update);
	mxEvent.addListener(urlInput, 'change', update);
	update();
	
	mxEvent.addListener(gadgetInput, 'click', function()
	{
		gadgetInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			gadgetInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
	});
	
	var buttons = document.createElement('div');
	buttons.style.paddingTop = '12px';
	buttons.style.textAlign = 'right';

	var closeBtn = mxUtils.button(mxResources.get('close'), function()
	{
		editorUi.hideDialog();
	});
	closeBtn.className = 'geBtn gePrimaryBtn';
	buttons.appendChild(closeBtn);
	
	div.appendChild(buttons);
	
	this.container = div;
};

/**
 * Constructs a new parse dialog.
 */
var CreateGraphDialog = function(editorUi, title, type)
{
	var div = document.createElement('div');
	div.style.textAlign = 'right';
	
	this.init = function()
	{
		var container = document.createElement('div');
		container.style.position = 'relative';
		container.style.border = '1px solid gray';
		container.style.width = '100%';
		container.style.height = '360px';
		container.style.overflow = 'hidden';
		container.style.marginBottom = '16px';
		mxEvent.disableContextMenu(container);
		div.appendChild(container);
	
		var graph = new Graph(container);
		
		graph.setCellsCloneable(true);
		graph.setPanning(true);
		graph.setAllowDanglingEdges(false);
		graph.connectionHandler.select = false;
		graph.view.setTranslate(20, 20);
		graph.border = 20;
		graph.panningHandler.useLeftButtonForPanning = true;
		
		var vertexStyle = 'rounded=1;';
		var edgeStyle = 'curved=1;';
		var startStyle = 'ellipse';
		
		// FIXME: Does not work in iPad
		var mxCellRendererInstallCellOverlayListeners = mxCellRenderer.prototype.installCellOverlayListeners;
		graph.cellRenderer.installCellOverlayListeners = function(state, overlay, shape)
		{
			mxCellRenderer.prototype.installCellOverlayListeners.apply(this, arguments);
			
			mxEvent.addListener(shape.node, (mxClient.IS_POINTER) ? 'pointerdown' : 'mousedown', function (evt)
			{
				overlay.fireEvent(new mxEventObject('pointerdown', 'event', evt, 'state', state));
			});
			
			if (!mxClient.IS_POINTER && mxClient.IS_TOUCH)
			{
				mxEvent.addListener(shape.node, 'touchstart', function (evt)
				{
					overlay.fireEvent(new mxEventObject('pointerdown', 'event', evt, 'state', state));
				});
			}
		};

		graph.getAllConnectionConstraints = function()
		{
			return null;
		};

		// Keeps highlight behind overlays
		graph.connectionHandler.marker.highlight.keepOnTop = false;
	
		graph.connectionHandler.createEdgeState = function(me)
		{
			var edge = graph.createEdge(null, null, null, null, null, edgeStyle);
			
			return new mxCellState(this.graph.view, edge, this.graph.getCellStyle(edge));
		};
	
		// Gets the default parent for inserting new cells. This
		// is normally the first child of the root (ie. layer 0).
		var parent = graph.getDefaultParent();
		
		var addOverlay = mxUtils.bind(this, function(cell)
		{
			// Creates a new overlay with an image and a tooltip
			var overlay = new mxCellOverlay(this.connectImage, 'Add outgoing');
			overlay.cursor = 'hand';
	
			// Installs a handler for clicks on the overlay							
			overlay.addListener(mxEvent.CLICK, function(sender, evt2)
			{
				// TODO: Add menu for picking next shape
				graph.connectionHandler.reset();
				graph.clearSelection();
				var geo = graph.getCellGeometry(cell);
				
				var v2;
				
				executeLayout(function()
				{
					v2 = graph.insertVertex(parent, null, 'Entry', geo.x, geo.y, 80, 30, vertexStyle);
					addOverlay(v2);
					graph.view.refresh(v2);
					var e1 = graph.insertEdge(parent, null, '', cell, v2, edgeStyle);
				}, function()
				{
					graph.scrollCellToVisible(v2);
				});
			});
			
			// FIXME: Does not work in iPad (inserts loop)
			overlay.addListener('pointerdown', function(sender, eo)
			{
				var evt2 = eo.getProperty('event');
				var state = eo.getProperty('state');
				
				graph.popupMenuHandler.hideMenu();
				graph.stopEditing(false);
				
				var pt = mxUtils.convertPoint(graph.container,
						mxEvent.getClientX(evt2), mxEvent.getClientY(evt2));
				graph.connectionHandler.start(state, pt.x, pt.y);
				graph.isMouseDown = true;
				graph.isMouseTrigger = mxEvent.isMouseEvent(evt2);
				mxEvent.consume(evt2);
			});
			
			// Sets the overlay for the cell in the graph
			graph.addCellOverlay(cell, overlay);
		});
						
		// Adds cells to the model in a single step
		graph.getModel().beginUpdate();
		var v1;
		try
		{
			v1 = graph.insertVertex(parent, null, 'Start', 0, 0, 80, 30, startStyle);
			addOverlay(v1);
		}
		finally
		{
			// Updates the display
			graph.getModel().endUpdate();
		}
	
		var layout;
		
		if (type == 'horizontalTree')
		{
			layout = new mxCompactTreeLayout(graph);
			layout.edgeRouting = false;
			layout.levelDistance = 30;
			edgeStyle = 'edgeStyle=elbowEdgeStyle;elbow=horizontal;';
		}
		else if (type == 'verticalTree')
		{
			layout = new mxCompactTreeLayout(graph, false);
			layout.edgeRouting = false;
			layout.levelDistance = 30;
			edgeStyle = 'edgeStyle=elbowEdgeStyle;elbow=vertical;';
		}
		else if (type == 'verticalFlow')
		{
			layout = new mxHierarchicalLayout(graph, mxConstants.DIRECTION_NORTH);
		}
		else if (type == 'horizontalFlow')
		{
			layout = new mxHierarchicalLayout(graph, mxConstants.DIRECTION_WEST);
		}
		else if (type == 'organic')
		{
			layout = new mxFastOrganicLayout(graph, false);
			layout.forceConstant = 80;
		}
		else if (type == 'circle')
		{
			layout = new mxCircleLayout(graph);
		}
		
		if (layout != null)
		{
			var executeLayout = function(change, post)
			{
				graph.getModel().beginUpdate();
				try
				{
					if (change != null)
					{
						change();
					}
					
					layout.execute(graph.getDefaultParent(), v1);
				}
				catch (e)
				{
					throw e;
				}
				finally
				{
					// New API for animating graph layout results asynchronously
					var morph = new mxMorphing(graph);
					morph.addListener(mxEvent.DONE, mxUtils.bind(this, function()
					{
						graph.getModel().endUpdate();
						
						if (post != null)
						{
							post();
						}
					}));
					
					morph.startAnimation();
				}
			};
			
			var edgeHandleConnect = mxEdgeHandler.prototype.connect;
			mxEdgeHandler.prototype.connect = function(edge, terminal, isSource, isClone, me)
			{
				edgeHandleConnect.apply(this, arguments);
				executeLayout();
			};
			
			graph.resizeCell = function()
			{
				mxGraph.prototype.resizeCell.apply(this, arguments);
		
				executeLayout();
			};
		
			graph.connectionHandler.addListener(mxEvent.CONNECT, function()
			{
				executeLayout();
			});
		}

		var cancelBtn = mxUtils.button(mxResources.get('close'), function()
		{
			editorUi.confirm(mxResources.get('areYouSure'), function()
			{
				if (container.parentNode != null)
				{
					graph.destroy();
					container.parentNode.removeChild(container);
				}
		
				editorUi.hideDialog();
			});
		})
		
		cancelBtn.className = 'geBtn';
		
		if (editorUi.editor.cancelFirst)
		{
			div.appendChild(cancelBtn);
		}
		
		var okBtn = mxUtils.button(mxResources.get('insert'), function()
		{
			graph.clearCellOverlays();
			
			// Computes unscaled, untranslated graph bounds
			var pt = editorUi.editor.graph.getFreeInsertPoint();
			var cells = editorUi.editor.graph.importCells(
				graph.getModel().getChildren(graph.getDefaultParent()), pt.x, pt.y);
			var view = editorUi.editor.graph.view;
			var temp = view.getBounds(cells);
			temp.x -= view.translate.x;
			temp.y -= view.translate.y;
			editorUi.editor.graph.scrollRectToVisible(temp);
			editorUi.editor.graph.setSelectionCells(cells);
			
			if (container.parentNode != null)
			{
				graph.destroy();
				container.parentNode.removeChild(container);
			}
			
			editorUi.hideDialog();
		});
		
		div.appendChild(okBtn);
		okBtn.className = 'geBtn gePrimaryBtn';
		
		if (!editorUi.editor.cancelFirst)
		{
			div.appendChild(cancelBtn);
		}
	};

	this.container = div;
};

/**
 * 
 */
CreateGraphDialog.prototype.connectImage = new mxImage((mxClient.IS_SVG) ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjQ3OTk0QjMyRDcyMTFFNThGQThGNDVBMjNBMjFDMzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjQ3OTk0QjQyRDcyMTFFNThGQThGNDVBMjNBMjFDMzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRjA0N0I2MjJENzExMUU1OEZBOEY0NUEyM0EyMUMzOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNDc5OTRCMjJENzIxMUU1OEZBOEY0NUEyM0EyMUMzOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjIf+MgAAATlSURBVHjanFZraFxFFD735u4ru3ls0yZG26ShgmJoKK1J2vhIYzBgRdtIURHyw1hQUH9IxIgI2h8iCEUF/1RRlNQYCsYfCTHVhiTtNolpZCEStqSC22xIsrs1bDfu7t37Gs/cO3Ozxs1DBw73zpk555vzmHNGgJ0NYatFgmNLYUHYUoHASMz5ijmgVLmxgfKCUiBxC4ACJAeSG8nb1dVVOTc3dyoSibwWDofPBIPBJzo7O8vpGtvjpDICGztxkciECpF2LS0tvZtOpwNkk5FKpcYXFxffwL1+JuPgllPj8nk1F6RoaGjoKCqZ5ApljZDZO4SMRA0SuG2QUJIQRV8HxMOM9vf3H0ZZH9Nhg20MMl2QkFwjIyNHWlpahtADnuUMwLcRHX5aNSBjCJYEsSSLUeLEbhGe3ytCmQtA1/XY+Pj46dbW1iDuyCJp9BC5ycBj4hoeHq5ra2sbw0Xn1ZgBZ+dVkA1Lc+6p0Ck2p0QS4Ox9EhwpEylYcmBg4LH29vYQLilIOt0u5FhDfevNZDI/u93uw6PLOrwTUtjxrbPYbhD42WgMrF8JmR894ICmCgnQjVe8Xu8pXEkzMJKbuo5oNPomBbm1ZsD7s2kwFA1JZ6QBUXWT1nmGNc/qoMgavDcrQzxjQGFh4aOYIJ0sFAXcEtui4uLiVjr5KpSBVFYDDZVrWUaKRRWSAYeK0fmKykgDXbVoNaPChRuyqdDv97czL5nXxQbq6empQmsaklkDBiNpSwFVrmr2P6UyicD5piI4f8wHh0oEm8/p4h8pyGiEWvVQd3e3nxtjAzU1NR2jP7NRBWQ8GbdEzzJAmc0V3RR4cI8Dvmwuhc8fKUFA0d6/ltHg5p+Kuaejo6OeY0jcNJ/PV00ZS0nFUoZRvvFS1bZFsKHCCQ2Pl8H0chY+C96B6ZUsrCQ1qKtwQVFRURW/QhIXMAzDPAZ6BgOr8tTa8dDxCmiYGApaJbJMxSzV+brE8pdgWkcpY5dbMF1AR9XH8/xu2ilef48bvn92n82ZwHh+8ssqTEXS9p7dHisiiURikd8PbpExNTU1UVNTA3V3Y7lC16n0gpB/NwpNcZjfa7dScC4Qh0kOQCwnlEgi3F/hMVl9fX0zvKrzSk2lfXjRhj0eT/2rvWG4+Pta3oJY7XfC3hInXAv/ldeFLx8shQ+eqQL0UAAz7ylkpej5eNZRVBWL6BU6ef14OYiY1oqyTtmsavr/5koaRucT1pzx+ZpL1+GV5nLutksUgIcmtwTRiuuVZXnU5XId7A2swJkfFsymRWC91hHg1Viw6x23+7vn9sPJ+j20BE1hCXqSWaNSQ8ScbknRZWxub1PGCw/fBV+c3AeijlUbY5bBjEqr9GuYZP4jP41WudGSC6erTRCqdGZm5i1WvXWeDHnbBCZGc2Nj4wBl/hZOwrmBBfgmlID1HmGJutHaF+tKoevp/XCgstDkjo2NtWKLuc6AVN4mNjY+s1XQxoenOoFuDPHGtnRbJj9ej5GvL0dI7+giuRyMk1giazc+DP6vgUDgOJVlOv7R+PJ12QIeL6SyeDz+Kfp8ZrNWjgDTsVjsQ7qXyTjztXJhm9ePxFLfMTg4eG9tbe1RTP9KFFYQfHliYmIS69kCC7jKYmKwxxD5P88tkVkqbPPcIps9t4T/+HjcuJ/s5BFJgf4WYABCtxGuxIZ90gAAAABJRU5ErkJggg==' :
	IMAGE_PATH + '/handle-connect.png', 26, 26);

/**
 * Constructs a new parse dialog.
 */
var BackgroundImageDialog = function(editorUi, applyFn)
{
	var div = document.createElement('div');
	div.style.whiteSpace = 'nowrap';

	var h3 = document.createElement('h2');
	mxUtils.write(h3, mxResources.get('backgroundImage'));
	h3.style.marginTop = '0px';
	div.appendChild(h3);
	
	mxUtils.write(div, mxResources.get('image') + ' ' + mxResources.get('url') + ':');
	mxUtils.br(div);
	
	var img = editorUi.editor.graph.backgroundImage;
	
	var urlInput = document.createElement('input');
	urlInput.setAttribute('type', 'text');
	urlInput.style.marginTop = '4px';
	urlInput.style.marginBottom = '4px';
	urlInput.style.width = '350px';
	urlInput.value = (img != null) ? img.src : '';
	
	var resetting = false;
	
	var urlChanged = function()
	{
		if (!resetting && urlInput.value != '' && !editorUi.isOffline())
		{
			editorUi.loadImage(mxUtils.trim(urlInput.value), function(img)
			{
				widthInput.value = img.width;
				heightInput.value = img.height;
			}, function()
			{
				editorUi.showError(mxResources.get('error'), mxResources.get('fileNotFound'), mxResources.get('ok'));
				urlInput.value = '';
				widthInput.value = '';
				heightInput.value = '';
			});
		}
		else
		{
			widthInput.value = '';
			heightInput.value = '';
		}
	};
	
	this.init = function()
	{
		urlInput.focus();
		
		// Installs drag and drop handler for local images and links
		if (Graph.fileSupport)
		{
			urlInput.setAttribute('placeholder', mxResources.get('dragImagesHere'));
			
			// Setup the dnd listeners
			var dlg = div.parentNode;
			var graph = editorUi.editor.graph;
			var dropElt = null;
				
			mxEvent.addListener(dlg, 'dragleave', function(evt)
			{
				if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }
			    
				evt.stopPropagation();
				evt.preventDefault();
			});
			
			mxEvent.addListener(dlg, 'dragover', mxUtils.bind(this, function(evt)
			{
				// IE 10 does not implement pointer-events so it can't have a drop highlight
				if (dropElt == null && (!mxClient.IS_IE || document.documentMode > 10))
				{
					dropElt = editorUi.highlightElement(dlg);
				}
				
				evt.stopPropagation();
				evt.preventDefault();
			}));
					
			mxEvent.addListener(dlg, 'drop', mxUtils.bind(this, function(evt)
			{
			    if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }

			    if (evt.dataTransfer.files.length > 0)
			    {
			    	editorUi.importFiles(evt.dataTransfer.files, 0, 0, editorUi.maxBackgroundSize, function(data, mimeType, x, y, w, h)
			    	{
			    		urlInput.value = data;
			    		urlChanged();
			    	}, function()
			    	{
			    		// No post processing
			    	}, function(file)
			    	{
			    		// Handles only images
			    		return file.type.substring(0, 6) == 'image/';
			    	}, function(queue)
			    	{
			    		// Invokes elements of queue in order
			    		for (var i = 0; i < queue.length; i++)
			    		{
			    			queue[i]();
			    		}
			    	}, true, editorUi.maxBackgroundBytes, editorUi.maxBackgroundBytes);
	    		}
			    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0)
			    {
			    	var uri = evt.dataTransfer.getData('text/uri-list');
			    	
			    	if ((/\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(uri))
					{
			    		urlInput.value = decodeURIComponent(uri);
			    		urlChanged();
					}
			    }

			    evt.stopPropagation();
			    evt.preventDefault();
			}), false);
		}
	};

	div.appendChild(urlInput);
	mxUtils.br(div);
	mxUtils.br(div);
	
	mxUtils.write(div, mxResources.get('width') + ':');
	
	var widthInput = document.createElement('input');
	widthInput.setAttribute('type', 'text');
	widthInput.style.width = '60px';
	widthInput.style.marginLeft = '4px';
	widthInput.style.marginRight = '16px';
	widthInput.value = (img != null) ? img.width : '';
	
	div.appendChild(widthInput);
	
	mxUtils.write(div, mxResources.get('height') + ':');
	
	var heightInput = document.createElement('input');
	heightInput.setAttribute('type', 'text');
	heightInput.style.width = '60px';
	heightInput.style.marginLeft = '4px';
	heightInput.style.marginRight = '16px';
	heightInput.value = (img != null) ? img.height : '';
	
	div.appendChild(heightInput);
	
	var resetBtn = mxUtils.button(mxResources.get('reset'), function()
	{
		urlInput.value = '';
		widthInput.value = '';
		heightInput.value = '';
		resetting = false;
	});
	mxEvent.addListener(resetBtn, 'mousedown', function()
	{
		// Blocks processing a image URL while clicking reset
		resetting = true;
	});
	mxEvent.addListener(resetBtn, 'touchstart', function()
	{
		// Blocks processing a image URL while clicking reset
		resetting = true;
	});
	resetBtn.className = 'geBtn';
	resetBtn.width = '100';
	div.appendChild(resetBtn);
	mxUtils.br(div);

	mxEvent.addListener(urlInput, 'change', urlChanged);

	ImageDialog.filePicked = function(data)
	{
        if (data.action == google.picker.Action.PICKED)
        {
        	if (data.docs[0].thumbnails != null)
        	{
	        	var thumb = data.docs[0].thumbnails[data.docs[0].thumbnails.length - 1];
	        	
	        	if (thumb != null)
	        	{
	        		urlInput.value = thumb.url;
	        		urlChanged();
	        	}
        	}
        }
        
        urlInput.focus();
	};

	var btns = document.createElement('div');
	btns.style.marginTop = '40px';
	btns.style.textAlign = 'right';
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	if (!editorUi.isOffline())
	{
		// Dialogs not allowed inside iframes
		if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined' && window.self === window.top)
		{
			var searchBtn = mxUtils.button(mxResources.get('search'), function()
			{
				// Creates one picker and reuses it to avoid polluting the DOM
				if (editorUi.imageSearchPicker == null)
				{
					var picker = new google.picker.PickerBuilder()
						.setLocale(mxLanguage)
						.addView(google.picker.ViewId.IMAGE_SEARCH)
						.enableFeature(google.picker.Feature.NAV_HIDDEN);
					
					editorUi.imageSearchPicker = picker.setCallback(function(data)
					{
						ImageDialog.filePicked(data);
				    }).build();
				}
				
				editorUi.imageSearchPicker.setVisible(true);
				editorUi.movePickersToTop();
			});
			
			searchBtn.className = 'geBtn';
			btns.appendChild(searchBtn);
	
			if (editorUi.drive != null && urlParams['photos'] == '1')
			{
				var gpBtn = mxUtils.button(mxResources.get('googlePlus'), function()
				{
					if (editorUi.spinner.spin(document.body, mxResources.get('authorizing')))
					{
						editorUi.drive.checkToken(mxUtils.bind(this, function()
						{
							editorUi.spinner.stop();
							
							// Creates one picker and reuses it to avoid polluting the DOM
							if (editorUi.photoPicker == null)
							{
						    	var token = gapi.auth.getToken().access_token;
								var picker = new google.picker.PickerBuilder()
									.setAppId(editorUi.drive.appId)	
									.setLocale(mxLanguage)
									.setOAuthToken(token)
									.addView(google.picker.ViewId.PHOTOS)
									.addView(google.picker.ViewId.PHOTO_ALBUMS)
						            .addView(google.picker.ViewId.PHOTO_UPLOAD);
								
								editorUi.photoPicker = picker.setCallback(function(data)
								{
									ImageDialog.filePicked(data);
							    }).build();
							}
							
							editorUi.photoPicker.setVisible(true);
							editorUi.movePickersToTop();
						}));
					}
				});
				
				gpBtn.className = 'geBtn';
				btns.appendChild(gpBtn);
			}
		}
	}

	var applyBtn = mxUtils.button(mxResources.get('apply'), function()
	{
		editorUi.hideDialog();
		applyFn((urlInput.value != '') ? new mxImage(mxUtils.trim(urlInput.value), widthInput.value, heightInput.value) : null);
	});
	applyBtn.className = 'geBtn gePrimaryBtn';
	btns.appendChild(applyBtn);
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	div.appendChild(btns);

	this.container = div;
};

/**
 * Constructs a new parse dialog.
 */
var ParseDialog = function(editorUi, title)
{
	var insertPoint = editorUi.editor.graph.getFreeInsertPoint();

	function parse(text, type)
	{
		var lines = text.split('\n');
		
		if (type == 'plantUmlPng' || type == 'plantUmlSvg')
		{
			var plantUmlServerUrl = (type == 'plantUmlPng') ? 'https://exp.draw.io/plantuml2/png/' :
				'https://exp.draw.io/plantuml2/svg/';
	    	var graph = editorUi.editor.graph;
	    	
	    	// TODO: Change server to return base64 & accept POST request
	    	if (editorUi.spinner.spin(document.body, mxResources.get('inserting')))
	    	{
		    	function encode64(data) {
					r = "";
					for (i=0; i<data.length; i+=3) {
				 		if (i+2==data.length) {
							r +=append3bytes(data.charCodeAt(i), data.charCodeAt(i+1), 0);
						} else if (i+1==data.length) {
							r += append3bytes(data.charCodeAt(i), 0, 0);
						} else {
							r += append3bytes(data.charCodeAt(i), data.charCodeAt(i+1),
								data.charCodeAt(i+2));
						}
					}
					return r;
				}
				
				function append3bytes(b1, b2, b3) {
					c1 = b1 >> 2;
					c2 = ((b1 & 0x3) << 4) | (b2 >> 4);
					c3 = ((b2 & 0xF) << 2) | (b3 >> 6);
					c4 = b3 & 0x3F;
					r = "";
					r += encode6bit(c1 & 0x3F);
					r += encode6bit(c2 & 0x3F);
					r += encode6bit(c3 & 0x3F);
					r += encode6bit(c4 & 0x3F);
					return r;
				}
				
				function encode6bit(b) {
					if (b < 10) {
				 		return String.fromCharCode(48 + b);
					}
					b -= 10;
					if (b < 26) {
				 		return String.fromCharCode(65 + b);
					}
					b -= 26;
					if (b < 26) {
				 		return String.fromCharCode(97 + b);
					}
					b -= 26;
					if (b == 0) {
				 		return '-';
					}
					if (b == 1) {
				 		return '_';
					}
					return '?';
				}
			
				// TODO: Remove unescape, use btoa for compatibility with graph.compress
				function compress(s) 
				{
				  return encode64(graph.bytesToString(pako.deflateRaw(unescape(encodeURIComponent(s)))));
				}
			
				var xhr = new XMLHttpRequest();
				xhr.open('GET', plantUmlServerUrl + compress(text), true);
				xhr.responseType = 'blob';
				
				xhr.onload = function(e) 
				{
				  if (this.status >= 200 && this.status < 300)
				  {
				    var reader = new FileReader();
				    reader.readAsDataURL(this.response); 
				    reader.onload = function(e) 
				    {
				    	var img = new Image();
				    	img.onload = function()
				    	{
				    		editorUi.spinner.stop();
				    		
				    		graph.getModel().beginUpdate();
							try
							{
					    		cell = graph.insertVertex(null, null, text, insertPoint.x, insertPoint.y,
									img.width, img.height, 'shape=image;noLabel=1;verticalAlign=top;aspect=fixed;imageAspect=0;' +
									'image=' + editorUi.convertDataUri(e.target.result) + ';');
							}
							finally
							{
								graph.getModel().endUpdate();
							}
							
							graph.setSelectionCell(cell);
				           	graph.scrollCellToVisible(graph.getSelectionCell());
				    	};
				    	img.src = e.target.result;
				    };
				    reader.onerror = function(e)
				    {
				    	editorUi.handleError(e);
				    };
				  }
				  else 
				  {
					  editorUi.spinner.stop();
					  editorUi.handleError(e);
				  }
				};
				
				xhr.onerror = function(e)
				{
					editorUi.handleError(e);
				};
				 
				xhr.send();
	    	}
		}
		else if (type == 'list')
		{
			if (lines.length > 0)
			{
				var graph = editorUi.editor.graph;
				
				var listCell = new mxCell(lines[0], new mxGeometry(0, 0, 160, 26 + 4),
				    'swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;');
				listCell.vertex = true;
				
				var size = graph.getPreferredSizeForCell(listCell);
		
	   			if (size != null && listCell.geometry.width < size.width + 10)
	   			{
	   				listCell.geometry.width = size.width + 10;
	   			}
				
				if (lines.length > 1)
				{
					for (var i = 1; i < lines.length; i++)
					{
						if (lines[i] == '--')
						{
							var divider = new mxCell('', new mxGeometry(0, 0, 40, 8), 'line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;');
							divider.vertex = true;
							listCell.geometry.height += divider.geometry.height;
							listCell.insert(divider);
						}
						else if (lines[i].length > 0 && lines[i].charAt(0) != ';')
						{
							var field = new mxCell(lines[i], new mxGeometry(0, 0, 60, 26), 'text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;');
							field.vertex = true;
							
							var size = graph.getPreferredSizeForCell(field);
		   			
				   			if (size != null && field.geometry.width < size.width)
				   			{
				   				field.geometry.width = size.width;
				   			}
							
				   			listCell.geometry.width = Math.max(listCell.geometry.width, field.geometry.width);
							listCell.geometry.height += field.geometry.height;
							listCell.insert(field);
						}
					}
				}
				
				graph.setSelectionCells(graph.importCells([listCell], insertPoint.x, insertPoint.y));
				graph.scrollCellToVisible(graph.getSelectionCell());
			}
		}
		else
		{		
			var vertices = new Object();
			var cells = [];
			
			function getOrCreateVertex(id)
			{
				var vertex = vertices[id];
	
				if (vertex == null)
				{
					vertex = new mxCell(id, new mxGeometry(0, 0, 80, 30));
					vertex.vertex = true;
					vertices[id] = vertex;
					cells.push(vertex);
				}
				
				return vertex;
			};
			
			for (var i = 0; i < lines.length; i++)
			{
				if (lines[i].charAt(0) != ';')
				{
					var values = lines[i].split('->');
					
					if (values.length == 2)
					{
						var source = getOrCreateVertex(values[0]);
						var target = getOrCreateVertex(values[1]);
						
						var edge = new mxCell('', new mxGeometry());
						edge.edge = true;
						source.insertEdge(edge, true);
						target.insertEdge(edge, false);
						cells.push(edge);
					}
				}
			}
			
			if (cells.length > 0)
			{
				var container = document.createElement('div');
				container.style.visibility = 'hidden';
				document.body.appendChild(container);
				
				// Temporary graph for running the layout
				var graph = new Graph(container);
				
				graph.getModel().beginUpdate();
				try
				{
					cells = graph.importCells(cells);
					
					for (var i = 0; i < cells.length; i++)
					{
						if (graph.getModel().isVertex(cells[i]))
						{
							var size = graph.getPreferredSizeForCell(cells[i]);
							cells[i].geometry.width = Math.max(cells[i].geometry.width, size.width);
							cells[i].geometry.height = Math.max(cells[i].geometry.height, size.height);
						}
					}
	
					var layout = new mxFastOrganicLayout(graph);
					layout.disableEdgeStyle = false;
					layout.forceConstant = 120;
					layout.execute(graph.getDefaultParent());
				}
				finally
				{
					graph.getModel().endUpdate();
				}
				
				graph.clearCellOverlays();
				editorUi.editor.graph.setSelectionCells(editorUi.editor.graph.importCells(
						graph.getModel().getChildren(graph.getDefaultParent()), insertPoint.x, insertPoint.y));
				editorUi.editor.graph.scrollCellToVisible(editorUi.editor.graph.getSelectionCell());
				
				graph.destroy();
				container.parentNode.removeChild(container);
			}
		}
	};
	
	var div = document.createElement('div');
	div.style.textAlign = 'right';
	
	var textarea = document.createElement('textarea');
	textarea.style.resize = 'none';
	textarea.style.width = '100%';
	textarea.style.height = '354px';
	textarea.style.marginBottom = '16px';
	
	var typeSelect = document.createElement('select');

	var listOption = document.createElement('option');
	listOption.setAttribute('value', 'list');
	listOption.setAttribute('selected', 'selected');
	mxUtils.write(listOption, mxResources.get('list'));
	typeSelect.appendChild(listOption);
	
	var diagramOption = document.createElement('option');
	diagramOption.setAttribute('value', 'diagram');
	mxUtils.write(diagramOption, mxResources.get('diagram'));
	typeSelect.appendChild(diagramOption);
		
	var plantUmlSvgOption = document.createElement('option');
	plantUmlSvgOption.setAttribute('value', 'plantUmlSvg');
	mxUtils.write(plantUmlSvgOption, mxResources.get('plantUml') + ' (' + mxResources.get('formatSvg') + ')');
	
	var plantUmlPngOption = document.createElement('option');
	plantUmlPngOption.setAttribute('value', 'plantUmlPng');
	mxUtils.write(plantUmlPngOption, mxResources.get('plantUml') + ' (' + mxResources.get('formatPng') + ')');
	
	// Disabled for invalid hosts via CORS headers
	if (/.*\.draw\.io$/.test(window.location.hostname) && Graph.fileSupport && !editorUi.isOffline())
	{
		typeSelect.appendChild(plantUmlSvgOption);
		typeSelect.appendChild(plantUmlPngOption);
	}

	function getDefaultValue()
	{
		return  (typeSelect.value == 'list') ?
			'Person\n-name: String\n-birthDate: Date\n--\n+getName(): String\n+setName(String): void\n+isBirthday(): boolean' :
			((typeSelect.value == 'plantUmlPng') ? '@startuml\nskinparam backgroundcolor transparent\nskinparam shadowing false\nAlice -> Bob: Authentication Request\nBob --> Alice: Authentication Response\n\nAlice -> Bob: Another authentication Request\nAlice <-- Bob: another authentication Response\n@enduml' :
			((typeSelect.value == 'plantUmlSvg') ? '@startuml\nskinparam shadowing false\nAlice -> Bob: Authentication Request\nBob --> Alice: Authentication Response\n\nAlice -> Bob: Another authentication Request\nAlice <-- Bob: another authentication Response\n@enduml' :
			';Example:\na->b\nb->c\nc->a\n'));
	};
	
	var defaultValue = getDefaultValue();
	textarea.value = defaultValue;
	div.appendChild(textarea);
	
	this.init = function()
	{
		textarea.focus();
	};
	
	// Enables dropping files
	if (Graph.fileSupport)
	{
		function handleDrop(evt)
		{
		    evt.stopPropagation();
		    evt.preventDefault();
		    
		    if (evt.dataTransfer.files.length > 0)
		    {
		    	var file = evt.dataTransfer.files[0];
    			
				var reader = new FileReader();
				reader.onload = function(e) { textarea.value = e.target.result; };
				reader.readAsText(file);
    		}
		};
		
		function handleDragOver(evt)
		{
			evt.stopPropagation();
			evt.preventDefault();
		};

		// Setup the dnd listeners.
		textarea.addEventListener('dragover', handleDragOver, false);
		textarea.addEventListener('drop', handleDrop, false);
	}

	div.appendChild(typeSelect);
	
	mxEvent.addListener(typeSelect, 'change', function()
	{
		var newDefaultValue = getDefaultValue();
		
		if (textarea.value.length == 0 || textarea.value == defaultValue)
		{
			defaultValue = newDefaultValue;
			textarea.value = defaultValue;
		}
	});
	
	var cancelBtn = mxUtils.button(mxResources.get('close'), function()
	{
		if (textarea.value == defaultValue)
		{
			editorUi.hideDialog();
		}
		else
		{
			editorUi.confirm(mxResources.get('areYouSure'), function()
			{
				editorUi.hideDialog();
			});
		}
	});
	
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		div.appendChild(cancelBtn);
	}
	
	var okBtn = mxUtils.button(mxResources.get('insert'), function()
	{
		editorUi.hideDialog();
		parse(textarea.value, typeSelect.value);
	});
	div.appendChild(okBtn);
	
	okBtn.className = 'geBtn gePrimaryBtn';
	
	if (!editorUi.editor.cancelFirst)
	{
		div.appendChild(cancelBtn);
	}

	this.container = div;
};

/**
 * Constructs a new dialog for creating files from templates.
 */
var NewDialog = function(editorUi, compact, showName, callback)
{
	showName = (showName != null) ? showName : true;
	var outer = document.createElement('div');
	outer.style.height = '100%';
	
	var header = document.createElement('div');
	header.style.whiteSpace = 'nowrap';
	header.style.height = '46px';
	outer.appendChild(header);
	
	var logo = document.createElement('img');
	logo.setAttribute('border', '0');
	logo.setAttribute('align', 'absmiddle');
	logo.style.width = '40px';
	logo.style.height = '40px';
	logo.style.marginRight = '10px';
	logo.style.paddingBottom = '4px';
	
	if (editorUi.mode == App.MODE_GOOGLE)
	{
		logo.src = IMAGE_PATH + '/google-drive-logo.svg';
	}
	else if (editorUi.mode == App.MODE_DROPBOX)
	{
		logo.src = IMAGE_PATH + '/dropbox-logo.svg';
	}
	else if (editorUi.mode == App.MODE_ONEDRIVE)
	{
		logo.src = IMAGE_PATH + '/onedrive-logo.svg';
	}
	else if (editorUi.mode == App.MODE_GITHUB)
	{
		logo.src = IMAGE_PATH + '/github-logo.svg';
	}
	else if (editorUi.mode == App.MODE_BROWSER)
	{
		logo.src = IMAGE_PATH + '/osa_database.png';
	}
	else
	{
		logo.src = IMAGE_PATH + '/osa_drive-harddisk.png';
	}

	if (!compact && showName)
	{
		header.appendChild(logo);
	}
	
	if (showName)
	{
		mxUtils.write(header, ((editorUi.mode == null || editorUi.mode == App.MODE_GOOGLE ||
				editorUi.mode == App.MODE_BROWSER) ? mxResources.get('diagramName') : mxResources.get('filename')) + ':');
	}
	
	var ext = '.xml';
	
	if (editorUi.mode == App.MODE_GOOGLE && editorUi.drive != null)
	{
		ext = editorUi.drive.extension;
	}
	else if (editorUi.mode == App.MODE_DROPBOX && editorUi.dropbox != null)
	{
		ext = editorUi.dropbox.extension;
	}
	else if (editorUi.mode == App.MODE_ONEDRIVE && editorUi.oneDrive != null)
	{
		ext = editorUi.oneDrive.extension;
	}
	else if (editorUi.mode == App.MODE_GITHUB && editorUi.gitHub != null)
	{
		ext = editorUi.gitHub.extension;
	}
	
	var nameInput = document.createElement('input');
	nameInput.setAttribute('value', editorUi.defaultFilename + ext);
	nameInput.style.marginRight = '20px';
	nameInput.style.marginLeft = '10px';
	nameInput.style.width = (compact) ? '220px' : '450px';
	
	this.init = function()
	{
		if (showName)
		{
			nameInput.focus();
			
			if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
			{
				nameInput.select();
			}
			else
			{
				document.execCommand('selectAll', false, null);
			}
		}
	};

	if (showName)
	{
		header.appendChild(nameInput);
	}

	var templateLibs = null;
	var templateXml = null;
	var selectedElt = null;
	
	function create()
	{
		if (callback)
		{
			if (!showName)
			{
				editorUi.hideDialog();
			}
			
			callback(templateXml, nameInput.value);
		}
		else
		{
			var title = nameInput.value;
				
			if (title != null && title.length > 0)
			{
				var tempMode = (editorUi.mode == App.MODE_ONEDRIVE || (editorUi.mode == App.MODE_GOOGLE &&
					(editorUi.stateArg == null || editorUi.stateArg.folderId == null))) ? editorUi.mode : null;
				
				editorUi.pickFolder(tempMode, function(folderId)
				{
					editorUi.createFile(title, templateXml, (templateLibs != null && templateLibs.length > 0) ? templateLibs : null, null, function()
					{
						editorUi.hideDialog();
					}, null, folderId);
				}, tempMode != App.MODE_GOOGLE);
			}
		}
	};
	
	var createButton = mxUtils.button(mxResources.get('create'), function()
	{
		create();
	});
	
	createButton.className = 'geBtn gePrimaryBtn';

	var div = document.createElement('div');
	div.style.border = '1px solid #d3d3d3';
	div.style.position = 'absolute';
	div.style.left = '160px';
	div.style.right = '34px';
	div.style.top = (showName) ? '72px' : '40px';
	div.style.bottom = '76px';
	div.style.margin = '6px 0 0 -1px';
	div.style.padding = '6px';
	div.style.overflow = 'auto';
	
	var list = document.createElement('div');
	list.style.cssText = 'position:absolute;left:30px;width:128px;top:72px;bottom:76px;margin-top:6px;overflow:auto;border:1px solid #d3d3d3;';
	
	if (!showName)
	{
		list.style.top = '40px';
	}
	
	var w = 140;
	var h = 140;

	function selectElement(elt, xml, libs)
	{
		if (selectedElt != null)
		{
			selectedElt.style.backgroundColor = 'transparent';
			selectedElt.style.border = '1px solid transparent';
		}
		
		templateXml = xml;
		templateLibs = libs;
		selectedElt = elt;
		
		selectedElt.style.backgroundColor = '#e6eff8';
		selectedElt.style.border = '1px solid #ccd9ea';
	};

	function addButton(url, libs, title, tooltip, select)
	{
		var elt = document.createElement('div');
		elt.className = 'geTemplate';
		elt.style.height = w + 'px';
		elt.style.width = h + 'px';
		
		if (tooltip != null && tooltip.length > 0)
		{
			elt.setAttribute('title', tooltip);
		}
		
		if (url != null && url.length > 0)
		{
			var png = url.substring(0, url.length - 4) + '.png';
			
			elt.style.backgroundImage = 'url(' + TEMPLATE_PATH + '/' + url.substring(0, url.length - 4) + '.png)';
			elt.style.backgroundPosition = 'center center';
			elt.style.backgroundRepeat = 'no-repeat';
			
			var createIt = false;
			
			mxEvent.addListener(elt, 'click', function(evt)
			{
				createButton.setAttribute('disabled', 'disabled');
				elt.style.backgroundColor = 'transparent';
				elt.style.border = '1px solid transparent';
				
				mxUtils.get(TEMPLATE_PATH + '/' + url, mxUtils.bind(this, function(req)
				{
					if (req.getStatus() >= 200 && req.getStatus() <= 299)
					{
						createButton.removeAttribute('disabled');
						selectElement(elt, req.getText(), libs);
						
						if (createIt)
						{
							create();
						}
					}
				}));
			});
			
			mxEvent.addListener(elt, 'dblclick', function(evt)
			{
				// Asynchronous double click handling after loading template
				createIt = true;
			});
		}
		else
		{
			elt.innerHTML = '<table width="100%" height="100%"><tr><td align="center" valign="middle">' +
				mxResources.get(title) + '</td></tr></table>';
			
			if (select)
			{
				selectElement(elt);
			}
			
			mxEvent.addListener(elt, 'click', function(evt)
			{
				selectElement(elt);
			});
			
			mxEvent.addListener(elt, 'dblclick', function(evt)
			{
				create();
			});
		}

		div.appendChild(elt);
	};

	var categories = {};
	var categoryCount = 1;
	
	// Adds local basic templates
	categories['basic'] = [{title: 'blankDiagram', select: true}];
	var templates = categories['basic'];
	
	function initUi()
	{
		var i0 = 0;
		
		// Dynamic loading
		function addTemplates()
		{
			var first = true;
			
			while (i0 < templates.length && (first || mxUtils.mod(i0, 30) != 0))
			{
				var tmp = templates[i0++];
				addButton(tmp.url, tmp.libs, tmp.title, tmp.tooltip, tmp.select);
				first = false;
			}
		};

		mxEvent.addListener(div, 'scroll', function(evt)
		{
			if (div.scrollTop + div.clientHeight >= div.scrollHeight)
			{
				addTemplates();
				mxEvent.consume(evt);
			}
		});
		
		var currentEntry = null;
		
		for (var cat in categories)
		{
			var entry = document.createElement('div');
			var label = mxResources.get(cat);
			var templateList = categories[cat];
			
			if (label == null)
			{
				label = cat.substring(0, 1).toUpperCase() + cat.substring(1);
			}
			
			if (label.length > 18)
			{
				label = label.substring(0, 18) + '&hellip;';
			}
			entry.style.cssText = 'display:block;cursor:pointer;padding:6px;white-space:nowrap;margin-bottom:-1px;overflow:hidden;text-overflow:ellipsis;';
			entry.setAttribute('title', label + ' (' + templateList.length + ')');
			mxUtils.write(entry, entry.getAttribute('title'));

			list.appendChild(entry);
			
			if (currentEntry == null)
			{
				currentEntry = entry;
				currentEntry.style.backgroundColor = '#ebf2f9';
			}
			
			(function(cat2, entry2)
			{
				mxEvent.addListener(entry, 'click', function()
				{
					if (currentEntry != entry2)
					{
						currentEntry.style.backgroundColor = '';
						currentEntry = entry2;
						currentEntry.style.backgroundColor = '#ebf2f9';	
						
						div.scrollTop = 0;
						div.innerHTML = '';
						i0 = 0;
						templates = categories[cat2];
						addTemplates();
					}
				});
			})(cat, entry);
		}
		
		addTemplates();
	}

	if (!compact)
	{
		outer.appendChild(list);
		outer.appendChild(div);
		var indexLoaded = false;
		
		mxUtils.get(TEMPLATE_PATH + '/index.xml', function(req)
		{
			// Workaround for index loaded 3 times in iOS offline mode
			if (!indexLoaded)
			{
				indexLoaded = true;
				var tmpDoc = req.getXml();
				var node = tmpDoc.documentElement.firstChild;
	
				while (node != null)
				{
					if (typeof(node.getAttribute) !== 'undefined')
					{
						var url = node.getAttribute('url');
						
						if (url != null)
						{
							var slash = url.indexOf('/');
							var category = url.substring(0, slash);
							
							var list = categories[category];
							
							if (list == null)
							{
								categoryCount++;
								list = [];
								categories[category] = list;
							}
							
							list.push({url: node.getAttribute('url'), libs: node.getAttribute('libs'),
								title: node.getAttribute('title'), tooltip: node.getAttribute('url')});
						}
					}
					
					node = node.nextSibling;
				}
				
				initUi();
			}
		});
	}
	
	mxEvent.addListener(nameInput, 'keypress', function(e)
	{
		if (e.keyCode == 13)
		{
			create();
		}
	});
	
	var btns = document.createElement('div');
	btns.style.marginTop = (compact) ? '4px' : '16px';
	btns.style.textAlign = 'right';
	btns.style.position = 'absolute';
	btns.style.left = '40px';
	btns.style.bottom = '30px';
	btns.style.right = '40px';

	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog(true);
	});
	
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	if (!compact && !editorUi.isOffline() && showName && callback == null)
	{
		var helpBtn = mxUtils.button(mxResources.get('help'), function()
		{
			window.open('https://support.draw.io/display/DO/Creating+and+Opening+Files');
		});
		
		helpBtn.className = 'geBtn';	
		btns.appendChild(helpBtn);
	}

	if (!compact && urlParams['embed'] != '1')
	{
		var fromTmpBtn = mxUtils.button(mxResources.get('fromTemplateUrl'), function()
		{
			var dlg = new FilenameDialog(editorUi, '', mxResources.get('create'), function(fileUrl)
			{
				if (fileUrl != null && fileUrl.length > 0)
				{
					var url = editorUi.getUrl(window.location.pathname + '?mode=' + editorUi.mode +
							'&title=' + encodeURIComponent(nameInput.value) +
							'&create=' + encodeURIComponent(fileUrl));
					
					if (editorUi.getCurrentFile() == null)
					{
						window.location.href = url;
					}
					else
					{
						window.openWindow(url);
					}
				}
			}, mxResources.get('url'));
			editorUi.showDialog(dlg.container, 300, 80, true, true);
			dlg.init();
		});
		fromTmpBtn.className = 'geBtn';
		btns.appendChild(fromTmpBtn);
	}
	
	btns.appendChild(createButton);
	
	if (!editorUi.editor.cancelFirst && callback == null)
	{
		btns.appendChild(cancelBtn);
	}
	
	outer.appendChild(btns);
	
	this.container = outer;
};

/**
 * Constructs a dialog for creating new files from a template URL.
 */
var CreateDialog = function(editorUi, title, createFn, cancelFn, dlgTitle, btnLabel, overrideExtension,
		allowBrowser, allowTab, helpLink, showDeviceButton, rowLimit)
{
	overrideExtension = (overrideExtension != null) ? overrideExtension : true;
	allowBrowser = (allowBrowser != null) ? allowBrowser : true;
	rowLimit = (rowLimit != null) ? rowLimit : 3;
	var div = document.createElement('div');
	var showButtons = true;
	
	if (cancelFn == null)
	{
		editorUi.addLanguageMenu(div);
	}

	var h3 = document.createElement('h2');
	mxUtils.write(h3, dlgTitle || mxResources.get('create'));
	h3.style.marginTop = '0px';
	h3.style.marginBottom = '24px';
	div.appendChild(h3);
	
	mxUtils.write(div, mxResources.get('filename') + ':');

	var nameInput = document.createElement('input');
	nameInput.setAttribute('value', title);
	nameInput.style.width = '280px';
	nameInput.style.marginLeft = '10px';
	nameInput.style.marginBottom = '20px';
	
	this.init = function()
	{
		nameInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			nameInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
	};

	div.appendChild(nameInput);
	mxUtils.br(div);
	
	var buttons = document.createElement('div');
	buttons.style.textAlign = 'center';
	var count = 0;

	function addLogo(img, title, mode, clientName)
	{
		var button = document.createElement('a');
		button.style.overflow = 'hidden';
		
		var logo = document.createElement('img');
		logo.src = img;
		logo.setAttribute('border', '0');
		logo.setAttribute('align', 'absmiddle');
		logo.style.width = '60px';
		logo.style.height = '60px';
		logo.style.paddingBottom = '6px';
		button.style.display = (mxClient.IS_QUIRKS) ? 'inline' : 'inline-block';
		button.className = 'geBaseButton';
		button.style.position = 'relative';
		button.style.margin = '4px';
		button.style.padding = '8px 8px 10px 8px';
		button.style.whiteSpace = 'nowrap';
		
		button.appendChild(logo);
		
		// Workaround for quirks is a vertical list (limited to max 2 items)
		if (mxClient.IS_QUIRKS)
		{
			button.style.cssFloat = 'left';
			button.style.zoom = '1';
		}
		
		button.style.color = 'gray';
		button.style.fontSize = '11px';
		
		var label = document.createElement('div');
		button.appendChild(label);
		mxUtils.write(label, title);
		
		function initButton()
		{
			mxEvent.addListener(button, 'click', function()
			{
				// Updates extension
				change(mode);
				create(mode);
			});
		};
		
		// Supports lazy loading
		if (clientName != null && editorUi[clientName] == null)
		{
			logo.style.visibility = 'hidden';
			mxUtils.setOpacity(label, 10);
			var size = 12;
			
			var spinner = new Spinner({
				lines: 12, // The number of lines to draw
				length: size, // The length of each line
				width: 5, // The line thickness
				radius: 10, // The radius of the inner circle
				rotate: 0, // The rotation offset
				color: '#000', // #rgb or #rrggbb
				speed: 1.5, // Rounds per second
				trail: 60, // Afterglow percentage
				shadow: false, // Whether to render a shadow
				hwaccel: false, // Whether to use hardware acceleration
				top: '40%',
				zIndex: 2e9 // The z-index (defaults to 2000000000)
			});
			spinner.spin(button);
			
			// Timeout after 30 secs
			var timeout = window.setTimeout(function()
			{
				if (editorUi[clientName] == null)
				{
					spinner.stop();
					button.style.display = 'none';
				}
			}, 30000);
			
			editorUi.addListener('clientLoaded', mxUtils.bind(this, function()
			{
				if (editorUi[clientName] != null)
				{
					window.clearTimeout(timeout);
					mxUtils.setOpacity(label, 100);
					logo.style.visibility = '';
					spinner.stop();
					initButton();
				}
			}));
		}
		else
		{
			initButton();
		}

		buttons.appendChild(button);
		
		if (++count == rowLimit)
		{
			mxUtils.br(buttons);
			count = 0;
		}
	};

	if (!showButtons)
	{
		mxUtils.write(div, mxResources.get('chooseAnOption') + ':');
	}
	else
	{
		buttons.style.marginTop = '6px';
		div.appendChild(buttons);
	}
	
	// Adds all papersize options
	var serviceSelect = document.createElement('select');
	serviceSelect.style.marginLeft = '10px';

	if (!editorUi.isOfflineApp() && !editorUi.isOffline())
	{
		if (typeof window.DriveClient === 'function')
		{
			var googleOption = document.createElement('option');
			googleOption.setAttribute('value', App.MODE_GOOGLE);
			mxUtils.write(googleOption, mxResources.get('googleDrive'));
			serviceSelect.appendChild(googleOption);
			
			addLogo(IMAGE_PATH + '/google-drive-logo.svg', mxResources.get('googleDrive'), App.MODE_GOOGLE, 'drive');
		}
	
		if (editorUi.gitHub != null)
		{
			var gitHubOption = document.createElement('option');
			gitHubOption.setAttribute('value', App.MODE_GITHUB);
			mxUtils.write(gitHubOption, mxResources.get('github'));
			serviceSelect.appendChild(gitHubOption);
			
			addLogo(IMAGE_PATH + '/github-logo.svg', mxResources.get('github'), App.MODE_GITHUB, 'gitHub');
		}
	
		if (typeof window.DropboxClient === 'function')
		{
			var dropboxOption = document.createElement('option');
			dropboxOption.setAttribute('value', App.MODE_DROPBOX);
			mxUtils.write(dropboxOption, mxResources.get('dropbox'));
			serviceSelect.appendChild(dropboxOption);
			
			if (editorUi.mode == App.MODE_DROPBOX)
			{
				dropboxOption.setAttribute('selected', 'selected');
			}
			
			addLogo(IMAGE_PATH + '/dropbox-logo.svg', mxResources.get('dropbox'), App.MODE_DROPBOX, 'dropbox');
		}
	
		if (typeof window.OneDriveClient === 'function')
		{
			var oneDriveOption = document.createElement('option');
			oneDriveOption.setAttribute('value', App.MODE_ONEDRIVE);
			mxUtils.write(oneDriveOption, mxResources.get('oneDrive'));
			serviceSelect.appendChild(oneDriveOption);
			
			if (editorUi.mode == App.MODE_ONEDRIVE)
			{
				oneDriveOption.setAttribute('selected', 'selected');
			}
			
			addLogo(IMAGE_PATH + '/onedrive-logo.svg', mxResources.get('oneDrive'), App.MODE_ONEDRIVE, 'oneDrive');
		}
	}
	
	if (!Editor.useLocalStorage || urlParams['storage'] == 'device' ||
		(editorUi.getCurrentFile() != null && !mxClient.IS_IOS))
	{
		var deviceOption = document.createElement('option');
		deviceOption.setAttribute('value', App.MODE_DEVICE);
		mxUtils.write(deviceOption, mxResources.get('device'));
		serviceSelect.appendChild(deviceOption);
		
		if (editorUi.mode == App.MODE_DEVICE || !allowBrowser)
		{
			deviceOption.setAttribute('selected', 'selected');
		}
		
		if (showDeviceButton)
		{
			addLogo(IMAGE_PATH + '/osa_drive-harddisk.png', mxResources.get('device'), App.MODE_DEVICE);
		}
	}
	
	if (allowBrowser && isLocalStorage && urlParams['browser'] != '0')
	{
		var browserOption = document.createElement('option');
		browserOption.setAttribute('value', App.MODE_BROWSER);
		mxUtils.write(browserOption, mxResources.get('browser'));
		serviceSelect.appendChild(browserOption);
		
		if (editorUi.mode == App.MODE_BROWSER)
		{
			browserOption.setAttribute('selected', 'selected');
		}
		
		addLogo(IMAGE_PATH + '/osa_database.png', mxResources.get('browser'), App.MODE_BROWSER);
	}

	function change(newMode)
	{
		if (overrideExtension)
		{
			var fn = nameInput.value;
			var idx = fn.lastIndexOf('.');
			
			if (title.lastIndexOf('.') < 0 && (!showButtons || idx < 0))
			{
				newMode = (newMode != null) ? newMode : serviceSelect.value;
				var ext = '';
				
				if (newMode == App.MODE_GOOGLE)
				{
					ext = editorUi.drive.extension;
				}
				else if (newMode == App.MODE_GITHUB)
				{
					ext = editorUi.gitHub.extension;
				}
				else if (newMode == App.MODE_DROPBOX)
				{
					ext = editorUi.dropbox.extension;
				}
				else if (newMode == App.MODE_ONEDRIVE)
				{
					ext = editorUi.oneDrive.extension;
				}
				else if (newMode == App.MODE_DEVICE)
				{
					ext = '.xml';
				}
				
				if (idx >= 0)
				{
					fn = fn.substring(0, idx);
				}
				
				nameInput.value = fn + ext;
			}
		}
	};

	var btns = document.createElement('div');
	btns.style.marginTop = (showButtons) ? '26px' : '38px';
	btns.style.textAlign = (showButtons) ? 'center' : 'right';
	
	if (!showButtons)
	{
		div.appendChild(serviceSelect);
		mxEvent.addListener(serviceSelect, 'change', change);
		change();
	}
	
	if (helpLink != null)
	{
		var helpBtn = mxUtils.button(mxResources.get('help'), function()
		{
			window.open(helpLink);
		});
		
		helpBtn.className = 'geBtn';
		btns.appendChild(helpBtn);
	}
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		if (cancelFn != null)
		{
			cancelFn();
		}
		else
		{
			editorUi.fileLoaded(null);
			editorUi.hideDialog();
			window.close();
			window.location.href = editorUi.getUrl();
		}
	});
	
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	function create(mode)
	{
		var title = nameInput.value;
		
		if (mode == null || (title != null && title.length > 0))
		{
			editorUi.hideDialog();
			createFn(title, mode);
		};
	}
	
	if (cancelFn == null)
	{
		var laterBtn = mxUtils.button(mxResources.get('decideLater'), function()
		{
			create(null);
		});
		
		laterBtn.className = 'geBtn';
		btns.appendChild(laterBtn);
	}

	if (allowTab)
	{
		var openBtn = mxUtils.button(mxResources.get('openInNewWindow'), function()
		{
			create('_blank');
		});
		openBtn.className = 'geBtn';
		btns.appendChild(openBtn);
	}
	
	if (!mxClient.IS_IOS || !showButtons)
	{
		var createBtn = mxUtils.button(btnLabel || mxResources.get('create'), function()
		{
			create((showDeviceButton) ? 'download' : ((showButtons) ? App.MODE_DEVICE : serviceSelect.value));
		});
		createBtn.className = 'geBtn gePrimaryBtn';
		btns.appendChild(createBtn);
	}
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	mxEvent.addListener(nameInput, 'keypress', function(e)
	{
		if (e.keyCode == 13)
		{
			create((showButtons) ? App.MODE_DEVICE : serviceSelect.value);
		}
		else if (e.keyCode == 27)
		{
			editorUi.fileLoaded(null);
			editorUi.hideDialog();
			window.close();
		}
	});

	div.appendChild(btns);

	this.container = div;
};

/**
 * Constructs a new popup dialog.
 */
var PopupDialog = function(editorUi, url, pre, fallback, hideDialog) 
{
	hideDialog = (hideDialog != null) ? hideDialog : true;
	
	var div = document.createElement('div');
	div.style.textAlign = 'left';
	
	mxUtils.write(div, mxResources.get('fileOpenLocation'));
	mxUtils.br(div);
	mxUtils.br(div);

	var replaceBtn = mxUtils.button(mxResources.get('openInThisWindow'), function()
	{
		if (hideDialog)
		{
			editorUi.hideDialog();
		}
		
		if (fallback != null)
		{
			fallback();
		}
	});
	replaceBtn.className = 'geBtn';
	replaceBtn.style.marginBottom = '8px';
	replaceBtn.style.width = '280px';
	div.appendChild(replaceBtn);
	
	mxUtils.br(div);
	
	var wndBtn = mxUtils.button(mxResources.get('openInNewWindow'), function()
	{
		if (hideDialog)
		{
			editorUi.hideDialog();
		}

		if (pre != null)
		{
			pre();
		}
		
		window.open(url);
	});
	wndBtn.className = 'geBtn gePrimaryBtn';
	wndBtn.style.width = replaceBtn.style.width;
	div.appendChild(wndBtn);
	
	mxUtils.br(div);
	mxUtils.br(div);
	mxUtils.write(div, mxResources.get('allowPopups'));
	
	this.container = div;
};

/**
 * Constructs a new image dialog.
 */
var ImageDialog = function(editorUi, title, initialValue, fn, ignoreExisting, convertDataUri)
{
	convertDataUri = (convertDataUri != null) ? convertDataUri : true;
	
	var graph = editorUi.editor.graph;
	var div = document.createElement('div');
	mxUtils.write(div, title);
	
	var inner = document.createElement('div');
	inner.className = 'geTitle';
	inner.style.backgroundColor = 'transparent';
	inner.style.borderColor = 'transparent';
	inner.style.whiteSpace = 'nowrap';
	inner.style.textOverflow = 'clip';
	inner.style.cursor = 'default';
	
	if (!mxClient.IS_VML)
	{
		inner.style.paddingRight = '20px';
	}
	
	var linkInput = document.createElement('input');
	linkInput.setAttribute('value', initialValue);
	linkInput.setAttribute('type', 'text');
	linkInput.style.marginTop = '6px';
	var realWidth = (Graph.fileSupport) ? 420 : 340;
	linkInput.style.width = realWidth + ((mxClient.IS_QUIRKS) ? 20 : -20) + 'px';
	linkInput.style.backgroundImage = 'url(\'' + Dialog.prototype.clearImage + '\')';
	linkInput.style.backgroundRepeat = 'no-repeat';
	linkInput.style.backgroundPosition = '100% 50%';
	linkInput.style.paddingRight = '14px';
	
	var cross = document.createElement('div');
	cross.setAttribute('title', mxResources.get('reset'));
	cross.style.position = 'relative';
	cross.style.left = '-16px';
	cross.style.width = '12px';
	cross.style.height = '14px';
	cross.style.cursor = 'pointer';

	// Workaround for inline-block not supported in IE
	cross.style.display = (mxClient.IS_VML) ? 'inline' : 'inline-block';
	cross.style.top = ((mxClient.IS_VML) ? 0 : 3) + 'px';
	
	// Needed to block event transparency in IE
	cross.style.background = 'url(\'' + editorUi.editor.transparentImage + '\')';

	mxEvent.addListener(cross, 'click', function()
	{
		linkInput.value = '';
		linkInput.focus();
	});
	
	inner.appendChild(linkInput);
	inner.appendChild(cross);
	div.appendChild(inner);

	var insertImage = function(newValue, w, h)
	{
		var dataUri = newValue.substring(0, 5) == 'data:';
		
		if ((!editorUi.isOffline() || (dataUri && typeof chrome === 'undefined')) &&
			editorUi.spinner.spin(document.body, mxResources.get('inserting')))
		{
			var maxSize = 520;
			
			editorUi.loadImage(newValue, function(img)
    		{
				editorUi.spinner.stop();
				editorUi.hideDialog();
				var s = (w != null && h != null) ? Math.max(w / img.width, h / img.height) :
					Math.min(1, Math.min(maxSize / img.width, maxSize / img.height));
				
				// Handles special case of data URI which needs to be rewritten
				// to be used in a cell style to remove the semicolon
				if (convertDataUri)
				{
					newValue = editorUi.convertDataUri(newValue);
				}
				
    			fn(newValue, Math.round(Number(img.width) * s), Math.round(Number(img.height) * s));
    		}, function()
    		{
    			editorUi.spinner.stop();
    			fn(null);
				editorUi.showError(mxResources.get('error'), mxResources.get('fileNotFound'), mxResources.get('ok'));
    		});
		}
		else
		{
			newValue = editorUi.convertDataUri(newValue);
			w = (w == null) ? 120 : w;
			h = (h == null) ? 100 : h;
			
			editorUi.hideDialog();				
			fn(newValue, w, h);
		}
	};
	
	var apply = function(newValue)
	{
		if (newValue != null && newValue.length > 0)
		{
			var geo = (ignoreExisting) ? null : graph.getModel().getGeometry(graph.getSelectionCell());

			// Reuses width and height of existing cell
			if (geo != null)
			{
				insertImage(newValue, geo.width, geo.height);
			}
			else
			{
				insertImage(newValue);
			}
		}
		else
		{
			editorUi.hideDialog();
			fn(null);
		}
	};

	this.init = function()
	{
		linkInput.focus();
		
		// Installs drag and drop handler for local images and links
		if (Graph.fileSupport)
		{
			linkInput.setAttribute('placeholder', mxResources.get('dragImagesHere'));
			
			// Setup the dnd listeners
			var dlg = div.parentNode;
			var graph = editorUi.editor.graph;
			var dropElt = null;
				
			mxEvent.addListener(dlg, 'dragleave', function(evt)
			{
				if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }
			    
				evt.stopPropagation();
				evt.preventDefault();
			});
			
			mxEvent.addListener(dlg, 'dragover', mxUtils.bind(this, function(evt)
			{
				// IE 10 does not implement pointer-events so it can't have a drop highlight
				if (dropElt == null && (!mxClient.IS_IE || document.documentMode > 10))
				{
					dropElt = editorUi.highlightElement(dlg);
				}
				
				evt.stopPropagation();
				evt.preventDefault();
			}));
					
			mxEvent.addListener(dlg, 'drop', mxUtils.bind(this, function(evt)
			{
			    if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }

			    if (evt.dataTransfer.files.length > 0)
			    {
			    	editorUi.importFiles(evt.dataTransfer.files, 0, 0, editorUi.maxImageSize, function(data, mimeType, x, y, w, h)
			    	{
			    		apply(data);
			    	}, function()
			    	{
			    		// No post processing
			    	}, function(file)
			    	{
			    		// Handles only images
			    		return file.type.substring(0, 6) == 'image/';
			    	}, function(queue)
			    	{
			    		// Invokes elements of queue in order
			    		for (var i = 0; i < queue.length; i++)
			    		{
			    			queue[i]();
			    		}
			    	}, !mxEvent.isControlDown(evt));
	    		}
			    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0)
			    {
			    	var uri = evt.dataTransfer.getData('text/uri-list');
			    	
			    	if ((/\.(gif|jpg|jpeg|tiff|png|svg)($|\?)/i).test(uri))
					{
			    		apply(decodeURIComponent(uri));
					}
			    }

			    evt.stopPropagation();
			    evt.preventDefault();
			}), false);
		}
	};
	
	var btns = document.createElement('div');
	btns.style.marginTop = (mxClient.IS_QUIRKS) ? '22px' : '14px';
	btns.style.textAlign = 'right';
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		// Just in case a spinner is spinning, has no effect otherwise
		editorUi.spinner.stop();
		editorUi.hideDialog();
	});
	
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	ImageDialog.filePicked = function(data)
	{
        if (data.action == google.picker.Action.PICKED)
        {
        	if (data.docs[0].thumbnails != null)
        	{
	        	var thumb = data.docs[0].thumbnails[data.docs[0].thumbnails.length - 1];
	        	
	        	if (thumb != null)
	        	{
	        		linkInput.value = thumb.url;
	        	}
        	}
        }
        
        linkInput.focus();
	};

	if (Graph.fileSupport)
	{
		var fileInput = document.createElement('input');
		fileInput.setAttribute('multiple', 'multiple');
		fileInput.setAttribute('type', 'file');
		
		if (document.documentMode == null)
		{
			mxEvent.addListener(fileInput, 'change', function(evt)
			{
		    	editorUi.importFiles(fileInput.files, 0, 0, editorUi.maxImageSize, function(data, mimeType, x, y, w, h)
		    	{
		    		apply(data);
		    	}, function()
		    	{
		    		// No post processing
		    	}, function(file)
		    	{
		    		// Handles only images
		    		return file.type.substring(0, 6) == 'image/';
		    	}, function(queue)
		    	{
		    		// Invokes elements of queue in order
		    		for (var i = 0; i < queue.length; i++)
		    		{
		    			queue[i]();
		    		}
		    	}, true);
			});
			
			var btn = mxUtils.button(mxResources.get('open'), function()
			{
				fileInput.click();
			});
			btn.className = 'geBtn';
			
			btns.appendChild(btn);
		}
	}

	if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined' && window.self === window.top)
	{
		var searchBtn = mxUtils.button(mxResources.get('search'), function()
		{
			// Creates one picker and reuses it to avoid polluting the DOM
			if (editorUi.imageSearchPicker == null)
			{
				var picker = new google.picker.PickerBuilder()
					.setLocale(mxLanguage)
					.addView(google.picker.ViewId.IMAGE_SEARCH)
					.enableFeature(google.picker.Feature.NAV_HIDDEN);
				
				editorUi.imageSearchPicker = picker.setCallback(function(data)
				{
					ImageDialog.filePicked(data);
			    }).build();
			}
			
			editorUi.imageSearchPicker.setVisible(true);
			editorUi.movePickersToTop();
		});
		searchBtn.className = 'geBtn';
		btns.appendChild(searchBtn);

		if (editorUi.drive != null && urlParams['photos'] == '1')
		{
			var gpBtn = mxUtils.button(mxResources.get('googlePlus'), function()
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('authorizing')))
				{
					editorUi.drive.checkToken(mxUtils.bind(this, function()
					{
						editorUi.spinner.stop();
						
						// Creates one picker and reuses it to avoid polluting the DOM
						if (editorUi.photoPicker == null)
						{
					    	var token = gapi.auth.getToken().access_token;
							var picker = new google.picker.PickerBuilder()
								.setAppId(editorUi.drive.appId)	
								.setLocale(mxLanguage)
								.setOAuthToken(token)
								.addView(google.picker.ViewId.PHOTOS)
								.addView(google.picker.ViewId.PHOTO_ALBUMS)
					            .addView(google.picker.ViewId.PHOTO_UPLOAD);
							
							editorUi.photoPicker = picker.setCallback(function(data)
							{
								ImageDialog.filePicked(data);
						    }).build();
						}
						
						editorUi.photoPicker.setVisible(true);
						editorUi.movePickersToTop();
					}));
				}
			});
			gpBtn.className = 'geBtn';
			btns.appendChild(gpBtn);
		}
	}

	mxEvent.addListener(linkInput, 'keypress', function(e)
	{
		if (e.keyCode == 13)
		{
			apply(linkInput.value);
		}
	});
	
	var applyBtn = mxUtils.button(mxResources.get('apply'), function()
	{
		apply(linkInput.value);
	});
	applyBtn.className = 'geBtn gePrimaryBtn';
	btns.appendChild(applyBtn);
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	// Shows drop icon in dialog background
	if (Graph.fileSupport)
	{
		btns.style.marginTop = '120px';
		div.style.backgroundImage = 'url(\'' + IMAGE_PATH + '/droptarget.png\')';
		div.style.backgroundPosition = 'center 65%';
		div.style.backgroundRepeat = 'no-repeat';
		
		var bg = document.createElement('div');
		bg.style.position = 'absolute';
		bg.style.width = '420px';
		bg.style.top = '58%';
		bg.style.textAlign = 'center';
		bg.style.fontSize = '18px';
		bg.style.color = '#a0c3ff';
		mxUtils.write(bg, mxResources.get('dragImagesHere'));
		div.appendChild(bg);
	}

	div.appendChild(btns);

	this.container = div;
};

/**
 * Constructs a new print dialog.
 */
PrintDialog.prototype.create = function(editorUi, titleText)
{
	var graph = editorUi.editor.graph;
	var div = document.createElement('div');
	
	var title = document.createElement('h3');
	title.style.width = '100%';
	title.style.textAlign = 'center';
	title.style.marginTop = '0px';
	mxUtils.write(title, titleText || mxResources.get('print'));
	div.appendChild(title);
	
	var pageCount = 1;
	var currentPage = 1;

	// Pages
	var pagesSection = document.createElement('div');
	pagesSection.style.cssText = 'border-bottom:1px solid lightGray;padding-bottom:12px;margin-bottom:12px;';
	
	var allPagesRadio = document.createElement('input');
	allPagesRadio.style.cssText = 'margin-right:8px;margin-bottom:8px;';
	allPagesRadio.setAttribute('value', 'all');
	allPagesRadio.setAttribute('type', 'radio');
	allPagesRadio.setAttribute('name', 'pages-printdialog');
	
	pagesSection.appendChild(allPagesRadio);

	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('printAllPages'));
	pagesSection.appendChild(span);

	mxUtils.br(pagesSection);

	// Pages ... to ...
	var pagesRadio = allPagesRadio.cloneNode(true);
	allPagesRadio.setAttribute('checked', 'checked');
	pagesRadio.setAttribute('value', 'range');
	pagesSection.appendChild(pagesRadio);
	
	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('pages') + ':');
	pagesSection.appendChild(span);
	
	var pagesFromInput = document.createElement('input');
	pagesFromInput.style.cssText = 'margin:0 8px 0 8px;'
	pagesFromInput.setAttribute('value', '1');
	pagesFromInput.setAttribute('type', 'number');
	pagesFromInput.setAttribute('min', '1');
	pagesFromInput.style.width = '50px';
	pagesSection.appendChild(pagesFromInput);
	
	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('to'));
	pagesSection.appendChild(span);
	
	var pagesToInput = pagesFromInput.cloneNode(true);
	pagesSection.appendChild(pagesToInput);

	mxEvent.addListener(pagesFromInput, 'focus', function()
	{
		pagesRadio.checked = true;
	});
	
	mxEvent.addListener(pagesToInput, 'focus', function()
	{
		pagesRadio.checked = true;
	});
	
	function validatePageRange()
	{
		pagesToInput.value = Math.max(1, Math.min(pageCount, Math.max(parseInt(pagesToInput.value), parseInt(pagesFromInput.value))));
		pagesFromInput.value = Math.max(1, Math.min(pageCount, Math.min(parseInt(pagesToInput.value), parseInt(pagesFromInput.value))));
	};
	
	mxEvent.addListener(pagesFromInput, 'change', validatePageRange);
	mxEvent.addListener(pagesToInput, 'change', validatePageRange);
	
	if (editorUi.pages != null)
	{
		pageCount = editorUi.pages.length;

		if (editorUi.currentPage != null)
		{
			for (var i = 0; i < editorUi.pages.length; i++)
			{
				if (editorUi.currentPage == editorUi.pages[i])
				{
					currentPage = i + 1;
					pagesFromInput.value = currentPage;
					pagesToInput.value = currentPage;
					break;
				}
			}
		}
	}
	
	pagesFromInput.setAttribute('max', pageCount);
	pagesToInput.setAttribute('max', pageCount);		
	
	if (pageCount > 1)
	{
		div.appendChild(pagesSection);
	}
	
	// Adjust to ...
	var adjustSection = document.createElement('div');
	adjustSection.style.marginBottom = '10px';
	
	var adjustRadio = document.createElement('input');
	adjustRadio.style.marginRight = '8px';
	
	adjustRadio.setAttribute('value', 'adjust');
	adjustRadio.setAttribute('type', 'radio');
	adjustRadio.setAttribute('name', 'printZoom');
	adjustSection.appendChild(adjustRadio);

	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('adjustTo'));
	adjustSection.appendChild(span);
	
	var zoomInput = document.createElement('input');
	zoomInput.style.cssText = 'margin:0 8px 0 8px;';
	zoomInput.setAttribute('value', '100 %');
	zoomInput.style.width = '50px';
	adjustSection.appendChild(zoomInput);
	
	mxEvent.addListener(zoomInput, 'focus', function()
	{
		adjustRadio.checked = true;
	});
	
	div.appendChild(adjustSection);

	// Fit to ...
	var fitSection = pagesSection.cloneNode(false);

	var fitRadio = adjustRadio.cloneNode(true);
	fitRadio.setAttribute('value', 'fit');
	adjustRadio.setAttribute('checked', 'checked');
	
	var spanFitRadio = document.createElement('div');
	spanFitRadio.style.cssText = 'display:inline-block;height:100%;vertical-align:top;padding-top:2px;';
	spanFitRadio.appendChild(fitRadio);
	fitSection.appendChild(spanFitRadio);
	
	var table = document.createElement('table');
	table.style.display = 'inline-block';
	var tbody = document.createElement('tbody');
	
	var row1 = document.createElement('tr');
	var row2 = row1.cloneNode(true);
	
	var td1 = document.createElement('td');
	var td2 = td1.cloneNode(true);
	var td3 = td1.cloneNode(true);
	
	var td4 = td1.cloneNode(true);
	var td5 = td1.cloneNode(true);
	var td6 = td1.cloneNode(true);
	
	td1.style.textAlign = 'right';
	td4.style.textAlign = 'right';

	mxUtils.write(td1, mxResources.get('fitTo'));
	
	var sheetsAcrossInput = document.createElement('input');
	sheetsAcrossInput.style.cssText = 'margin:0 8px 0 8px;';
	sheetsAcrossInput.setAttribute('value', '1');
	sheetsAcrossInput.setAttribute('min', '1');
	sheetsAcrossInput.setAttribute('type', 'number');
	sheetsAcrossInput.style.width = '40px';
	td2.appendChild(sheetsAcrossInput);
	
	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('fitToSheetsAcross'));
	td3.appendChild(span);

	mxUtils.write(td4, mxResources.get('fitToBy'));
	
	var sheetsDownInput = sheetsAcrossInput.cloneNode(true);
	td5.appendChild(sheetsDownInput);
	
	mxEvent.addListener(sheetsAcrossInput, 'focus', function()
	{
		fitRadio.checked = true;
	});

	mxEvent.addListener(sheetsDownInput, 'focus', function()
	{
		fitRadio.checked = true;
	});

	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('fitToSheetsDown'));
	td6.appendChild(span);
	
	row1.appendChild(td1);
	row1.appendChild(td2);
	row1.appendChild(td3);
	
	row2.appendChild(td4);
	row2.appendChild(td5);
	row2.appendChild(td6);
	
	tbody.appendChild(row1);
	tbody.appendChild(row2);
	table.appendChild(tbody);
	fitSection.appendChild(table);
	
	div.appendChild(fitSection);
	
	// Page scale ...
	var pageScaleSection = document.createElement('div');

	var span = document.createElement('div');
	span.style.fontWeight = 'bold';
	span.style.marginBottom = '12px';
	mxUtils.write(span, mxResources.get('paperSize'));
	pageScaleSection.appendChild(span);
	
	var span = document.createElement('div');
	span.style.marginBottom = '12px';

	var accessor = PageSetupDialog.addPageFormatPanel(span, 'printdialog',
		editorUi.editor.graph.pageFormat || mxConstants.PAGE_FORMAT_A4_PORTRAIT);
	pageScaleSection.appendChild(span);
	
	var span = document.createElement('span');
	mxUtils.write(span, mxResources.get('pageScale'));
	pageScaleSection.appendChild(span);
	
	var pageScaleInput = document.createElement('input');
	pageScaleInput.style.cssText = 'margin:0 8px 0 8px;';
	pageScaleInput.setAttribute('value', '100 %');
	pageScaleInput.style.width = '60px';
	pageScaleSection.appendChild(pageScaleInput);
	
	div.appendChild(pageScaleSection);
	
	// Buttons
	var buttons = document.createElement('div');
	buttons.style.cssText = 'text-align:right;margin:62px 0 0 0;';
	
	// Overall scale for print-out to account for print borders in dialogs etc
	function preview(print)
	{
		var printScale = parseInt(pageScaleInput.value) / 100;
		
		if (isNaN(printScale))
		{
			printScale = 1;
			pageScaleInput.value = '100 %';
		}
		
		// Workaround to match available paper size in actual print output
		printScale *= 0.75;
		
		function printGraph(thisGraph, pv, forcePageBreaks)
		{
			// Negative coordinates are cropped or shifted if page visible
			var gb = thisGraph.getGraphBounds();
			var border = 0;
			var x0 = 0;
			var y0 = 0;
	
			var pf = accessor.get();
			var scale = 1 / thisGraph.pageScale;
			var autoOrigin = fitRadio.checked;
	
			if (autoOrigin)
			{
				var h = parseInt(sheetsAcrossInput.value);
				var v = parseInt(sheetsDownInput.value);
				
				scale = Math.min((pf.height * v) / (gb.height / thisGraph.view.scale),
					(pf.width * h) / (gb.width / thisGraph.view.scale));
			}
			else
			{
				scale = parseInt(zoomInput.value) / (100 * thisGraph.pageScale);
				
				if (isNaN(scale))
				{
					printScale = 1 / thisGraph.pageScale;
					zoomInput.value = '100 %';
				}
			}
	
			// Applies print scale
			pf = mxRectangle.fromRectangle(pf);
			pf.width = Math.ceil(pf.width * printScale);
			pf.height = Math.ceil(pf.height * printScale);
			scale *= printScale;
			
			// Starts at first visible page
			if (!autoOrigin && thisGraph.pageVisible)
			{
				var layout = thisGraph.getPageLayout();
				x0 -= layout.x * pf.width;
				y0 -= layout.y * pf.height;
			}
			else
			{
				autoOrigin = true;
			}

			if (pv == null)
			{
				pv = PrintDialog.createPrintPreview(thisGraph, scale, pf, border, x0, y0, autoOrigin);
				pv.pageSelector = false;
				pv.mathEnabled = false;
				
				if (typeof(MathJax) !== 'undefined')
				{
					// Adds class to ignore if math is disabled
					var printPreviewRenderPage = pv.renderPage;
					
					pv.renderPage = function(w, h, dx, dy, content, pageNumber)
					{
						var result = printPreviewRenderPage.apply(this, arguments);
						
						if (this.graph.mathEnabled)
						{
							this.mathEnabled = true;
						}
						else
						{
							result.className = 'geDisableMathJax';
						}
						
						return result;
					};
				}
				
				pv.open(null, null, forcePageBreaks, true);
			}
			else
			{				
				var bg = thisGraph.background;
				
				if (bg == null || bg == '' || bg == mxConstants.NONE)
				{
					bg = '#ffffff';
				}
				
				pv.backgroundColor = bg;
				pv.autoOrigin = autoOrigin;
				pv.appendGraph(thisGraph, scale, x0, y0, forcePageBreaks, true);
			}
			
			return pv;
		};
		
		var pagesFrom = pagesFromInput.value;
		var pagesTo = pagesToInput.value;
		var ignorePages = !allPagesRadio.checked;
		var pv = null;
					
		if (ignorePages)
		{
			ignorePages = pagesFrom == currentPage && pagesTo == currentPage;
		}
		
		if (!ignorePages && editorUi.pages != null && editorUi.pages.length)
		{
			var i0 = 0;
			var imax = editorUi.pages.length - 1;
			
			if (!allPagesRadio.checked)
			{
				i0 = parseInt(pagesFrom) - 1;
				imax = parseInt(pagesTo) - 1;
			}
			
			for (var i = i0; i <= imax; i++)
			{
				var page = editorUi.pages[i];
				var tempGraph = (page == editorUi.currentPage) ? graph : null;
				
				if (tempGraph == null)
				{
					tempGraph = editorUi.createTemporaryGraph(graph.getStylesheet());

					// Restores graph settings that are relevant for printing
					var pageVisible = true;
					var mathEnabled = false;
					var bg = null;
					var bgImage = null;
					
					if (page.viewState == null && page.mapping == null)
					{
						// Workaround to extract view state from XML node
						// This changes the state of the page and parses
						// the XML for the graph model even if not needed.
						if (page.root == null)
						{
							editorUi.updatePageRoot(page);
						}
					}
					
					if (page.viewState != null)
					{
						pageVisible = page.viewState.pageVisible;
						mathEnabled = page.viewState.mathEnabled;
						bg = page.viewState.background;
						bgImage = page.viewState.backgroundImage;
					}
					else if (page.mapping != null && page.mapping.diagramMap != null)
					{
						// Default pageVisible in realtime is true
						mathEnabled = page.mapping.diagramMap.get('mathEnabled') != '0';
						bg = page.mapping.diagramMap.get('background');
						
						var temp = page.mapping.diagramMap.get('backgroundImage');
						bgImage = (temp != null && temp.length > 0) ? JSON.parse(temp) : null;
					}
				
					tempGraph.background = bg;
					tempGraph.backgroundImage = (bgImage != null) ? new mxImage(bgImage.src, bgImage.width, bgImage.height) : null;
					tempGraph.pageVisible = pageVisible;
					tempGraph.mathEnabled = mathEnabled;
					
					// Redirects placeholders to current page
					var graphGetGlobalVariable = tempGraph.getGlobalVariable;
	
					tempGraph.getGlobalVariable = function(name)
					{
						if (name == 'page')
						{
							return page.getName();
						}
						else if (name == 'pagenumber')
						{
							return i + 1;
						}
						
						return graphGetGlobalVariable.apply(this, arguments);
					};
					
					document.body.appendChild(tempGraph.container);
					editorUi.updatePageRoot(page);
					tempGraph.model.setRoot(page.root);
				}

				pv = printGraph(tempGraph, pv, i != imax);

				if (tempGraph != graph)
				{
					tempGraph.container.parentNode.removeChild(tempGraph.container);
				}
			}
		}
		else
		{
			pv = printGraph(graph);
		}
		
		if (pv.mathEnabled)
		{
			var doc = pv.wnd.document;
	
			doc.writeln('<script type="text/x-mathjax-config">');
			doc.writeln('MathJax.Hub.Config({');
			doc.writeln('messageStyle: "none",');
			doc.writeln('jax: ["input/TeX", "input/MathML", "input/AsciiMath", "output/HTML-CSS"],');
			doc.writeln('extensions: ["tex2jax.js", "mml2jax.js", "asciimath2jax.js"],');
			doc.writeln('TeX: {');
			doc.writeln('extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"]');
			doc.writeln('},');
						// Ignores math in in-place editor
			doc.writeln('tex2jax: {');
			doc.writeln('	ignoreClass: "geDisableMathJax"');
		  	doc.writeln('},');
		  	doc.writeln('asciimath2jax: {');
			doc.writeln('	ignoreClass: "geDisableMathJax"');
		  	doc.writeln('}');
			doc.writeln('});');
			
			// Adds asynchronous printing when MathJax finished rendering
			if (print)
			{
				doc.writeln('MathJax.Hub.Queue(function () {');
				doc.writeln('window.print();');
				doc.writeln('});');
			}
			
			doc.writeln('</script>');
			doc.writeln('<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>');
		}
		
		pv.closeDocument();
		
		if (!pv.mathEnabled && print)
		{
			PrintDialog.printPreview(pv);
		}
	};
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
	}
	
	if (!editorUi.isOffline())
	{
		var helpBtn = mxUtils.button(mxResources.get('help'), function()
		{
			window.open('https://desk.draw.io/support/solutions/articles/16000048947');
		});
		
		helpBtn.className = 'geBtn';
		buttons.appendChild(helpBtn);
	}
	
	if (PrintDialog.previewEnabled)
	{
		var previewBtn = mxUtils.button(mxResources.get('preview'), function()
		{
			editorUi.hideDialog();
			preview(false);
		});
		previewBtn.className = 'geBtn';
		buttons.appendChild(previewBtn);
	}
	
	var printBtn = mxUtils.button(mxResources.get((!PrintDialog.previewEnabled) ? 'ok' : 'print'), function()
	{
		editorUi.hideDialog();
		preview(true);
	});
	printBtn.className = 'geBtn gePrimaryBtn';
	buttons.appendChild(printBtn);
	
	if (!editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
	}

	div.appendChild(buttons);

	this.container = div;
};

/**
 * Overrides link dialog to add Google Picker.
 */
var LinkDialog = function(editorUi, initialValue, btnLabel, fn)
{
	var div = document.createElement('div');
	mxUtils.write(div, mxResources.get('editLink') + ':');
	
	var inner = document.createElement('div');
	inner.className = 'geTitle';
	inner.style.backgroundColor = 'transparent';
	inner.style.borderColor = 'transparent';
	inner.style.whiteSpace = 'nowrap';
	inner.style.textOverflow = 'clip';
	inner.style.cursor = 'default';
	
	if (!mxClient.IS_VML)
	{
		inner.style.paddingRight = '20px';
	}
	
	var linkInput = document.createElement('input');
	linkInput.setAttribute('value', initialValue);
	linkInput.setAttribute('placeholder', mxResources.get('dragUrlsHere'));
	linkInput.setAttribute('type', 'text');
	linkInput.style.marginTop = '6px';
	linkInput.style.width = '400px';
	linkInput.style.backgroundImage = 'url(\'' + Dialog.prototype.clearImage + '\')';
	linkInput.style.backgroundRepeat = 'no-repeat';
	linkInput.style.backgroundPosition = '100% 50%';
	linkInput.style.paddingRight = '14px';
	
	var cross = document.createElement('div');
	cross.setAttribute('title', mxResources.get('reset'));
	cross.style.position = 'relative';
	cross.style.left = '-16px';
	cross.style.width = '12px';
	cross.style.height = '14px';
	cross.style.cursor = 'pointer';

	// Workaround for inline-block not supported in IE
	cross.style.display = (mxClient.IS_VML) ? 'inline' : 'inline-block';
	cross.style.top = ((mxClient.IS_VML) ? 0 : 3) + 'px';
	
	// Needed to block event transparency in IE
	cross.style.background = 'url(\'' + editorUi.editor.transparentImage + '\')';

	mxEvent.addListener(cross, 'click', function()
	{
		linkInput.value = '';
		linkInput.focus();
	});
	
	inner.appendChild(linkInput);
	inner.appendChild(cross);
	div.appendChild(inner);
	
	var mainBtn = mxUtils.button(btnLabel, function()
	{
		editorUi.hideDialog();
		fn(linkInput.value, LinkDialog.selectedDocs);
	});
	mainBtn.style.verticalAlign = 'middle';
	mainBtn.className = 'geBtn gePrimaryBtn';
	
	this.init = function()
	{
		linkInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			linkInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
		
		// Installs drag and drop handler for links
		if (Graph.fileSupport)
		{
			// Setup the dnd listeners
			var dlg = div.parentNode;
			var graph = editorUi.editor.graph;
			var dropElt = null;
				
			mxEvent.addListener(dlg, 'dragleave', function(evt)
			{
				if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }
			    
				evt.stopPropagation();
				evt.preventDefault();
			});
			
			mxEvent.addListener(dlg, 'dragover', mxUtils.bind(this, function(evt)
			{
				// IE 10 does not implement pointer-events so it can't have a drop highlight
				if (dropElt == null && (!mxClient.IS_IE || document.documentMode > 10))
				{
					dropElt = editorUi.highlightElement(dlg);
				}
				
				evt.stopPropagation();
				evt.preventDefault();
			}));
					
			mxEvent.addListener(dlg, 'drop', mxUtils.bind(this, function(evt)
			{
			    if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }

			    if (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0)
			    {
			    	linkInput.value = decodeURIComponent(evt.dataTransfer.getData('text/uri-list'));
			    	mainBtn.click();
			    }

			    evt.stopPropagation();
			    evt.preventDefault();
			}), false);
		}
	};
	
	var btns = document.createElement('div');
	btns.style.marginTop = '20px';
	btns.style.textAlign = 'right';
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	cancelBtn.style.verticalAlign = 'middle';
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	LinkDialog.selectedDocs = null;
	
	LinkDialog.filePicked = function(data)
	{
		if (data.action == google.picker.Action.PICKED)
        {
			LinkDialog.selectedDocs = data.docs;
        	var href = data.docs[0].url;
        	
    		if (data.docs[0].mimeType == 'application/mxe' || data.docs[0].mimeType == 'application/vnd.jgraph.mxfile')
    		{
				var domain = DriveClient.prototype.oldAppHostname;
				href = 'https://' + domain + '/#G' + data.docs[0].id;
    		}
    		else if (data.docs[0].mimeType == 'application/mxr' || data.docs[0].mimeType == 'application/vnd.jgraph.mxfile.realtime')
    		{
				var domain = DriveClient.prototype.newAppHostname;
				href = 'https://' + domain + '/#G' + data.docs[0].id;
    		}
    		else if (data.docs[0].mimeType == 'application/vnd.google-apps.folder')
    		{
    			// Do not use folderview in data.docs[0].url link to Google Drive instead
    			href = 'https://drive.google.com/#folders/' + data.docs[0].id;
    		}
    		
    		linkInput.value = href;
        }
		else
		{
			LinkDialog.selectedDocs = null;
		}
		
		linkInput.focus();
	};
	
	function addButton(src, tooltip, fn)
	{
		var btn = mxUtils.button('', fn);
		btn.className = 'geBtn';
		btn.setAttribute('title', tooltip);
		var img = document.createElement('img');
		img.style.height = '26px';
		img.style.width = '26px';
		img.setAttribute('src', src);
		btn.style.minWidth = '42px';
		btn.style.verticalAlign = 'middle';
		btn.appendChild(img);
		btns.appendChild(btn);
	};

	if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined' && editorUi.drive != null)
	{
		addButton(IMAGE_PATH + '/google-drive-logo.svg', mxResources.get('googlePlus'), function()
		{
			if (editorUi.spinner.spin(document.body, mxResources.get('authorizing')))
			{
				editorUi.drive.checkToken(mxUtils.bind(this, function()
				{
					editorUi.spinner.stop();
					
					// Creates one picker and reuses it to avoid polluting the DOM
					if (editorUi.linkPicker == null)
					{
				    	var token = gapi.auth.getToken().access_token;
						var view = new google.picker.DocsView(google.picker.ViewId.FOLDERS)
			        		.setParent('root')
			        		.setIncludeFolders(true)
			        		.setSelectFolderEnabled(true);
				    	var view2 = new google.picker.DocsView()
							.setIncludeFolders(true)
				            .setSelectFolderEnabled(true);
						var picker = new google.picker.PickerBuilder()
							.setAppId(editorUi.drive.appId)	
							.setLocale(mxLanguage)
							.setOAuthToken(token)
						    .addView(view)
							.addView(view2)
							.addView(google.picker.ViewId.RECENTLY_PICKED)
				            .addView(google.picker.ViewId.IMAGE_SEARCH)
				            .addView(google.picker.ViewId.VIDEO_SEARCH)
				            .addView(google.picker.ViewId.MAPS);
						
						if (urlParams['photos'] == '1')
						{
							picker.addView(google.picker.ViewId.PHOTOS)
				            	.addView(google.picker.ViewId.PHOTO_ALBUMS)
				            	.addView(google.picker.ViewId.PHOTO_UPLOAD)
						}
						
						editorUi.linkPicker = picker.setCallback(function(data)
						{
							LinkDialog.filePicked(data);
					    }).build();
					}
					
					editorUi.linkPicker.setVisible(true);
					editorUi.movePickersToTop();
				}));
			}
		});
	}
	
	if (typeof(Dropbox) != 'undefined' && typeof(Dropbox.choose) != 'undefined')
	{
		addButton(IMAGE_PATH + '/dropbox-logo.svg', mxResources.get('dropbox'), function()
		{
			// Authentication will be carried out on open to make sure the
			// autosave does not show an auth dialog. Showing it here will
			// block the second dialog (the file picker) so it's too early.
			Dropbox.choose(
			{
				linkType : 'direct',
				cancel: function()
				{
					// do nothing
		        },
				success : function(files)
				{
					linkInput.value = files[0].link;
				}
			});
		});
	}
	
	if (typeof(WL) != 'undefined' && typeof(WL.fileDialog) != 'undefined' && editorUi.oneDrive != null)
	{
		addButton(IMAGE_PATH + '/onedrive-logo.svg', mxResources.get('oneDrive'), function()
		{
		    WL.fileDialog(
	        {
	            mode: 'open',
	            select: 'single'
	        }).then(
	            function (resp)
	            {
	            	if (resp != null && resp.data != null && resp.data.files != null && resp.data.files.length > 0)
	            	{
            			linkInput.value = resp.data.files[0].link;
	            	}
	            },
	            function (responseFailed) {}
	        );
		});
	}
	
	if (editorUi.gitHub != null)
	{
		addButton(IMAGE_PATH + '/github-logo.svg', mxResources.get('github'), function()
		{
			editorUi.gitHub.pickFile(function(path)
			{
				if (path != null)
				{
					var tokens = path.split('/');
					var org = tokens[0];
					var repo = tokens[1];
					var ref = tokens[2];
					var path = tokens.slice(3, tokens.length).join('/');
					
					linkInput.value = 'https://github.com/' + org + '/' +
						repo + '/blob/' + ref + '/' + path;
				}
			});
		});
	}

	mxEvent.addListener(linkInput, 'keypress', function(e)
	{
		if (e.keyCode == 13)
		{
			editorUi.hideDialog();
			fn(linkInput.value, LinkDialog.selectedDocs);
		}
	});

	btns.appendChild(mainBtn);
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	div.appendChild(btns);

	this.container = div;
};

/**
 * Constructs a new about dialog
 */
var AboutDialog = function(editorUi)
{
	var div = document.createElement('div');
	div.style.marginTop = '6px';
	div.setAttribute('align', 'center');
	
	var img = document.createElement('img');
	img.style.border = '0px';
	img.setAttribute('width', '176');
	img.setAttribute('width', '151');
	img.style.width = '170px';
	img.style.height = '219px';
	img.setAttribute('src', IMAGE_PATH + '/logo-flat.png');
	div.appendChild(img);
	mxUtils.br(div);
	
	var v = document.createElement('small');
	v.innerHTML = 'v ' + EditorUi.VERSION;
	v.style.color = '#505050';
	div.appendChild(v);
	
	mxUtils.br(div);
	mxUtils.br(div);

	var small = document.createElement('small');
	small.style.color = '#505050';
	small.innerHTML = '&copy; 2005-2017 <a href="https://www.jgraph.com/" style="color:inherit;" target="_blank">JGraph Ltd</a>.<br>All Rights Reserved.';
	div.appendChild(small);
	
	mxEvent.addListener(div, 'click', function(e)
	{
		if (mxEvent.getSource(e).nodeName != 'A')
		{
			editorUi.hideDialog();
		}
	});
	
	this.container = div;
};

/**
 * Constructs a new about dialog
 */
var FeedbackDialog = function(editorUi)
{
	var div = document.createElement('div');
	
	var label = document.createElement('div');
	mxUtils.write(label, mxResources.get('sendYourFeedbackToDrawIo'));
	label.style.fontSize = '18px';
	label.style.marginBottom = '18px';
	
	div.appendChild(label);
	
	label = document.createElement('div');
	mxUtils.write(label, mxResources.get('yourEmailAddress') + ' (' + mxResources.get('required') + ')');
	
	div.appendChild(label);
	
	var email = document.createElement('input');
	email.setAttribute('type', 'text');
	email.style.marginTop = '6px';
	email.style.width = '600px';
	
	var sendButton = mxUtils.button(mxResources.get('sendMessage'), function()
	{
		var diagram = ((cb.checked) ? '\nDiagram:\n' + editorUi.getFileData() : '') +
			'\nBrowser:\n' + navigator.userAgent;
		
		if (diagram.length > FeedbackDialog.maxAttachmentSize)
		{
			editorUi.alert(mxResources.get('drawingTooLarge'));
		}
		else
		{
			editorUi.hideDialog();
			
			if (editorUi.spinner.spin(document.body))
			{
				var postUrl = (FeedbackDialog.feedbackUrl != null) ? FeedbackDialog.feedbackUrl : '/email';
				mxUtils.post(postUrl, 'email=' + encodeURIComponent(email.value) +
						'&version=' + encodeURIComponent(EditorUi.VERSION) +
						'&url=' + encodeURIComponent(window.location.href) +
						'&body=' + encodeURIComponent('Feedback:\n' + textarea.value + diagram),
					function(req)
					{
						editorUi.spinner.stop();
					
						if (req.getStatus() >= 200 && req.getStatus() <= 299)
						{
							editorUi.alert(mxResources.get('feedbackSent'));
						}
						else
						{
							editorUi.alert(mxResources.get('errorSendingFeedback'));
						}
					},
					function()
					{
						editorUi.spinner.stop();
						editorUi.alert(mxResources.get('errorSendingFeedback'));
					});
			}
		}
	});
	sendButton.className = 'geBtn gePrimaryBtn';
	
	sendButton.setAttribute('disabled', 'disabled');
	var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	
	mxEvent.addListener(email, 'change', function()
	{
		if (email.value.length > 0 && re.test(email.value) > 0)
		{
			sendButton.removeAttribute('disabled');
		}
		else
		{
			sendButton.setAttribute('disabled', 'disabled');
		}
	});
	
	mxEvent.addListener(email, 'keyup', function()
	{
		if (email.value.length > 0 && re.test(email.value))
		{
			sendButton.removeAttribute('disabled');
		}
		else
		{
			sendButton.setAttribute('disabled', 'disabled');
		}
	});
	
	div.appendChild(email);
	
	this.init = function()
	{
		email.focus();
	};
	
	var cb = document.createElement('input');
	cb.setAttribute('type', 'checkbox');
	cb.setAttribute('checked', 'checked');
	cb.defaultChecked = true;
	
	var p2 = document.createElement('p');
	p2.style.marginTop = '14px';
	p2.appendChild(cb);
	
	var span = document.createElement('span');
	mxUtils.write(span, ' ' + mxResources.get('includeCopyOfMyDiagram'));
	p2.appendChild(span);
	
	mxEvent.addListener(span, 'click', function(evt)
	{
		cb.checked = !cb.checked;
		mxEvent.consume(evt);
	});
	
	div.appendChild(p2);
	
	label = document.createElement('div');
	mxUtils.write(label, mxResources.get('feedback'));
	
	div.appendChild(label);
	
	var textarea = document.createElement('textarea');
	textarea.style.resize = 'none';
	textarea.style.width = '600px';
	textarea.style.height = '140px';
	textarea.style.marginTop = '6px';
	
	textarea.setAttribute('placeholder', mxResources.get('commentsNotes'));
	
	div.appendChild(textarea);

	var buttons = document.createElement('div');
	buttons.style.marginTop = '26px';
	buttons.style.textAlign = 'right';

	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
		buttons.appendChild(sendButton);
	}
	else
	{
		buttons.appendChild(sendButton);
		buttons.appendChild(cancelBtn);
	}

	div.appendChild(buttons);
	this.container = div;
};

/**
 * Maximum size of attachments in bytes. Default is 1000000.
 */
FeedbackDialog.maxAttachmentSize = 1000000;

/**
 * Constructs a new revision dialog
 */
var RevisionDialog = function(editorUi, revs)
{
	var div = document.createElement('div');
	
	var title = document.createElement('h3');
	title.style.marginTop = '0px';
	mxUtils.write(title, mxResources.get('revisionHistory'));
	div.appendChild(title);
	
	var list = document.createElement('div');
	list.style.position = 'absolute';
	list.style.overflow = 'auto';
	list.style.width = '170px';
	list.style.height = '378px';
	div.appendChild(list);
	
	var container = document.createElement('div');
	container.style.position = 'absolute';
	container.style.border = '1px solid lightGray';
	container.style.left = '199px';
	container.style.width = '470px';
	container.style.height = '376px';
	container.style.overflow = 'hidden';
	
	mxEvent.disableContextMenu(container);
	div.appendChild(container);

	var graph = new Graph(container);
	graph.setEnabled(false);
	graph.setPanning(true);
	graph.panningHandler.ignoreCell = true;
	graph.panningHandler.useLeftButtonForPanning = true;
	graph.minFitScale = null;
	graph.maxFitScale = null;
	graph.centerZoom = true;
	
	// Handles placeholders for pages
	var currentPage = 0;
	var diagrams = null;
	var realPage = 0;
	
	var graphGetGlobalVariable = graph.getGlobalVariable;
	
	graph.getGlobalVariable = function(name)
	{
		if (name == 'page' && diagrams != null && diagrams[realPage] != null)
		{
			return diagrams[realPage].getAttribute('name');
		}
		else if (name == 'pagenumber')
		{
			return realPage + 1;
		}
		
		return graphGetGlobalVariable.apply(this, arguments);
	};
	
	// Disables hyperlinks
	graph.getLinkForCell = function()
	{
		return null;
	};

	if (Editor.MathJaxRender)
	{
		graph.addListener(mxEvent.SIZE, mxUtils.bind(this, function(sender, evt)
		{
			// LATER: Math support is used if current graph has math enabled
			// should use switch from history instead but requires setting the
			// global mxClient.NO_FO switch
			if (editorUi.editor.graph.mathEnabled)
			{
				Editor.MathJaxRender(graph.container);
			}
		}));
	}
	
	var opts = {
	  lines: 11, // The number of lines to draw
	  length: 15, // The length of each line
	  width: 6, // The line thickness
	  radius: 10, // The radius of the inner circle
	  corners: 1, // Corner roundness (0..1)
	  rotate: 0, // The rotation offset
	  direction: 1, // 1: clockwise, -1: counterclockwise
	  color: '#000', // #rgb or #rrggbb or array of colors
	  speed: 1.4, // Rounds per second
	  trail: 60, // Afterglow percentage
	  shadow: false, // Whether to render a shadow
	  hwaccel: false, // Whether to use hardware acceleration
	  className: 'spinner', // The CSS class to assign to the spinner
	  zIndex: 2e9, // The z-index (defaults to 2000000000)
	  top: '50%', // Top position relative to parent
	  left: '50%' // Left position relative to parent
	};
	
	var spinner = new Spinner(opts);

	var file = editorUi.getCurrentFile();
	var currentRow = null;
	var currentRev = null;
	var currentDoc = null;
	var currentXml = null;
	
	var zoomInBtn = mxUtils.button('', function()
	{
		if (currentDoc != null)
		{
			graph.zoomIn();
		}
	});
	zoomInBtn.className = 'geSprite geSprite-zoomin';
	zoomInBtn.setAttribute('title', mxResources.get('zoomIn'));
	zoomInBtn.style.outline = 'none';
	zoomInBtn.style.border = 'none';
	zoomInBtn.style.margin = '2px';
	zoomInBtn.setAttribute('disabled', 'disabled');
	mxUtils.setOpacity(zoomInBtn, 20);
	
	var zoomOutBtn = mxUtils.button('', function()
	{
		if (currentDoc != null)
		{
			graph.zoomOut();
		}
	});
	zoomOutBtn.className = 'geSprite geSprite-zoomout';
	zoomOutBtn.setAttribute('title', mxResources.get('zoomOut'));
	zoomOutBtn.style.outline = 'none';
	zoomOutBtn.style.border = 'none';
	zoomOutBtn.style.margin = '2px';
	zoomOutBtn.setAttribute('disabled', 'disabled');
	mxUtils.setOpacity(zoomOutBtn, 20);

	var zoomFitBtn = mxUtils.button('', function()
	{
		if (currentDoc != null)
		{
			graph.maxFitScale = 8;
			graph.fit(8);
			graph.center();
		}
	});
	zoomFitBtn.className = 'geSprite geSprite-fit';
	zoomFitBtn.setAttribute('title', mxResources.get('fit'));
	zoomFitBtn.style.outline = 'none';
	zoomFitBtn.style.border = 'none';
	zoomFitBtn.style.margin = '2px';
	zoomFitBtn.setAttribute('disabled', 'disabled');
	mxUtils.setOpacity(zoomFitBtn, 20);
	
	var zoomActualBtn = mxUtils.button('', function()
	{
		if (currentDoc != null)
		{
			graph.zoomActual();
			graph.center();
		}
	});
	zoomActualBtn.className = 'geSprite geSprite-actualsize';
	zoomActualBtn.setAttribute('title', mxResources.get('actualSize'));
	zoomActualBtn.style.outline = 'none';
	zoomActualBtn.style.border = 'none';
	zoomActualBtn.style.margin = '2px';
	zoomActualBtn.setAttribute('disabled', 'disabled');
	mxUtils.setOpacity(zoomActualBtn, 20);
	
	var fileInfo = document.createElement('div');
	fileInfo.style.position = 'absolute';
	fileInfo.style.textAlign = 'right';
	fileInfo.style.color = 'gray';
	fileInfo.style.marginTop = '10px';
	fileInfo.style.backgroundColor = 'transparent';
	fileInfo.style.top = '440px';
	fileInfo.style.right = '32px';
	fileInfo.style.maxWidth = '380px';
	fileInfo.style.cursor = 'default';

	var downloadBtn = mxUtils.button(mxResources.get('download'), function()
	{
		if (currentDoc != null)
		{
    		var file = editorUi.getCurrentFile();
    		var filename = (file != null && file.getTitle() != null) ? file.getTitle() : editorUi.defaultFilename;
    		var data = mxUtils.getXml(currentDoc.documentElement);

	    	if (editorUi.isLocalFileSave())
	    	{
	    		editorUi.saveLocalFile(data, filename, 'text/xml');
	    	}
	    	else
	    	{
	    		var param = (typeof(pako) === 'undefined') ? '&xml=' + encodeURIComponent(data) :
	    			'&data=' + encodeURIComponent(editorUi.editor.graph.compress(data));
	    		new mxXmlRequest(SAVE_URL, 'filename=' + encodeURIComponent(filename) +
	    			'&format=xml' + param).simulate(document, '_blank');
	    	}
		}
	});
	downloadBtn.className = 'geBtn';
	downloadBtn.setAttribute('disabled', 'disabled');

	var restoreBtn = mxUtils.button(mxResources.get('restore'), function()
	{
		if (currentDoc != null && currentXml != null)
		{
			editorUi.confirm(mxResources.get('areYouSure'), function()
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('restoring')))
				{
					file.save(true, function(resp)
					{
						editorUi.spinner.stop();
						editorUi.replaceFileData(currentXml);
						editorUi.hideDialog();
					}, function(resp)
					{
						editorUi.spinner.stop();
						editorUi.editor.setStatus('');
						editorUi.handleError(resp, (resp != null) ? mxResources.get('errorSavingFile') : null);
					});
				}
			});
		}
	});
	restoreBtn.className = 'geBtn';
	restoreBtn.setAttribute('disabled', 'disabled');
	
	var pageSelect = document.createElement('select');
	pageSelect.setAttribute('disabled', 'disabled');
	pageSelect.style.maxWidth = '80px';
	pageSelect.style.position = 'relative';
	pageSelect.style.top = '-2px';
	pageSelect.style.verticalAlign = 'bottom';
	pageSelect.style.marginRight = '6px';
	pageSelect.style.display = 'none';
	
	var pageSelectFunction = null;
	
	mxEvent.addListener(pageSelect, 'change', function(evt)
	{
		if (pageSelectFunction != null)
		{
			pageSelectFunction(evt);
			mxEvent.consume(evt);
		}
	});
	
	var newBtn = mxUtils.button(mxResources.get('openInNewWindow'), function()
	{
		if (currentDoc != null)
		{
			window.openFile = new OpenFile(function()
			{
				window.openFile = null;
			});
			
			window.openFile.setData(mxUtils.getXml(currentDoc.documentElement));
			window.openWindow(editorUi.getUrl());
		}
	});
	newBtn.className = 'geBtn';
	newBtn.setAttribute('disabled', 'disabled');
	
	var showBtn = mxUtils.button(mxResources.get('show'), function()
	{
		if (currentRev != null)
		{
			window.open(currentRev.getUrl());
		}
	});
	showBtn.className = 'geBtn gePrimaryBtn';
	showBtn.setAttribute('disabled', 'disabled');

	var buttons = document.createElement('div');
	buttons.style.position = 'absolute';
	buttons.style.top = '482px';
	buttons.style.width = '640px';
	buttons.style.textAlign = 'right';

	var tb = document.createElement('div');
	tb.className = 'geToolbarContainer';
	tb.style.backgroundColor = 'transparent';
	tb.style.padding = '2px';
	tb.style.border = 'none';
	tb.style.left = '199px';
	tb.style.top = '442px';
	
	var currentElt = null;
	
	if (file == null || (editorUi.drive == null && file.constructor == window.DriveFile) ||
		(editorUi.dropbox == null && file.constructor == window.DropboxFile))
	{
		container.style.display = 'none';
		tb.style.display = 'none';
		mxUtils.write(list, mxResources.get('notAvailable'));
	}
	else
	{
		if (revs != null && revs.length > 0)
		{
			container.style.cursor = 'move';
			
			var table = document.createElement('table');
			table.style.border = '1px solid lightGray';
			table.style.borderCollapse = 'collapse';
			table.style.borderSpacing = '0px';
			table.style.width = '100%';
			var tbody = document.createElement('tbody');
			var today = new Date().toDateString();

			if (editorUi.currentPage != null && editorUi.pages != null)
			{
				currentPage = mxUtils.indexOf(editorUi.pages, editorUi.currentPage);
			}
			
			for (var i = revs.length - 1; i >= 0; i--)
			{
				var elt = (function(item)
				{
					var ts = new Date(item.modifiedDate);
					var row = null;
					var pd = '6px';
					
					// Workaround for negative timestamps in Dropbox
					if (ts.getTime() >= 0)
					{
						row = document.createElement('tr');
						row.style.borderBottom = '1px solid lightGray';
						row.style.fontSize = '12px';
						row.style.cursor = 'pointer';
						
						var date = document.createElement('td');
						date.style.padding = pd;
						date.style.whiteSpace = 'nowrap';
						
						if (item == revs[revs.length - 1])
						{
							mxUtils.write(date, mxResources.get('current'));
						}
						else
						{
							if (ts.toDateString() === today)
							{
								mxUtils.write(date, ts.toLocaleTimeString());
							}
							else
							{
								mxUtils.write(date, ts.toLocaleDateString() + ' ' +
									ts.toLocaleTimeString());
							}
						}
						
						row.appendChild(date);
	
						row.setAttribute('title', ts.toLocaleDateString() + ' ' +
							ts.toLocaleTimeString() + ' ' +
							editorUi.formatFileSize(parseInt(item.fileSize)) +
							((item.lastModifyingUserName != null) ? ' ' +
							item.lastModifyingUserName : ''));

						function updateGraph(xml)
						{
							spinner.stop();
							var doc = mxUtils.parseXml(xml);
							var node = editorUi.editor.extractGraphModel(doc.documentElement, true);
							
							if (node != null)
							{
								pageSelect.style.display = 'none';
								pageSelect.innerHTML = '';
								currentDoc = doc;
								currentXml = xml;
								parseSelectFunction = null;
								diagrams = null;
								realPage = 0;
								
								function parseGraphModel(dataNode)
								{
									var bg = dataNode.getAttribute('background');
									
									if (bg == null || bg == '' || bg == mxConstants.NONE)
									{
										bg = '#ffffff';
									}
									
									container.style.backgroundColor = bg;
									
									var codec = new mxCodec(dataNode.ownerDocument);
									codec.decode(dataNode, graph.getModel());
									graph.maxFitScale = 1;
									graph.fit(8);
									graph.center();
									
									return dataNode;
								}
								
								function parseDiagram(diagramNode)
								{
									if (diagramNode != null)
									{
										diagramNode = parseGraphModel(mxUtils.parseXml(editorUi.editor.graph.decompress(
									        	mxUtils.getTextContent(diagramNode))).documentElement);
									}
									
									return diagramNode;
								}

								if (node.nodeName == 'mxfile')
								{
									// Workaround for "invalid calling object" error in IE
									var tmp = node.getElementsByTagName('diagram');
									diagrams = [];
									
									for (var i = 0; i < tmp.length; i++)
									{
										diagrams.push(tmp[i]);	
									}
									
									realPage = Math.min(currentPage, diagrams.length - 1);
									
									if (diagrams.length > 0)
									{
										parseDiagram(diagrams[realPage]);
									}
									
									if (diagrams.length > 1)
									{
										pageSelect.removeAttribute('disabled');
										pageSelect.style.display = '';
	
										for (var i = 0; i < diagrams.length; i++)
										{
											var pageOption = document.createElement('option');
											mxUtils.write(pageOption, diagrams[i].getAttribute('name') ||
												mxResources.get('pageWithNumber', [i + 1]));
											pageOption.setAttribute('value', i);
											
											if (i == realPage)
											{
												pageOption.setAttribute('selected', 'selected');
											}
		
											pageSelect.appendChild(pageOption);
										}
									}
									
									pageSelectFunction = function()
									{
										currentPage = parseInt(pageSelect.value);
										realPage = currentPage;
										parseDiagram(diagrams[currentPage]);
									}
								}
								else
								{
									parseGraphModel(node);
								}
								
								fileInfo.innerHTML = '';
								mxUtils.write(fileInfo, ts.toLocaleDateString() + ' ' +
										ts.toLocaleTimeString());
								fileInfo.setAttribute('title', row.getAttribute('title'));
								zoomInBtn.removeAttribute('disabled');
								zoomOutBtn.removeAttribute('disabled');
								zoomFitBtn.removeAttribute('disabled');
								zoomActualBtn.removeAttribute('disabled');
								
								if (file == null || !file.isRestricted())
								{
									if (editorUi.editor.graph.isEnabled())
									{
										restoreBtn.removeAttribute('disabled');
									}
									
									downloadBtn.removeAttribute('disabled');
									showBtn.removeAttribute('disabled');
									newBtn.removeAttribute('disabled');
								}
								
								mxUtils.setOpacity(zoomInBtn, 60);
								mxUtils.setOpacity(zoomOutBtn, 60);
								mxUtils.setOpacity(zoomFitBtn, 60);
								mxUtils.setOpacity(zoomActualBtn, 60);
							}
							else
							{
								pageSelect.style.display = 'none';
								pageSelect.innerHTML = '';
								fileInfo.innerHTML = '';
								mxUtils.write(fileInfo, mxResources.get('errorLoadingFile'));
							}
						};
						
						mxEvent.addListener(row, 'click', function(evt)
						{
							if (currentRev != item)
							{
								spinner.stop();
								
								if (currentRow != null)
								{
									currentRow.style.backgroundColor = '';
								}
								
								currentRev = item;
								currentRow = row;
								currentRow.style.backgroundColor = '#ebf2f9';
								currentDoc = null;
								currentXml = null;

								fileInfo.removeAttribute('title');
								fileInfo.innerHTML = mxResources.get('loading') + '...';
								container.style.backgroundColor = '#ffffff';
								graph.getModel().clear();
		
								restoreBtn.setAttribute('disabled', 'disabled');
								downloadBtn.setAttribute('disabled', 'disabled');
								zoomInBtn.setAttribute('disabled', 'disabled');
								zoomOutBtn.setAttribute('disabled', 'disabled');
								zoomActualBtn.setAttribute('disabled', 'disabled');
								zoomFitBtn.setAttribute('disabled', 'disabled');
								newBtn.setAttribute('disabled', 'disabled');
								showBtn.setAttribute('disabled', 'disabled');
								pageSelect.setAttribute('disabled', 'disabled');
								
								mxUtils.setOpacity(zoomInBtn, 20);
								mxUtils.setOpacity(zoomOutBtn, 20);
								mxUtils.setOpacity(zoomFitBtn, 20);
								mxUtils.setOpacity(zoomActualBtn, 20);
								
								spinner.spin(container);
								
								item.getXml(function(xml)
					   			{
									if (currentRev == item)
									{
										updateGraph(xml);
									}
					   			}, function(err)
					   			{
					   				spinner.stop();
									pageSelect.style.display = 'none';
									pageSelect.innerHTML = '';
					   				fileInfo.innerHTML = '';
									mxUtils.write(fileInfo, mxResources.get('errorLoadingFile'));
					   			});

								mxEvent.consume(evt);
							}
						});
						
						mxEvent.addListener(row, 'dblclick', function(evt)
						{
							showBtn.click();
							
							if (window.getSelection)
							{
								window.getSelection().removeAllRanges();
							}
						    else if (document.selection)
						    {
						    	document.selection.empty();
						    }
							
							mxEvent.consume(evt);
						}, false);
						
						tbody.appendChild(row);
					}

					return row;
				})(revs[i]);
				
				// Selects and loads first element in list (ie current version) after
				// graph container was initialized since there is no loading delay
				if (elt != null && i == revs.length - 1)
				{
					currentElt = elt;
				}
			}
			
			table.appendChild(tbody);
			list.appendChild(table);
		}
		else
		{
			container.style.display = 'none';
			tb.style.display = 'none';
			mxUtils.write(list, mxResources.get('noRevisions'));
		}
	}
	
	this.init = function()
	{
		if (currentElt != null)
		{
			currentElt.click();
		}
	};

	var closeBtn = mxUtils.button(mxResources.get('close'), function()
	{
		editorUi.hideDialog();
	});
	closeBtn.className = 'geBtn';

	tb.appendChild(pageSelect);
	tb.appendChild(zoomInBtn);
	tb.appendChild(zoomOutBtn);
	tb.appendChild(zoomActualBtn);
	tb.appendChild(zoomFitBtn);

	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(closeBtn);
		buttons.appendChild(downloadBtn);
		buttons.appendChild(newBtn);
		buttons.appendChild(restoreBtn);
		buttons.appendChild(showBtn);
	}
	else
	{
		buttons.appendChild(downloadBtn);
		buttons.appendChild(newBtn);
		buttons.appendChild(restoreBtn);
		buttons.appendChild(showBtn);
		buttons.appendChild(closeBtn);
	}

	div.appendChild(buttons);
	div.appendChild(tb);
	div.appendChild(fileInfo);

	this.container = div;
};

/**
 * Constructs a new revision dialog
 */
var DraftDialog = function(editorUi, title, xml, editFn, discardFn, editLabel, discardLabel)
{
	var div = document.createElement('div');
	
	var titleDiv = document.createElement('div');
	titleDiv.style.marginTop = '0px';
	mxUtils.write(titleDiv, title);
	div.appendChild(titleDiv);
	
	var container = document.createElement('div');
	container.style.position = 'absolute';
	container.style.border = '1px solid lightGray';
	container.style.marginTop = '10px';
	container.style.width = '640px';
	container.style.height = '386px';
	container.style.overflow = 'hidden';
	
	mxEvent.disableContextMenu(container);
	div.appendChild(container);

	var graph = new Graph(container);
	graph.setEnabled(false);
	graph.setPanning(true);
	graph.panningHandler.ignoreCell = true;
	graph.panningHandler.useLeftButtonForPanning = true;
	graph.minFitScale = null;
	graph.maxFitScale = null;
	graph.centerZoom = true;
	
	// Handles placeholders for pages
	var doc = mxUtils.parseXml(xml);
	var node = editorUi.editor.extractGraphModel(doc.documentElement, true);
	var currentPage = 0;
	var diagrams = null;
	var graphGetGlobalVariable = graph.getGlobalVariable;

	graph.getGlobalVariable = function(name)
	{
		if (name == 'page' && diagrams != null && diagrams[currentPage] != null)
		{
			return diagrams[currentPage].getAttribute('name');
		}
		else if (name == 'pagenumber')
		{
			return currentPage + 1;
		}
		
		return graphGetGlobalVariable.apply(this, arguments);
	};
	
	// Disables hyperlinks
	graph.getLinkForCell = function()
	{
		return null;
	};

	// TODO: Enable per-page math
//	if (Editor.MathJaxRender)
//	{
//		graph.addListener(mxEvent.SIZE, mxUtils.bind(this, function(sender, evt)
//		{
//			// LATER: Math support is used if current graph has math enabled
//			// should use switch from history instead but requires setting the
//			// global mxClient.NO_FO switch
//			if (editorUi.editor.graph.mathEnabled)
//			{
//				Editor.MathJaxRender(graph.container);
//			}
//		}));
//	}

	var zoomInBtn = mxUtils.button('', function()
	{
		graph.zoomIn();
	});
	zoomInBtn.className = 'geSprite geSprite-zoomin';
	zoomInBtn.setAttribute('title', mxResources.get('zoomIn'));
	zoomInBtn.style.outline = 'none';
	zoomInBtn.style.border = 'none';
	zoomInBtn.style.margin = '2px';
	mxUtils.setOpacity(zoomInBtn, 60);
	
	var zoomOutBtn = mxUtils.button('', function()
	{
		graph.zoomOut();
	});
	zoomOutBtn.className = 'geSprite geSprite-zoomout';
	zoomOutBtn.setAttribute('title', mxResources.get('zoomOut'));
	zoomOutBtn.style.outline = 'none';
	zoomOutBtn.style.border = 'none';
	zoomOutBtn.style.margin = '2px';
	mxUtils.setOpacity(zoomOutBtn, 60);

	var zoomFitBtn = mxUtils.button('', function()
	{
		graph.maxFitScale = 8;
		graph.fit(8);
		graph.center();
	});
	zoomFitBtn.className = 'geSprite geSprite-fit';
	zoomFitBtn.setAttribute('title', mxResources.get('fit'));
	zoomFitBtn.style.outline = 'none';
	zoomFitBtn.style.border = 'none';
	zoomFitBtn.style.margin = '2px';
	mxUtils.setOpacity(zoomFitBtn, 60);
	
	var zoomActualBtn = mxUtils.button('', function()
	{
		graph.zoomActual();
		graph.center();
	});
	zoomActualBtn.className = 'geSprite geSprite-actualsize';
	zoomActualBtn.setAttribute('title', mxResources.get('actualSize'));
	zoomActualBtn.style.outline = 'none';
	zoomActualBtn.style.border = 'none';
	zoomActualBtn.style.margin = '2px';
	mxUtils.setOpacity(zoomActualBtn, 60);

	var restoreBtn = mxUtils.button(discardLabel || mxResources.get('discard'), discardFn);
	restoreBtn.className = 'geBtn';
	
	var pageSelect = document.createElement('select');
	pageSelect.style.maxWidth = '80px';
	pageSelect.style.position = 'relative';
	pageSelect.style.top = '-2px';
	pageSelect.style.verticalAlign = 'bottom';
	pageSelect.style.marginRight = '6px';
	pageSelect.style.display = 'none';

	var showBtn = mxUtils.button(editLabel || mxResources.get('edit'), editFn);
	showBtn.className = 'geBtn gePrimaryBtn';

	var buttons = document.createElement('div');
	buttons.style.position = 'absolute';
	buttons.style.top = '470px';
	buttons.style.width = '640px';
	buttons.style.textAlign = 'right';

	var tb = document.createElement('div');
	tb.className = 'geToolbarContainer';
	tb.style.cssText = 'box-shadow:none !important;background-color:transparent;' +
		'padding:2px;border-style:none !important;top:470px;';

	this.init = function()
	{
		function parseGraphModel(dataNode)
		{
			if (dataNode != null)
			{
				var bg = dataNode.getAttribute('background');
				
				if (bg == null || bg == '' || bg == mxConstants.NONE)
				{
					bg = '#ffffff';
				}
				
				container.style.backgroundColor = bg;
				
				var codec = new mxCodec(dataNode.ownerDocument);
				codec.decode(dataNode, graph.getModel());
				graph.maxFitScale = 1;
				graph.fit(8);
				graph.center();
			}
		};
			
		function parseDiagram(diagramNode)
		{
			if (diagramNode != null)
			{
				diagramNode = parseGraphModel(mxUtils.parseXml(editorUi.editor.graph.decompress(
			        	mxUtils.getTextContent(diagramNode))).documentElement);
			}
			
			return diagramNode;
		};

		mxEvent.addListener(pageSelect, 'change', function(evt)
		{
			currentPage = parseInt(pageSelect.value);
			parseDiagram(diagrams[currentPage]);
			mxEvent.consume(evt);
		});
		
		if (node.nodeName == 'mxfile')
		{
			// Workaround for "invalid calling object" error in IE
			var tmp = node.getElementsByTagName('diagram');
			diagrams = [];
			
			for (var i = 0; i < tmp.length; i++)
			{
				diagrams.push(tmp[i]);	
			}
			
			if (diagrams.length > 0)
			{
				parseDiagram(diagrams[currentPage]);
			}
			
			if (diagrams.length > 1)
			{
				pageSelect.style.display = '';
	
				for (var i = 0; i < diagrams.length; i++)
				{
					var pageOption = document.createElement('option');
					mxUtils.write(pageOption, diagrams[i].getAttribute('name') ||
						mxResources.get('pageWithNumber', [i + 1]));
					pageOption.setAttribute('value', i);
					
					if (i == currentPage)
					{
						pageOption.setAttribute('selected', 'selected');
					}
	
					pageSelect.appendChild(pageOption);
				}
			}
		}
		else
		{
			parseGraphModel(node);
		}
	};
	
	tb.appendChild(pageSelect);
	tb.appendChild(zoomInBtn);
	tb.appendChild(zoomOutBtn);
	tb.appendChild(zoomActualBtn);
	tb.appendChild(zoomFitBtn);
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog(true);
	});
	
	cancelBtn.className = 'geBtn';

	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
		buttons.appendChild(restoreBtn);
		buttons.appendChild(showBtn);
	}
	else
	{
		buttons.appendChild(showBtn);
		buttons.appendChild(restoreBtn);
		buttons.appendChild(cancelBtn);
	}

	div.appendChild(buttons);
	div.appendChild(tb);

	this.container = div;
};

/**
 * 
 */
var FindWindow = function(ui, x, y, w, h)
{
	var action = ui.actions.get('find');
	var graph = ui.editor.graph;
	var lastSearch = null;
	var lastFound = null;

	var div = document.createElement('div');
	div.style.userSelect = 'none';
	div.style.overflow = 'hidden';
	div.style.padding = '10px';
	div.style.height = '100%';

	var searchInput = document.createElement('input');
	searchInput.setAttribute('placeholder', mxResources.get('find'));
	searchInput.setAttribute('type', 'text');
	searchInput.style.marginTop = '4px';
	searchInput.style.marginBottom = '6px';
	searchInput.style.width = '170px';
	searchInput.style.fontSize = '12px';
	searchInput.style.borderRadius = '4px';
	searchInput.style.padding = '6px';
	div.appendChild(searchInput);
	
	var regexInput = document.createElement('input');
	regexInput.setAttribute('type', 'checkbox');
	div.appendChild(regexInput);
	
	mxUtils.write(div, mxResources.get('regularExpression'));

	var tmp = document.createElement('div');
	
	function testMeta(re, cell)
	{
		if (typeof cell.value === 'object' && cell.value.attributes != null)
		{
			var attrs = cell.value.attributes;
			
			for (var i = 0; i < attrs.length; i++)
			{
				if (attrs[i].nodeName != 'label' && re.test(attrs[i].nodeValue.toLowerCase()))
				{
					return true;
				}	
			}
		}
		
		return false;
	};
	
	function search()
	{
		var cells = graph.model.getDescendants(graph.model.getRoot());
		var search = searchInput.value.toLowerCase();
		var re = (regexInput.checked) ? new RegExp(search) : null;
		var firstMatch = null;
		
		if (lastSearch != search)
		{
			lastSearch = search;
			lastFound = null;
		}

		var active = lastFound == null;
		
		if (graph.isEnabled() && search.length > 0)
		{
			for (var i = 0; i < cells.length; i++)
			{
				var state = graph.view.getState(cells[i]);
				
				if (state != null && state.cell.value != null && (active || firstMatch == null) &&
					(graph.model.isVertex(state.cell) || graph.model.isEdge(state.cell)))
				{
					if (graph.isHtmlLabel(state.cell))
					{
						tmp.innerHTML = graph.getLabel(state.cell);
						label = mxUtils.extractTextWithWhitespace([tmp]);
					}
					else
					{					
						label = graph.getLabel(state.cell);
					}
		
					label = mxUtils.trim(label.replace(/[\x00-\x1F\x7F-\x9F]|\s+/g, ' ')).toLowerCase();
					
					if ((re == null && label.substring(0, search.length) === search) ||
						(re != null && (re.test(label) || testMeta(re, state.cell))))
					{
						if (active)
						{
							firstMatch = state;
						
							break;
						}
						else if (firstMatch == null)
						{
							firstMatch = state;
						}
					}
				}
	
				active = active || state == lastFound;
			}
		}
					
		if (firstMatch != null)
		{
			lastFound = firstMatch;
			graph.setSelectionCell(lastFound.cell);
			graph.scrollCellToVisible(lastFound.cell);
		}
		else
		{
			graph.clearSelection();
		}
		
		return !graph.isEnabled() || search.length == 0 || firstMatch != null;
	};

	mxUtils.br(div);

	var resetBtn = mxUtils.button(mxResources.get('reset'), function()
	{
		searchInput.value = '';
		searchInput.style.backgroundColor = '';
		lastFound = null;
		lastSearch = null;
		searchInput.focus();
	});
	
	resetBtn.setAttribute('title', mxResources.get('reset'));
	resetBtn.style.marginTop = '6px';
	resetBtn.style.marginRight = '4px';
	resetBtn.style.backgroundColor = '#f5f5f5';
	resetBtn.style.backgroundImage = 'none';
	resetBtn.className = 'geBtn';
	
	div.appendChild(resetBtn);

	var btn = mxUtils.button(mxResources.get('find'), function()
	{
		try
		{
			searchInput.style.backgroundColor = search() ? '' : '#ffcfcf';
		}
		catch (e)
		{
			ui.handleError(e);	
		}
	});
	
	btn.setAttribute('title', mxResources.get('find') + ' (Enter)');
	btn.style.marginTop = '6px';
	btn.style.backgroundColor = '#4d90fe';
	btn.style.backgroundImage = 'none';
	btn.className = 'geBtn gePrimaryBtn';
	
	div.appendChild(btn);
	
	mxEvent.addListener(searchInput, 'keyup', function(evt)
	{
		// Ctrl or Cmd keys
		if (evt.keyCode == 91 || evt.keyCode == 17)
		{
			// Workaround for lost focus on show
			mxEvent.consume(evt);
		}
		else if (evt.keyCode == 27)
		{
			action.funct();
		}
		else if (lastSearch != searchInput.value.toLowerCase() || evt.keyCode == 13)
		{
			try
			{
				searchInput.style.backgroundColor = search() ? '' : '#ffcfcf';
			}
			catch (e)
			{
				searchInput.style.backgroundColor = '#ffcfcf';
			}
		}
	});

	mxEvent.addListener(div, 'keydown', function(evt)
	{
		if (evt.keyCode == 70 && ui.keyHandler.isControlDown(evt) && !mxEvent.isShiftDown(evt))
		{
			action.funct();
			mxEvent.consume(evt);
		}
	});

	this.window = new mxWindow(mxResources.get('find'), div, x, y, w, h, true, true);
	this.window.destroyOnClose = false;
	this.window.setMaximizable(false);
	this.window.setResizable(false);
	this.window.setClosable(true);
	
	this.window.addListener('show', mxUtils.bind(this, function()
	{
		if (this.window.isVisible())
		{
			searchInput.focus();
			
			if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
			{
				searchInput.select();
			}
			else
			{
				document.execCommand('selectAll', false, null);
			}
		}
		else
		{
			graph.container.focus();
		}
	}));
};

/**
 * 
 */
var TagsWindow = function(editorUi, x, y, w, h)
{
	var graph = editorUi.editor.graph;
	var propertyName = 'tags';

	var div = document.createElement('div');
	div.style.userSelect = 'none';
	div.style.overflow = 'hidden';
	div.style.padding = '10px';
	div.style.height = '100%';
	
	var searchInput = document.createElement('input');
	searchInput.setAttribute('placeholder', mxResources.get('allTags'));
	searchInput.setAttribute('type', 'text');
	searchInput.style.marginTop = '4px';
	searchInput.style.width = '240px';
	searchInput.style.fontSize = '12px';
	searchInput.style.borderRadius = '4px';
	searchInput.style.padding = '6px';
	div.appendChild(searchInput);
	
	mxEvent.addListener(searchInput, 'dblclick', function()
	{
		var dlg = new FilenameDialog(editorUi, propertyName, mxResources.get('ok'), mxUtils.bind(this, function(name)
		{
			if (name != null && name.length > 0)
			{
				propertyName = name;
			}
		}), mxResources.get('enterPropertyName'));
		editorUi.showDialog(dlg.container, 300, 80, true, true);
		dlg.init();
	});
	
	searchInput.setAttribute('title', mxResources.get('doubleClickChangeProperty'));

	function searchCells(cells)
	{
		cells = (cells != null) ? cells : graph.model.getDescendants(graph.model.getRoot());
		var tagList = searchInput.value.split(' ');
		var result = [];
		
		for (var i = 0; i < cells.length; i++)
		{
			if (graph.model.isVertex(cells[i]) || graph.model.isEdge(cells[i]))
			{
				var tags = (cells[i].value != null && typeof(cells[i].value) == 'object') ?
					mxUtils.trim(cells[i].value.getAttribute(propertyName) || '') : '';
				var match = true;

				if (tags.length > 0)
				{
					var tmp = tags.toLowerCase().split(' ');
					
					for (var j = 0; j < tagList.length && match; j++)
					{
						var tag = mxUtils.trim(tagList[j]).toLowerCase();
						
						match = match && (tag.length == 0 || mxUtils.indexOf(tmp, tag) >= 0);
					}
				}
				else
				{
					match = mxUtils.trim(searchInput.value).length == 0;
				}
				
				if (match)
				{
					result.push(cells[i]);
				}
			}
		}
		
		return result;
	};

	function setCellsVisible(cells, visible)
	{	
		graph.model.beginUpdate();
		try
		{
			for (var i = 0; i < cells.length; i++)
			{
				graph.model.setVisible(cells[i], visible);
			}
		}
		finally
		{
			graph.model.endUpdate();
		}
	};
	
	mxUtils.br(div);

	var hideBtn = mxUtils.button(mxResources.get('hide'), function()
	{
		setCellsVisible(searchCells(), false);
	});
	
	hideBtn.setAttribute('title', mxResources.get('hide'));
	hideBtn.style.marginTop = '8px';
	hideBtn.style.marginRight = '4px';
	hideBtn.style.backgroundColor = '#f5f5f5';
	hideBtn.style.backgroundImage = 'none';
	hideBtn.className = 'geBtn';
	
	div.appendChild(hideBtn);

	var showBtn = mxUtils.button(mxResources.get('show'), function()
	{
		var cells = searchCells();
		setCellsVisible(cells, true);
		graph.setSelectionCells(cells);
	});
	
	showBtn.setAttribute('title', mxResources.get('show'));
	showBtn.style.marginTop = '8px';
	showBtn.style.marginRight = '4px';
	showBtn.style.backgroundColor = '#f5f5f5';
	showBtn.style.backgroundImage = 'none';
	showBtn.className = 'geBtn';
	
	div.appendChild(showBtn);
	
	var action = editorUi.actions.get('tags');

	var btn = mxUtils.button(mxResources.get('close'), function()
	{
		action.funct();
	});
	
	btn.setAttribute('title', mxResources.get('close') + ' (Enter/Esc)');
	btn.style.marginTop = '8px';
	btn.style.backgroundColor = '#4d90fe';
	btn.style.backgroundImage = 'none';
	btn.className = 'geBtn gePrimaryBtn';
	
	div.appendChild(btn);
		
	mxEvent.addListener(searchInput, 'keyup', function(evt)
	{
		// Ctrl or Cmd keys
		if (evt.keyCode == 13 || evt.keyCode == 27)
		{
			action.funct();
		}
	});

	this.window = new mxWindow(mxResources.get('tags'), div, x, y, w, h, true, true);
	this.window.destroyOnClose = false;
	this.window.setMaximizable(false);
	this.window.setResizable(false);
	this.window.setClosable(true);
	
	this.window.addListener('show', mxUtils.bind(this, function()
	{
		if (this.window.isVisible())
		{
			searchInput.focus();
			
			if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
			{
				searchInput.select();
			}
			else
			{
				document.execCommand('selectAll', false, null);
			}
		}
		else
		{
			graph.container.focus();
		}
	}));
};

/**
 * Constructs a new auth dialog.
 */
var AuthDialog = function(editorUi, peer, showRememberOption, fn)
{
	var div = document.createElement('div');
	div.style.textAlign = 'center';
	
	var hd = document.createElement('p');
	hd.style.fontSize = '16pt';
	hd.style.padding = '0px';
	hd.style.margin = '0px';
	hd.style.color = 'gray';
	
	mxUtils.write(hd, mxResources.get('authorizationRequired'));
	
	var service = 'Unknown';
	
	var img = document.createElement('img');
	img.setAttribute('border', '0');
	img.setAttribute('align', 'absmiddle');
	img.style.marginRight = '10px';

	if (peer == editorUi.drive)
	{
		service = mxResources.get('googleDrive');
		img.src = IMAGE_PATH + '/google-drive-logo-white.svg';
	}
	else if (peer == editorUi.dropbox)
	{
		service = mxResources.get('dropbox');
		img.src = IMAGE_PATH + '/dropbox-logo-white.svg';
	}
	else if (peer == editorUi.oneDrive)
	{
		service = mxResources.get('oneDrive');
		img.src = IMAGE_PATH + '/onedrive-logo-white.svg';
	}
	else if (peer == editorUi.gitHub)
	{
		service = mxResources.get('github');
		img.src = IMAGE_PATH + '/github-logo-white.svg';
	}
	
	var p = document.createElement('p');
	mxUtils.write(p, mxResources.get('authorizeThisAppIn', [service]));

	var cb = document.createElement('input');
	cb.setAttribute('type', 'checkbox');
	
	var button = mxUtils.button(mxResources.get('authorize'), function()
	{
		fn(cb.checked);
	});

	button.insertBefore(img, button.firstChild);
	button.style.marginTop = '6px';
	button.className = 'geBigButton';

	div.appendChild(hd);
	div.appendChild(p);
	div.appendChild(button);
	
	if (showRememberOption)
	{
		var p2 = document.createElement('p');
		p2.style.marginTop = '20px';
		p2.appendChild(cb);
		var span = document.createElement('span');
		mxUtils.write(span, ' ' + mxResources.get('rememberMe'));
		p2.appendChild(span);
		div.appendChild(p2);
		cb.checked = true;
		cb.defaultChecked = true;
		
		mxEvent.addListener(span, 'click', function(evt)
		{
			cb.checked = !cb.checked;
			mxEvent.consume(evt);
		});
	}
	
	this.container = div;
};

var MoreShapesDialog = function(editorUi, expanded, entries) 
{
	entries = (entries != null) ? entries : editorUi.sidebar.entries;
	var div = document.createElement('div');

	if (expanded)
	{
		var hd = document.createElement('div');
		hd.className = 'geDialogTitle';
		mxUtils.write(hd, mxResources.get('shapes'));
		hd.style.position = 'absolute';
		hd.style.top = '0px';
		hd.style.left = '0px';
		hd.style.lineHeight = '40px';
		hd.style.height = '40px';
		hd.style.right = '0px';
		
		if (mxClient.IS_QUIRKS)
		{
			hd.style.width = '718px';
		}
		
		var list = document.createElement('div');
		var preview = document.createElement('div');
		
		list.style.position = 'absolute';
		list.style.top = '40px';
		list.style.left = '0px';
		list.style.width = '202px';
		list.style.bottom = '60px';
		list.style.overflow = 'auto';
		
		if (mxClient.IS_QUIRKS)
		{
			list.style.height = '437px';
			list.style.marginTop = '1px';
		}
		
		preview.style.position = 'absolute';
		preview.style.left = '202px';
		preview.style.right = '0px';
		preview.style.top = '40px';
		preview.style.bottom = '60px';
		preview.style.overflow = 'auto';
		preview.style.borderLeft = '1px solid rgb(211, 211, 211)';
		preview.style.textAlign = 'center';
		
		if (mxClient.IS_QUIRKS)
		{
			preview.style.width = parseInt(hd.style.width) - 202 + 'px';
			preview.style.height = list.style.height;
			preview.style.marginTop = list.style.marginTop;
		}
		
		var currentListItem = null;
		var applyFunctions = [];
		
		var listEntry = document.createElement('div');
		listEntry.style.position = 'relative';
		listEntry.style.left = '0px';
		listEntry.style.right = '0px';
		
		for (var i = 0; i < entries.length; i++)
		{
			(function(section)
			{
				var title = listEntry.cloneNode(false);
				title.style.fontWeight = 'bold';
				title.style.backgroundColor = '#e5e5e5';
				title.style.padding = '6px 0px 6px 20px';
				mxUtils.write(title, section.title);
				list.appendChild(title);
	
				for (var j = 0; j < section.entries.length; j++)
				{
					(function(entry)
					{
						var option = listEntry.cloneNode(false);
						option.style.cursor = 'pointer';
						option.style.padding = '4px 0px 4px 20px';
						
						var checkbox = document.createElement('input');
						checkbox.setAttribute('type', 'checkbox');
						checkbox.checked = editorUi.sidebar.isEntryVisible(entry.id);
						checkbox.defaultChecked = checkbox.checked;
						option.appendChild(checkbox);
						mxUtils.write(option, ' ' + entry.title);
	
						list.appendChild(option);
						
						var itemClicked = function(evt)
						{
							if (evt == null || mxEvent.getSource(evt).nodeName != 'INPUT')
							{
								if (entry.imageCallback != null)
								{
									entry.imageCallback(preview);
								}
								else if (entry.image != null)
								{
									preview.innerHTML = '<img border="0" src="' + entry.image + '"/>';
								}
								else
								{
									preview.innerHTML = '<br>';
									mxUtils.write(preview, mxResources.get('noPreview'));
								}
								
								if (currentListItem != null)
								{
									currentListItem.style.backgroundColor = '';
								}
								
								currentListItem = option;
								currentListItem.style.backgroundColor = '#ebf2f9';
								
								if (evt != null)
								{
									mxEvent.consume(evt);
								}
							}
						};
						
						mxEvent.addListener(option, 'click', itemClicked);
						mxEvent.addListener(option, 'dblclick', function(evt)
						{
							checkbox.checked = !checkbox.checked;
							mxEvent.consume(evt);
						});
						
						applyFunctions.push(function()
						{
							return (checkbox.checked) ? entry.id : null;
						});
						
						// Selects first entry
						if (i == 0 && j == 0)
						{
							itemClicked();
						}
					})(section.entries[j]);
				}
			})(entries[i]);
		}

		div.style.padding = '30px';
		
		div.appendChild(hd);
		div.appendChild(list);
		div.appendChild(preview);
		
		var buttons = document.createElement('div');
		buttons.className = 'geDialogFooter';
		buttons.style.position = 'absolute';
		buttons.style.paddingRight = '16px';
		buttons.style.color = 'gray';
		buttons.style.left = '0px';
		buttons.style.right = '0px';
		buttons.style.bottom = '0px';
		buttons.style.height = '60px';
		buttons.style.lineHeight = '52px';
		
		if (mxClient.IS_QUIRKS)
		{
			buttons.style.width = hd.style.width;
			buttons.style.paddingTop = '12px';
		}

		var cb = document.createElement('input');
		cb.setAttribute('type', 'checkbox');
		
		if (isLocalStorage || mxClient.IS_CHROMEAPP)
		{
			var span = document.createElement('span');
			span.style.paddingRight = '20px';
			span.appendChild(cb);
			mxUtils.write(span, ' ' + mxResources.get('rememberThisSetting'));
			cb.checked = true;
			cb.defaultChecked = true;
			
			mxEvent.addListener(span, 'click', function(evt)
			{
				if (mxEvent.getSource(evt) != cb)
				{
					cb.checked = !cb.checked;
					mxEvent.consume(evt);
				}
			});
			
			if (mxClient.IS_QUIRKS)
			{
				span.style.position = 'relative';
				span.style.top = '-6px';
			}

			buttons.appendChild(span);
		}
		
		var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
		{
			editorUi.hideDialog();
		});
		cancelBtn.className = 'geBtn';
		
		var applyBtn = mxUtils.button(mxResources.get('apply'), function()
		{
	    	editorUi.hideDialog();
	    	var libs = [];
			
			for (var i = 0; i < applyFunctions.length; i++)
			{
				var lib = applyFunctions[i].apply(this, arguments);
				
				if (lib != null)
				{
					libs.push(lib);
				}
			}
			
			editorUi.sidebar.showEntries(libs.join(';'), cb.checked, true);
		});
		applyBtn.className = 'geBtn gePrimaryBtn';
		
		if (editorUi.editor.cancelFirst)
		{
			buttons.appendChild(cancelBtn);
			buttons.appendChild(applyBtn);
		}
		else
		{
			buttons.appendChild(applyBtn);
			buttons.appendChild(cancelBtn);
		}
		
		div.appendChild(buttons);
	}
	else
	{
		var libFS = document.createElement('table');
		var tbody = document.createElement('tbody');
		div.style.height = '100%';
		div.style.overflow = 'auto';
		var row = document.createElement('tr');
		libFS.style.width = '100%';
		
		var leftDiv = document.createElement('td');
		var midDiv = document.createElement('td');
		var rightDiv = document.createElement('td');
				
		var addLibCB = mxUtils.bind(this, function(wrapperDiv, title, key) 
		{
			var libCB = document.createElement('input');
			libCB.type = 'checkbox';
			libFS.appendChild(libCB);
			
			libCB.checked = editorUi.sidebar.isEntryVisible(key);
			
			var libSpan = document.createElement('span');
			mxUtils.write(libSpan, title);
			
			var label = document.createElement('div');
			label.style.display = 'block';
			label.appendChild(libCB);
			label.appendChild(libSpan);
			
			mxEvent.addListener(libSpan, 'click', function(evt)
			{
				libCB.checked = !libCB.checked;
				mxEvent.consume(evt);
			});
			
			wrapperDiv.appendChild(label);
			
			return function()
			{
				return (libCB.checked) ? key : null;
			};
		});
		
		row.appendChild(leftDiv);
		row.appendChild(midDiv);
		row.appendChild(rightDiv);
	
		tbody.appendChild(row);
		libFS.appendChild(tbody);
		
		var applyFunctions = [];
		var count = 0;
		
		// Counts total number of entries
		for (var i = 0; i < entries.length; i++)
		{
			for (var j = 0; j < entries[i].entries.length; j++)
			{
				count++;
			}
		}
		
		// Distributes entries on columns
		var cols = [leftDiv, midDiv, rightDiv];
		var counter = 0;
		
		for (var i = 0; i < entries.length; i++)
		{
			(function(section)
			{
				for (var j = 0; j < section.entries.length; j++)
				{
					(function(entry)
					{
						var index = Math.floor(counter / (count / 3));
						applyFunctions.push(addLibCB(cols[index], entry.title, entry.id));
						counter++;
					})(section.entries[j]);
				}
			})(entries[i]);
		}

		div.appendChild(libFS);
		
		var remember = document.createElement('div');
		remember.style.marginTop = '18px';
		remember.style.textAlign = 'center';
		
		var cb = document.createElement('input');
		
		if (isLocalStorage)
		{
			cb.setAttribute('type', 'checkbox');
			cb.checked = true;
			cb.defaultChecked = true;
			remember.appendChild(cb);
			var span = document.createElement('span');
			mxUtils.write(span, ' ' + mxResources.get('rememberThisSetting'));
			remember.appendChild(span);
			
			mxEvent.addListener(span, 'click', function(evt)
			{
				cb.checked = !cb.checked;
				mxEvent.consume(evt);
			});
		}
		
		div.appendChild(remember);
		
		var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
		{
			editorUi.hideDialog();
		});
		cancelBtn.className = 'geBtn';
		
		var applyBtn = mxUtils.button(mxResources.get('apply'), function()
		{
			var libs = ['search'];
			
			for (var i = 0; i < applyFunctions.length; i++)
			{
				var lib = applyFunctions[i].apply(this, arguments);
				
				if (lib != null)
				{
					libs.push(lib);
				}
			}
			
			editorUi.sidebar.showEntries((libs.length > 0) ? libs.join(';') : '', cb.checked);
	    	editorUi.hideDialog();
		});
		applyBtn.className = 'geBtn gePrimaryBtn';
		
		var buttons = document.createElement('div');
		buttons.style.marginTop = '26px';
		buttons.style.textAlign = 'right';
		
		if (editorUi.editor.cancelFirst)
		{
			buttons.appendChild(cancelBtn);
			buttons.appendChild(applyBtn);
		}
		else
		{
			buttons.appendChild(applyBtn);
			buttons.appendChild(cancelBtn);
		}
	
		div.appendChild(buttons);
	}

	this.container = div;
};

var PluginsDialog = function(editorUi) 
{
	var div = document.createElement('div');
	var inner = document.createElement('div');
	
	inner.style.height = '120px';
	inner.style.overflow = 'auto';

	var plugins = mxSettings.getPlugins().slice();
	
	function refresh()
	{
		if (plugins.length == 0)
		{
			inner.innerHTML = mxResources.get('noPlugins');
		}
		else
		{
			inner.innerHTML = '';
			
			for (var i = 0; i < plugins.length; i++)
			{
				var span = document.createElement('span');
				span.style.whiteSpace = 'nowrap';

				var img = document.createElement('span');
				img.className = 'geSprite geSprite-delete';
				img.style.position = 'relative';
				img.style.cursor = 'pointer';
				img.style.top = '5px';
				img.style.marginRight = '4px';
				img.style.display = 'inline-block';
				span.appendChild(img);
				
				mxUtils.write(span, plugins[i]);
				inner.appendChild(span);
				
				mxUtils.br(inner);
				
				mxEvent.addListener(img, 'click', (function(index)
				{
					return function()
					{
						editorUi.confirm(window.parent.mxResources.get('delete') + ' "' + plugins[index] + '"?', function()
						{
							plugins.splice(index, 1);
							refresh();
						});
					};
				})(i));
			}
		}
	}
	
	div.appendChild(inner);
	refresh();

	var addBtn = mxUtils.button(mxResources.get('add'), function()
	{
		var tmp = '';
		var param = urlParams['p'];
	
		if (param != null && param.length > 0)
		{
			var tokens = param.split(';');
			
			for (var i = 0; i < tokens.length; i++)
			{
				var url = App.pluginRegistry[tokens[i]];
				
				if (url != null)
				{
					tmp += url + ';';
				}
			}
			
			if (tmp.charAt(tmp.length - 1) == ';')
			{
				tmp = tmp.substring(0, tmp.length - 1);
			}
		}
		
		var dlg = new FilenameDialog(editorUi, tmp, mxResources.get('add'), function(newValue)
		{
			if (newValue != null && newValue.length > 0)
			{
				tokens = newValue.split(';');
				
				for (var i = 0; i < tokens.length; i++)
				{
					if (tokens[i].length > 0 && mxUtils.indexOf(plugins, tokens[i]) < 0)
					{
						plugins.push(tokens[i]);
					}
				}
				
				refresh();
			}
		}, mxResources.get('enterValue') + ' (' + mxResources.get('url') + ')');
		
		editorUi.showDialog(dlg.container, 300, 80, true, true);
		dlg.init();
	});
	addBtn.className = 'geBtn';
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	cancelBtn.className = 'geBtn';
	
	var applyBtn = mxUtils.button(mxResources.get('apply'), function()
	{
		mxSettings.setPlugins(plugins);
		mxSettings.save();
		editorUi.hideDialog();
		editorUi.alert(mxResources.get('restartForChangeRequired'));
	});
	applyBtn.className = 'geBtn gePrimaryBtn';

	var buttons = document.createElement('div');
	buttons.style.marginTop = '14px';
	buttons.style.textAlign = 'right';

	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
		buttons.appendChild(addBtn);
		buttons.appendChild(applyBtn);
	}
	else
	{
		buttons.appendChild(addBtn);
		buttons.appendChild(applyBtn);
		buttons.appendChild(cancelBtn);
	}

	div.appendChild(buttons);

	this.container = div;
};

var EditGeometryDialog = function(editorUi, vertices) 
{
	var graph = editorUi.editor.graph;
	var geo = (vertices.length == 1) ? graph.getCellGeometry(vertices[0]) : null;
	var div = document.createElement('div');
	
	var table = document.createElement('table');
	var tbody = document.createElement('tbody');
	var row = document.createElement('tr');
	var left = document.createElement('td');
	var right = document.createElement('td');
	table.style.paddingLeft = '6px';
	
	mxUtils.write(left, mxResources.get('left') + ':');
	
	var xInput = document.createElement('input');
	xInput.setAttribute('type', 'text');
	xInput.style.width = '100px';
	xInput.value = (geo != null) ? geo.x : '';
	
	this.init = function()
	{
		xInput.focus();
		xInput.select();
	};

	right.appendChild(xInput);

	row.appendChild(left);
	row.appendChild(right);
	
	tbody.appendChild(row);
	
	row = document.createElement('tr');
	left = document.createElement('td');
	right = document.createElement('td');
	
	mxUtils.write(left, mxResources.get('top') + ':');
	
	var yInput = document.createElement('input');
	yInput.setAttribute('type', 'text');
	yInput.style.width = '100px';
	yInput.value = (geo != null) ? geo.y : '';

	right.appendChild(yInput);

	row.appendChild(left);
	row.appendChild(right);
	
	tbody.appendChild(row);
	
	row = document.createElement('tr');
	left = document.createElement('td');
	right = document.createElement('td');
	
	mxUtils.write(left, mxResources.get('width') + ':');
	
	var wInput = document.createElement('input');
	wInput.setAttribute('type', 'text');
	wInput.style.width = '100px';
	wInput.value = (geo != null) ? geo.width : '';

	right.appendChild(wInput);

	row.appendChild(left);
	row.appendChild(right);
	
	tbody.appendChild(row);
	
	row = document.createElement('tr');
	left = document.createElement('td');
	right = document.createElement('td');
	
	mxUtils.write(left, mxResources.get('height') + ':');
	
	var hInput = document.createElement('input');
	hInput.setAttribute('type', 'text');
	hInput.style.width = '100px';
	hInput.value = (geo != null) ? geo.height : '';

	right.appendChild(hInput);

	row.appendChild(left);
	row.appendChild(right);
	
	tbody.appendChild(row);
	
	row = document.createElement('tr');
	left = document.createElement('td');
	right = document.createElement('td');
	
	mxUtils.write(left, mxResources.get('rotation') + ':');
	
	var rotInput = document.createElement('input');
	rotInput.setAttribute('type', 'text');
	rotInput.style.width = '100px';
	rotInput.value = (vertices.length == 1) ? mxUtils.getValue(graph.getCellStyle(vertices[0]),
			mxConstants.STYLE_ROTATION, 0) : '';

	right.appendChild(rotInput);

	row.appendChild(left);
	row.appendChild(right);
	
	tbody.appendChild(row);
	
	table.appendChild(tbody);
	div.appendChild(table);
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	
	var applyBtn = mxUtils.button(mxResources.get('apply'), function()
	{
		editorUi.hideDialog();
		
		graph.getModel().beginUpdate();
		try
		{
			for (var i = 0; i < vertices.length; i++)
			{
				var g = graph.getCellGeometry(vertices[i]);
				
				if (g != null)
				{
					g = g.clone();
				
					if (graph.isCellMovable(vertices[i]))
					{
						if (mxUtils.trim(xInput.value).length > 0)
						{
							g.x = Number(xInput.value);
						}
						
						if (mxUtils.trim(yInput.value).length > 0)
						{
							g.y = Number(yInput.value);
						}
					}
					
					if (graph.isCellResizable(vertices[i]))
					{
						if (mxUtils.trim(wInput.value).length > 0)
						{
							g.width = Number(wInput.value);
						}
						
						if (mxUtils.trim(hInput.value).length > 0)
						{
							g.height = Number(hInput.value);
						}
					}
					
					graph.getModel().setGeometry(vertices[i], g);
				}
				
				if (mxUtils.trim(rotInput.value).length > 0)
				{
					graph.setCellStyles(mxConstants.STYLE_ROTATION, Number(rotInput.value), [vertices[i]]);
				}
			}
		}
		finally
		{
			graph.getModel().endUpdate();
		}
	});

	mxEvent.addListener(div, 'keypress', function(e)
	{
		if (e.keyCode == 13)
		{
			applyBtn.click();
		}
	});
	
	var buttons = document.createElement('div');
	buttons.style.marginTop = '20px';
	buttons.style.textAlign = 'right';

	if (editorUi.editor.cancelFirst)
	{
		buttons.appendChild(cancelBtn);
		buttons.appendChild(applyBtn);
	}
	else
	{
		buttons.appendChild(applyBtn);
		buttons.appendChild(cancelBtn);
	}

	div.appendChild(buttons);

	this.container = div;
};

/**
 * Constructs a new dialog for creating files from templates.
 */
var LibraryDialog = function(editorUi, name, library, initialImages, file, mode)
{
	var images = [];
	var graph = editorUi.editor.graph;
	var outer = document.createElement('div');
	outer.style.height = '100%';
	
	var header = document.createElement('div');
	header.style.whiteSpace = 'nowrap';
	header.style.height = '40px';
	outer.appendChild(header);

	mxUtils.write(header, mxResources.get('filename') + ':');
	
	var nameValue = name;
	
	if (nameValue == null)
	{
		nameValue = editorUi.defaultLibraryName + '.xml';
	}

	var nameInput = document.createElement('input');
	nameInput.setAttribute('value', nameValue);
	nameInput.style.marginRight = '20px';
	nameInput.style.marginLeft = '10px';
	nameInput.style.width = '500px';
	
	if (file != null && !file.isRenamable())
	{
		nameInput.setAttribute('disabled', 'true');
	}
	
	this.init = function()
	{
		if (file == null || file.isRenamable())
		{
			nameInput.focus();
			
			if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
			{
				nameInput.select();
			}
			else
			{
				document.execCommand('selectAll', false, null);
			}
		}
	};

	header.appendChild(nameInput);

	var div = document.createElement('div');
	div.style.borderWidth = '1px 0px 1px 0px';
	div.style.borderColor = '#d3d3d3';
	div.style.borderStyle = 'solid';
	div.style.marginTop = '6px';
	div.style.overflow = 'auto';
	div.style.height = '340px';
	div.style.backgroundPosition = 'center center';
	div.style.backgroundRepeat = 'no-repeat';

	if (images.length == 0 && Graph.fileSupport)
	{
		div.style.backgroundImage = 'url(\'' + IMAGE_PATH + '/droptarget.png\')';
	}

	var bg = document.createElement('div');
	bg.style.position = 'absolute';
	bg.style.width = '640px';
	bg.style.top = '260px';
	bg.style.textAlign = 'center';
	bg.style.fontSize = '22px';
	bg.style.color = '#a0c3ff';
	mxUtils.write(bg, mxResources.get('dragImagesHere'));
	outer.appendChild(bg);
	
	var entries = {};
	var ew = 100;
	var eh = 100;
	
	var dragSourceIndex = null;
	var dropTargetIndex = null;
	
	function getIndexForEvent(evt)
	{
		var dropTarget = document.elementFromPoint(evt.clientX, evt.clientY);
		
		while (dropTarget != null && dropTarget.parentNode != div)
		{
			dropTarget = dropTarget.parentNode;
		}
		
		var result = null;
		
		if (dropTarget != null)
		{
			var tmp = div.firstChild;
			result = 0;
			
			while (tmp != null && tmp != dropTarget)
			{
				tmp = tmp.nextSibling;
				result++;
			}
		}
		
		return result;
	};
	
	var stopEditing = null;
	var stopWrapper = function(evt)
	{
		var source = mxEvent.getSource(evt);
		
		if (source.getAttribute('contentEditable') != 'true' && stopEditing != null)
		{
			stopEditing();
			stopEditing = null;
			
			mxEvent.consume(evt);
		}
	};
	
	mxEvent.addListener(div, 'mousedown', stopWrapper);
	mxEvent.addListener(div, 'pointerdown', stopWrapper);
	mxEvent.addListener(div, 'touchstart', stopWrapper);

	// For converting image URLs
	var converter = new mxUrlConverter();
	var errorShowed = false;
	
	function addButton(data, mimeType, x, y, w, h, img, aspect, title)
	{
		// Ignores duplicates
		try
		{
			if (mimeType == null || mimeType.substring(0, 6) == 'image/')
			{
				if ((data == null && img != null) || entries[data] == null)
				{
					div.style.backgroundImage = '';
					bg.style.display = 'none';
		
					var iw = w;
					var ih = h;
					
					if (w > editorUi.maxImageSize || h > editorUi.maxImageSize)
					{
						var s = Math.min(1, Math.min(editorUi.maxImageSize / Math.max(1, w)),
							editorUi.maxImageSize / Math.max(1, h));
						w *= s;
						h *= s;
					}
					
					if (iw > ih)
					{
						ih = Math.round(ih * ew / iw);
						iw = ew;
					}
					else
					{
						iw = Math.round(iw * eh / ih);
						ih = eh;
					}
					
					var wrapper = document.createElement('div');
					wrapper.setAttribute('draggable', 'true');
					wrapper.style.display = (mxClient.IS_QUIRKS) ? 'inline' : 'inline-block';
					wrapper.style.position = 'relative';
					wrapper.style.cursor = 'move';
					mxUtils.setPrefixedStyle(wrapper.style, 'transition', 'transform .1s ease-in-out');
					
					if (data != null)
					{
						var elt = document.createElement('img');
						elt.setAttribute('src', converter.convert(data));
						elt.style.width = iw + 'px';
						elt.style.height = ih + 'px';
						elt.style.margin = '10px';
			
						elt.style.paddingBottom = Math.floor((eh - ih) / 2) + 'px';
						elt.style.paddingLeft = Math.floor((ew - iw) / 2) + 'px';
						
						wrapper.appendChild(elt);
					}
					else if (img != null)
					{
						var cells = editorUi.stringToCells(editorUi.editor.graph.decompress(img.xml));
						
						if (cells.length > 0)
						{
							editorUi.sidebar.createThumb(cells, ew, eh, wrapper, null, true, false);
							
							// Needs inline block on SVG for delete icon to appear on same line
							wrapper.firstChild.style.display = (mxClient.IS_QUIRKS) ? 'inline' : 'inline-block';
							wrapper.firstChild.style.cursor = '';
						}
					}
					
					var rem = document.createElement('img');
					rem.setAttribute('src', Editor.closeImage);
					rem.setAttribute('border', '0');
					rem.setAttribute('title', mxResources.get('delete'));
					rem.setAttribute('align', 'top');
					rem.style.paddingTop = '4px';
					rem.style.marginLeft = '-22px';
					rem.style.cursor = 'pointer';
					
					// Blocks dragging of remove icon
					mxEvent.addListener(rem, 'dragstart', function(evt)
					{
						mxEvent.consume(evt);
					});
					
					// Seems to bring remove icon on top of graph
					if (data == null && img != null)
					{
						rem.style.position = 'relative';
					}
					
					(function(wrapperDiv, dataParam, imgParam)
					{
						mxEvent.addListener(rem, 'click', function(evt)
						{
							entries[dataParam] = null;
							
							for (var i = 0; i < images.length; i++)
							{
								if ((images[i].data != null && images[i].data == dataParam) ||
									(images[i].xml != null && imgParam != null &&
									images[i].xml == imgParam.xml))
								{
									images.splice(i, 1);
									break;
								}
							}
							
							wrapper.parentNode.removeChild(wrapperDiv);
							
							if (images.length == 0)
							{
								div.style.backgroundImage = 'url(\'' + IMAGE_PATH + '/droptarget.png\')';
								bg.style.display = '';
							}
							
							mxEvent.consume(evt);
						});
						// Workaround for accidental select all
						mxEvent.addListener(rem, 'dblclick', function(evt)
						{
							mxEvent.consume(evt);
						});
					})(wrapper, data, img);
					
					wrapper.appendChild(rem);
					wrapper.style.marginBottom = '30px';
					
					var label = document.createElement('div');
					label.style.position = 'absolute';
					label.style.boxSizing = 'border-box';
					label.style.bottom = '-18px';
					label.style.left = '10px';
					label.style.right = '10px';
					label.style.backgroundColor = '#ffffff';
					label.style.overflow = 'hidden';
					label.style.textAlign = 'center';
					
					var entry = null;
					
					if (data != null)
					{
						entry = {data: data, w: w, h: h, title: title};
						
						if (aspect != null)
						{
							entry.aspect = aspect;
						}
						
						entries[data] = elt;
						images.push(entry);
					}
					else if (img != null)
					{
						img.aspect = 'fixed';
						images.push(img);
						entry = img;
					}
					
					function updateLabel()
					{
						label.innerHTML = '';
						label.style.cursor = 'pointer';
						label.style.whiteSpace = 'nowrap';
						label.style.textOverflow = 'ellipsis';
						mxUtils.write(label, (entry.title != null && entry.title.length > 0) ?
							entry.title : mxResources.get('untitled'));
						
						if (entry.title == null || entry.title.length == 0)
						{
							label.style.color = '#d0d0d0';
						}
						else
						{
							label.style.color = '';
						}
					};
					
					mxEvent.addListener(label, 'keydown', function(evt)
					{
						if (evt.keyCode == 13 && stopEditing != null)
						{
							stopEditing();
							stopEditing = null;
							
							mxEvent.consume(evt);
						}
					});
					
					updateLabel();
					wrapper.appendChild(label);
					
					// Blocks dragging of label
					mxEvent.addListener(label, 'mousedown', function(evt)
					{
						if (label.getAttribute('contentEditable') != 'true')
						{
							mxEvent.consume(evt);
						}
					});
					
					var startEditing = function(evt)
					{
						// Workaround for various issues in IE
						if (!mxClient.IS_IOS && !mxClient.IS_QUIRKS && !mxClient.IS_FF &&
							(document.documentMode == null || document.documentMode > 9))
						{
							if (label.getAttribute('contentEditable') != 'true')
							{
								if (stopEditing != null)
								{
									stopEditing();
									stopEditing = null;
								}
								
								if (entry.title == null || entry.title.length == 0)
								{
									label.innerHTML = '';
								}
								
								label.style.textOverflow = '';
								label.style.whiteSpace = '';
								label.style.cursor = 'text';
								label.style.color = '';
								label.setAttribute('contentEditable', 'true');
								label.focus();
								document.execCommand('selectAll', false, null);
								
								stopEditing = function()
								{
									label.removeAttribute('contentEditable');
									label.style.cursor = 'pointer';
									entry.title = label.innerHTML;
									updateLabel();
								}
						
								mxEvent.consume(evt);
							}
						}
						else
						{
							var dlg = new FilenameDialog(editorUi, entry.title || '', mxResources.get('ok'), function(newTitle)
							{
								if (newTitle != null)
								{
									entry.title = newTitle;
									updateLabel();
								}
							}, mxResources.get('enterValue'));
							editorUi.showDialog(dlg.container, 300, 80, true, true);
							dlg.init();
							
							mxEvent.consume(evt);
						}
					};
					
					mxEvent.addListener(label, 'click', startEditing);
					mxEvent.addListener(wrapper, 'dblclick', startEditing);
					
					div.appendChild(wrapper);
	
					mxEvent.addListener(wrapper, 'dragstart', function(evt)
					{
						if (data == null && img != null)
						{
							rem.style.visibility = 'hidden';
							label.style.visibility = 'hidden';
						}
						
						// Workaround for no DnD on DIV in FF
						if (mxClient.IS_FF && img.xml != null)
						{
							evt.dataTransfer.setData('Text', img.xml);
						}

						dragSourceIndex = getIndexForEvent(evt);
						
						// Workaround for missing drag preview in Google Chrome
						if (mxClient.IS_GC)
						{
							wrapper.style.opacity = '0.9';
						}
						
						window.setTimeout(function()
						{
							mxUtils.setPrefixedStyle(wrapper.style, 'transform', 'scale(0.5,0.5)');
							mxUtils.setOpacity(wrapper, 30);
							rem.style.visibility = '';
							label.style.visibility = '';
						}, 0);
					});
					
					mxEvent.addListener(wrapper, 'dragend', function(evt)
					{
						if (rem.style.visibility == 'hidden')
						{
							rem.style.visibility = '';
							label.style.visibility = '';
						}
						
						dragSourceIndex = null;
						mxUtils.setOpacity(wrapper, 100);
						mxUtils.setPrefixedStyle(wrapper.style, 'transform', null);
					});
				}
				else if (!errorShowed)
				{
					errorShowed = true;
					editorUi.handleError({message: mxResources.get('fileExists')})
				}
			}
			else
			{
				var done = false;
				
				try
				{
					if (data != null && data.substring(0, 10) == '<mxlibrary')
					{
						var doc = mxUtils.parseXml(data);
						var temp = JSON.parse(mxUtils.getTextContent(doc.documentElement));
							
						if (temp != null && temp.length > 0)
						{
							for (var i = 0; i < temp.length; i++)
							{
								if (temp[i].xml != null)
								{
									addButton(null, null, 0, 0, 0, 0, temp[i]);
								}
								else
								{
									addButton(temp[i].data, null, 0, 0, temp[i].w, temp[i].h, null, 'fixed', temp[i].title);
								}
							}
						}
						
						editorUi.spinner.stop();
						done = true;
					}
				}
				catch (e)
				{
					// ignore
				}

				if (!done)
				{
					editorUi.spinner.stop();
					editorUi.handleError({message: mxResources.get('errorLoadingFile')})
				}
			}
		}
		catch (e)
		{
			// ignore
		}
		
		return null;
	};
	
	if (initialImages != null)
	{
		for (var i = 0; i < initialImages.length; i++)
		{
			var img = initialImages[i];
			addButton(img.data, null, 0, 0, img.w, img.h, img, img.aspect, img.title);
		}
	}
	
	// Setup the dnd listeners
	mxEvent.addListener(div, 'dragleave', function(evt)
	{
		bg.style.cursor = '';
		var source = mxEvent.getSource(evt);
		
		while (source != null)
		{
			if (source == div || source == bg)
			{
				evt.stopPropagation();
				evt.preventDefault();
				break;
			}
			
			source = source.parentNode;
		}
	});
	
	function dragOver(evt)
	{
		evt.dataTransfer.dropEffect = (dragSourceIndex != null) ? 'move' : 'copy';
		evt.stopPropagation();
		evt.preventDefault();
	};
	
	function dropHandler(evt)
	{
		evt.stopPropagation();
	    evt.preventDefault();
    	errorShowed = false;
	    
	    dropTargetIndex = getIndexForEvent(evt);
		
	    if (dragSourceIndex != null)
		{
			if (dropTargetIndex != null && dropTargetIndex < div.children.length)
			{
				images.splice((dropTargetIndex > dragSourceIndex) ? dropTargetIndex - 1 : dropTargetIndex,
						0, images.splice(dragSourceIndex, 1)[0]);
				div.insertBefore(div.children[dragSourceIndex], div.children[dropTargetIndex]);
			}
			else
			{
				images.push(images.splice(dragSourceIndex, 1)[0]);
				div.appendChild(div.children[dragSourceIndex]);
			}
		}
	    else if (evt.dataTransfer.files.length > 0)
	    {
	    	editorUi.importFiles(evt.dataTransfer.files, 0, 0, editorUi.maxImageSize, function(data, mimeType, x, y, w, h, img)
	    	{
	    		addButton(data, mimeType, x, y, w, h, img, 'fixed', (mxEvent.isAltDown(evt)) ?
		    		null : img.substring(0, img.lastIndexOf('.')).replace(/_/g, ' '));
				div.scrollTop = div.scrollHeight;
	    	});
		}
	    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0)
	    {
	    	var uri = decodeURIComponent(evt.dataTransfer.getData('text/uri-list'));
	    	
			if (/(\.jpg)($|\?)/i.test(uri) || /(\.png)($|\?)/i.test(uri) ||
				/(\.gif)($|\?)/i.test(uri) || /(\.svg)($|\?)/i.test(uri))
			{
				editorUi.loadImage(uri, function(img)
				{
					addButton(uri, null, 0, 0, img.width, img.height);
					div.scrollTop = div.scrollHeight;
				});
			}
	    }
	    
	    evt.stopPropagation();
	    evt.preventDefault();
	};
	
	mxEvent.addListener(div, 'dragover', dragOver);
	mxEvent.addListener(div, 'drop', dropHandler);
	mxEvent.addListener(bg, 'dragover', dragOver);
	mxEvent.addListener(bg, 'drop', dropHandler);

	outer.appendChild(div);

	var btns = document.createElement('div');
	btns.style.textAlign = 'right';
	btns.style.marginTop = '20px';
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog(true);
	});
	cancelBtn.setAttribute('id', 'btnCancel');
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	// Does not show download button, allow filename editing in Chrome Apps
	if (!window.chrome || !chrome.app || !chrome.app.runtime)
	{
		var btn = mxUtils.button(mxResources.get('export'), function()
		{
	    	var data = editorUi.createLibraryDataFromImages(images);
	    	var filename = nameInput.value;
	    	
			if (!/(\.xml)$/i.test(filename))
			{
				filename += '.xml';
			}
	    	
	    	if (editorUi.isLocalFileSave())
	    	{
	    		editorUi.saveLocalFile(data, filename, 'text/xml', null, null, true);
	    	}
	    	else
	    	{
	    		new mxXmlRequest(SAVE_URL, 'filename=' + encodeURIComponent(filename) +
	    			'&format=xml&xml=' + encodeURIComponent(data)).simulate(document, '_blank');
	    	}
		});
		btn.setAttribute('id', 'btnDownload');
		btn.className = 'geBtn';
		btns.appendChild(btn);
	}
	else
	{
		nameInput.setAttribute('disabled', 'disabled');
	}
	
	var fileInput = document.createElement('input');
	fileInput.setAttribute('multiple', 'multiple');
	fileInput.setAttribute('type', 'file');
	
	if (document.documentMode == null)
	{
		mxEvent.addListener(fileInput, 'change', function(evt)
		{
	    	errorShowed = false;
				
	    	editorUi.importFiles(fileInput.files, 0, 0, editorUi.maxImageSize, function(data, mimeType, x, y, w, h, img)
	    	{
	    		addButton(data, mimeType, x, y, w, h, img, 'fixed');

	    		// Resets input to force change event for same file
	    		fileInput.value = '';
	    	});

			div.scrollTop = div.scrollHeight;
		});
		
		var btn = mxUtils.button(mxResources.get('import'), function()
		{
			if (stopEditing != null)
			{
				stopEditing();
				stopEditing = null;
			}
			
			fileInput.click();
		});
		btn.setAttribute('id', 'btnAddImage');
		btn.className = 'geBtn';
		
		btns.appendChild(btn);
	}

	var btn = mxUtils.button(mxResources.get('addImageUrl'), function()
	{
		if (stopEditing != null)
		{
			stopEditing();
			stopEditing = null;
		}
		
		editorUi.showImageDialog(mxResources.get('addImageUrl'), '', function(url, w, h)
		{
	    	errorShowed = false;
			
			if (url != null)
			{
				// Image dialog returns modified data URLs which
				// must be converted back to real data URL
				if (url.substring(0, 11) == 'data:image/')
				{
					var comma = url.indexOf(',');
					
					if (comma > 0)
					{
						url = url.substring(0, comma) + ';base64,' + url.substring(comma + 1);
					}
				}
				
				addButton(url, null, 0, 0, w, h);
				div.scrollTop = div.scrollHeight;
			}
		});
	});
	btn.setAttribute('id', 'btnAddImageUrl');
	btn.className = 'geBtn';
	btns.appendChild(btn);
	
	// Indirection for overriding
	this.saveBtnClickHandler = function(name, images, file, mode) 
	{
		editorUi.saveLibrary(name, images, file, mode);
	};
	var btn = mxUtils.button(mxResources.get('save'),mxUtils.bind(this, function()
	{
		if (stopEditing != null)
		{
			stopEditing();
			stopEditing = null;
		}
		
		this.saveBtnClickHandler(nameInput.value, images, file, mode);
	}));
	btn.setAttribute('id', 'btnSave');
	btn.className = 'geBtn gePrimaryBtn';
	btns.appendChild(btn);
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	outer.appendChild(btns);
	
	this.container = outer;
};

/**
 * Constructs a new textarea dialog.
 */
var EditShapeDialog = function(editorUi, cell, title, w, h)
{
	w = (w != null) ? w : 300;
	h = (h != null) ? h : 120;
	var row, td;

	var table = document.createElement('table');
	var tbody = document.createElement('tbody');
	table.style.cellPadding = '4px';
	
	row = document.createElement('tr');
	
	td = document.createElement('td');
	td.setAttribute('colspan', '2');
	td.style.fontSize = '10pt';
	mxUtils.write(td, title);
	
	row.appendChild(td);
	tbody.appendChild(row);

	row = document.createElement('tr');
	td = document.createElement('td');
	
	var nameInput = document.createElement('textarea');
	nameInput.style.outline = 'none';
	nameInput.style.resize = 'none';
	nameInput.style.width = (w - 200) + 'px';
	nameInput.style.height = h + 'px';
	
	this.textarea = nameInput;

	this.init = function()
	{
		nameInput.focus();
		nameInput.scrollTop = 0;
	};

	td.appendChild(nameInput);
	row.appendChild(td);
	
	td = document.createElement('td');
	
	var container = document.createElement('div');
	container.style.position = 'relative';
	container.style.border = '1px solid gray';
	container.style.top = '6px';
	container.style.width = '200px';
	container.style.height = (h + 4) + 'px';
	container.style.overflow = 'hidden';
	container.style.marginBottom = '16px';
	mxEvent.disableContextMenu(container);
	td.appendChild(container);

	var graph = new Graph(container);
	graph.setEnabled(false);
	
	var clone = editorUi.editor.graph.cloneCells([cell])[0];
	graph.addCells([clone]);
	
	var state = graph.view.getState(clone);
	var stencil = '';
	
	if (state.shape != null && state.shape.stencil != null)
	{
		stencil = mxUtils.getPrettyXml(state.shape.stencil.desc);
	}
	
	mxUtils.write(nameInput, stencil || '');

	var b = graph.getGraphBounds();
	var ns = Math.min((200 - 40) / b.width, (h - 40) / b.height);
	graph.view.scaleAndTranslate(ns, 20 / ns - b.x, 20 / ns - b.y);
	
	row.appendChild(td);
	tbody.appendChild(row);

	row = document.createElement('tr');
	td = document.createElement('td');
	td.setAttribute('colspan', '2');
	td.style.paddingTop = '2px';
	td.style.whiteSpace = 'nowrap';
	td.setAttribute('align', 'right');
	
	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
	});
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		td.appendChild(cancelBtn);
	}
	
	if (!editorUi.isOffline())
	{
		var helpBtn = mxUtils.button(mxResources.get('help'), function()
		{
			window.open('https://desk.draw.io/support/solutions/articles/16000052874');
		});
		
		helpBtn.className = 'geBtn';
		td.appendChild(helpBtn);
	}
	
	var updateShape = function(targetGraph, targetCell, hide)
	{
		var newValue = nameInput.value;
		
		// Checks if XML has changed (getPrettyXml "normalizes" DOM)
		var doc = mxUtils.parseXml(newValue);
		newValue = mxUtils.getPrettyXml(doc.documentElement);
		
		// Checks for validation errors
		// LATER: Validate against XSD
		var errors = doc.documentElement.getElementsByTagName('parsererror');
		
		if (errors != null && errors.length > 0)
		{
			editorUi.showError(mxResources.get('error'), mxResources.get('containsValidationErrors'), mxResources.get('ok'));
		}
		else
		{
			if (hide)
			{
				editorUi.hideDialog();
			}
			
			var isNew = !targetGraph.model.contains(targetCell);
			
			if (!hide || isNew || newValue != stencil)
			{
				// Transform XML value to be used in cell style
				newValue = editorUi.editor.graph.compress(newValue);
				
				targetGraph.getModel().beginUpdate();
				try
				{
					// Inserts cell if required
					if (isNew)
					{
						var pt = editorUi.editor.graph.getInsertPoint();
						targetCell.geometry.x = pt.x;
						targetCell.geometry.y = pt.y;
						targetGraph.addCell(targetCell)
					}
					
					targetGraph.setCellStyles(mxConstants.STYLE_SHAPE, 'stencil(' + newValue + ')', [targetCell]);
				}
				catch (e)
				{
					throw e;
				}
				finally
				{
					// Updates the display
					targetGraph.getModel().endUpdate();
				}
				
				// Updates selection after stencil was created for rendering
				if (isNew)
				{
					targetGraph.setSelectionCell(targetCell);
				}
			}
		}
	};
	
	var previewBtn = mxUtils.button(mxResources.get('preview'), function()
	{
		updateShape(graph, clone, false);
	});
	
	previewBtn.className = 'geBtn';	
	td.appendChild(previewBtn);
	
	var applyBtn = mxUtils.button(mxResources.get('apply'), function()
	{
		updateShape(editorUi.editor.graph, cell, true);
	});
	
	applyBtn.className = 'geBtn gePrimaryBtn';	
	td.appendChild(applyBtn);
	
	if (!editorUi.editor.cancelFirst)
	{
		td.appendChild(cancelBtn);
	}

	row.appendChild(td);
	tbody.appendChild(row);
	table.appendChild(tbody);
	this.container = table;
};

var CustomDialog = function(editorUi, content, okFn, cancelFn, okButtonText, helpLink)
{
	var div = document.createElement('div');
	div.appendChild(content);
	
	var btns = document.createElement('div');
	btns.style.marginTop = '16px';
	btns.style.textAlign = 'right';

	var cancelBtn = mxUtils.button(mxResources.get('cancel'), function()
	{
		editorUi.hideDialog();
		
		if (cancelFn != null)
		{
			cancelFn();
		}
	});
	cancelBtn.className = 'geBtn';
	
	if (editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}
	
	if (!editorUi.isOffline() && helpLink != null)
	{
		var helpBtn = mxUtils.button(mxResources.get('help'), function()
		{
			window.open(helpLink);
		});
		
		helpBtn.className = 'geBtn';	
		btns.appendChild(helpBtn);
	}
	
	var okBtn = mxUtils.button(okButtonText || mxResources.get('ok'), function()
	{
		editorUi.hideDialog();
		
		if (okFn != null)
		{
			okFn();
		}
	});
	btns.appendChild(okBtn);
	
	okBtn.className = 'geBtn gePrimaryBtn';
	
	if (!editorUi.editor.cancelFirst)
	{
		btns.appendChild(cancelBtn);
	}

	div.appendChild(btns);

	this.cancelBtn = cancelBtn;
	this.okButton = okBtn;
	this.container = div;
};

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
(function()
{
	/**
	 * Specifies the app name. Default is document.title.
	 */
	Editor.prototype.appName = 'draw.io';

	/**
	 * Used in the GraphViewer lightbox.
	 */
	Editor.closeImage = (mxClient.IS_SVG) ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAApVBMVEUAAAD////k5OT///8AAAB1dXXMzMz9/f39/f37+/v5+fn+/v7///9iYmJaWlqFhYWnp6ejo6OHh4f////////////////7+/v5+fnx8fH///8AAAD///8bGxv7+/v5+fkoKCghISFDQ0MYGBjh4eHY2Njb29tQUFBvb29HR0c/Pz82NjYrKyu/v78SEhLu7u7s7OzV1dVVVVU7OzsVFRXAv78QEBBzqehMAAAAG3RSTlMAA/7p/vz5xZlrTiPL/v78+/v7+OXd2TYQDs8L70ZbAAABKUlEQVQoz3VS13LCMBBUXHChd8iukDslQChJ/v/TchaG4cXS+OSb1c7trU7V60OpdRz2ZtNZL4zXNlcN8BEtSG6+NxIXkeRPoBuQ1cjvZ31/VJFB10ISli6diYfH8iYO3WUNCcNlB0gTrXOtkxTo0O1aKKiBBMhhv2MNBQKoiA5wxlZo0JDzD3AYKbWacyj3fs01wxey0pyEP+R8pWKWXoqtIZ0DDg5pbki9krEKOa6LVDQsdoXEsi46Zqh69KFz7B1u7Hb2yDV8firXDKBlZ4UFiswKGRhXTS93/ECK7yxnJ3+S3y/ThpO+cfSD017nqa18aasabU0/t7d+tk0/1oMEJ1NaD67iwdF68OabFSLn+eHb0+vjy+uk8br9fdrftH0O2menfd7+AQfYM/lNjoDHAAAAAElFTkSuQmCC' : IMAGE_PATH + '/delete.png';

	/**
	 * 
	 */
	Editor.plusImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/plus.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDdCMTdENjVCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDdCMTdENjZCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowN0IxN0Q2M0I4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowN0IxN0Q2NEI4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtjrjmgAAAAtSURBVHjaYvz//z8DMigvLwcLdHZ2MiKLMzEQCaivkLGsrOw/dU0cAr4GCDAARQsQbTFrv10AAAAASUVORK5CYII=';
	
	/**
	 * 
	 */
	Editor.spinImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/spin.gif' : 'data:image/gif;base64,R0lGODlhDAAMAPUxAEVriVp7lmCAmmGBm2OCnGmHn3OPpneSqYKbr4OcsIScsI2kto6kt46lt5KnuZmtvpquvpuvv56ywaCzwqK1xKu7yay9yq+/zLHAzbfF0bjG0bzJ1LzK1MDN18jT28nT3M3X3tHa4dTc49Xd5Njf5dng5t3k6d/l6uDm6uru8e7x8/Dz9fT29/b4+Pj5+fj5+vr6+v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKADEAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAADAAMAAAGR8CYcEgsOgYAIax4CCQuQldrCBEsiK8VS2hoFGOrlJDA+cZQwkLnqyoJFZKviSS0ICrE0ec0jDAwIiUeGyBFGhMPFBkhZo1BACH5BAkKAC4ALAAAAAAMAAwAhVB0kFR3k1V4k2CAmmWEnW6Lo3KOpXeSqH2XrIOcsISdsImhtIqhtJCmuJGnuZuwv52wwJ+ywZ+ywqm6yLHBzbLCzrXEz7fF0LnH0rrI0r7L1b/M1sXR2cfT28rV3czW3s/Z4Nfe5Nvi6ODm6uLn6+Ln7OLo7OXq7efs7+zw8u/y9PDy9PX3+Pr7+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZDQJdwSCxGDAIAoVFkFBwYSyIwGE4OkCJxIdG6WkJEx8sSKj7elfBB0a5SQg1EQ0SVVMPKhDM6iUIkRR4ZFxsgJl6JQQAh+QQJCgAxACwAAAAADAAMAIVGa4lcfZdjgpxkg51nhp5ui6N3kqh5lKqFnbGHn7KIoLOQp7iRp7mSqLmTqbqarr6br7+fssGitcOitcSuvsuuv8uwwMyzw861xNC5x9K6x9K/zNbDztjE0NnG0drJ1NzQ2eDS2+LT2+LV3ePZ4Oba4ebb4ufc4+jm6+7t8PLt8PPt8fPx8/Xx9PX09vf19/j3+Pn///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CYcEgsUhQFggFSjCQmnE1jcBhqGBXiIuAQSi7FGEIgfIzCFoCXFCZiPO0hKBMiwl7ET6eUYqlWLkUnISImKC1xbUEAIfkECQoAMgAsAAAAAAwADACFTnKPT3KPVHaTYoKcb4yjcY6leZSpf5mtgZuvh5+yiqG0i6K1jqW3kae5nrHBnrLBn7LCoLPCobTDqbrIqrvIs8LOtMPPtcPPtcTPuMbRucfSvcrUvsvVwMzWxdHaydTcytXdzNbezdff0drh2ODl2+Ln3eTp4Obq4ujs5Ont5uvu6O3w6u7w6u7x7/L09vj5+vr7+vv7////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkdAmXBILHIcicOCUqxELKKPxKAYgiYd4oMAEWo8RVmjIMScwhmBcJMKXwLCECmMGAhPI1QRwBiaSixCMDFhLSorLi8wYYxCQQAh+QQJCgAxACwAAAAADAAMAIVZepVggJphgZtnhp5vjKN2kah3kqmBmq+KobSLorWNpLaRp7mWq7ybr7+gs8KitcSktsWnuManucexwM2ywc63xtG6yNO9ytS+ytW/zNbDz9jH0tvL1d3N197S2+LU3OPU3ePV3eTX3+Xa4efb4ufd5Onl6u7r7vHs7/Lt8PLw8/Xy9Pby9fb09ff2+Pn3+Pn6+vr///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGSMCYcEgseiwSR+RS7GA4JFGF8RiWNiEiJTERgkjFGAQh/KTCGoJwpApnBkITKrwoCFWnFlEhaAxXLC9CBwAGRS4wQgELYY1CQQAh+QQJCgAzACwAAAAADAAMAIVMcI5SdZFhgZtti6JwjaR4k6mAma6Cm6+KobSLorWLo7WNo7aPpredsMCescGitMOitcSmuMaqu8ixwc2zws63xdC4xtG5x9K9ytXAzdfCztjF0NnF0drK1d3M1t7P2N/P2eDT2+LX3+Xe5Onh5+vi5+vj6Ozk6e3n7O/o7O/q7vHs7/Lt8PPu8fPx8/X3+Pn6+vv7+/v8/Pz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRcCZcEgsmkIbTOZTLIlGqZNnchm2SCgiJ6IRqljFmQUiXIVnoITQde4chC9Y+LEQxmTFRkFSNFAqDAMIRQoCAAEEDmeLQQAh+QQJCgAwACwAAAAADAAMAIVXeZRefplff5lhgZtph59yjqV2kaeAmq6FnbGFnrGLorWNpLaQp7mRqLmYrb2essGgs8Klt8apusitvcquv8u2xNC7yNO8ydS8ytTAzdfBzdfM1t7N197Q2eDU3OPX3+XZ4ObZ4ebc4+jf5erg5erg5uvp7fDu8fPv8vTz9fb09vf19/j3+Pn4+fn5+vr6+/v///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRUCYcEgspkwjEKhUVJ1QsBNp0xm2VixiSOMRvlxFGAcTJook5eEHIhQcwpWIkAFQECkNy9AQWFwyEAkPRQ4FAwQIE2llQQAh+QQJCgAvACwAAAAADAAMAIVNcY5SdZFigptph6BvjKN0kKd8lquAmq+EnbGGn7KHn7ONpLaOpbearr+csMCdscCescGhtMOnuMauvsuzws60w862xdC9ytW/y9a/zNbCztjG0drH0tvK1N3M1t7N19/U3ePb4uff5urj6Ozk6e3l6u7m6u7o7PDq7vDt8PPv8vTw8vTw8/X19vf6+vv///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CXcEgsvlytVUplJLJIpSEDUESFTELBwSgCCQEV42kjDFiMo4uQsDB2MkLHoEHUTD7DRAHC8VAiZ0QSCgYIDxhNiUEAOw==';

	/**
	 * Used in the GraphViewer lightbox.
	 */
	Editor.tweetImage = (mxClient.IS_SVG) ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARlJREFUeNpi/P//PwM1ABMDlQDVDGKAeo0biMXwKOMD4ilA/AiInwDxfCBWBeIgINYDmwE1yB2Ir0Alsbl6JchONPwNiC8CsTPIDJjXuIBYG4gPAnE8EDMjGaQCxGFYLOAEYlYg/o3sNSkgfo1k2ykgLgRiIyAOwOIaGE6CmwE1SA6IZ0BNR1f8GY9BXugG2UMN+YtHEzr+Aw0OFINYgHgdCYaA8HUgZkM3CASEoYb9ItKgapQkhGQQKC0dJdKQx1CLsRoEArpAvAuI3+Ix5B8Q+2AkaiyZVgGId+MwBBQhKVhzB9QgKyDuAOJ90BSLzZBzQOyCK5uxQNnXoGlJHogfIOU7UCI9C8SbgHgjEP/ElRkZB115BBBgAPbkvQ/azcC0AAAAAElFTkSuQmCC' : IMAGE_PATH + '/tweet.png';

	/**
	 * Used in the GraphViewer lightbox.
	 */
	Editor.facebookImage = (mxClient.IS_SVG) ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAARVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADc6ur3AAAAFnRSTlMAYmRg2KVCC/oPq0uAcVQtHtvZuoYh/a7JUAAAAGJJREFUGNOlzkkOgCAMQNEvagvigBP3P6pRNoCJG/+myVu0RdsqxcQqQ/NFVkKQgqwDzoJ2WKajoB66atcAa0GjX0D8lJHwNGfknYJzY77LDtDZ+L74j0z26pZI2yYlMN9TL17xEd+fl1D+AAAAAElFTkSuQmCC' : IMAGE_PATH + '/facebook.png';

	/**
	 * Blank 1x1 pixel transparent PNG image.
	 */
	Editor.blankImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==';
	
	/**
	 * Contains the default XML for an empty diagram.
	 */
	Editor.defaultCsvValue = '##\n' +
		'## Example CSV import. Use ## for comments and # for configuration. Paste CSV below.\n' +
		'## The following names are reserved and should not be used (or ignored):\n' +
		'## id, tooltip, placeholder(s), link and label (see below)\n' +
		'##\n' +
		'#\n' +
		'## Node label with placeholders and HTML.\n' +
		'## Default is \'%name_of_first_column%\'.\n' +
		'#\n' +
		'# label: %name%<br><i style="color:gray;">%position%</i><br><a href="mailto:%email%">Email</a>\n' +
		'#\n' +
		'## Node style (placeholders are replaced once).\n' +
		'## Default is the current style for nodes.\n' +
		'#\n' +
		'# style: label;image=%image%;whiteSpace=wrap;html=1;rounded=1;fillColor=%fill%;strokeColor=%stroke%;\n' +
		'#\n' +
		'## Connections between rows ("from": source colum, "to": target column).\n' +
		'## Label, style and invert are optional. Defaults are \'\', current style and false.\n' +
		'## The target column may contain a comma-separated list of values.\n' +
		'## Multiple connect entries are allowed.\n' +
		'#\n' +
		'# connect: {"from": "manager", "to": "name", "invert": true, "label": "manages", \\\n' +
		'#          "style": "curved=1;endArrow=blockThin;endFill=1;fontSize=11;"}\n' +
		'# connect: {"from": "refs", "to": "id", "style": "curved=1;fontSize=11;"}\n' +
		'#\n' +
		'## Node width. Possible value are px or auto. Default is auto.\n' +
		'#\n' +
		'# width: auto\n' +
		'#\n' +
		'## Node height. Possible value are px or auto. Default is auto.\n' +
		'#\n' +
		'# height: auto\n' +
		'#\n' +
		'## Padding for autosize. Default is 0.\n' +
		'#\n' +
		'# padding: -26\n' +
		'#\n' +
		'## Comma-separated list of ignored columns for metadata. (These can be\n' +
		'## used for connections and styles but will not be added as metadata.)\n' +
		'#\n' +
		'# ignore: id,image,fill,stroke\n' +
		'#\n' +
		'## Column to be renamed to link attribute (used as link).\n' +
		'#\n' +
		'# link: url\n' +
		'#\n' +
		'## Spacing between nodes. Default is 40.\n' +
		'#\n' +
		'# nodespacing: 40\n' +
		'#\n' +
		'## Spacing between parallel edges. Default is 40.\n' +
		'#\n' +
		'# edgespacing: 40\n' +
		'#\n' +
		'## Name of layout. Possible values are auto, none, verticaltree, horizontaltree,\n' +
		'## verticalflow, horizontalflow, organic, circle. Default is auto.\n' +
		'#\n' +
		'# layout: auto\n' +
		'#\n' +
		'## ---- CSV below this line. First line are column names. ----\n' +
		'name,position,id,location,manager,email,fill,stroke,refs,url,image\n' +
		'Evan Miller,CFO,emi,Office 1,,me@example.com,#dae8fc,#6c8ebf,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-9-2-128.png\n' +
		'Edward Morrison,Brand Manager,emo,Office 2,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-10-3-128.png\n' +
		'Ron Donovan,System Admin,rdo,Office 3,Evan Miller,me@example.com,#d5e8d4,#82b366,"emo,tva",https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-2-128.png\n' +
		'Tessa Valet,HR Director,tva,Office 4,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-3-128.png\n';

	/**
	 * Executes the first step for connecting to Google Drive.
	 */
	Editor.prototype.editButtonLink = (urlParams['edit'] != null) ? decodeURIComponent(urlParams['edit']) : null;

	/**
	 * 
	 */
	if (urlParams['dev'] == '1')
	{
		Editor.prototype.editBlankUrl = Editor.prototype.editBlankUrl + '&dev=1';
		Editor.prototype.editBlankFallbackUrl = Editor.prototype.editBlankFallbackUrl + '&dev=1';
	}

	/**
	 * Adds support for old stylesheets and compressed files
	 */
	var editorSetGraphXml = Editor.prototype.setGraphXml;
	Editor.prototype.setGraphXml = function(node)
	{
		node = (node != null && node.nodeName != 'mxlibrary') ? this.extractGraphModel(node) : null;

		if (node != null)
		{
			// Checks input for parser errors
			var errs = node.getElementsByTagName('parsererror');
			
			if (errs != null && errs.length > 0)
			{
				var elt = errs[0];
				var divs = elt.getElementsByTagName('div');
				
				if (divs != null && divs.length > 0)
				{
					elt = divs[0];
				}
				
				throw {message: mxUtils.getTextContent(elt)};
			}
			else if (node.nodeName == 'mxGraphModel')
			{
				var style = node.getAttribute('style') || 'default-style2';
				
				// Decodes the style if required
				if (urlParams['embed'] != '1' && (style == null || style == ''))
				{
					var node2 = (this.graph.themes != null) ?
						this.graph.themes['default-old'] :
						mxUtils.load(STYLE_PATH + '/default-old.xml').getDocumentElement();
				    
				    if (node2 != null)
				    {
				    	var dec2 = new mxCodec(node2.ownerDocument);
				    	dec2.decode(node2, this.graph.getStylesheet());
				    }
				}
				else if (style != this.graph.currentStyle)
				{
				    var node2 = (this.graph.themes != null) ?
						this.graph.themes[style] :
						mxUtils.load(STYLE_PATH + '/' + style + '.xml').getDocumentElement()
				    
				    if (node2 != null)
				    {
				    	var dec2 = new mxCodec(node2.ownerDocument);
				    	dec2.decode(node2, this.graph.getStylesheet());
				    }
				}
	
				this.graph.currentStyle = style;
				this.graph.mathEnabled = (urlParams['math'] == '1' || node.getAttribute('math') == '1');
				
				var bgImg = node.getAttribute('backgroundImage');
				
				if (bgImg != null)
				{
					bgImg = JSON.parse(bgImg);
					this.graph.setBackgroundImage(new mxImage(bgImg.src, bgImg.width, bgImg.height));
				}
				else
				{
					this.graph.setBackgroundImage(null);
				}
				
				mxClient.NO_FO = (this.graph.mathEnabled) ? true : this.originalNoForeignObject;
				this.graph.setShadowVisible(node.getAttribute('shadow') == '1', false);
			}
	
			// Calls updateGraphComponents
			editorSetGraphXml.apply(this, arguments);
		}
		else
		{
			throw { 
			    message: mxResources.get('notADiagramFile') || 'Invalid data',
			    toString: function() { return this.message; }
			};
		}
	};

	/**
	 * Adds persistent style to file
	 */
	var editorGetGraphXml = Editor.prototype.getGraphXml;	
	Editor.prototype.getGraphXml = function(ignoreSelection)
	{
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		var node = editorGetGraphXml.apply(this, arguments);
		
		// Adds the current style
		if (this.graph.currentStyle != null && this.graph.currentStyle != 'default-style2')
		{
			node.setAttribute('style', this.graph.currentStyle);
		}
		
		// Adds the background image
		if (this.graph.backgroundImage != null)
		{
			node.setAttribute('backgroundImage', JSON.stringify(this.graph.backgroundImage));
		}
		
		node.setAttribute('math', (this.graph.mathEnabled) ? '1' : '0');
		node.setAttribute('shadow', (this.graph.shadowVisible) ? '1' : '0');
		
		return node;
	};
	
	/**
	 * Helper function to extract the graph model XML node.
	 */
	Editor.prototype.isDataSvg = function(svg)
	{
		try
		{
			var svgRoot = mxUtils.parseXml(svg).documentElement;
			var tmp = svgRoot.getAttribute('content');
			
			if (tmp != null)
			{
				if (tmp != null && tmp.charAt(0) != '<' && tmp.charAt(0) != '%')
				{
					tmp = unescape((window.atob) ? atob(tmp) : Base64.decode(cont, tmp));
				}
				
				if (tmp != null && tmp.charAt(0) == '%')
				{
					tmp = decodeURIComponent(tmp);
				}
				
				if (tmp != null && tmp.length > 0)
				{
					var node = mxUtils.parseXml(tmp).documentElement;
					
					
					return node.nodeName == 'mxfile' || node.nodeName == 'mxGraphModel';
				}
			}
		}
		catch (e)
		{
			// ignore
		}
		
		return false;
	};
	
	/**
	 * Helper function to extract the graph model XML node.
	 */
	Editor.prototype.extractGraphModel = function(node, allowMxFile)
	{
		if (node != null && typeof(pako) !== 'undefined')
		{
			var tmp = node.ownerDocument.getElementsByTagName('div');
			var divs = [];
			
			if (tmp != null && tmp.length > 0)
			{
				for (var i = 0; i < tmp.length; i++)
				{
					if (tmp[i].getAttribute('class') == 'mxgraph')
					{
						divs.push(tmp[i]);
						break;
					}	
				}
			}
			
			if (divs.length > 0)
			{
				var data = divs[0].getAttribute('data-mxgraph');

				if (data != null)
				{
					var config = JSON.parse(data);

					if (config != null && config.xml != null)
					{
						var doc2 = mxUtils.parseXml(config.xml);
						node = doc2.documentElement;
					}
				}
				else
				{
					var divs2 = divs[0].getElementsByTagName('div');
					
					if (divs2.length > 0)
					{
						var data = mxUtils.getTextContent(divs2[0]);
		        		data = this.graph.decompress(data);
		        		
		        		if (data.length > 0)
		        		{
		        			var doc2 = mxUtils.parseXml(data);
		        			node = doc2.documentElement;
		        		}
					}
				}
			}
		}
		
		if (node != null && node.nodeName == 'svg')
		{
			var tmp = node.getAttribute('content');
			
			if (tmp != null && tmp.charAt(0) != '<' && tmp.charAt(0) != '%')
			{
				tmp = unescape((window.atob) ? atob(tmp) : Base64.decode(cont, tmp));
			}
			
			if (tmp != null && tmp.charAt(0) == '%')
			{
				tmp = decodeURIComponent(tmp);
			}
			
			if (tmp != null && tmp.length > 0)
			{
				node = mxUtils.parseXml(tmp).documentElement;
			}
			else
			{
				throw {message: mxResources.get('notADiagramFile')};
			}
		}
		
		if (node != null && !allowMxFile)
		{
			var diagramNode = null;
			
			if (node.nodeName == 'diagram')
			{
				diagramNode = node;
			}
			else if (node.nodeName == 'mxfile')
			{
				var diagrams = node.getElementsByTagName('diagram');

				if (diagrams.length > 0)
				{
					diagramNode = diagrams[Math.max(0, Math.min(diagrams.length - 1, urlParams['page'] || 0))];
				}
			}
			
			if (diagramNode != null)
			{
				var tmp = this.graph.decompress(mxUtils.getTextContent(diagramNode));
				
				if (tmp != null && tmp.length > 0)
				{
					node = mxUtils.parseXml(tmp).documentElement;
				}
			}
		}
		
		if (node != null && node.nodeName != 'mxGraphModel' && (!allowMxFile || node.nodeName != 'mxfile'))
		{
			node = null;
		}
		
		return node;
	};
	
	/**
	 * Overrides reset graph.
	 */
	var editorResetGraph = Editor.prototype.resetGraph;	
	Editor.prototype.resetGraph = function()
	{
		this.graph.mathEnabled = (urlParams['math'] == '1');
		this.graph.view.x0 = null;
		this.graph.view.y0 = null;
		mxClient.NO_FO = (this.graph.mathEnabled) ? true : this.originalNoForeignObject;
		editorResetGraph.apply(this, arguments);
	};

	/**
	 * Math support.
	 */
	Editor.prototype.originalNoForeignObject = mxClient.NO_FO;

	var editorUpdateGraphComponents = Editor.prototype.updateGraphComponents;
	Editor.prototype.updateGraphComponents = function()
	{
		editorUpdateGraphComponents.apply(this, arguments);
		mxClient.NO_FO = (this.graph.mathEnabled && Editor.MathJaxRender != null) ? true : this.originalNoForeignObject;
	};
		
	/**
	 * Initializes math typesetting and loads respective code.
	 */
	Editor.initMath = function(src, config)
	{
		src = (src != null) ? src : 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_HTMLorMML';
		Editor.mathJaxQueue = [];
		
		Editor.doMathJaxRender = function(container)
		{
			MathJax.Hub.Queue(['Typeset', MathJax.Hub, container]);
		};

		// Disables global typesetting and messages on startup, adds queue for
		// asynchronous rendering while MathJax is loading
		window.MathJax =
		{
			skipStartupTypeset: true,
			showMathMenu: false,
			messageStyle: 'none',
			AuthorInit: function ()
			{
				// Specification recommends using SVG over HTML-CSS if browser is known
				// Check if too inconsistent with image export and print output
				MathJax.Hub.Config(config || {
					jax: ['input/TeX', 'input/MathML', 'input/AsciiMath', 'output/HTML-CSS'],
					extensions: ['tex2jax.js', 'mml2jax.js', 'asciimath2jax.js'],
					TeX: {
					  extensions: ['AMSmath.js', 'AMSsymbols.js', 'noErrors.js', 'noUndefined.js']
					},
					// Ignores math in in-place editor
					tex2jax: {
						ignoreClass: 'mxCellEditor'
				  	},
				  	asciimath2jax: {
						ignoreClass: 'mxCellEditor'
				  	}
				});
				MathJax.Hub.Register.StartupHook('Begin', function()
				{
					for (var i = 0; i < Editor.mathJaxQueue.length; i++)
					{
						Editor.doMathJaxRender(Editor.mathJaxQueue[i]);
					}
				});
		    }
		};

		// Adds global enqueue method for async rendering
		Editor.MathJaxRender = function(container)
		{
			// Initial rendering when MathJax finished loading
			if (typeof(MathJax) !== 'undefined' && typeof(MathJax.Hub) !== 'undefined')
			{
				Editor.doMathJaxRender(container);
			}
			else
			{
				Editor.mathJaxQueue.push(container);
			}
		};

		// Adds global clear queue method
		Editor.MathJaxClear = function()
		{
			Editor.mathJaxQueue = [];
		};
		
		// Updates typeset after changes
		var editorInit = Editor.prototype.init;
		
		Editor.prototype.init = function()
		{
			this.graph.addListener(mxEvent.SIZE, mxUtils.bind(this, function(sender, evt)
			{
				if (this.graph.mathEnabled)
				{
					Editor.MathJaxRender(this.graph.container);
				}
			}));
		};
		
		var tags = document.getElementsByTagName('script');
		
		if (tags != null && tags.length > 0)
		{
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.src = src;
			tags[0].parentNode.appendChild(script);
		}
	};

	/**
	 * Return array of string values, or NULL if CSV string not well formed.
	 */
	Editor.prototype.csvToArray = function(text)
	{
	    var re_valid = /^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/;
	    var re_value = /(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g;
	    // Return NULL if input string is not well formed CSV string.
	    if (!re_valid.test(text)) return null;
	    var a = [];                     // Initialize array to receive values.
	    text.replace(re_value, // "Walk" the string using replace with callback.
	        function(m0, m1, m2, m3) {
	            // Remove backslash from \' in single quoted values.
	            if      (m1 !== undefined) a.push(m1.replace(/\\'/g, "'"));
	            // Remove backslash from \" in double quoted values.
	            else if (m2 !== undefined) a.push(m2.replace(/\\"/g, '"'));
	            else if (m3 !== undefined) a.push(m3);
	            return ''; // Return empty string.
	        });
	    // Handle special case of empty last value.
	    if (/,\s*$/.test(text)) a.push('');
	    return a;
	};

	/**
	 * Adds persistence for recent colors
	 */
	if (window.ColorDialog)
	{
		var colorDialogAddRecentColor = ColorDialog.addRecentColor;
		
		ColorDialog.addRecentColor = function(color, max)
		{
			colorDialogAddRecentColor.apply(this, arguments);
			
			mxSettings.setRecentColors(ColorDialog.recentColors);
			mxSettings.save();
		};
		
		var colorDialogResetRecentColors = ColorDialog.resetRecentColors;
		
		ColorDialog.resetRecentColors = function()
		{
			colorDialogResetRecentColors.apply(this, arguments);
			
			mxSettings.setRecentColors(ColorDialog.recentColors);
			mxSettings.save();
		};
	}

	// Overridden to add edit shape option
	if (window.StyleFormatPanel != null)
	{
		var formatInit = Format.prototype.init;
		
		Format.prototype.init = function()
		{
			formatInit.apply(this, arguments);

			var ui = this.editorUi;
			ui.editor.addListener('fileLoaded', this.update);
		};

		var formatRefresh = Format.prototype.refresh;
		
		Format.prototype.refresh = function()
		{
			var ui = this.editorUi;
			
			if (ui.getCurrentFile() != null || urlParams['embed'] == '1')
			{
				formatRefresh.apply(this, arguments);
			}
			else
			{
				this.clear();
			}
		};
		
		/**
		 * Adds autosave and math typesetting options.
		 */
		var diagramFormatPanelAddOptions = DiagramFormatPanel.prototype.addOptions;
		DiagramFormatPanel.prototype.addOptions = function(div)
		{
			div = diagramFormatPanelAddOptions.apply(this, arguments);
			
			var ui = this.editorUi;
			var editor = ui.editor;
			var graph = editor.graph;
			
			if (graph.isEnabled())
			{
				var file = ui.getCurrentFile();
	
				if (file != null && file.isAutosaveOptional())
				{
					var opt = this.createOption(mxResources.get('autosave'), function()
					{
						return ui.editor.autosave;
					}, function(checked)
					{
						ui.editor.setAutosave(checked);
					},
					{
						install: function(apply)
						{
							this.listener = function()
							{
								apply(ui.editor.autosave);
							};
							
							ui.editor.addListener('autosaveChanged', this.listener);
						},
						destroy: function()
						{
							ui.editor.removeListener(this.listener);
						}
					});
					
					div.appendChild(opt);
				}
			}

			return div;
		};

		/**
		 * Adds predefiend styles.
		 */
		var StyleFormatPanelInit = StyleFormatPanel.prototype.init;
		StyleFormatPanel.prototype.init = function()
		{
			// TODO: Update sstate in Format
			var sstate = this.format.createSelectionState();

			if (sstate.style.shape != 'image')
			{
				this.container.appendChild(this.addStyles(this.createPanel()));
			}
			
			StyleFormatPanelInit.apply(this, arguments);
		};

		/**
		 * Overridden to add copy and paste style.
		 */
		var styleFormatPanelAddStyleOps = StyleFormatPanel.prototype.addStyleOps;
		StyleFormatPanel.prototype.addStyleOps = function(div)
		{
			var btn = mxUtils.button(mxResources.get('copyStyle'), mxUtils.bind(this, function(evt)
			{
				this.editorUi.actions.get('copyStyle').funct();
			}));
			
			btn.setAttribute('title', mxResources.get('copyStyle') + ' (' + this.editorUi.actions.get('copyStyle').shortcut + ')');
			btn.style.marginBottom = '2px';
			btn.style.width = '100px';
			btn.style.marginRight = '2px';
			
			div.appendChild(btn);
			
			var btn = mxUtils.button(mxResources.get('pasteStyle'), mxUtils.bind(this, function(evt)
			{
				this.editorUi.actions.get('pasteStyle').funct();
			}));
			
			btn.setAttribute('title', mxResources.get('pasteStyle') + ' (' + this.editorUi.actions.get('pasteStyle').shortcut + ')');
			btn.style.marginBottom = '2px';
			btn.style.width = '100px';
			
			div.appendChild(btn);
			mxUtils.br(div);
			
			return styleFormatPanelAddStyleOps.apply(this, arguments);
		};

		/**
		 * Creates the buttons for the predefined styles.
		 */
		StyleFormatPanel.prototype.addStyles = function(div)
		{
			var graph = this.editorUi.editor.graph;
			var picker = document.createElement('div');
			picker.style.whiteSpace = 'normal';
			picker.style.paddingLeft = '24px';
			picker.style.paddingRight = '20px';
			div.style.paddingLeft = '16px';
			div.style.paddingBottom = '6px';
			div.style.position = 'relative';
			div.appendChild(picker);

			var stylenames = ['plain-gray', 'plain-blue', 'plain-green', 'plain-turquoise',
				'plain-orange', 'plain-yellow', 'plain-red', 'plain-pink', 'plain-purple', 'gray',
				'blue', 'green', 'turquoise', 'orange', 'yellow', 'red', 'pink', 'purple'];

			function updateScheme(colorsets)
			{
				function addButton(colorset)
				{
					var btn = mxUtils.button('', function(evt)
					{
						graph.getModel().beginUpdate();
						try
						{
							var cells = graph.getSelectionCells();
							
							for (var i = 0; i < cells.length; i++)
							{
								var style = graph.getModel().getStyle(cells[i]);
				
								for (var j = 0; j < stylenames.length; j++)
								{
									style = mxUtils.removeStylename(style, stylenames[j]);
								}
								
								if (colorset != null)
								{
									style = mxUtils.setStyle(style, mxConstants.STYLE_FILLCOLOR, colorset['fill']);
									style = mxUtils.setStyle(style, mxConstants.STYLE_STROKECOLOR, colorset['stroke']);
									style = mxUtils.setStyle(style, mxConstants.STYLE_GRADIENTCOLOR, colorset['gradient']);
								}
								else
								{
									style = mxUtils.setStyle(style, mxConstants.STYLE_FILLCOLOR, '#ffffff');
									style = mxUtils.setStyle(style, mxConstants.STYLE_STROKECOLOR, '#000000');
									style = mxUtils.setStyle(style, mxConstants.STYLE_GRADIENTCOLOR, null);
								}
								
								graph.getModel().setStyle(cells[i], style);
							}
						}
						finally
						{
							graph.getModel().endUpdate();
						}
					})
	
					btn.style.width = '36px';
					btn.style.height = '30px';
					btn.style.margin = '0px 6px 6px 0px';
					
					if (colorset != null)
					{
						if (colorset['gradient'] != null)
						{
							if (mxClient.IS_IE && (mxClient.IS_QUIRKS || document.documentMode < 10))
							{
						    	btn.style.filter = 'progid:DXImageTransform.Microsoft.Gradient('+
				                	'StartColorStr=\'' + colorset['fill'] +
				                	'\', EndColorStr=\'' + colorset['gradient'] + '\', GradientType=0)';
							}
							else
							{
								btn.style.backgroundImage = 'linear-gradient(' + colorset['fill'] + ' 0px,' +
									colorset['gradient'] + ' 100%)';
							}
						}
						else
						{					
							btn.style.backgroundColor = colorset['fill'];
						}
						
						btn.style.border = '1px solid ' + colorset['stroke'];
					}
					else
					{
						btn.style.backgroundColor = '#ffffff';
						btn.style.border = '1px solid #000000';
					}
					
					picker.appendChild(btn);
				};
				
				picker.innerHTML = '';
				
				for (var i = 0; i < colorsets.length; i++)
				{
					if (i > 0 && mxUtils.mod(i, 4) == 0)
					{
						mxUtils.br(picker);
					}
					
					addButton(colorsets[i]);
				}
			};

			if (this.editorUi.currentScheme == null)
			{
				this.editorUi.currentScheme = 0;
			}

			var schemes = [[null, {fill: '#f5f5f5', stroke: '#666666'},
				{fill: '#dae8fc', stroke: '#6c8ebf'}, {fill: '#d5e8d4', stroke: '#82b366'},
				{fill: '#ffe6cc', stroke: '#d79b00'}, {fill: '#fff2cc', stroke: '#d6b656'},
				{fill: '#f8cecc', stroke: '#b85450'}, {fill: '#e1d5e7', stroke: '#9673a6'}],
			    [null,
				{fill: '#f5f5f5', stroke: '#666666', gradient: '#b3b3b3'},
				{fill: '#dae8fc', stroke: '#6c8ebf', gradient: '#7ea6e0'},
				{fill: '#d5e8d4', stroke: '#82b366', gradient: '#97d077'},
				{fill: '#ffcd28', stroke: '#d79b00', gradient: '#ffa500'},
				{fill: '#fff2cc', stroke: '#d6b656', gradient: '#ffd966'},
				{fill: '#f8cecc', stroke: '#b85450', gradient: '#ea6b66'},
				{fill: '#e6d0de', stroke: '#996185', gradient: '#d5739d'}],
				[null, {fill: '#eeeeee', stroke: '#36393d'},
				{fill: '#f9f7ed', stroke: '#36393d'}, {fill: '#ffcc99', stroke: '#36393d'},
				{fill: '#cce5ff', stroke: '#36393d'}, {fill: '#ffff88', stroke: '#36393d'},
				{fill: '#cdeb8b', stroke: '#36393d'}, {fill: '#ffcccc', stroke: '#36393d'}]];
			
			var left = document.createElement('div');
			left.style.cssText = 'position:absolute;left:10px;top:8px;bottom:8px;width:20px;margin:4px;opacity:0.5;' +
				'background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ4eHh3d3d1dXVxcXF2dnZ2dnZ2dnZxcXF2dnYmb3w1AAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADRJREFUCNdjwACMAmBKaiGYs2oJmLPKAZ3DabU8AMRTXpUKopislqFyVzCAuUZgikkBZjoAcMYLnp53P/UAAAAASUVORK5CYII=);';
			div.appendChild(left);
			
			mxEvent.addListener(left, 'click', mxUtils.bind(this, function()
			{
				this.editorUi.currentScheme = mxUtils.mod(this.editorUi.currentScheme - 1, schemes.length);
				updateScheme(schemes[this.editorUi.currentScheme]);
			}));
			
			var right = document.createElement('div');
			right.style.cssText = 'position:absolute;left:202px;top:8px;bottom:8px;width:20px;margin:4px;opacity:0.5;' +
				'background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYBuwCcAAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADZJREFUCNdjQAOMAmBKaiGY8loF5rKswsZlrVo8AUiFrTICcbIWK8A5DF1gDoMymMPApIAwHwCS0Qx/U7qCBQAAAABJRU5ErkJggg==);';
			div.appendChild(right);
			
			mxEvent.addListener(right, 'click', mxUtils.bind(this, function()
			{
				this.editorUi.currentScheme = mxUtils.mod(this.editorUi.currentScheme + 1, schemes.length);
				updateScheme(schemes[this.editorUi.currentScheme]);
			}));
			
			// Hover state
			function addHoverState(elt)
			{
				mxEvent.addListener(elt, 'mouseenter', function()
				{
					elt.style.opacity = '1';
				});
				mxEvent.addListener(elt, 'mouseleave', function()
				{
					elt.style.opacity = '0.5';
				});
			};
			
			addHoverState(left);
			addHoverState(right);
			
			updateScheme(schemes[this.editorUi.currentScheme]);
			
			return div;
		};
		
		StyleFormatPanel.prototype.addEditOps = function(div)
		{
			var ss = this.format.getSelectionState();
			var btn = null;
			
			if (this.editorUi.editor.graph.getSelectionCount() == 1)
			{
				btn = mxUtils.button(mxResources.get('editStyle'), mxUtils.bind(this, function(evt)
				{
					this.editorUi.actions.get('editStyle').funct();
				}));
				
				btn.setAttribute('title', mxResources.get('editStyle') + ' (' + this.editorUi.actions.get('editStyle').shortcut + ')');
				btn.style.width = '202px';
				btn.style.marginBottom = '2px';
				
				div.appendChild(btn);
			}
			
			var graph = this.editorUi.editor.graph;
			var state = graph.view.getState(graph.getSelectionCell());
			
			if (graph.getSelectionCount() == 1 && state != null && state.shape != null && state.shape.stencil != null)
			{
				var btn2 = mxUtils.button(mxResources.get('editShape'), mxUtils.bind(this, function(evt)
				{
					this.editorUi.actions.get('editShape').funct();
				}));
				
				btn2.setAttribute('title', mxResources.get('editShape'));
				btn2.style.marginBottom = '2px';
				
				if (btn == null)
				{
					btn2.style.width = '202px';
				}
				else
				{
					btn.style.width = '100px';
					btn2.style.width = '100px';
					btn2.style.marginLeft = '2px';
				}
				
				div.appendChild(btn2);
			}
			else if (ss.image)
			{
				var btn2 = mxUtils.button(mxResources.get('editImage'), mxUtils.bind(this, function(evt)
				{
					this.editorUi.actions.get('image').funct();
				}));
				
				btn2.setAttribute('title', mxResources.get('editImage'));
				btn2.style.marginBottom = '2px';
				
				if (btn == null)
				{
					btn2.style.width = '202px';
				}
				else
				{
					btn.style.width = '100px';
					btn2.style.width = '100px';
					btn2.style.marginLeft = '2px';
				}
				
				div.appendChild(btn2);
			}
			
			return div;
		};
	}

	/**
	 * Changes the default stylename so that it matches the old named style
	 * if one was specified in the XML.
	 */
	Graph.prototype.defaultThemeName = 'default-style2';
	
	/**
	 * Contains the last XML that was pasted.
	 */
	Graph.prototype.lastPasteXml = null;
	
	/**
	 * Contains the number of times the last XML was pasted.
	 */
	Graph.prototype.pasteCounter = 0;
	
	/**
	 * Graph Overrides
	 */
	Graph.prototype.defaultScrollbars = urlParams['sb'] != '0';

	/**
	 * Specifies if the page should be visible for new files. Default is true.
	 */
	Graph.prototype.defaultPageVisible = urlParams['pv'] != '0';

	/**
	 * Specifies if the page should be visible for new files. Default is true.
	 */
	Graph.prototype.shadowId = 'dropShadow';

	/**
	 * Enables move of bends/segments without selecting.
	 */
	Graph.prototype.edgeMode = urlParams['edge'] != 'move';
		
	/**
	 * Adds rack child layout style.
	 */
	var graphInit = Graph.prototype.init;
	Graph.prototype.init = function()
	{
		graphInit.apply(this, arguments);

		// Override insert location for current mouse point
		var mouseEvent = null;
		
		function setMouseEvent(evt)
		{
			mouseEvent = evt;
			
			// Workaround for member not found in IE8-
			if (mxClient.IS_QUIRKS || document.documentMode == 7 || document.documentMode == 8)
			{
				mouseEvent = mxUtils.clone(evt);
			}
		};
		
		mxEvent.addListener(this.container, 'mouseenter', setMouseEvent);
		mxEvent.addListener(this.container, 'mousemove', setMouseEvent);
		
		mxEvent.addListener(this.container, 'mouseleave', function(evt)
		{
			mouseEvent = null;
		});
				
		// Extends getInsertPoint to use the current mouse location
		this.isMouseInsertPoint = function()
		{
			return mouseEvent != null;
		};
		
		var getInsertPoint = this.getInsertPoint;
		
		this.getInsertPoint = function()
		{
			if (mouseEvent != null)
			{
				return this.getPointForEvent(mouseEvent);
			}
			
			return getInsertPoint.apply(this, arguments);
		};
		
		var layoutManagerGetLayout = this.layoutManager.getLayout;
		
		this.layoutManager.getLayout = function(cell)
		{
			var state = this.graph.view.getState(cell);
			var style = (state != null) ? state.style : this.graph.getCellStyle(cell);
			
			// mxRackContainer may be undefined as it is dynamically loaded at render time
			if (typeof(mxRackContainer) != 'undefined' && style['childLayout'] == 'rack')
			{
				var rackLayout = new mxStackLayout(this.graph, false);
				
				rackLayout.setChildGeometry = function(child, geo)
				{
					var unitSize = 20;
					geo.height = Math.max(geo.height, unitSize);
					
					if (geo.height / unitSize > 1)
					{
						var mod = geo.height % unitSize;
						geo.height += mod > unitSize / 2 ? (unitSize - mod) : -mod;
					}
			
					this.graph.getModel().setGeometry(child, geo);
				};
			
				rackLayout.fill = true;
				rackLayout.unitSize = mxRackContainer.unitSize | 20;
				rackLayout.marginLeft = style['marginLeft'] || 0;
				rackLayout.marginRight = style['marginRight'] || 0;
				rackLayout.marginTop = style['marginTop'] || 0;
				rackLayout.marginBottom = style['marginBottom'] || 0;
				rackLayout.resizeParent = false;
				
				return rackLayout;
			}
			
			return layoutManagerGetLayout.apply(this, arguments);
		}
	};

	/**
	 * Sets default style (used in editor.get/setGraphXml below)
	 */
	var graphLoadStylesheet = Graph.prototype.loadStylesheet;
	Graph.prototype.loadStylesheet = function()
	{
		graphLoadStylesheet.apply(this, arguments);
		this.currentStyle = 'default-style2';
	};

	/**
	 * Adds a shadow filter to the given svg root.
	 */
	Graph.prototype.addSvgShadow = function(svgRoot, group, createOnly)
	{
		createOnly = (createOnly != null) ? createOnly : false;
		
		var svgDoc = svgRoot.ownerDocument;
		
		var filter = (svgDoc.createElementNS != null) ?
			svgDoc.createElementNS(mxConstants.NS_SVG, 'filter') : svgDoc.createElement('filter');
		filter.setAttribute('id', this.shadowId);

		var blur = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'feGaussianBlur') : svgDoc.createElement('feGaussianBlur');
		blur.setAttribute('in', 'SourceAlpha');
		blur.setAttribute('stdDeviation', '1.7');
		blur.setAttribute('result', 'blur');
		filter.appendChild(blur);
		
		var offset = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'feOffset') : svgDoc.createElement('feOffset');
		offset.setAttribute('in', 'blur');
		offset.setAttribute('dx', '3');
		offset.setAttribute('dy', '3');
		offset.setAttribute('result', 'offsetBlur');
		filter.appendChild(offset);
		
		var flood = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'feFlood') : svgDoc.createElement('feFlood');
		flood.setAttribute('flood-color', '#3D4574');
		flood.setAttribute('flood-opacity', '0.4');
		flood.setAttribute('result', 'offsetColor');
		filter.appendChild(flood);
		
		var composite = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'feComposite') : svgDoc.createElement('feComposite');
		composite.setAttribute('in', 'offsetColor');
		composite.setAttribute('in2', 'offsetBlur');
		composite.setAttribute('operator', 'in');
		composite.setAttribute('result', 'offsetBlur');
		filter.appendChild(composite);

		var feBlend = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'feBlend') : svgDoc.createElement('feBlend');
		feBlend.setAttribute('in', 'SourceGraphic');
		feBlend.setAttribute('in2', 'offsetBlur');
		filter.appendChild(feBlend);
		
		// Creates defs element if not available
		var defs = svgRoot.getElementsByTagName('defs');
		var defsElt = null;
		
		if (defs.length == 0)
		{
			defsElt = (svgDoc.createElementNS != null) ?
				svgDoc.createElementNS(mxConstants.NS_SVG, 'defs') : svgDoc.createElement('defs');
			
			if (svgRoot.firstChild != null)
			{
				svgRoot.insertBefore(defsElt, svgRoot.firstChild);
			}
			else
			{
				svgRoot.appendChild(defsElt);
			}
		}
		else
		{
			defsElt = defs[0];
		}
		
		defsElt.appendChild(filter);
		
		if (!createOnly)
		{
			(group || svgRoot.getElementsByTagName('g')[0]).setAttribute('filter', 'url(#' + this.shadowId + ')');
			
			if (!isNaN(parseInt(svgRoot.getAttribute('width'))))
			{
				svgRoot.setAttribute('width', parseInt(svgRoot.getAttribute('width')) + 6);
				svgRoot.setAttribute('height', parseInt(svgRoot.getAttribute('height')) + 6);
			}
		}
		
		return filter;
	};
	
	/**
	 * Loads the stylesheet for this graph.
	 */
	Graph.prototype.setShadowVisible = function(value, fireEvent)
	{
		if (mxClient.IS_SVG)
		{
			fireEvent = (fireEvent != null) ? fireEvent : true;
			this.shadowVisible = value;
			
			if (this.shadowVisible)
			{
				this.view.getDrawPane().setAttribute('filter', 'url(#' + this.shadowId + ')');
			}
			else
			{
				this.view.getDrawPane().removeAttribute('filter');
			}
			
			if (fireEvent)
			{
				this.fireEvent(new mxEventObject('shadowVisibleChanged'));
			}
		}
	};
	
	/**
	 * Selects first unlocked layer if one exists
	 */
	Graph.prototype.selectUnlockedLayer = function()
	{
		if (this.defaultParent == null)
		{
			var childCount = this.model.getChildCount(this.model.root);
			var cell = null;
			var index = 0;
			
			do
			{
				cell = this.model.getChildAt(this.model.root, index);
			} while (index++ < childCount && mxUtils.getValue(this.getCellStyle(cell), 'locked', '0') == '1')
			
			if (cell != null)
			{
				this.setDefaultParent(cell);
			}
		}
	};

	/**
	 * Specifies special libraries that are loaded via dynamic JS. Add cases
	 * where the filename cannot be worked out from the package name. The
	 * standard scheme for this mapping is stencils/packagename.xml. If there
	 * are multiple XML files, any JS files or any anomalies in the filename or
	 * directory that contains the file, then an entry must be added here and
	 * in EmbedServlet2 for the loading of the shapes to work.
	 */
	// Required to avoid 404 for mockup.xml since naming of mxgraph.mockup.anchor does not contain
	// buttons even though it is defined in the mxMockupButtons.js file. This could only be fixed
	// with aliases for existing shapes or aliases for basenames, but this is essentially the same.
	mxStencilRegistry.libraries['mockup'] = [SHAPES_PATH + '/mockup/mxMockupButtons.js'];
	
	mxStencilRegistry.libraries['arrows2'] = [SHAPES_PATH + '/mxArrows.js'];
	mxStencilRegistry.libraries['bpmn'] = [SHAPES_PATH + '/bpmn/mxBpmnShape2.js', STENCIL_PATH + '/bpmn.xml'];
	mxStencilRegistry.libraries['er'] = [SHAPES_PATH + '/er/mxER.js'];
	mxStencilRegistry.libraries['ios'] = [SHAPES_PATH + '/mockup/mxMockupiOS.js'];
	mxStencilRegistry.libraries['rackGeneral'] = [SHAPES_PATH + '/rack/mxRack.js', STENCIL_PATH + '/rack/general.xml'];
	mxStencilRegistry.libraries['rackF5'] = [STENCIL_PATH + '/rack/f5.xml'];
	mxStencilRegistry.libraries['lean_mapping'] = [SHAPES_PATH + '/mxLeanMap.js', STENCIL_PATH + '/lean_mapping.xml'];
	mxStencilRegistry.libraries['basic'] = [SHAPES_PATH + '/mxBasic.js', STENCIL_PATH + '/basic.xml'];
	mxStencilRegistry.libraries['ios7icons'] = [STENCIL_PATH + '/ios7/icons.xml'];
	mxStencilRegistry.libraries['ios7ui'] = [SHAPES_PATH + '/ios7/mxIOS7Ui.js', STENCIL_PATH + '/ios7/misc.xml'];
	mxStencilRegistry.libraries['android'] = [SHAPES_PATH + '/mxAndroid.js', STENCIL_PATH + '/android/android.xml'];
	mxStencilRegistry.libraries['electrical/transmission'] = [SHAPES_PATH + '/mxElectrical.js', STENCIL_PATH + '/electrical/transmission.xml'];
	mxStencilRegistry.libraries['mockup/buttons'] = [SHAPES_PATH + '/mockup/mxMockupButtons.js'];
	mxStencilRegistry.libraries['mockup/containers'] = [SHAPES_PATH + '/mockup/mxMockupContainers.js'];
	mxStencilRegistry.libraries['mockup/forms'] = [SHAPES_PATH + '/mockup/mxMockupForms.js'];
	mxStencilRegistry.libraries['mockup/graphics'] = [SHAPES_PATH + '/mockup/mxMockupGraphics.js', STENCIL_PATH + '/mockup/misc.xml'];
	mxStencilRegistry.libraries['mockup/markup'] = [SHAPES_PATH + '/mockup/mxMockupMarkup.js'];
	mxStencilRegistry.libraries['mockup/misc'] = [SHAPES_PATH + '/mockup/mxMockupMisc.js', STENCIL_PATH + '/mockup/misc.xml'];
	mxStencilRegistry.libraries['mockup/navigation'] = [SHAPES_PATH + '/mockup/mxMockupNavigation.js', STENCIL_PATH + '/mockup/misc.xml'];
	mxStencilRegistry.libraries['mockup/text'] = [SHAPES_PATH + '/mockup/mxMockupText.js'];
	mxStencilRegistry.libraries['floorplan'] = [SHAPES_PATH + '/mxFloorplan.js', STENCIL_PATH + '/floorplan.xml'];
	mxStencilRegistry.libraries['bootstrap'] = [SHAPES_PATH + '/mxBootstrap.js', STENCIL_PATH + '/bootstrap.xml'];
	mxStencilRegistry.libraries['gmdl'] = [SHAPES_PATH + '/mxGmdl.js', STENCIL_PATH + '/gmdl.xml'];
	mxStencilRegistry.libraries['cabinets'] = [SHAPES_PATH + '/mxCabinets.js', STENCIL_PATH + '/cabinets.xml'];
	mxStencilRegistry.libraries['archimate'] = [SHAPES_PATH + '/mxArchiMate.js'];
	mxStencilRegistry.libraries['archimate3'] = [SHAPES_PATH + '/mxArchiMate3.js'];
	mxStencilRegistry.libraries['sysml'] = [SHAPES_PATH + '/mxSysML.js'];
	mxStencilRegistry.libraries['eip'] = [SHAPES_PATH + '/mxEip.js', STENCIL_PATH + '/eip.xml'];
	mxStencilRegistry.libraries['networks'] = [SHAPES_PATH + '/mxNetworks.js', STENCIL_PATH + '/networks.xml'];
	mxStencilRegistry.libraries['aws3d'] = [SHAPES_PATH + '/mxAWS3D.js', STENCIL_PATH + '/aws3d.xml'];
	mxStencilRegistry.libraries['pid2inst'] = [SHAPES_PATH + '/pid2/mxPidInstruments.js'];
	mxStencilRegistry.libraries['pid2misc'] = [SHAPES_PATH + '/pid2/mxPidMisc.js', STENCIL_PATH + '/pid/misc.xml'];
	mxStencilRegistry.libraries['pid2valves'] = [SHAPES_PATH + '/pid2/mxPidValves.js'];
	mxStencilRegistry.libraries['pidFlowSensors'] = [STENCIL_PATH + '/pid/flow_sensors.xml'];

	// Triggers dynamic loading for markers
	mxMarker.getPackageForType = function(type)
	{
		var name = null;
		
		if (type != null && type.length > 0)
		{
			if (type.substring(0, 2) == 'ER')
			{
				name = 'mxgraph.er';
			}
			else if (type.substring(0, 5) == 'sysML')
			{
				name = 'mxgraph.sysml';
			}
		}
		
		return name;
	};
	
	var mxMarkerCreateMarker = mxMarker.createMarker;
	
	mxMarker.createMarker = function(canvas, shape, type, pe, unitX, unitY, size, source, sw, filled)
	{
		if (type != null)
		{
			var f = mxMarker.markers[type];
			
			if (f == null)
			{
				var name = this.getPackageForType(type);
				
				if (name != null)
				{
					mxStencilRegistry.getStencil(name);
				}
			}
		}
		
		return mxMarkerCreateMarker.apply(this, arguments);
	};
})();

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
(function()
{
	/**
	 * Version
	 */
	EditorUi.VERSION = '@DRAWIO-VERSION@';
	
	/**
	 * Overrides compact UI setting.
	 */
	EditorUi.compactUi = uiTheme != 'atlas';

	/**
	 * https://github.com/electron/electron/issues/2288
	 */
	EditorUi.isElectronApp = window != null && window.process != null &&
		window.process.versions != null && window.process.versions['electron'] != null;

	/**
	 * Contains the default XML for an empty diagram.
	 */
	EditorUi.prototype.emptyDiagramXml = '<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/></root></mxGraphModel>';

	/**
	 * 
	 */
	EditorUi.prototype.emptyLibraryXml = '<mxlibrary>[]</mxlibrary>';

	/**
	 * Sets the delay for autosave in milliseconds. Default is 2000.
	 */
	EditorUi.prototype.mode = null;

	/**
	 * Allows for two buttons in the sidebar footer.
	 */
	EditorUi.prototype.sidebarFooterHeight = (uiTheme == 'atlas') ? 36 : 36;

	/**
	 * Specifies the default custom shape style.
	 */
	EditorUi.prototype.defaultCustomShapeStyle = 'shape=stencil(tZRtTsQgEEBPw1+DJR7AoN6DbWftpAgE0Ortd/jYRGq72R+YNE2YgTePloEJGWblgA18ZuKFDcMj5/Sm8boZq+BgjCX4pTyqk6ZlKROitwusOMXKQDODx5iy4pXxZ5qTHiFHawxB0JrQZH7lCabQ0Fr+XWC1/E8zcsT/gAi+Subo2/3Mh6d/oJb5nU1b5tW7r2knautaa3T+U32o7f7vZwpJkaNDLORJjcu7t59m2jXxqX9un+tt022acsfmoKaQZ+vhhswZtS6Ne/ThQGt0IV0N3Yyv6P3CeT9/tHO0XFI5cAE=);whiteSpace=wrap;html=1;';

	/**
	 * Defines the maximum size for images.
	 */
	EditorUi.prototype.maxBackgroundSize = 1600;

	/**
	 * Defines the maximum size for images.
	 */
	EditorUi.prototype.maxImageSize = 520;

	/**
	 * Images above 100K should be resampled.
	 */
	EditorUi.prototype.resampleThreshold = 100000;

	/**
	 * Maximum allowed size for images is 1 MB.
	 */
	EditorUi.prototype.maxImageBytes = 1000000;

	/**
	 * Maximum size for background images is 2.5 MB.
	 */
	EditorUi.prototype.maxBackgroundBytes = 2500000;

	/**
	 * Holds the current file.
	 */
	EditorUi.prototype.currentFile = null;
	
	/**
	 * Switch to disable logging for mode and search terms.
	 */
	EditorUi.prototype.enableLogging = /.*\.draw\.io$/.test(window.location.hostname);

	/**
	 * Specifies if PDF export should be done via print dialog. Default is
	 * false which uses the PhantomJS backend to create the PDF.
	 */
	EditorUi.prototype.printPdfExport = false;
	
	/**
	 * Specifies if PDF export with pages is enabled.
	 */
	EditorUi.prototype.pdfPageExport = true;
	
	/**
	 * Capability check for canvas export
	 */
	(function()
	{
		EditorUi.prototype.useCanvasForExport = false;
		EditorUi.prototype.jpgSupported = false;
		
		try
		{
			var canvas = document.createElement('canvas');
			var img = new Image();
			
			// LATER: Capability check should not be async
			img.onload = function()
			{
				try
				{
			   		var ctx = canvas.getContext('2d');
			   		ctx.drawImage(img, 0, 0);

			   		// Works in Chrome, Firefox, Edge and Opera
					// LATER: Fix security error caused by foreignObjects in Safari for toDataUri (tainted canvas)
					var result = canvas.toDataURL('image/png');
					EditorUi.prototype.useCanvasForExport = result != null && result.length > 6;
				}
				catch (e)
				{
					// ignore
				}
			};

			// Checks if SVG with foreignObject can be exported
			var svg = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>';
			img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));
		}
		catch (e)
		{
			// ignore
		}
		
		// Checks for client-side JPG support
		try
		{
		    var canvas = document.createElement('canvas');
		    canvas.width = canvas.height = 1;
		    var uri = canvas.toDataURL('image/jpeg');
		    
		    EditorUi.prototype.jpgSupported = (uri.match('image/jpeg') !== null);
		}
		catch (e)
		{
			// ignore
		}
	})();

	/**
	 * Abstraction for local storage access.
	 */
	EditorUi.prototype.getLocalData = function(key, fn)
	{
		fn(localStorage.getItem(key));
	};
	
	/**
	 * Abstraction for local storage access.
	 */
	EditorUi.prototype.setLocalData = function(key, data, fn)
	{
		localStorage.setItem(key, data);
		fn();
	};
	
	/**
	 * Abstraction for local storage access.
	 */
	EditorUi.prototype.removeLocalData = function(key, fn)
	{
		localStorage.removeItem(key)
		fn();
	};

	EditorUi.prototype.setMathEnabled = function(value)
	{
		this.editor.graph.mathEnabled = value;
		this.editor.updateGraphComponents();
		this.editor.graph.refresh();
		
		this.fireEvent(new mxEventObject('mathEnabledChanged'));
	};

	EditorUi.prototype.isMathEnabled = function(value)
	{
		return this.editor.graph.mathEnabled;
	};
	
	// Helper method to move picket to top
	EditorUi.prototype.movePickersToTop = function()
	{
		var divs = document.getElementsByTagName('div');
		
		for (var i = 0; i < divs.length; i++)
		{
			if (divs[i].className == 'picker modal-dialog picker-dialog')
			{
				divs[i].style.zIndex = mxPopupMenu.prototype.zIndex + 1;
			}
		}
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.isOfflineApp = function()
	{
		return (urlParams['offline'] == '1');
	};

	/**
	 * Returns true if this offline app is offline.
	 */
	EditorUi.prototype.isOffline = function()
	{
		// In FF navigator.onLine is always true
		return (mxClient.IS_FF && this.isOfflineApp()) || !navigator.onLine || urlParams['stealth'] == '1';
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createSpinner = function(x, y, size)
	{
		size = (size != null) ? size : 24;

		var spinner = new Spinner({
			lines: 12, // The number of lines to draw
			length: size, // The length of each line
			width: Math.round(size / 3), // The line thickness
			radius: Math.round(size / 2), // The radius of the inner circle
			rotate: 0, // The rotation offset
			color: '#000', // #rgb or #rrggbb
			speed: 1.5, // Rounds per second
			trail: 60, // Afterglow percentage
			shadow: false, // Whether to render a shadow
			hwaccel: false, // Whether to use hardware acceleration
			zIndex: 2e9 // The z-index (defaults to 2000000000)
		});

		// Extends spin method to include an optional label
		var oldSpin = spinner.spin;
		
		spinner.spin = function(container, label)
		{
			var result = false;
			
			if (!this.active)
			{
				oldSpin.call(this, container);
				this.active = true;
				
				if (label != null)
				{
					var status = document.createElement('div');
					status.style.position = 'absolute';
					status.style.whiteSpace = 'nowrap';
					status.style.background = '#4B4243';
					status.style.color = 'white';
					status.style.fontFamily = 'Helvetica, Arial';
					status.style.fontSize = '9pt';
					status.style.padding = '6px';
					status.style.paddingLeft = '10px';
					status.style.paddingRight = '10px';
					status.style.zIndex = 2e9;
					status.style.left = Math.max(0, x) + 'px';
					status.style.top = Math.max(0, y + 70) + 'px';
					
					mxUtils.setPrefixedStyle(status.style, 'borderRadius', '6px');
					mxUtils.setPrefixedStyle(status.style, 'boxShadow', '2px 2px 3px 0px #ddd');
					mxUtils.setPrefixedStyle(status.style, 'transform', 'translate(-50%,-50%)');
					
					status.innerHTML = label + '...';
					container.appendChild(status);
					spinner.status = status;
					
					// Centers the label in older IE versions
					if (mxClient.IS_VML && (document.documentMode == null || document.documentMode <= 8))
					{
						status.style.left = Math.round(Math.max(0, x - status.offsetWidth / 2)) + 'px';
						status.style.top = Math.round(Math.max(0, y + 70 - status.offsetHeight / 2)) + 'px';
					}
				}
				
				// Pause returns a function to resume the spinner
				this.pause = mxUtils.bind(this, function()
				{
					var fn = function() { };
					
					if (this.active)
					{
						fn = mxUtils.bind(this, function()
						{
							this.spin(container, label);
						});
					}
					
					this.stop();
					
					return fn;
				});
				
				result = true;
			}
				
			return result;
		};
		
		// Extends stop method to remove the optional label
		var oldStop = spinner.stop;
		
		spinner.stop = function()
		{
			oldStop.call(this);
			this.active = false;
			
			if (spinner.status != null)
			{
				spinner.status.parentNode.removeChild(spinner.status);
				spinner.status = null;
			}
		};
		
		spinner.pause = function()
		{
			return function() {};
		};
		
		return spinner;
	};

	/**
	 * Static method for pasing PNG files.
	 */
	EditorUi.parsePng = function(f, fn, error)
	{
		var pos = 0;
		
		function fread(d, count)
		{
			var start = pos;
			pos += count;
			
			return d.substring(start, pos);
		};
		
		// Reads unsigned long 32 bit big endian
		function _freadint(d)
		{
			var bytes = fread(d, 4);
			
			return bytes.charCodeAt(3) + (bytes.charCodeAt(2) << 8) +
				(bytes.charCodeAt(1) << 16) + (bytes.charCodeAt(0) << 24);
		};
		
		// Checks signature
		if (fread(f,8) != String.fromCharCode(137) + 'PNG' + String.fromCharCode(13, 10, 26, 10))
		{
			if (error != null)
			{
				error();
			}
			
			return;
		}
		
		// Reads header chunk
		fread(f,4);
		
		if (fread(f,4) != 'IHDR')
		{
			if (error != null)
			{
				error();
			}
			
			return;
		}
		
		fread(f, 17);
		
		do
		{
			var n = _freadint(f);
			var type = fread(f,4);
			
			if (fn != null)
			{
				if (fn(pos - 8, type, n))
				{
					break;
				}
			}
			
			value = fread(f,n);
			fread(f,4);
			
			if (type == 'IEND')
			{
				break;
			}
		}
		while (n);
	};

	/**
	 * Returns true if the given string contains a compatible graph model.
	 */
	EditorUi.prototype.isCompatibleString = function(data)
	{
		try
		{
			var doc = mxUtils.parseXml(data);
			var node = this.editor.extractGraphModel(doc.documentElement, true);
			
			return node != null && node.getElementsByTagName('parsererror').length == 0;
		}
		catch (e)
		{
			// ignore
		}
		
		return false;
	};

	/**
	 * Extracts the mxfile from the given HTML data from a data transfer event.
	 */
	var editorUiExtractGraphModelFromHtml = EditorUi.prototype.extractGraphModelFromHtml;
	EditorUi.prototype.extractGraphModelFromHtml = function(data)
	{
		var result = editorUiExtractGraphModelFromHtml.apply(this, arguments);
		
		if (result == null)
		{
			try
			{
		    	var idx = data.indexOf('&lt;mxfile ');
		    	
		    	if (idx >= 0)
		    	{
		    		var idx2 = data.lastIndexOf('&lt;/mxfile&gt;');
		    		
		    		if (idx2 > idx)
		    		{
		    			result = data.substring(idx, idx2 + 15).replace(/&gt;/g, '>').
		    				replace(/&lt;/g, '<').replace(/\\&quot;/g, '"').replace(/\n/g, '');
		    		}
		    	}
		    	else
		    	{
		    		// Gets compressed data from mxgraph element in HTML document
					var doc = mxUtils.parseXml(data);
					var node = this.editor.extractGraphModel(doc.documentElement, this.pages != null);
					result = (node != null) ? mxUtils.getXml(node) : '';
		    	}
			}
			catch (e)
			{
				// ignore
			}
		}
		
		return result;
	};
		
	/**
	 * Workaround for malformed xhtml meta element bug 07.08.16. The trailing slash was missing causing
	 * reopen to fail trying to parse. Used in replaceFileData, setFileData and importFile.
	 */
	EditorUi.prototype.validateFileData = function(data)
	{
		if (data != null && data.length > 0)
		{
			var index = data.indexOf('<meta charset="utf-8">');
			
			if (index >= 0)
			{
				var replaceString = '<meta charset="utf-8"/>';
				var replaceStrLen = replaceString.length;
				data = data.slice(0, index) + replaceString + data.slice(index + replaceStrLen - 1, data.length);
			}
		}
		
		return data;
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.replaceFileData = function(data)
	{
		data = this.validateFileData(data);
		var node = (data != null && data.length > 0) ? mxUtils.parseXml(data).documentElement : null;

		// Some nodes must be extracted here to find the mxfile node
		// LATER: Remove duplicate call to extractGraphModel in overridden setGraphXml
		var tmp = (node != null) ? this.editor.extractGraphModel(node, true) : null;
		
		if (tmp != null)
		{
			node = tmp;
		}

		if (node != null)
		{
			var graph = this.editor.graph;
			
			graph.model.beginUpdate();
			try
			{
				var oldPages = (this.pages != null) ? this.pages.slice() : null;
				var nodes = node.getElementsByTagName('diagram');

				if (urlParams['pages'] != '0' || nodes.length > 1 ||
					(nodes.length == 1 && nodes[0].hasAttribute('name')))
				{
					this.fileNode = node;
					this.pages = (this.pages != null) ? this.pages : [];
					
					// Wraps page nodes
					for (var i = nodes.length - 1; i >= 0; i--)
					{
						var page = this.updatePageRoot(new DiagramPage(nodes[i]));
						
						// Checks for invalid page names
						if (page.getName() == null)
						{
							page.setName(mxResources.get('pageWithNumber', [i + 1]));
						}

						graph.model.execute(new ChangePage(this, page, (i == 0) ? page : null, 0));
					}
				}
				else
				{
					// Creates tabbed file structure if enforced by URL
					if (urlParams['pages'] != '0' && this.fileNode == null)
					{
						this.fileNode = node.ownerDocument.createElement('mxfile');
						this.currentPage = new DiagramPage(node.ownerDocument.createElement('diagram'));
						this.currentPage.setName(mxResources.get('pageWithNumber', [1]));
						graph.model.execute(new ChangePage(this, this.currentPage, this.currentPage, 0));
					}
					
					// Avoids scroll offset when switching page
					this.editor.setGraphXml(node);
					
					// Avoids duplicate parsing of the XML stored in the node
					if (this.currentPage != null)
					{
						this.currentPage.root = this.editor.graph.model.root;
					}
				}
				
				if (oldPages != null)
				{
					for (var i = 0; i < oldPages.length; i++)
					{
						graph.model.execute(new ChangePage(this, oldPages[i], null));
					}
				}
			}
			finally
			{
				graph.model.endUpdate();
			}
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createFileData = function(node, graph, file, url, forceXml, forceSvg, forceHtml, embeddedCallback, ignoreSelection, compact)
	{
		graph = (graph != null) ? graph : this.editor.graph;
		forceXml = (forceXml != null) ? forceXml : false;
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		
		var editLink = null;
		var redirect = null;
		
		if (file == null || file.getMode() == App.MODE_DEVICE || file.getMode() == App.MODE_BROWSER)
		{
			editLink = '_blank';
		}
		else
		{
			editLink = url;
			redirect = editLink;
		}
			
		if (node == null)
		{
			return '';
		}
		else
		{
			var fileNode = node;
	
			// Ignores case for possible HTML or XML nodes
			if (fileNode.nodeName.toLowerCase() != 'mxfile')
			{
				// Removes control chars in input for correct roundtrip check
				var text = graph.zapGremlins(mxUtils.getXml(node));
				var data = graph.compress(text);
				
				// Fallback to plain XML for invalid compression
				// TODO: Remove this fallback with active pages
				if (graph.decompress(data) != text)
				{
					return text;
				}
				else
				{
					var diagramNode = node.ownerDocument.createElement('diagram');
					mxUtils.setTextContent(diagramNode, data);
					
					fileNode = node.ownerDocument.createElement('mxfile');
					fileNode.appendChild(diagramNode);
				}
			}
			
			if (!compact)
			{
				fileNode.setAttribute('userAgent', navigator.userAgent);
				fileNode.setAttribute('version', EditorUi.VERSION);
				fileNode.setAttribute('editor', 'www.draw.io');
		
				var md = (file != null) ? file.getMode() : this.mode;
				
				if (md != null)
				{
					fileNode.setAttribute('type', md);
				}
			}
			else
			{
				fileNode = fileNode.cloneNode(true);
				fileNode.removeAttribute('userAgent');
				fileNode.removeAttribute('version');
				fileNode.removeAttribute('editor');
				fileNode.removeAttribute('type');
			}

			var xml = mxUtils.getXml(fileNode);
			
			// Writes the file as an embedded HTML file
			if (!forceSvg && !forceXml && (forceHtml || (file != null && /(\.html)$/i.test(file.getTitle()))))
			{
				xml = this.getHtml2(mxUtils.getXml(fileNode), graph, (file != null) ? file.getTitle() : null, editLink, redirect);
			}
			// Maps the XML data to the content attribute in the SVG node 
			else if (forceSvg || (!forceXml && file != null && /(\.svg)$/i.test(file.getTitle())))
			{
				if (file != null && (file.getMode() == App.MODE_DEVICE || file.getMode() == App.MODE_BROWSER))
				{
					url = null;
				}
				
				xml = this.getEmbeddedSvg(xml, graph, url, null, embeddedCallback, ignoreSelection, redirect);
			}
			
			return xml;
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getXmlFileData = function(ignoreSelection, currentPage)
	{
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		currentPage = (currentPage != null) ? currentPage : false;
		
		var node = this.editor.getGraphXml(ignoreSelection);
			
		if (ignoreSelection && this.fileNode != null && this.currentPage != null)
		{
			var data = this.editor.graph.compress(this.editor.graph.zapGremlins(mxUtils.getXml(node)));
			mxUtils.setTextContent(this.currentPage.node, data);
			node = this.fileNode.cloneNode(false);
			
			if (currentPage)
			{
				node.appendChild(this.currentPage.node);
			}
			else
			{
				// Restores order of pages
				for (var i = 0; i < this.pages.length; i++)
				{
					var mapping = this.pages[i].mapping;
					
					// Updates XML of all pages for realtime
					if (this.currentPage != this.pages[i] && mapping != null && mapping.needsUpdate)
					{
						var enc = new mxCodec(mxUtils.createXmlDocument());
						var temp = enc.encode(mapping.graphModel);
					
						// Uses the graph state from the realtime model
						mapping.writeRealtimeToNode(temp);					
		
						var data = this.editor.graph.compress(this.editor.graph.zapGremlins(mxUtils.getXml(temp)));
						mxUtils.setTextContent(this.pages[i].node, data);
						
						// Marks the page as up-to-date
						mapping.needsUpdate = false;
					}
					
					node.appendChild(this.pages[i].node);
				}
			}
		}
		
		return node;
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getFileData = function(forceXml, forceSvg, forceHtml, embeddedCallback, ignoreSelection, currentPage, node, compact)
	{
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		currentPage = (currentPage != null) ? currentPage : false;
		
		node = (node != null) ? node : this.getXmlFileData(ignoreSelection, currentPage);
		var graph = this.editor.graph;
		var file = this.getCurrentFile();
		
		// Exports SVG for first page while other page is visible by creating a graph
		// LATER: Add caching for the graph or SVG while not on first page
		if (this.pages != null && this.currentPage != this.pages[0] && (forceSvg ||
			(!forceXml && file != null && /(\.svg)$/i.test(file.getTitle()))))
		{
			graph = this.createTemporaryGraph(graph.getStylesheet());
			var graphGetGlobalVariable = graph.getGlobalVariable;
			var page = this.pages[0];
	
			graph.getGlobalVariable = function(name)
			{
				if (name == 'page')
				{
					return page.getName();
				}
				else if (name == 'pagenumber')
				{
					return 1;
				}
				
				return graphGetGlobalVariable.apply(this, arguments);
			};
	
			document.body.appendChild(graph.container);
			graph.model.setRoot(page.root);
		}
		
		var result = this.createFileData(node, graph, file, window.location.href,
			forceXml, forceSvg, forceHtml, embeddedCallback, ignoreSelection, compact);
		
		// Removes temporary graph from DOM
		if (graph != this.editor.graph)
		{
			graph.container.parentNode.removeChild(graph.container);
		}
		
		return result;
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.getHtml = function(node, graph, title, editLink, redirect, ignoreSelection)
	{
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		var bg = null;
		var js = 'https://www.draw.io/js/embed-static.min.js';
	
		// LATER: Merge common code with EmbedDialog
		if (graph != null)
		{
			var bounds = (ignoreSelection) ? graph.getGraphBounds() : graph.getBoundingBox(graph.getSelectionCells());
			var scale = graph.view.scale;
			var x0 = Math.floor(bounds.x / scale - graph.view.translate.x);
			var y0 = Math.floor(bounds.y / scale - graph.view.translate.y);
			bg = graph.background;
	
			// Embed script only used if no redirect
			if (redirect == null)
			{
				var s = this.getBasenames().join(';');
	
				if (s.length > 0)
				{
					js = 'https://www.draw.io/embed.js?s=' + s;
				}
			}
			
			// Adds embed attributes
			node.setAttribute('x0', x0);
			node.setAttribute('y0', y0);
		}
		
		if (node != null)
		{
			node.setAttribute('pan', '1');
			node.setAttribute('zoom', '1');
			node.setAttribute('resize', '0');
			node.setAttribute('fit', '0');
			node.setAttribute('border', '20');
			
			// Hidden attributes
			node.setAttribute('links', '1');
			
			if (editLink != null)
			{
				node.setAttribute('edit', editLink);
			}
		}
		
		// Makes XHTML compatible
		if (redirect != null)
		{
			redirect = redirect.replace(/&/g, '&amp;');
		}
	
		// Removes control chars in input for correct roundtrip check
		var text = (node != null) ? this.editor.graph.zapGremlins(mxUtils.getXml(node)) : '';
		
		// Double compression for mxfile not fixed since it may cause imcompatibilites with
		// embed clients that rely on this format. HTML files and export use getHtml2.
		var data = this.editor.graph.compress(text);
		
		// Fallback to URI encoded XML for invalid compression
		if (this.editor.graph.decompress(data) != text)
		{
			data = encodeURIComponent(text);
		}
		
		var style = 'position:relative;overflow:auto;width:100%;';
	
		return ((redirect == null) ? '<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->\n' : '') +
			'<!DOCTYPE html>\n<html' + ((redirect != null) ? ' xmlns="http://www.w3.org/1999/xhtml">' : '>') +
			'\n<head>\n' + ((redirect == null) ? ((title != null) ? '<title>' + mxUtils.htmlEntities(title) +
				'</title>\n' : '') : '<title>Draw.io Diagram</title>\n') +
			((redirect != null) ? '<meta http-equiv="refresh" content="0;URL=\'' + redirect + '\'"/>\n' : '') +
			'</head>\n<body' +
			(((redirect == null && bg != null && bg != mxConstants.NONE) ? ' style="background-color:' + bg + ';">' : '>')) +
			'\n<div class="mxgraph" style="' + style + '">\n' +
			'<div style="width:1px;height:1px;overflow:hidden;">' + data + '</div>\n</div>\n' +
			((redirect == null) ? '<script type="text/javascript" src="' + js + '"></script>' :
			'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" ' +
			'href="' + redirect + '" target="_blank"><img border="0" ' +
			'src="https://www.draw.io/images/drawlogo128.png"/></a>') +
			'\n</body>\n</html>\n';
	};
	
	/**
	 * Same as above but using the new embed code.
	 */
	EditorUi.prototype.getHtml2 = function(xml, graph, title, editLink, redirect)
	{
		var bg = null;
		var js = 'https://www.draw.io/js/viewer.min.js';
		var s = '';
	
		// LATER: Merge common code with EmbedDialog
		if (graph != null)
		{
			// Embed script only used if no redirect
			if (redirect == null)
			{
				var s = this.getBasenames().join(';');
				
				if (s.length > 0)
				{
					js = 'https://www.draw.io/embed2.js?s=' + s;
				}
			}
		}
	
		// Makes XHTML compatible
		if (redirect != null)
		{
			redirect = redirect.replace(/&/g, '&amp;');
		}
		
		var data = {highlight: '#0000ff', nav: this.editor.graph.foldingEnabled, resize: true,
			xml: this.editor.graph.zapGremlins(xml), toolbar: 'pages zoom layers lightbox'};
		
		if (this.pages != null && this.currentPage != null)
		{
			data.page = mxUtils.indexOf(this.pages, this.currentPage);
		}
	
		var style = 'max-width:100%;border:1px solid transparent;';
	
		return ((redirect == null) ? '<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->\n' : '') +
			'<!DOCTYPE html>\n<html' + ((redirect != null) ? ' xmlns="http://www.w3.org/1999/xhtml">' : '>') +
			'\n<head>\n' + ((redirect == null) ? ((title != null) ? '<title>' + mxUtils.htmlEntities(title) +
				'</title>\n' : '') : '<title>Draw.io Diagram</title>\n') +
			((redirect != null) ? '<meta http-equiv="refresh" content="0;URL=\'' + redirect + '\'"/>\n' : '') +
			'<meta charset="utf-8"/>\n</head>\n<body>' +
			'\n<div class="mxgraph" style="' + style + '" data-mxgraph="' + mxUtils.htmlEntities(JSON.stringify(data)) + '"></div>\n' +
			((redirect == null) ? '<script type="text/javascript" src="' + js + '"></script>' :
			'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" ' +
			'href="' + redirect + '" target="_blank"><img border="0" ' +
			'src="https://www.draw.io/images/drawlogo128.png"/></a>') +
			'\n</body>\n</html>\n';
	};

	/**
	 * 
	 */
	EditorUi.prototype.setFileData = function(data)
	{
		data = this.validateFileData(data);
		this.currentPage = null;
		this.fileNode = null;
		this.pages = null;

		var node = (data != null && data.length > 0) ? mxUtils.parseXml(data).documentElement : null;

		// Some nodes must be extracted here to find the mxfile node
		// LATER: Remove duplicate call to extractGraphModel in overridden setGraphXml
		var tmp = (node != null) ? this.editor.extractGraphModel(node, true) : null;
		
		if (tmp != null)
		{
			node = tmp;
		}

		if (node != null && node.nodeName == 'mxfile')
		{
			var nodes = node.getElementsByTagName('diagram');

			if (urlParams['pages'] != '0' || nodes.length > 1 ||
				(nodes.length == 1 && nodes[0].hasAttribute('name')))
			{
				this.fileNode = node;
				this.pages = [];
				
				// Wraps page nodes
				for (var i = 0; i < nodes.length; i++)
				{
					var page = new DiagramPage(nodes[i]);
					
					// Checks for invalid page names
					if (page.getName() == null)
					{
						page.setName(mxResources.get('pageWithNumber', [i + 1]));
					}
					
					this.pages.push(page);
				}
				
				this.currentPage = this.pages[Math.max(0, Math.min(this.pages.length - 1, urlParams['page'] || 0))];
				node = this.currentPage.node;
			}
		}
		
		// Creates tabbed file structure if enforced by URL
		if (urlParams['pages'] != '0' && this.fileNode == null && node != null)
		{
			this.fileNode = node.ownerDocument.createElement('mxfile');
			this.currentPage = new DiagramPage(node.ownerDocument.createElement('diagram'));
			this.currentPage.setName(mxResources.get('pageWithNumber', [1]));
	 	 	this.pages = [this.currentPage];
		}
		
		// Avoids scroll offset when switching page
		this.editor.setGraphXml(node);
		
		// Avoids duplicate parsing of the XML stored in the node
		if (this.currentPage != null)
		{
			this.currentPage.root = this.editor.graph.model.root;
		}
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getBaseFilename = function()
	{
		var file = this.getCurrentFile();
		var basename = (file != null && file.getTitle() != null) ? file.getTitle() : this.defaultFilename;
		
		if (/(\.xml)$/i.test(basename) || /(\.html)$/i.test(basename) || /(\.svg)$/i.test(basename))
		{
			basename = basename.substring(0, basename.lastIndexOf('.'));
		}
		
		return basename;
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.downloadFile = function(format, nonCompressed, addShadow, ignoreSelection, currentPage, pageVisible)
	{
		try
		{
			ignoreSelection = (ignoreSelection != null) ? ignoreSelection : this.editor.graph.isSelectionEmpty();
			var basename = this.getBaseFilename();
			var filename = basename + '.' + format;
			
			if (format == 'xml')
			{
		    	var data = '<?xml version="1.0" encoding="UTF-8"?>\n' +
		    		((nonCompressed) ? mxUtils.getXml(this.editor.getGraphXml(ignoreSelection)) :
		    			this.getFileData(true, null, null, null, ignoreSelection, currentPage));
		    	
		    	this.saveData(filename, format, data, 'text/xml');
			}
		    else if (format == 'html')
		    {
		    	var data = this.getHtml2(this.getFileData(true), this.editor.graph, basename);
		    	this.saveData(filename, format, data, 'text/html');
		    }
		    else if ((format == 'svg' || format == 'xmlsvg') && this.spinner.spin(document.body, mxResources.get('export')))
		    {
		    	var svg = null;
		    	
		    	var saveSvg = mxUtils.bind(this, function(data)
		    	{
		    		if (data.length <= MAX_REQUEST_SIZE)
		    		{
		    	    	this.saveData(filename, 'svg', data, 'image/svg+xml');
		    		}
		    		else
		    		{
		    			this.handleError({message: mxResources.get('drawingTooLarge')}, mxResources.get('error'), mxUtils.bind(this, function()
		    			{
		    				mxUtils.popup(svg);
		    			}));
		    		}
		    	});
		    	
		    	if (format == 'svg')
		    	{
		        	var bg = this.editor.graph.background;
		        	
		        	if (bg == mxConstants.NONE)
		        	{
		        		bg = null;
		        	}
		
		        	// Sets or disables alternate text for foreignObjects. Disabling is needed
		        	// because PhantomJS seems to ignore switch statements and paint all text.
		        	var svgRoot = this.editor.graph.getSvg(bg, null, null, null, null, ignoreSelection);
					
					if (addShadow)
					{
						this.editor.graph.addSvgShadow(svgRoot);
					}
					
					// Embeds the images in the SVG output (async)
					this.convertImages(svgRoot, mxUtils.bind(this, mxUtils.bind(this, function(svgRoot2)
					{
						this.spinner.stop();
						
						saveSvg('<?xml version="1.0" encoding="UTF-8"?>\n' +
							'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n' +
							mxUtils.getXml(svgRoot2));
					})));
		    	}
		    	else
		    	{
		    		filename = basename + '.svg';
		    		
		    		svg = this.getFileData(false, true, null, mxUtils.bind(this, function(svg)
		    		{
		    			this.spinner.stop();
		        		saveSvg(svg);    			
		    		}), ignoreSelection);
		    	}
		    }
			else
			{
				if (format == 'xmlpng')
				{
					filename = basename + '.png';
				}
				else if (format == 'jpeg')
				{
					filename = basename + '.jpg';
				}
				
				this.saveRequest(filename, format, mxUtils.bind(this, function(newTitle, base64)
				{
					try
					{
						var prev = this.editor.graph.pageVisible;
						
						if (pageVisible != null)
						{
							this.editor.graph.pageVisible = pageVisible;
						}
						
						var req = this.createDownloadRequest(newTitle, format, ignoreSelection, base64);
						this.editor.graph.pageVisible = prev;
						
						return req;
					}
					catch (e)
					{
						this.handleError(e);
					}
				}));
			}
		}
		catch (e)
		{
			this.handleError(e);
		}
	};
		
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createDownloadRequest = function(filename, format, ignoreSelection, base64)
	{
		var bounds = this.editor.graph.getGraphBounds();
		
		// Exports only current page for PDF since it does not contain file data, but for
		// the other formats with XML included we need to send the complete data and use
		// the from/to URL parameters to specify the page to be exported.
		var data = this.getFileData(true, null, null, null, ignoreSelection, format != 'xmlpng');
		var range = '';
		
		if (bounds.width * bounds.height > MAX_AREA || data.length > MAX_REQUEST_SIZE)
		{
			throw {message: mxResources.get('drawingTooLarge')};
		}
		
		var embed = '0';
       	
       	if (format == 'xmlpng')
       	{
       		embed = '1';
       		format = 'png';
       		
       		// Finds the current page number
       		if (this.pages != null && this.currentPage != null)
       		{
       			for (var i = 0; i < this.pages.length; i++)
       			{
       				if (this.pages[i] == this.currentPage)
       				{
       					range = '&from=' + i;
       					break;
       				}
       			}
       		}
       	}
       	
		return new mxXmlRequest(EXPORT_URL, 'format=' + format + range +
			'&base64=' + base64 + '&embedXml=' + embed + '&xml=' +
			encodeURIComponent(data) + ((filename != null) ?
			'&filename=' + encodeURIComponent(filename) : ''));
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.setMode = function(mode, remember)
	{
		this.mode = mode;
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.fileLoaded = function(file)
	{
		var result = false;
		this.hideDialog();
		var oldFile = this.getCurrentFile();
		this.setCurrentFile(null);
	
		if (oldFile != null)
		{
			oldFile.removeListener(this.descriptorChangedListener);
			oldFile.close();
		}
		
		this.editor.graph.model.clear();
		this.editor.undoManager.clear();
	
		var noFile = mxUtils.bind(this, function()
		{
			this.setGraphEnabled(false);
			
			// Keeps initial title if no file existed before
			if (oldFile != null)
			{
				this.updateDocumentTitle();
			}
			
			// File might have been loaded halfway
			this.editor.graph.model.clear();
			this.editor.undoManager.clear();
					
			// Avoids empty hash with no value
			if (window.location.hash != null && window.location.hash.length > 0)
			{
				window.location.hash = '';
			}
			
			if (this.fname != null)
			{
				this.fnameWrapper.style.display = 'none';
				this.fname.innerHTML = '';
				this.fname.setAttribute('title', mxResources.get('rename'));
			}
	
			this.updateUi();
			this.showSplash();
		});
	
		if (file != null)
		{
			try
			{
				// Order is significant, current file needed for correct
				// file format for initial save after starting realtime
				this.setCurrentFile(file);
				file.addListener('descriptorChanged', this.descriptorChangedListener);
				file.addListener('contentChanged', this.descriptorChangedListener);
				this.descriptorChanged();
				file.open();
				
				this.setGraphEnabled(true);
				this.setMode(file.getMode());
				this.editor.undoManager.clear();
				this.updateUi();
				
				// Realtime files have a valid status message
				if (file.realtime == null)
				{
					if (!file.isEditable())
					{
						this.editor.setStatus(mxUtils.htmlEntities(mxResources.get('readOnly')));
					}
					else
					{
						this.editor.setStatus('');
					}
				}
	
				if (!this.editor.chromeless)
				{
					this.editor.graph.selectUnlockedLayer();
					this.showLayersDialog();
					this.restoreLibraries();
					
					// Workaround for no initial focus in FF
					if (window.self !== window.top)
					{
						window.focus();
					}
				}
				else if (this.editor.graph.lightbox)
				{
					this.lightboxFit();
				}
	
				if (this.chromelessResize)
				{
					this.chromelessResize();
				}
				
				this.editor.fireEvent(new mxEventObject('fileLoaded'));
				result = true;
				
				if (this.enableLogging && !this.isOffline() && file.getMode() != null)
				{
		        	try
		        	{
	        			var img = new Image();
						var logDomain = window.DRAWIO_LOG_URL != null ? window.DRAWIO_LOG_URL : '';
	        			img.src = logDomain + '/log?msg=storageMode:' + encodeURIComponent(file.getMode()) +
        				'&v=' + encodeURIComponent(EditorUi.VERSION);
		        	}
		        	catch (e)
		        	{
		        		// ignore
		        	}
				}
				
				if (this.mode == file.getMode() && file.getMode() != App.MODE_DEVICE && file.getMode() != null)
				{
					try
					{
						this.addRecent({id: file.getHash(), title: file.getTitle(), mode: file.getMode()});
					}
					catch (e)
					{
						// ignore
					}
				}
			}
			catch (e)
			{
				// Makes sure the file does not save the invalid UI model and overwrites anything important
				if (window.console != null)
				{
					console.log('error in fileLoaded:', file, e);
				}
				
				if (this.enableLogging && !this.isOffline())
				{
		        	try
		        	{
						var img = new Image();
						var logDomain = window.DRAWIO_LOG_URL != null ? window.DRAWIO_LOG_URL : '';
			    		img.src = logDomain + '/log?v=' + encodeURIComponent(EditorUi.VERSION) +
			    			'&msg=errorInFileLoaded:url:' + encodeURIComponent(window.location.href) +
		    				((e != null && e.message != null) ? ':err:' + encodeURIComponent(e.message) : '') +
		    				((e != null && e.stack != null) ? '&stack=' + encodeURIComponent(e.stack) : '');
		        	}
		        	catch (e)
		        	{
		        		// ignore
		        	}
				}
				
				// Asynchronous handling of errors
				this.handleError(e, mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
				{
					// Removes URL parameter and reloads the page
					if (urlParams['url'] != null && this.spinner.spin(document.body, mxResources.get('reconnecting')))
					{
						window.location.search = this.getSearch(['url']);
					}
					else if (oldFile != null)
					{
						this.fileLoaded(oldFile);
					}
					else
					{
						noFile();
					}
				}));
			}
		}
		else
		{
			noFile();
		}
		
		return result;
	};

	/**
	 * Updates action states depending on the selection.
	 */
	EditorUi.prototype.restoreLibraries = function()
	{
		// hook for subclassers
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.saveLibrary = function(name, images, file, mode, noSpin, noReload, fn)
	{
		// hook for subclassers
	};
	
	/**
	 * Shows or hides the scratchpad library.
	 */
	EditorUi.prototype.toggleScratchpad = function()
	{
		if (isLocalStorage || mxClient.IS_CHROMEAPP)
		{
			if (this.scratchpad == null)
			{
				this.getLocalData('.scratchpad', mxUtils.bind(this, function(xml)
				{
					if (xml == null)
					{
						xml = this.emptyLibraryXml;
					}
					
					this.loadLibrary(new StorageLibrary(this, xml, '.scratchpad'));
					
				}));
			}
			else
			{
				this.closeLibrary(this.scratchpad);
			}
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createLibraryDataFromImages = function(images)
	{
		var doc = mxUtils.createXmlDocument();
		var library = doc.createElement('mxlibrary');
		mxUtils.setTextContent(library, JSON.stringify(images));
		doc.appendChild(library);
		
		return mxUtils.getXml(doc);
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.closeLibrary = function(file)
	{
		if (file != null)
		{
			this.removeLibrarySidebar(file.getHash());
			
			if (file.constructor != LocalLibrary)
			{
				mxSettings.removeCustomLibrary(file.getHash());
			}
			
			if (file.title == '.scratchpad')
			{
				this.scratchpad = null;
			}
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.removeLibrarySidebar = function(id)
	{
		var elts = this.sidebar.palettes[id];
		
		if (elts != null)
		{
			for (var i = 0; i < elts.length; i++)
			{
				elts[i].parentNode.removeChild(elts[i]);
			}
			
			delete this.sidebar.palettes[id];
		}
	};
	
	/**
	 * Changes the position of the library in the sidebar 
	 */
	EditorUi.prototype.repositionLibrary = function(nextChild) 
	{
	    var c = this.sidebar.container;
		nextChild = (nextChild != null) ? nextChild : c.firstChild.nextSibling.nextSibling;
		
		var content = c.lastChild;
		var title = content.previousSibling;
		
	    c.insertBefore(content, nextChild);
	    c.insertBefore(title, content);
	}
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.loadLibrary = function(file)
	{
		var doc = mxUtils.parseXml(file.getData());
		
		if (doc.documentElement.nodeName == 'mxlibrary')
		{
			var images = JSON.parse(mxUtils.getTextContent(doc.documentElement));
			this.libraryLoaded(file, images, doc.documentElement.getAttribute('title'));
		}
		else
		{
			throw {message: mxResources.get('notALibraryFile')};
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getLibraryStorageHint = function(file)
	{
		return '';
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.libraryLoaded = function(file, images, optionalTitle)
	{
		if (file.constructor != LocalLibrary)
		{
			mxSettings.addCustomLibrary(file.getHash());
		}
	
		if (file.title == '.scratchpad')
		{
			this.scratchpad = file;
		}
		
		var elts = this.sidebar.palettes[file.getHash()];
		var nextSibling = (elts != null) ? elts[elts.length - 1].nextSibling : null;
	
		// Removes existing sidebar entry for this library
		this.removeLibrarySidebar(file.getHash());
		var dropTarget = null;
		
		var addImages = mxUtils.bind(this, function(imgs, content)
		{
			if (imgs.length == 0 && file.isEditable())
			{
				if (dropTarget == null)
				{
					dropTarget = document.createElement('div');
					mxUtils.setPrefixedStyle(dropTarget.style, 'borderRadius', '6px');
					dropTarget.style.border = '3px dotted lightGray';
					dropTarget.style.textAlign = 'center';
					dropTarget.style.padding = '8px';
					dropTarget.style.color = '#B3B3B3';
					mxUtils.write(dropTarget, mxResources.get('dragElementsHere'));
				}
				
				content.appendChild(dropTarget);
			}
			else
			{
				for (var i = 0; i < imgs.length; i++)
				{
					var img = imgs[i];
					var data = img.data;
		
					if (data != null)
					{
						data = this.convertDataUri(data);
						var s = 'shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;';
						
						if (img.aspect == 'fixed')
						{
							s += 'aspect=fixed;'
						}
						
						content.appendChild(this.sidebar.createVertexTemplate(s + 'image=' +
							data, img.w, img.h, '', img.title || '', false, false, false));
					}
					else if (img.xml != null)
					{
						var cells = this.stringToCells(this.editor.graph.decompress(img.xml));
						
						if (cells.length > 0)
						{
							content.appendChild(this.sidebar.createVertexTemplateFromCells(
								cells, img.w, img.h, img.title || '', true, false, false));
						}
					}
				}
			}
		});
		
		// Adds new sidebar entry for this library
		var tmp = (optionalTitle != null && optionalTitle.length > 0) ? optionalTitle : file.getTitle();
		var contentDiv = this.sidebar.addPalette(file.getHash(), tmp, true, mxUtils.bind(this, function(content)
		{
			addImages(images, content);
	    }));
	
		this.repositionLibrary(nextSibling);
		
		// Adds tooltip for backend
		var title = contentDiv.parentNode.previousSibling;
	    var tip = title.getAttribute('title');
	    
	    if (tip != null && tip.length > 0 && file.title != '.scratchpad')
	    {
	    	title.setAttribute('title', this.getLibraryStorageHint(file) + '\n' + tip);
	    }
	    
	    var buttons = document.createElement('div');
	    buttons.style.position = 'absolute';
	    buttons.style.right = '0px';
	    buttons.style.top = '5px';
	    
	    // Workaround for CSS error in IE8 (standards and quirks)
	    if (!mxClient.IS_QUIRKS && document.documentMode != 8)
	    {
	    	buttons.style.backgroundColor = 'inherit';
	    }
	    
	    title.style.position = 'relative';
	    
	    var btnWidth = 18;
		var btn = document.createElement('img');
		btn.setAttribute('src', Dialog.prototype.closeImage);
		btn.setAttribute('title', mxResources.get('close'));
		btn.setAttribute('align', 'top');
		btn.setAttribute('border', '0');
		btn.className = 'geButton';
		btn.style.marginRight = '1px';
		btn.style.marginTop = '-1px';
		buttons.appendChild(btn);
		
		var saveBtn = null;
		
		mxEvent.addListener(btn, 'click', mxUtils.bind(this, function(evt)
		{
			// Workaround for close after any button click in IE8/quirks
			if (!mxEvent.isConsumed(evt))
			{
				var fn = mxUtils.bind(this, function()
				{
					this.closeLibrary(file);
				});
				
				if (saveBtn != null)
				{
					this.confirm(mxResources.get('allChangesLost'), null, fn,
						mxResources.get('cancel'), mxResources.get('discardChanges'));
				}
				else
				{
					fn();
				}
		
				mxEvent.consume(evt);
			}
		}));
		
		// Shows tooltip if mouse over background
		mxEvent.addListener(contentDiv, 'mousemove', mxUtils.bind(this, function(evt)
		{
			if (mxEvent.getSource(evt) == contentDiv)
			{
				contentDiv.setAttribute('title', mxResources.get('libraryTooltip'));
			}
			else
			{
				contentDiv.removeAttribute('title');
			}
		}));
		
		if (file.isEditable())
		{
			var graph = this.editor.graph;
			
			var editLibrary = mxUtils.bind(this, function(evt)
			{
				this.showLibraryDialog(file.getTitle(), contentDiv, images, file, file.getMode());
				mxEvent.consume(evt);
			});
			
			var saveLibrary = mxUtils.bind(this, function(evt)
			{
				if (file.constructor != LocalLibrary && file.isAutosave())
				{
					if (spinBtn != null && spinBtn.parentNode != null)
					{
						spinBtn.parentNode.removeChild(spinBtn);
					}
					
					spinBtn = btn.cloneNode(false);
					spinBtn.setAttribute('src', Editor.spinImage);
					spinBtn.setAttribute('title', mxResources.get('saving'));
					spinBtn.style.cursor = 'default';
					spinBtn.style.marginRight = '2px';
					spinBtn.style.marginTop = '-2px';
					buttons.insertBefore(spinBtn, buttons.firstChild);
					title.style.paddingRight = (buttons.childNodes.length * btnWidth) + 'px';
					
					this.saveLibrary(file.getTitle(), images, file, file.getMode(), true, true, function()
					{
						if (spinBtn != null && spinBtn.parentNode != null)
						{
							spinBtn.parentNode.removeChild(spinBtn);
							title.style.paddingRight = (buttons.childNodes.length * btnWidth) + 'px';
						}
					});
				}
				else if (saveBtn == null)
				{
					saveBtn = btn.cloneNode(false);
					saveBtn.setAttribute('src', IMAGE_PATH + '/download.png');
					saveBtn.setAttribute('title', mxResources.get('save'));
					buttons.insertBefore(saveBtn, buttons.firstChild);
					
					mxEvent.addListener(saveBtn, 'click', mxUtils.bind(this, function(evt)
					{
						this.saveLibrary(file.getTitle(), images, file, file.getMode(),
							file.constructor == LocalLibrary, true);
						saveBtn.parentNode.removeChild(saveBtn);
						saveBtn = null;
						title.style.paddingRight = (buttons.childNodes.length * btnWidth) + 'px';
						
						mxEvent.consume(evt);
					}));
					
					title.style.paddingRight = (buttons.childNodes.length * btnWidth) + 'px';
				}
			});
			
			var addCells = mxUtils.bind(this, function(cells, bounds, evt, title)
			{
				cells = graph.cloneCells(mxUtils.sortCells(graph.model.getTopmostCells(cells)));
	
				// Translates cells to origin
				for (var i = 0; i < cells.length; i++)
				{
					var geo = graph.getCellGeometry(cells[i]);
					
					if (geo != null)
					{
						geo.translate(-bounds.x, -bounds.y);
					}
				}
	
				contentDiv.appendChild(this.sidebar.createVertexTemplateFromCells(
					cells, bounds.width, bounds.height, title || '', true, false, false));
	
				var xml = this.editor.graph.compress(mxUtils.getXml(this.editor.graph.encodeCells(cells)));
				var entry = {xml: xml, w: bounds.width, h: bounds.height};
				
				if (title != null)
				{
					entry.title = title;
				}
				
				images.push(entry);
				saveLibrary(evt);
				
				if (dropTarget != null && dropTarget.parentNode != null && images.length > 0)
				{
					dropTarget.parentNode.removeChild(dropTarget);
					dropTarget = null;
				}
			});
		
			var addSelection = mxUtils.bind(this, function(evt)
			{
				if (!graph.isSelectionEmpty())
				{
					var cells = graph.getSelectionCells();
					var bounds = graph.view.getBounds(cells);
					
					var s = graph.view.scale;
					
					bounds.x /= s;
					bounds.y /= s;
					bounds.width /= s;
					bounds.height /= s;
					
					bounds.x -= graph.view.translate.x;
					bounds.y -= graph.view.translate.y;
					
					addCells(cells, bounds);
				}
				else if (graph.getRubberband().isActive())
				{
					graph.getRubberband().execute(evt);
					graph.getRubberband().reset();
				}
				else
				{
					this.showError(mxResources.get('error'), mxResources.get('nothingIsSelected'), mxResources.get('ok'));
				}
				
				mxEvent.consume(evt);
			});
			
			// Defines inactive border state
			contentDiv.style.border = '3px solid transparent';
			
			// Adds drop handler from graph
			mxEvent.addGestureListeners(contentDiv, function(){}, mxUtils.bind(this, function(evt)
			{
				if (graph.isMouseDown && graph.panningManager != null && graph.graphHandler.shape != null)
				{
					graph.graphHandler.shape.node.style.visibility = 'hidden';
					
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted rgb(254, 137, 12)';
					}
					else
					{
						contentDiv.style.border = '3px dotted rgb(254, 137, 12)';
					}
					
					contentDiv.style.cursor = 'copy';
					graph.panningManager.stop();
					graph.autoScroll = false;
					
					if (graph.graphHandler.guide != null)
					{
						graph.graphHandler.guide.setVisible(false);
					}
					
					if (graph.graphHandler.hint != null)
					{
						graph.graphHandler.hint.style.visibility = 'hidden';	
					}
					
					mxEvent.consume(evt);
				}
			}), mxUtils.bind(this, function(evt)
			{
				if (graph.isMouseDown && graph.panningManager != null && graph.graphHandler != null)
				{
					contentDiv.style.border = '3px solid transparent';
					
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted lightGray';
					}
					
					contentDiv.style.cursor = 'default';
					this.sidebar.showTooltips = true;
					graph.panningManager.stop();
					graph.graphHandler.reset();
					graph.isMouseDown = false;
					graph.autoScroll = true;
					addSelection(evt);
					mxEvent.consume(evt);
				}
			}));
			
			// Handles mouse leaving the library and restoring move
			mxEvent.addListener(contentDiv, 'mouseleave', mxUtils.bind(this, function(evt)
			{
				if (graph.isMouseDown && graph.graphHandler.shape != null)
				{
					graph.graphHandler.shape.node.style.visibility = 'visible';
					contentDiv.style.border = '3px solid transparent';
					contentDiv.style.cursor = '';
					graph.autoScroll = true;
					
					if (graph.graphHandler.guide != null)
					{
						graph.graphHandler.guide.setVisible(true);
					}
					
					if (graph.graphHandler.hint != null)
					{
						graph.graphHandler.hint.style.visibility = 'visible';	
					}
					
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted lightGray';
					}
				}
			}));
			
			// Adds drop handler from filesystem
			if (Graph.fileSupport)
			{
				mxEvent.addListener(contentDiv, 'dragover', mxUtils.bind(this, function(evt)
				{
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted rgb(254, 137, 12)';
					}
					else
					{
						contentDiv.style.border = '3px dotted rgb(254, 137, 12)';
					}
					
					evt.dataTransfer.dropEffect = 'copy';
					contentDiv.style.cursor = 'copy';
					this.sidebar.hideTooltip();
					evt.stopPropagation();
					evt.preventDefault();
				}));
				
				mxEvent.addListener(contentDiv, 'drop', mxUtils.bind(this, function(evt)
				{
					contentDiv.style.border = '3px solid transparent';
					contentDiv.style.cursor = '';
					
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted lightGray';
					}
					
				    if (evt.dataTransfer.files.length > 0)
				    {	
				    	this.importFiles(evt.dataTransfer.files, 0, 0, this.maxImageSize, mxUtils.bind(this, function(data, mimeType, x, y, w, h, img)
				    	{
							if (data != null && mimeType.substring(0, 6) == 'image/')
							{
								var style = 'shape=image;verticalLabelPosition=bottom;verticalAlign=top;aspect=fixed;image=' +
									this.convertDataUri(data);
								var cells = [new mxCell('', new mxGeometry(0, 0, w, h), style)];
								cells[0].vertex = true;
	
								addCells(cells, new mxRectangle(0, 0, w, h), evt, (mxEvent.isAltDown(evt)) ? null : img.substring(0, img.lastIndexOf('.')).replace(/_/g, ' '));
							}
							else
							{
								var done = false;
								
								if (data != null && mimeType == 'text/xml')
								{
									var doc = mxUtils.parseXml(data);
									
									if (doc.documentElement.nodeName == 'mxlibrary')
									{
										try
										{
											var temp = JSON.parse(mxUtils.getTextContent(doc.documentElement));
											addImages(temp, contentDiv);
											images = images.concat(temp);
											saveLibrary(evt);
											this.spinner.stop();
											done = true;
										}
										catch (e)
										{
											// ignore
										}
									}
									else if (doc.documentElement.nodeName == 'mxfile')
									{
										try
										{
											var temp = mxUtils.getTextContent(doc.documentElement.getElementsByTagName('diagram')[0]);
											var cells = this.stringToCells(this.editor.graph.decompress(temp));
											addCells(cells, new mxRectangle(0, 0, w, h), evt);
											done = true;
										}
										catch (e)
										{
											// ignore
										}
									}
								}
								
								if (!done)
								{
									this.spinner.stop();
									this.handleError({message: mxResources.get('errorLoadingFile')})
								}
							}
							
							if (dropTarget != null && dropTarget.parentNode != null && images.length > 0)
							{
								dropTarget.parentNode.removeChild(dropTarget);
								dropTarget = null;
							}
				    	}));
					}
				    
				    evt.stopPropagation();
				    evt.preventDefault();
				}));
	
				mxEvent.addListener(contentDiv, 'dragleave', function(evt)
				{
					if (dropTarget != null)
					{
						dropTarget.style.border = '3px dotted lightGray';
					}
					else
					{
						contentDiv.style.border = '3px solid transparent';
						contentDiv.style.cursor = '';
					}
	
					evt.stopPropagation();
					evt.preventDefault();
				});
			}
	
			btn = btn.cloneNode(false);
			btn.setAttribute('src', IMAGE_PATH + '/edit.gif');
			btn.setAttribute('title', mxResources.get('edit'));
			buttons.insertBefore(btn, buttons.firstChild);
			
			mxEvent.addListener(btn, 'click', editLibrary);
			mxEvent.addListener(contentDiv, 'dblclick', function(evt)
			{
				if (mxEvent.getSource(evt) == contentDiv)
				{
					editLibrary(evt);
				}
			});
			
			btn = btn.cloneNode(false);
			btn.setAttribute('src', Editor.plusImage);
			btn.setAttribute('title', mxResources.get('add'));
			buttons.insertBefore(btn, buttons.firstChild);
			
			if (!this.isOffline() && file.title == '.scratchpad')
			{
				var link = document.createElement('span');
				link.setAttribute('title', mxResources.get('help'));
				link.style.cssText = 'color:gray;text-decoration:none;';
				link.className = 'geButton';
				mxUtils.write(link, '?');
				
				mxEvent.addGestureListeners(link, mxUtils.bind(this, function(evt)
				{
					window.open('https://support.draw.io/questions/10420280');
					mxEvent.consume(evt);
				}));
				
				buttons.insertBefore(link, buttons.firstChild);
			}
			
			var spinBtn = null;
	
			mxEvent.addListener(btn, 'click', addSelection);
		}
		
		title.appendChild(buttons);
		title.style.paddingRight = (buttons.childNodes.length * btnWidth) + 'px';
	};

	/**
	 * EditorUi Overrides
	 */
    if (urlParams['offline'] == '1')
    {
		EditorUi.prototype.footerHeight = 4;
    }
    else
    {
    	if (uiTheme == 'atlas')
    	{
    		if (typeof Toolbar !== 'undefined')
    		{
    			Toolbar.prototype.unselectedBackground = (mxClient.IS_QUIRKS) ? 'none' : 'linear-gradient(rgb(255, 255, 255) 0px, rgb(242, 242, 242) 100%)';
    			Toolbar.prototype.selectedBackground = 'rgb(242, 242, 242)';
    		}
    		
    		Editor.prototype.initialTopSpacing = 3;
    		EditorUi.prototype.menubarHeight = 41;
    		EditorUi.prototype.toolbarHeight = 38;
    		EditorUi.prototype.hsplitPosition = 188;
    		Sidebar.prototype.thumbWidth = 46;
    		Sidebar.prototype.thumbHeight = 46;
    		Sidebar.prototype.thumbPadding = (document.documentMode >= 5) ? 0 : 1;
    		Sidebar.prototype.thumbBorder = 2;
    	}
    	else
    	{
    		if (urlParams['savesidebar'] == '1')
    		{
        		Sidebar.prototype.thumbWidth = 64;
        		Sidebar.prototype.thumbHeight = 64;
    		}
    	}

		EditorUi.prototype.footerHeight = (screen.height <= 740) ? 5 : 46;
		
		// Fetches footer from page
		EditorUi.prototype.createFooter = function()
		{
			var footer = document.getElementById('geFooter');
			
			if (footer != null)
			{
				footer.style.visibility = 'visible';
				
				// Adds button to hide the footer
				var img = document.createElement('img');
				img.setAttribute('border', '0');
				img.setAttribute('src', Dialog.prototype.closeImage);
				img.setAttribute('title', mxResources.get('hide'));
				footer.appendChild(img)

				if (mxClient.IS_QUIRKS)
				{
					img.style.position = 'relative';
					img.style.styleFloat = 'right';
					img.style.top = '-30px';
					img.style.left = '164px';
					img.style.cursor = 'pointer';
				}
				
				mxEvent.addListener(img, 'click', mxUtils.bind(this, function()
				{
					this.hideFooter();
				}));
			}

			return footer;
		};
    }
    
    /**
     * Hides the footer.
     */
    EditorUi.prototype.hideFooter = function()
    {
    	var footer = document.getElementById('geFooter');
    	
    	if (footer != null)
    	{
    		this.footerHeight = 0;
    		footer.style.display = 'none';
    		this.refresh();
    	}
    };

	/**
	 * Overrides image dialog to add image search and Google+.
	 */
    EditorUi.prototype.showImageDialog = function(title, value, fn, ignoreExisting, convertDataUri)
	{
		// KNOWN: IE+FF don't return keyboard focus after image dialog (calling focus doesn't help)
    	var dlg = new ImageDialog(this, title, value, fn, ignoreExisting, convertDataUri);
		this.showDialog(dlg.container, (Graph.fileSupport) ? 420 : 340, (Graph.fileSupport) ? 200 : 90, true, true);
		dlg.init();
	};

	/**
	 * Hides the current menu.
	 */
	EditorUi.prototype.showBackgroundImageDialog = function(apply)
	{
		apply = (apply != null) ? apply : mxUtils.bind(this, function(image)
		{
			this.setBackgroundImage(image);
		});
		var dlg = new BackgroundImageDialog(this, mxUtils.bind(this, function(image)
		{
			apply(image);
		}));
		this.showDialog(dlg.container, 360, 200, true, true);
		dlg.init();
	};

	/**
	 * Hides the current menu.
	 */
	EditorUi.prototype.showLibraryDialog = function(name, sidebar, images, file, mode)
	{
		var dlg = new LibraryDialog(this, name, sidebar, images, file, mode);
		
		this.showDialog(dlg.container, 620, 440, true, true, mxUtils.bind(this, function(cancel)
		{
			if (cancel && this.getCurrentFile() == null && urlParams['embed'] != '1')
			{
				this.showSplash();
			}
		}));
		
		dlg.init();
	};

	/**
	 * Hook for sidebar footer container.
	 */
	EditorUi.prototype.createSidebarFooterContainer = function()
	{
		var div =  this.createDiv('geSidebarContainer');
		div.style.position = 'absolute';
		div.style.overflow = 'hidden';
		div.style.borderWidth = '3px';

		var elt2 = document.createElement('a');
		elt2.setAttribute('href', 'javascript:void(0);');
		elt2.className = 'geTitle';
		elt2.style.height = '100%';
		elt2.style.paddingTop = '9px';

		mxUtils.write(elt2, mxResources.get('moreShapes') + '...');

		mxEvent.addListener(elt2, 'click', mxUtils.bind(this, function(evt)
		{
			this.actions.get('shapes').funct();
			mxEvent.consume(evt);
		}));
		
		div.appendChild(elt2);
		
		return div;
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.handleError = function(resp, title, fn)
	{
		var resume = (this.spinner != null && this.spinner.pause != null) ? this.spinner.pause() : function() {};
		var e = (resp != null && resp.error != null) ? resp.error : resp;
	
		if (e != null || title != null)
		{
			var msg = mxUtils.htmlEntities(mxResources.get('unknownError'));
			var btn = mxResources.get('ok');
			var retry = null;
			title = (title != null) ? title : mxResources.get('error');
			
			if (e != null)
			{
				if (e.retry != null)
				{
					btn = mxResources.get('cancel');
					retry = function()
					{
						resume();
						e.retry();
					};
				}
				
				if (typeof(gapi) != 'undefined' && typeof(gapi.drive) != 'undefined' && typeof(gapi.drive.realtime) != 'undefined' &&
					e.type == gapi.drive.realtime.ErrorType.FORBIDDEN)
				{
					msg = mxUtils.htmlEntities(mxResources.get('forbidden'));
				}
				else if (e.code == 404 || e.status == 404 || (typeof(gapi) != 'undefined' && typeof(gapi.drive) != 'undefined' &&
						typeof(gapi.drive.realtime) != 'undefined' && e.type == gapi.drive.realtime.ErrorType.NOT_FOUND))
				{
					msg = mxUtils.htmlEntities(mxResources.get('fileNotFoundOrDenied'));
					var id = window.location.hash;
					
					if (id != null && id.substring(0, 2) == '#G')
					{
						id = id.substring(2);
						msg += ' <a href="https://drive.google.com/open?id=' + id + '" target="_blank">' +
							mxUtils.htmlEntities(mxResources.get('tryOpeningViaThisPage')) + '</a>';
					}
				}
				else if (e.code == App.ERROR_TIMEOUT)
				{
					msg = mxUtils.htmlEntities(mxResources.get('timeout'));
				}
				else if (e.code == App.ERROR_BUSY)
				{
					msg = mxUtils.htmlEntities(mxResources.get('busy'));
				}
				else if (e.message != null)
				{
					msg = mxUtils.htmlEntities(e.message);
				}
				else if (e.response != null && e.response.error != null)
				{
					msg = mxUtils.htmlEntities(e.response.error);
				}
			}
	
			this.showError(title, msg, btn, fn, retry);
		}
		else if (fn != null)
		{
			fn();
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.showError = function(title, msg, btn, fn, retry, btn2, fn2)
	{
		var dlg = new ErrorDialog(this, title, msg, btn, fn, retry, btn2, fn2);
		this.showDialog(dlg.container, 340, 150, true, false);
		dlg.init();
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.alert = function(msg, fn)
	{
		var dlg = new ErrorDialog(this, null, msg, mxResources.get('ok'), fn);
		this.showDialog(dlg.container, 340, 100, true, false);
		dlg.init();
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.confirm = function(msg, okFn, cancelFn, okLabel, cancelLabel)
	{
		var resume = (this.spinner != null && this.spinner.pause != null) ? this.spinner.pause() : function() {};
		
		this.showDialog(new ConfirmDialog(this, msg, function()
		{
			resume();
			
			if (okFn != null)
			{
				okFn();
			}
		}, function()
		{
			resume();
			
			if (cancelFn != null)
			{
				cancelFn();
			}
		}, okLabel, cancelLabel).container, 340, 90, true, false);	
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.setCurrentFile = function(file)
	{
		this.currentFile = file;
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getCurrentFile = function()
	{
		return this.currentFile;
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.isDiagramEmpty = function()
	{
		var model = this.editor.graph.getModel();
		
		return model.getChildCount(model.root) == 1 && model.getChildCount(model.getChildAt(model.root, 0)) == 0;
	};
	
	/**
	 * Handling for canvas export.
	 */

	/**
	 * 
	 */
	EditorUi.prototype.isExportToCanvas = function()
	{
		// LATER: Fix security error caused by foreignObjects in Safari for toDataUri (tainted canvas)
		return mxClient.IS_CHROMEAPP || (!this.editor.graph.mathEnabled && this.useCanvasForExport);
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createSvgDataUri = function(svg)
	{
		return 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));
	};

	/**
	 * 
	 */
	EditorUi.prototype.createImageDataUri = function(canvas, xml, format)
	{
   	    var data = canvas.toDataURL('image/' + format);
   	    
   	    // Checks if output is invalid or empty
   	    if (data.length <= 6 || data == canvas.cloneNode(false).toDataURL('image/' + format))
   	    {
   	    	throw {message: 'Invalid image'};
   	    }
   	    
   	    if (xml != null)
   	    {
   	   		data = this.writeGraphModelToPng(data, 'zTXt', 'mxGraphModel', atob(this.editor.graph.compress(xml)));
   	    }
   	    
   	    return data;
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.saveCanvas = function(canvas, xml, format)
	{
		var ext = ((format == 'jpeg') ? 'jpg' : format);
		var filename = this.getBaseFilename() + '.' + ext;
   	    var data = this.createImageDataUri(canvas, xml, format);
   	    this.saveData(filename, ext, data.substring(data.lastIndexOf(',') + 1), 'image/' + format, true);
	};
	
	/**
	 * Returns true if files should be saved using <saveLocalFile>.
	 */
	EditorUi.prototype.isLocalFileSave = function()
	{
		return (urlParams['save'] != 'remote' && (mxClient.IS_IE ||
			(typeof window.Blob !== 'undefined' && typeof window.URL !== 'undefined')) &&
			document.documentMode != 9 && document.documentMode != 8 &&
			document.documentMode != 7 && !mxClient.IS_QUIRKS) ||
			this.isOfflineApp() || mxClient.IS_IOS;
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.doSaveLocalFile = function(data, filename, mimeType, base64Encoded, format)
	{
		// Newer versions of IE (except Edge which uses the standard API below)
		if (!mxClient.IS_EDGE && window.MSBlobBuilder && navigator.msSaveOrOpenBlob)
		{
			var builder = new MSBlobBuilder();
			builder.append(data);
			var blob = builder.getBlob(mimeType);
			navigator.msSaveOrOpenBlob(blob, filename);
		}
		// Older versions of IE (binary not supported)
		else if (mxClient.IS_IE)
		{
			var win = window.open('about:blank', '_blank');
			
			if (win == null)
			{
				mxUtils.popup(data, true);
			}
			else
			{
				win.document.write(data);
				win.document.close();
				win.document.execCommand('SaveAs', true, filename);
				win.close();
			}
		}
		else if (mxClient.IS_IOS)
		{
			// Poor man's saveAs in iOS via context menu of selected output
	    	var dlg = new TextareaDialog(this, filename + ':', data, null, null, mxResources.get('close'));
	    	dlg.textarea.style.width = '600px';
	    	dlg.textarea.style.height = '380px';
			this.showDialog(dlg.container, 620, 460, true, true);
			dlg.init();
			document.execCommand('selectall', false, null);
		}
		else
		{
			var a = document.createElement('a');
			
			if (typeof a.download !== 'undefined' || this.isOffline())
			{
				a.href = URL.createObjectURL((base64Encoded) ?
					this.base64ToBlob(data, mimeType) :
					new Blob([data], {type: mimeType}));
				
				if (typeof a.download !== 'undefined')
				{
					a.download = filename;
				}
				else
				{
					// Workaround for same window in Safari
					a.setAttribute('target', '_blank');
				}

				document.body.appendChild(a);
				
				try
				{
					a.click();
					
					window.setTimeout(function()
					{
						URL.revokeObjectURL(a.href);
					}, 0);
					a.parentNode.removeChild(a);
				}
				catch (e)
				{
					// ignore
				}
			}
			else
			{
				var req = this.createEchoRequest(data, filename, mimeType, base64Encoded, format);
				
				req.simulate(document, '_blank');
			}
		}
	};
		
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.createEchoRequest = function(data, filename, mimeType, base64Encoded, format, base64Response)
	{
		var param = (typeof(pako) === 'undefined' || true) ? 'xml=' + encodeURIComponent(data) :
			'data=' + encodeURIComponent(this.editor.graph.compress(data));
		
		return new mxXmlRequest(SAVE_URL, param +
			((mimeType != null) ? '&mime=' + mimeType : '') +
			((format != null) ? '&format=' + format : '') +
			((base64Response != null) ? '&base64=' + base64Response : '') +
			((filename != null) ? '&filename=' + encodeURIComponent(filename) : '') +
			((base64Encoded) ? '&binary=1' : ''));
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.base64ToBlob = function(base64Data, contentType)
	{
	    contentType = contentType || '';
	    var sliceSize = 1024;
	    var byteCharacters = atob(base64Data);
	    var bytesLength = byteCharacters.length;
	    var slicesCount = Math.ceil(bytesLength / sliceSize);
	    var byteArrays = new Array(slicesCount);
	
	    for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex)
	    {
	        var begin = sliceIndex * sliceSize;
	        var end = Math.min(begin + sliceSize, bytesLength);
	
	        var bytes = new Array(end - begin);
	        
	        for (var offset = begin, i = 0 ; offset < end; ++i, ++offset)
	        {
	            bytes[i] = byteCharacters[offset].charCodeAt(0);
	        }
	        
	        byteArrays[sliceIndex] = new Uint8Array(bytes);
	    }
	
	    return new Blob(byteArrays, {type: contentType});
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.saveLocalFile = function(data, filename, mimeType, base64Encoded, format, allowBrowser)
	{
		allowBrowser = (allowBrowser != null) ? allowBrowser : false;
		var allowTab = !mxClient.IS_IOS || !navigator.standalone;
		
		var dlg = new CreateDialog(this, filename, mxUtils.bind(this, function(newTitle, mode)
		{
			try
			{
				// Opens a new window
				if (mode == '_blank')
				{
					if (mimeType != null && mimeType.substring(0, 6) == 'image/' &&
						(mimeType.substring(0, 9) != 'image/svg' || mxClient.IS_SVG))
					{
						if (mxClient.IS_EDGE || document.documentMode == 11 || document.documentMode == 10)
						{
							var win = window.open('about:blank');
							
							if (win == null)
							{
								mxUtils.popup(data, true);
							}
							else
							{
								win.document.write('<html><img src="data:' +
									mimeType + ((base64Encoded) ? ';base64,' +
									data : ';charset=utf8,' + encodeURIComponent(data)) +
									'"/></html>');
								win.document.close();
							}
						}
						else
						{
							// win.open is workaround for cleared contents in Chrome after delay
							// when using location.replace
							var win = window.open('data:' + mimeType + ((base64Encoded) ? ';base64,' +
									data : ';charset=utf8,' + encodeURIComponent(data)));
							
							if (win == null)
							{
								mxUtils.popup(data, true);
							}
						}
					}
					else
					{
						var win = window.open('about:blank');
						
						if (win == null)
						{
							mxUtils.popup(data, true);
						}
						else
						{
							win.document.write(mxUtils.htmlEntities(data, false));
							win.document.close();
						}
					}
				}
				else if (mode == App.MODE_DEVICE)
				{
					this.doSaveLocalFile(data, newTitle, mimeType, base64Encoded);
				} 
				else if (newTitle != null && newTitle.length > 0)
				{
					this.pickFolder(mode, mxUtils.bind(this, function(folderId)
					{
						this.exportFile(data, newTitle, mimeType, base64Encoded, mode, folderId);
					}));
				}
			}
			catch (e)
			{
				this.handleError(e);
			}
		}), mxUtils.bind(this, function()
		{
			this.hideDialog();
		}), mxResources.get('saveAs'), mxResources.get('download'), false, allowBrowser, allowTab, null, null, (allowBrowser) ? 3 : 4);
		this.showDialog(dlg.container, 380, (this.getServiceCount(allowBrowser) - 1 <
			((allowBrowser) ? 4 : 5)) ? 270 : 390, true, true);
		dlg.init();
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.saveData = function(filename, format, data, mime, base64Encoded)
	{
		if (this.isLocalFileSave())
		{
			this.saveLocalFile(data, filename, mime, base64Encoded, format);
		}
		else
		{
			this.saveRequest(filename, format, mxUtils.bind(this, function(newTitle, base64)
			{
				return this.createEchoRequest(data, newTitle, mime, base64Encoded, format, base64);
			}));
		}
	};
	
	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.saveRequest = function(filename, format, fn)
	{
		var allowTab = !mxClient.IS_IOS || !navigator.standalone;
		
		var dlg = new CreateDialog(this, filename, mxUtils.bind(this, function(newTitle, mode)
		{
			if (mode == '_blank' || newTitle != null && newTitle.length > 0)
			{
				var base64 = (mode == App.MODE_DEVICE || mode == null || mode == '_blank') ? '0' : '1';
				var xhr = fn((mode == '_blank') ? null : newTitle, base64);
				
				if (xhr != null)
				{
					if (mode == App.MODE_DEVICE || mode == '_blank')
					{
						xhr.simulate(document, '_blank');
					}
					else
					{
						this.pickFolder(mode, mxUtils.bind(this, function(folderId)
						{
							if (this.spinner.spin(document.body, mxResources.get('saving')))
							{
								// LATER: Catch possible mixed content error
								// see http://stackoverflow.com/questions/30646417/catching-mixed-content-error
								xhr.send(mxUtils.bind(this, function()
								{
									this.spinner.stop();
									
									if (xhr.getStatus() >= 200 && xhr.getStatus() <= 299)
									{
										try
										{
											var mimeType = (format == 'pdf') ? 'application/pdf' : 'image/' + format;
											this.exportFile(xhr.getText(), newTitle, mimeType, true, mode, folderId);
										}
										catch (e)
										{
											this.handleError(e);
										}
									}
									else
									{
										this.handleError({message: mxResources.get('errorSavingFile')});
									}
								}), function(resp)
								{
									this.spinner.stop();
									this.handleError(resp);
								});
							}
						}));
					}
				}
			}
		}), mxUtils.bind(this, function()
		{
			this.hideDialog();
		}), mxResources.get('saveAs'), mxResources.get('download'), false, false, allowTab, null, null, 4);
		this.showDialog(dlg.container, 380, (this.getServiceCount(false) - 1 < 5) ? 270 : 390, true, true);
		dlg.init();
	};
		
	/**
	 * Hook for subclassers.
	 */
	EditorUi.prototype.exportFile = function(data, filename, mimeType, base64Encoded, mode, folderId)
	{
		// do nothing
	};
	
	/**
	 * Hook for subclassers.
	 */
	EditorUi.prototype.pickFolder = function(mode, fn, enabled)
	{
		fn(null);
	};

	/**
	 *
	 */
	EditorUi.prototype.exportSvg = function(scale, transparentBackground, ignoreSelection, addShadow, editable, embedImages, border, noCrop, currentPage)
	{
		if (this.spinner.spin(document.body, mxResources.get('export')))
		{
			var selectionEmpty = this.editor.graph.isSelectionEmpty();
			ignoreSelection = (ignoreSelection != null) ? ignoreSelection : selectionEmpty;
			var bg = (transparentBackground) ? null : this.editor.graph.background;
			
			if (bg == mxConstants.NONE)
			{
				bg = null;
			}
			
			// Handles special case where background is null but transparent is false
			if (bg == null && transparentBackground == false)
			{
				bg = '#ffffff';
			}
			
			// Sets or disables alternate text for foreignObjects. Disabling is needed
			// because PhantomJS seems to ignore switch statements and paint all text.
			var svgRoot = this.editor.graph.getSvg(bg, scale, border, noCrop, null, ignoreSelection);
			
			if (addShadow)
			{
				this.editor.graph.addSvgShadow(svgRoot);
			}
			
			var filename = this.getBaseFilename() + '.svg';

			var doSave = mxUtils.bind(this, function(svgRoot)
			{
				this.spinner.stop();
				
				if (editable)
				{
					svgRoot.setAttribute('content', this.getFileData(true, null, null, null, ignoreSelection, currentPage));
				}
				
				var svg = '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n' +
					mxUtils.getXml(svgRoot);
				
	    		if (this.isLocalFileSave() || svg.length <= MAX_REQUEST_SIZE)
	    		{
	    	    	this.saveData(filename, 'svg', svg, 'image/svg+xml');
	    		}
	    		else
	    		{
	    			this.handleError({message: mxResources.get('drawingTooLarge')}, mxResources.get('error'), mxUtils.bind(this, function()
	    			{
	    				mxUtils.popup(svg);
	    			}));
	    		}
			});
			
			this.convertMath(this.editor.graph, svgRoot, false, mxUtils.bind(this, function()
			{
				if (embedImages)
				{
					// Caches images
					if (this.thumbImageCache == null)
					{
						this.thumbImageCache = new Object();
					}
					
					this.convertImages(svgRoot, doSave, this.thumbImageCache);
				}
				else
				{
					doSave(svgRoot);
				}
			}));
		}
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.addCheckbox = function(div, label, checked, disabled, disableNewline)
	{
		var cb = document.createElement('input');
		cb.style.marginRight = '8px';
		cb.style.marginTop = '16px';
		cb.setAttribute('type', 'checkbox');
		
		if (checked)
		{
			cb.setAttribute('checked', 'checked');
			cb.defaultChecked = true;
		}
		
		if (disabled)
		{
			cb.setAttribute('disabled', 'disabled');
		}
		
		div.appendChild(cb);
		mxUtils.write(div, label);
		
		if (!disableNewline)
		{
			mxUtils.br(div);
		}
		
		return cb;
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.addLinkSection = function(div, showFrameOption)
	{
		mxUtils.write(div, mxResources.get('links') + ':');

		var linkSelect = document.createElement('select');
		linkSelect.style.width = '100px';
		linkSelect.style.marginLeft = '4px';
		linkSelect.style.marginRight = '10px';
		linkSelect.className = 'geBtn';

		var autoOption = document.createElement('option');
		autoOption.setAttribute('value', 'auto');
		mxUtils.write(autoOption, mxResources.get('automatic'));
		linkSelect.appendChild(autoOption);

		var blankOption = document.createElement('option');
		blankOption.setAttribute('value', 'blank');
		mxUtils.write(blankOption, mxResources.get('openInNewWindow'));
		linkSelect.appendChild(blankOption);

		var selfOption = document.createElement('option');
		selfOption.setAttribute('value', 'self');
		mxUtils.write(selfOption, mxResources.get('openInThisWindow'));
		linkSelect.appendChild(selfOption);

		if (showFrameOption)
		{
			var frameOption = document.createElement('option');
			frameOption.setAttribute('value', 'frame');
			mxUtils.write(frameOption, mxResources.get('openInThisWindow') +
				' (' + mxResources.get('iframe') + ')');
			linkSelect.appendChild(frameOption);
		}
		
		div.appendChild(linkSelect);
		
		mxUtils.write(div, mxResources.get('borderColor') + ':');
		var linkColor = '#0000ff';
		var linkButton = null;
		
		function updateLinkColor()
		{
			linkButton.innerHTML = '<div style="width:100%;height:100%;box-sizing:border-box;' +
				((linkColor != null && linkColor != mxConstants.NONE) ?
				'border:1px solid black;background-color:' + linkColor :
				'background-position:center center;background-repeat:no-repeat;' +
				'background-image:url(\'' + Dialog.prototype.closeImage + '\')') + ';"></div>';
		};
		
		linkButton = mxUtils.button('', mxUtils.bind(this, function(evt)
		{
			this.pickColor(linkColor || 'none', function(color)
			{
				linkColor = color;
				updateLinkColor();
			});
			
			mxEvent.consume(evt);
		}));

		updateLinkColor();
		linkButton.style.padding = (mxClient.IS_FF) ? '4px 2px 4px 2px' : '4px';
		linkButton.style.marginLeft = '4px';
		linkButton.style.height = '22px';
		linkButton.style.width = '22px';
		linkButton.style.position = 'relative';
		linkButton.style.top = (mxClient.IS_IE || mxClient.IS_IE11 || mxClient.IS_EDGE) ? '6px' : '1px';
		linkButton.className = 'geColorBtn';
		div.appendChild(linkButton);
		mxUtils.br(div);
		
		return {
			getColor: function()
			{
				return linkColor;
			},
			getTarget: function()
			{
				return linkSelect.value;
			},
			focus: function()
			{
				linkSelect.focus();
			}
		};
	}

	/**
	 * 
	 */
	EditorUi.prototype.createLink = function(linkTarget, linkColor, allPages, lightbox, edit, layers, url, ignoreFile)
	{
		var file = this.getCurrentFile();
		var params = [];
		
		if (lightbox)
		{
			params.push('lightbox=1');

			if (linkTarget != 'auto')
			{
				params.push('target=' + linkTarget);
			}
			
			if (linkColor != null && linkColor != mxConstants.NONE)
			{
				params.push('highlight=' + ((linkColor.charAt(0) == '#') ? linkColor.substring(1) : linkColor));
			}
			
			if (edit)
			{
				params.push('edit=_blank');
			}
			
			if (layers)
			{
				params.push('layers=1');
			}
			
			if (this.editor.graph.foldingEnabled)
			{
				params.push('nav=1');
			}
		}
		
		if (allPages && this.pages != null && this.currentPage != null)
		{
			for (var i = 0; i < this.pages.length; i++)
			{
				if (this.pages[i] == this.currentPage)
				{
					if (i > 0)
					{
						params.push('page=' + i);
					}
					
					break;
				}
			}
		}
		
		var data = '';
		var addTitle = true;
		
		if (url != null)
		{
			data = '#U' + encodeURIComponent(url);
		}
		else
		{
			var file = this.getCurrentFile();

			// Fallback to non-public URL for Drive files	
			if (!ignoreFile && file != null && file.constructor == window.DriveFile)
			{
				data = '#' + file.getHash();
				addTitle = false;
			}
			else
			{
				data = '#R' + encodeURIComponent((allPages) ?
					this.getFileData(true, null, null, null, null, null, null, true) :
					this.editor.graph.compress(mxUtils.getXml(this.editor.getGraphXml())))
			}
		}

		if (addTitle && file != null && file.getTitle() != null && file.getTitle() != this.defaultFilename)
		{
			params.push('title=' + encodeURIComponent(file.getTitle()));
		}
		
		return ((mxClient.IS_CHROMEAPP) ? 'https://www.draw.io/' : 'https://' + location.host + '/') +
			((params.length > 0) ? '?' + params.join('&') : '') + data;
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.createHtml = function(publicUrl, zoomEnabled, initialZoom, linkTarget,
		linkColor, fit, allPages, layers, lightbox, edit, fn)
	{
		var s = this.getBasenames();
		var data = {};
		
		if (linkColor != '' && linkColor != mxConstants.NONE)
		{
			data.highlight = linkColor;
		}
		
		if (linkTarget !== 'auto')
		{
			data.target = linkTarget;
		}
		
		if (!lightbox)
		{
			data.lightbox = false;
		}
		
		data.nav = this.editor.graph.foldingEnabled;
		var zoom = parseInt(initialZoom);
		
		if (!isNaN(zoom) && zoom != 100)
		{
			data.zoom = zoom / 100;
		}
		
		var tb = [];
		
		if (allPages)
		{
			tb.push('pages');
			data.resize = true;
			
			if (this.pages != null && this.currentPage != null)
			{
				data.page = mxUtils.indexOf(this.pages, this.currentPage);
			}
		}
		
		if (zoomEnabled)
		{
			tb.push('zoom');
			data.resize = true;
		}
		
		if (layers)
		{
			tb.push('layers');
		}
		
		if (tb.length > 0)
		{
			if (lightbox)
			{
				tb.push('lightbox');
			}
			
			data.toolbar = tb.join(' ');
		}

		if (edit)
		{
			if (publicUrl != null)
			{
				data.edit = publicUrl;
			}
			else
			{
				data.edit = '_blank';
			}
		}
		
		if (publicUrl != null)
		{
			data.url = publicUrl;
		}
		else
		{
			data.xml = this.getFileData(true, null, null, null, null, !allPages);
		}
	
		var value = '<div class="mxgraph" style="' +
			((fit) ? 'max-width:100%;' : '') +
			((tb != '') ? 'border:1px solid transparent;' : '') +
			'" data-mxgraph="' + mxUtils.htmlEntities(JSON.stringify(data)) + '"></div>';
		
		var sParam = (s.length > 0) ? 's=' + s.join(';') : '';
		var fetchParam = (publicUrl != null) ? 'fetch=' + encodeURIComponent(publicUrl) : '';
		var s2 = (sParam.length > 0 || fetchParam.length > 0) ?
			(((urlParams['dev'] == '1') ?
			'https://test.draw.io/embed2.js?dev=1&' + sParam :
			'https://www.draw.io/embed2.js?' + sParam)) + '&' + fetchParam :
			(((urlParams['dev'] == '1') ?
			'https://test.draw.io/js/viewer.min.js' :
			'https://www.draw.io/js/viewer.min.js'));
		var scr = '<script type="text/javascript" src="' + s2 + '"></script>';
		
		fn(value, scr);
	};

	/**
	 * 
	 */
	EditorUi.prototype.showHtmlDialog = function(btnLabel, helpLink, publicUrl, fn)
	{
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		var graph = this.editor.graph;
		
		var hd = document.createElement('h3');
		mxUtils.write(hd, mxResources.get('html'));
		hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:12px';
		div.appendChild(hd);

		var radioSection = document.createElement('div');
		radioSection.style.cssText = 'border-bottom:1px solid lightGray;padding-bottom:8px;margin-bottom:12px;';

		var publicUrlRadio = document.createElement('input');
		publicUrlRadio.style.cssText = 'margin-right:8px;margin-top:8px;margin-bottom:8px;';
		publicUrlRadio.setAttribute('value', 'url');
		publicUrlRadio.setAttribute('type', 'radio');
		publicUrlRadio.setAttribute('name', 'type-embedhtmldialog');

		var copyRadio = publicUrlRadio.cloneNode(true);
		copyRadio.setAttribute('value', 'copy');
		radioSection.appendChild(copyRadio);
		
		var span = document.createElement('span');
		mxUtils.write(span, mxResources.get('includeCopyOfMyDiagram'));
		radioSection.appendChild(span);
		
		mxUtils.br(radioSection);
		radioSection.appendChild(publicUrlRadio);

		var span = document.createElement('span');
		mxUtils.write(span, mxResources.get('publicDiagramUrl'));
		radioSection.appendChild(span);

		var file = this.getCurrentFile();
		
		if (publicUrl == null && file != null && file.constructor == window.DriveFile)
		{
			var testLink = document.createElement('a');
			testLink.style.paddingLeft = '12px';
			testLink.style.color = 'gray';
			testLink.setAttribute('href', 'javascript:void(0);');
			mxUtils.write(testLink, mxResources.get('share'));
			radioSection.appendChild(testLink);
			
			mxEvent.addListener(testLink, 'click', mxUtils.bind(this, function()
			{
				this.hideDialog();
				this.drive.showPermissions(file.getId());
			}));
		}

		copyRadio.setAttribute('checked', 'checked');
		
		if (publicUrl == null)
		{
			publicUrlRadio.setAttribute('disabled', 'disabled');
		}

		div.appendChild(radioSection);

		var linkSection = this.addLinkSection(div);
		var zoom = this.addCheckbox(div, mxResources.get('zoom'), true, null, true);
		mxUtils.write(div, ':');
		
		var zoomInput = document.createElement('input');
		zoomInput.setAttribute('type', 'text');
		zoomInput.style.marginRight = '16px';
		zoomInput.style.width = '60px';
		zoomInput.style.marginLeft = '4px';
		zoomInput.style.marginRight = '12px';
		zoomInput.value = '100%';
		
		div.appendChild(zoomInput);

		var fit = this.addCheckbox(div, mxResources.get('fit'), true);
		var hasPages = this.pages != null && this.pages.length > 1;
		var allPages = allPages = this.addCheckbox(div, mxResources.get('allPages'), hasPages, !hasPages);
		var layers = this.addCheckbox(div, mxResources.get('layers'), true);
		var lightbox = this.addCheckbox(div, mxResources.get('lightbox'), true);
		var edit = this.addCheckbox(div, mxResources.get('showEditButton'), true);
		edit.style.marginLeft = '24px';
		edit.style.marginBottom = '16px';
		
		mxEvent.addListener(lightbox, 'change', function()
		{
			if (lightbox.checked)
			{
				edit.removeAttribute('disabled');
			}
			else
			{
				edit.setAttribute('disabled', 'disabled');
			}
		});
		
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			fn((publicUrlRadio.checked) ? publicUrl : null, zoom.checked, zoomInput.value, linkSection.getTarget(),
				linkSection.getColor(), fit.checked, allPages.checked, layers.checked, lightbox.checked, edit.checked);
		}), null, btnLabel, helpLink);
		this.showDialog(dlg.container, 340, 360, true, true);
		copyRadio.focus();
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.showPublishLinkDialog = function(title, hideShare, width, height, fn, showFrameOption)
	{
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		var graph = this.editor.graph;
		
		var hd = document.createElement('h3');
		mxUtils.write(hd, title || mxResources.get('link'));
		hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:12px';
		div.appendChild(hd);
		
		var file = this.getCurrentFile();
		var helpLink = 'https://desk.draw.io/support/solutions/articles/16000051941';
		var dy = 0;
		
		if (file != null && file.constructor == window.DriveFile && !hideShare)
		{
			dy = 80;
			helpLink = 'https://desk.draw.io/support/solutions/articles/16000039384';
			var hintSection = document.createElement('div');
			hintSection.style.cssText = 'border-bottom:1px solid lightGray;padding-bottom:14px;padding-top:6px;margin-bottom:14px;text-align:center;';
			
			var text = document.createElement('div');
			text.style.whiteSpace = 'normal';
			mxUtils.write(text, mxResources.get('linkAccountRequired'));
			hintSection.appendChild(text);
			
			var shareBtn = mxUtils.button(mxResources.get('share'), mxUtils.bind(this, function()
			{
				this.drive.showPermissions(file.getId());
			}));
			shareBtn.style.marginTop = '12px';
			shareBtn.className = 'geBtn';
			hintSection.appendChild(shareBtn);
			div.appendChild(hintSection);
			
			var testLink = document.createElement('a');
			testLink.style.paddingLeft = '12px';
			testLink.style.color = 'gray';
			testLink.style.fontSize = '11px';
			testLink.setAttribute('href', 'javascript:void(0);');
			mxUtils.write(testLink, mxResources.get('check'));
			hintSection.appendChild(testLink);
			
			mxEvent.addListener(testLink, 'click', mxUtils.bind(this, function()
			{
				if (this.spinner.spin(document.body, mxResources.get('loading')))
				{
					this.getPublicUrl(this.getCurrentFile(), mxUtils.bind(this, function(url)
					{
						this.spinner.stop();
						
						var dlg = new ErrorDialog(this, null, mxResources.get((url != null) ?
							'diagramIsPublic' : 'diagramIsNotPublic'), mxResources.get('ok'));
						this.showDialog(dlg.container, 300, 80, true, false);
						dlg.init();
					}));
				}
			}));
		}
		
		var widthInput = null;
		var heightInput = null;
		
		if (width != null || height != null)
		{
			dy += 30;
			mxUtils.write(div, mxResources.get('width') + ':');

			widthInput = document.createElement('input');
			widthInput.setAttribute('type', 'text');
			widthInput.style.marginRight = '16px';
			widthInput.style.width = '50px';
			widthInput.style.marginLeft = '6px';
			widthInput.style.marginRight = '16px';
			widthInput.style.marginBottom = '10px';
			widthInput.value = '100%';
			
			div.appendChild(widthInput);

			mxUtils.write(div, mxResources.get('height') + ':');
			
			heightInput = document.createElement('input');
			heightInput.setAttribute('type', 'text');
			heightInput.style.width = '50px';
			heightInput.style.marginLeft = '6px';
			heightInput.style.marginBottom = '10px';
			heightInput.value = height + 'px';
			
			div.appendChild(heightInput);
			mxUtils.br(div);
		}
		
		var linkSection = this.addLinkSection(div, showFrameOption);
		var hasPages = this.pages != null && this.pages.length > 1;
		var allPages = null;
		
		if (file == null || file.constructor != window.DriveFile || hideShare)
		{
			allPages = this.addCheckbox(div, mxResources.get('allPages'), hasPages, !hasPages);
		}
		
		var lightbox = this.addCheckbox(div, mxResources.get('lightbox'), true);
		var edit = this.addCheckbox(div, mxResources.get('showEditButton'), true);
		edit.style.marginLeft = '24px';
		var layers = this.addCheckbox(div, mxResources.get('layers'), true);
		layers.style.marginLeft = edit.style.marginLeft;
		layers.style.marginBottom = '16px';
		
		mxEvent.addListener(lightbox, 'change', function()
		{
			if (lightbox.checked)
			{
				layers.removeAttribute('disabled');
				edit.removeAttribute('disabled');
			}
			else
			{
				layers.setAttribute('disabled', 'disabled');
				edit.setAttribute('disabled', 'disabled');
			}
		});
		
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			fn(linkSection.getTarget(), linkSection.getColor(),
				(allPages == null) ? true : allPages.checked,
				lightbox.checked, edit.checked, layers.checked,
				(widthInput != null) ? widthInput.value : null,
				(heightInput != null) ? heightInput.value : null);
		}), null, mxResources.get('create'), helpLink);
		this.showDialog(dlg.container, 340, 246 + dy, true, true);
		
		if (widthInput != null)
		{
			widthInput.focus();
			
			if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
			{
				widthInput.select();
			}
			else
			{
				document.execCommand('selectAll', false, null);
			}
		}
		else
		{
			linkSection.focus();
		}
	};

	/**
	 * 
	 */
	EditorUi.prototype.showRemoteExportDialog = function(btnLabel, helpLink, callback, hideInclude)
	{
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		
		var hd = document.createElement('h3');
		mxUtils.write(hd, mxResources.get('image'));
		hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:4px';
		div.appendChild(hd);

		var selection = this.addCheckbox(div, mxResources.get('selectionOnly'), false,
			this.editor.graph.isSelectionEmpty());
		var include = (hideInclude) ? null : this.addCheckbox(div, mxResources.get('includeCopyOfMyDiagram'), true);
		
		if (include != null)
		{
			include.style.marginBottom = '16px';
		}
		
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			callback(!selection.checked, (include != null) ? include.checked : false);
		}), null, btnLabel, helpLink);
		this.showDialog(dlg.container, 300, (hideInclude) ? 100 : 146, true, true);
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.showExportDialog = function(title, embedOption, btnLabel, helpLink, callback, cropOption, defaultInclude)
	{
		defaultInclude = (defaultInclude != null) ? defaultInclude : true;
		
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		var graph = this.editor.graph;
		var height = 280;
		
		var hd = document.createElement('h3');
		mxUtils.write(hd, title);
		hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:10px';
		div.appendChild(hd);
		
		mxUtils.write(div, mxResources.get('zoom') + ':');
		var zoomInput = document.createElement('input');
		zoomInput.setAttribute('type', 'text');
		zoomInput.style.marginRight = '16px';
		zoomInput.style.width = '60px';
		zoomInput.style.marginLeft = '4px';
		zoomInput.style.marginRight = '12px';
		zoomInput.value = '100%';
		div.appendChild(zoomInput);
		
		mxUtils.write(div, mxResources.get('borderWidth') + ':');
		var borderInput = document.createElement('input');
		borderInput.setAttribute('type', 'text');
		borderInput.style.marginRight = '16px';
		borderInput.style.width = '60px';
		borderInput.style.marginLeft = '4px';
		borderInput.value = '0';
		div.appendChild(borderInput);
		mxUtils.br(div);
		
		var transparent = this.addCheckbox(div, mxResources.get('transparentBackground'),
			graph.background == mxConstants.NONE || graph.background == null);
		var selection = this.addCheckbox(div, mxResources.get('selectionOnly'),
			false, graph.isSelectionEmpty());

		var cb6 = document.createElement('input');
		cb6.style.marginTop = '16px';
		cb6.style.marginRight = '8px';
		cb6.setAttribute('type', 'checkbox');

		if (cropOption)
		{
			div.appendChild(cb6);
			mxUtils.write(div, mxResources.get('crop'));
			mxUtils.br(div);
			
			height += 26;
		}
		
		if (graph.isSelectionEmpty())
		{
			cb6.setAttribute('disabled', 'disabled');
		}
		else
		{
			cb6.setAttribute('checked', 'checked');
			cb6.defaultChecked = true;
		}
		
		var shadow = this.addCheckbox(div, mxResources.get('shadow'), graph.shadowVisible);
		
		var cb5 = document.createElement('input');
		cb5.style.marginTop = '16px';
		cb5.style.marginRight = '8px';
		cb5.setAttribute('type', 'checkbox');
		
		if (this.isOffline() || !this.canvasSupported)
		{
			cb5.setAttribute('disabled', 'disabled');
		}
		
		if (embedOption)
		{
			div.appendChild(cb5);
			mxUtils.write(div, mxResources.get('embedImages'));
			mxUtils.br(div);
			
			height += 26;
		}
		
		var include = this.addCheckbox(div, mxResources.get('includeCopyOfMyDiagram'), defaultInclude);
		var hasPages = this.pages != null && this.pages.length > 1;
		var allPages = allPages = this.addCheckbox(div, (hasPages) ? mxResources.get('allPages') : '', hasPages, !hasPages);
		allPages.style.marginLeft = '24px';
		allPages.style.marginBottom = '16px';
		
		if (!hasPages)
		{
			allPages.style.visibility = 'hidden';
		}
	
		mxEvent.addListener(include, 'change', function()
		{
			if (include.checked && hasPages)
			{
				allPages.removeAttribute('disabled');
			}
			else
			{
				allPages.setAttribute('disabled', 'disabled');
			}
		});
		
		if (!defaultInclude || !hasPages)
		{
			allPages.setAttribute('disabled', 'disabled');
		}
		
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			callback(zoomInput.value, transparent.checked, !selection.checked, shadow.checked,
				include.checked, cb5.checked, borderInput.value, cb6.checked, !allPages.checked);
		}), null, btnLabel, helpLink);
		this.showDialog(dlg.container, 320, height, true, true);
		zoomInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			zoomInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.showExportJpgDialog = function(helpLink, callback)
	{
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		var graph = this.editor.graph;
		
		var hd = document.createElement('h3');
		mxUtils.write(hd, mxResources.get('formatJpg'));
		hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:10px';
		div.appendChild(hd);
		
		mxUtils.write(div, mxResources.get('zoom') + ':');
		var zoomInput = document.createElement('input');
		zoomInput.setAttribute('type', 'text');
		zoomInput.style.marginRight = '16px';
		zoomInput.style.width = '60px';
		zoomInput.style.marginLeft = '4px';
		zoomInput.style.marginBottom = '4px';
		zoomInput.value = '100%';
		div.appendChild(zoomInput);
		
		mxUtils.write(div, mxResources.get('borderWidth') + ':');
		var borderInput = document.createElement('input');
		borderInput.setAttribute('type', 'text');
		borderInput.style.marginRight = '16px';
		borderInput.style.width = '60px';
		borderInput.style.marginLeft = '4px';
		borderInput.value = '0';
		div.appendChild(borderInput);
		mxUtils.br(div);
		
		var selection = this.addCheckbox(div, mxResources.get('selectionOnly'),
			false, graph.isSelectionEmpty());

		var cb6 = document.createElement('input');
		cb6.style.marginTop = '16px';
		cb6.style.marginRight = '8px';
		cb6.setAttribute('type', 'checkbox');

		div.appendChild(cb6);
		mxUtils.write(div, mxResources.get('crop'));
		mxUtils.br(div);
		
		if (graph.isSelectionEmpty())
		{
			cb6.setAttribute('disabled', 'disabled');
		}
		else
		{
			cb6.setAttribute('checked', 'checked');
			cb6.defaultChecked = true;
		}
		
		var shadow = this.addCheckbox(div, mxResources.get('shadow'), graph.shadowVisible);

		var cb5 = document.createElement('input');
		cb5.style.marginTop = '16px';
		cb5.style.marginRight = '8px';
		cb5.setAttribute('type', 'checkbox');
		
		if (this.isOffline() || !this.canvasSupported)
		{
			cb5.setAttribute('disabled', 'disabled');
		}
				
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			callback(zoomInput.value, !selection.checked, shadow.checked, borderInput.value, cb6.checked);
		}), null, mxResources.get('export'), helpLink);
		this.showDialog(dlg.container, 320, 190, true, true);
		zoomInput.focus();
		
		if (mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)
		{
			zoomInput.select();
		}
		else
		{
			document.execCommand('selectAll', false, null);
		}
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.showEmbedImageDialog = function(fn, title, imageLabel, shadowEnabled, helpLink)
	{
		var div = document.createElement('div');
		div.style.whiteSpace = 'nowrap';
		var graph = this.editor.graph;
		
		if (title != null)
		{
			var hd = document.createElement('h3');
			mxUtils.write(hd, title);
			hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:4px';
			div.appendChild(hd);
		}
		
		var fit = this.addCheckbox(div, mxResources.get('fit'), true);
		var shadow = this.addCheckbox(div, mxResources.get('shadow'),
			graph.shadowVisible && shadowEnabled, !shadowEnabled);
		var image = this.addCheckbox(div, imageLabel);
		var lightbox = this.addCheckbox(div, mxResources.get('lightbox'), true);
		var edit = this.addCheckbox(div, mxResources.get('showEditButton'), true);
		edit.style.marginLeft = '24px';
		
		var hasLayers = graph.model.getChildCount(graph.model.getRoot()) > 1;
		var layers = this.addCheckbox(div, mxResources.get('layers'), hasLayers, !hasLayers);
		layers.style.marginLeft = edit.style.marginLeft;
		layers.style.marginBottom = '12px';
		
		mxEvent.addListener(lightbox, 'change', function()
		{
			if (lightbox.checked)
			{
				if (hasLayers)
				{
					layers.removeAttribute('disabled');
				}
				
				edit.removeAttribute('disabled');
			}
			else
			{
				layers.setAttribute('disabled', 'disabled');
				edit.setAttribute('disabled', 'disabled');
			}
		});
		
		var dlg = new CustomDialog(this, div, mxUtils.bind(this, function()
		{
			fn(fit.checked, shadow.checked, image.checked, lightbox.checked, edit.checked, layers.checked);
		}), null, mxResources.get('embed'), helpLink);
		this.showDialog(dlg.container, 280, 280, true, true);
	};

	/**
	 * 
	 */
	EditorUi.prototype.createEmbedImage = function(fit, shadow, retina, lightbox, edit, layers, fn, err)
	{
		var bounds = this.editor.graph.getGraphBounds();
		
		function doUpdate(dataUri)
		{
   			var onclick = ' ';
   			var css = '';
   			
   			// Adds double click handling
			if (lightbox)
			{
				// KNOWN: Message passing does not seem to work in IE11
				onclick = " onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(" +
					"img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('https://www.draw.io/?client=1&lightbox=1" +
					((edit) ? "&edit=_blank" : "") +
					((layers) ? '&layers=1' : '') + "');}})(this);\"";
				css += 'cursor:pointer;';
			}
   			
			if (fit)
			{
				css += 'max-width:100%;';
			}
			
			var atts = '';
			
			if (retina)
			{
				atts = ' width="' + Math.round(bounds.width) + '" height="' + Math.round(bounds.height) + '"';
			}
			
			fn('<img src="' + dataUri + '"' + atts + ((css != '') ? ' style="' + css + '"' : '') + onclick + '/>');
		};
		
		if (this.isExportToCanvas())
		{
			var scale = 1;
			var ignoreSelection = true;

			this.exportToCanvas(mxUtils.bind(this, function(canvas)
		   	{
	   			var xml = (lightbox) ? this.getFileData(true) : null;
	   			var data = this.createImageDataUri(canvas, xml, 'png');
	   			doUpdate(data);
		   	}), null, null, null, mxUtils.bind(this, function(e)
		   	{
		   		err({message: mxResources.get('unknownError')});
		   	}), null, true, (retina) ? 2 : 1, null, shadow);
		}
		else
		{
			var data = this.getFileData(true);
			
			if (bounds.width * bounds.height <= MAX_AREA && data.length <= MAX_REQUEST_SIZE)
			{
				var size = '';
				
				if (retina)
				{
					size = '&w=' + Math.round(2 * bounds.width) +
						'&h=' + Math.round(2 * bounds.height);
				}
				
				var embed = (lightbox) ? '1' : '0';
				var req = new mxXmlRequest(EXPORT_URL, 'format=png' +
					'&base64=1&embedXml=' + embed + size + '&xml=' +
					encodeURIComponent(data));
				
				// LATER: Updates on each change, add a delay
				req.send(mxUtils.bind(this, function()
				{
					if (req.getStatus() >= 200 && req.getStatus() <= 299)
					{
						// Fixes possible "incorrect function" for select() on
						// DOM node which is no longer in document with IE11
						doUpdate('data:image/png;base64,' + req.getText());
					}
					else
					{
						err({message: mxResources.get('unknownError')});
					}
				}));
			}
			else
			{
				err({message: mxResources.get('drawingTooLarge')});
			}
		}
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.createEmbedSvg = function(fit, shadow, image, lightbox, edit, layers, fn)
	{
		var svgRoot = this.editor.graph.getSvg();
		
		// Keeps hashtag links on same page
		var links = svgRoot.getElementsByTagName('a');
		
		if (links != null)
		{
			for (var i = 0; i < links.length; i++)
			{
				var href = links[i].getAttribute('href');
				
				if (href != null && href.charAt(0) == '#' &&
					links[i].getAttribute('target') == '_blank')
				{
					links[i].removeAttribute('target');
				}
			}
		}
		
		if (lightbox)
		{
			svgRoot.setAttribute('content', this.getFileData(true));
		}
		
		// Adds shadow filter
		if (shadow)
		{
			this.editor.graph.addSvgShadow(svgRoot);
		}
		
		// SVG inside image tag
		if (image)
		{
   			var onclick = ' ';
   			var css = '';
   			
   			// Adds double click handling
			if (lightbox)
			{
				// KNOWN: Message passing does not seem to work in IE11
				onclick = "onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(" +
					"img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('https://www.draw.io/?client=1&lightbox=1" +
					((edit) ? "&edit=_blank" : "") + ((layers) ? '&layers=1' : '') + "');}})(this);\"";
				css += 'cursor:pointer;';
			}
   			
			if (fit)
			{
				css += 'max-width:100%;';
			}
   			
   			// Images inside IMG don't seem to work so embed them all
			this.convertImages(svgRoot, mxUtils.bind(this, function(svgRoot)
			{
				fn('<img src="' + this.createSvgDataUri(mxUtils.getXml(svgRoot)) + '"' +
					((css != '') ? ' style="' + css + '"' : '') + onclick + '/>');
			}));
		}
		else
		{
			var css = '';
			
			// Adds double click handling
			if (lightbox)
			{
				// KNOWN: Message passing does not seem to work in IE11
				var js = "(function(svg){var src=window.event.target||window.event.srcElement;" +
					// Ignores link events
					"while (src!=null&&src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null)" +
					// Focus existing lightbox
					"{if(svg.wnd!=null&&!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){" +
					// Message handling
					"if(evt.data=='ready'&&evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(" +
					"svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};" +
					"window.addEventListener('message',r);" +
					// Opens lightbox window
					"svg.wnd=window.open('https://www.draw.io/?client=1&lightbox=1" +
					((edit) ? "&edit=_blank" : "") + ((layers) ? '&layers=1' : '') + "');}}})(this);";
				svgRoot.setAttribute('onclick', js);
				css += 'cursor:pointer;';
			}
			
			// Adds responsive size
			if (fit)
			{
				var w = parseInt(svgRoot.getAttribute('width'));
				var h = parseInt(svgRoot.getAttribute('height'));
				svgRoot.setAttribute('viewBox', '0 0 ' + w + ' ' + h);
				css += 'max-width:100%;max-height:' + h + 'px;';
				svgRoot.removeAttribute('height');
			}
			
			if (css != '')
			{
				svgRoot.setAttribute('style', css);
			}
			
			fn(mxUtils.getXml(svgRoot));
		}
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.timeSince = function(date)
	{
	    var seconds = Math.floor((new Date() - date) / 1000);
		
	    var interval = Math.floor(seconds / 31536000);

	    if (interval > 1)
	    {
	        return interval + ' ' + mxResources.get('years');
	    }
	    
	    interval = Math.floor(seconds / 2592000);
	    
	    if (interval > 1)
	    {
	        return interval + ' ' + mxResources.get('months');
	    }
	    
	    interval = Math.floor(seconds / 86400);
	    
	    if (interval > 1)
	    {
	        return interval + ' ' + mxResources.get('days');
	    }
	    
	    interval = Math.floor(seconds / 3600);
	    
	    if (interval > 1)
	    {
	        return interval + ' ' + mxResources.get('hours');
	    }
	    
	    interval = Math.floor(seconds / 60);
	    
	    if (interval > 1)
	    {
	        return interval + ' ' + mxResources.get('minutes');
	    }
	    
	    if (interval == 1)
	    {
	        return interval + ' ' + mxResources.get('minute');
	    }
	    
	    return null;
	};

	/**
	 * Converts math in the given SVG
	 */
	EditorUi.prototype.convertMath = function(graph, svgRoot, fixPosition, callback)
	{
		// FIXME: Only horizontal dash in output so better no conversion at all
		if (false && graph.mathEnabled && typeof(MathJax) !== 'undefined' && typeof(MathJax.Hub) !== 'undefined')
		{
			// Workaround for lost gradients in Chrome after remove from DOM
			var elts = svgRoot.getElementsByTagName('*');
			
			for (var i = 0; i < elts.length; i++)
			{
				if (elts[i].getAttribute('id') != null)
				{
					elts[i].setAttribute('id', 'mxTemporaryPrefix-' + elts[i].getAttribute('id'));
				}
			}

			// Temporarily attaches to DOM for rendering
			svgRoot.style.visibility = 'hidden';
			document.body.appendChild(svgRoot);
			Editor.MathJaxRender(svgRoot);
			
			MathJax.Hub.Queue(mxUtils.bind(this, function ()
			{
				// Removes from DOM
				svgRoot.parentNode.removeChild(svgRoot);
				svgRoot.style.visibility = '';
				
				// Restores original IDs
				for (var i = 0; i < elts.length; i++)
				{
					if (elts[i].getAttribute('id') != null)
					{
						elts[i].setAttribute('id', elts[i].getAttribute('id').substring('mxTemporaryPrefix-'.length));
					}
				}
				
				// Keeping scale but moving translate only works for image export which
				// is fine since we do not want the SVG export to contain a workaround.
				// See https://github.com/mathjax/MathJax/issues/279
				if (fixPosition && navigator.userAgent.indexOf('AppleWebKit/') >= 0)
				{
					var fo = svgRoot.getElementsByTagName('foreignObject');
					
					for (var i = 0; i < fo.length; i++)
					{
						var tr = fo[i].parentNode.parentNode.getAttribute('transform');
						var translate  = /translate\(\s*([^\s,)]+)[ ,]([^\s,)]+)/.exec(tr);
					
						fo[i].setAttribute('x', Math.round(translate[1]));
						fo[i].setAttribute('y', Math.round(translate[2]));
						
						// Must use translate for crisp rendering
						fo[i].parentNode.parentNode.setAttribute('transform', 'translate(0.5,0.5)' + tr.substring(tr.indexOf(')') + 1));
					}
				}
				
				callback();
			}));
		}
		else
		{
			callback();
		}
	};
	
	/**
	 * Returns the SVG of the diagram with embedded XML. If a callback function is
	 * used, the images are converted to data URIs.
	 */
	EditorUi.prototype.getEmbeddedSvg = function(xml, graph, url, noHeader, callback, ignoreSelection, redirect)
	{
		var bg = graph.background;
		
		if (bg == mxConstants.NONE)
		{
			bg = null;
		}

		// Sets or disables alternate text for foreignObjects. Disabling is needed
		// because PhantomJS seems to ignore switch statements and paint all text.
		var svgRoot = graph.getSvg(bg, null, null, null, null, ignoreSelection);

		if (xml != null)
		{
			svgRoot.setAttribute('content', xml);
		}
		
		if (url != null)
		{
			svgRoot.setAttribute('resource', url);
		}

		// LATER: Click on SVG content to start editing
//		if (redirect != null)
//		{
//			// TODO: Ignore anchor tag source for click event
//			svgRoot.setAttribute('style', 'cursor:pointer;');
//			svgRoot.setAttribute('onclick', 'window.location.href=\'' + redirect + '\';'); 
//		}

		if (callback != null)
		{
			this.convertImages(svgRoot, mxUtils.bind(this, function(svgRoot)
			{
				callback(((!noHeader) ? '<?xml version="1.0" encoding="UTF-8"?>\n' +
					'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n' : '') +
					mxUtils.getXml(svgRoot));
			}));
		}
		else
		{
			return ((!noHeader) ? '<?xml version="1.0" encoding="UTF-8"?>\n' +
				'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n' : '') +
				mxUtils.getXml(svgRoot);
		}
	};
	
	/**
	 *
	 */
	EditorUi.prototype.exportImage = function(scale, transparentBackground, ignoreSelection, addShadow, editable, border, noCrop, currentPage, format)
	{
		format = (format != null) ? format : 'png';
		
		if (this.spinner.spin(document.body, mxResources.get('exporting')))
		{
			var selectionEmpty = this.editor.graph.isSelectionEmpty();
			ignoreSelection = (ignoreSelection != null) ? ignoreSelection : selectionEmpty;
			
			// Caches images
			if (this.thumbImageCache == null)
			{
				this.thumbImageCache = new Object();
			}
			
			try
			{
			   	this.exportToCanvas(mxUtils.bind(this, function(canvas)
			   	{
			   		this.spinner.stop();
			   		
			   		try
			   		{
			   			this.saveCanvas(canvas, (editable) ? this.getFileData(true, null,
			   				null, null, ignoreSelection, currentPage) : null, format);
			   		}
			   		catch (e)
			   		{
			   			// Fallback to server-side image export
			   			if (e.message == 'Invalid image')
			   			{
			   				this.downloadFile(format);
			   			}
			   			else
			   			{
				   			this.handleError(e);
			   			}
			   		}
			   	}), null, this.thumbImageCache, null, mxUtils.bind(this, function(e)
			   	{
			   		this.spinner.stop();
			   		this.handleError(e);
			   	}), null, ignoreSelection, scale || 1, transparentBackground,
			   		addShadow, null, null, border, noCrop);
			}
			catch (e)
			{
				this.spinner.stop();
				this.handleError(e);
			}
		}
	};

	/**
	 *
	 */
	EditorUi.prototype.exportToCanvas = function(callback, width, imageCache, background, error, limitHeight,
		ignoreSelection, scale, transparentBackground, addShadow, converter, graph, border, noCrop)
	{
		limitHeight = (limitHeight != null) ? limitHeight : true;
		ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;
		graph = (graph != null) ? graph : this.editor.graph;
		border = (border != null) ? border : 0;
		
		var bg = (transparentBackground) ? null : graph.background;
		
		if (bg == mxConstants.NONE)
		{
			bg = null;
		}
		
		if (bg == null)
		{
			bg = background;
		}
		
		// Handles special case where background is null but transparent is false
		if (bg == null && transparentBackground == false)
		{
			bg = '#ffffff';
		}
		
		this.convertImages(graph.getSvg(bg, null, null, noCrop, null, ignoreSelection), mxUtils.bind(this, function(svgRoot)
		{
			var img = new Image();
			
			img.onload = mxUtils.bind(this, function()
			{
				var canvas = document.createElement('canvas');
				var w = parseInt(svgRoot.getAttribute('width'));
				var h = parseInt(svgRoot.getAttribute('height'));
				scale = (scale != null) ? scale : 1;
				
				if (width != null)
				{
					scale = (!limitHeight) ? width / w : Math.min(1, Math.min((width * 3) / (h * 4), width / w));
				}
				
				w = Math.ceil(scale * w) + 2 * border;
				h = Math.ceil(scale * h) + 2 * border;
				
				canvas.setAttribute('width', w);
		   		canvas.setAttribute('height', h);
		   		var ctx = canvas.getContext('2d');
		   		
		   		if (bg != null)
		   		{
		   			ctx.beginPath();
					ctx.rect(0, 0, w, h);
					ctx.fillStyle = bg;
					ctx.fill();
		   		}
				
		   		ctx.scale(scale, scale);
				ctx.drawImage(img, border / scale, border / scale);
				callback(canvas);
			});
			
			img.onerror = function(e)
			{
				//console.log('img', e, img.src);
				
				if (error != null)
				{
					error(e);
				}
			};

			try
			{
				if (addShadow)
				{
					this.editor.graph.addSvgShadow(svgRoot);
				}
				
				this.convertMath(graph, svgRoot, true, mxUtils.bind(this, function()
				{
					img.src = this.createSvgDataUri(mxUtils.getXml(svgRoot));
				}));
			}
			catch (e)
			{
				//console.log('src', e, img.src);
				
				if (error != null)
				{
					error(e);
				}
			}
		}), imageCache, converter);
	};

	/**
	 * Converts all images in the SVG output to data URIs for immediate rendering
	 */
	EditorUi.prototype.createImageUrlConverter = function()
	{
		var converter = new mxUrlConverter();
		converter.updateBaseUrl();

		// Extends convert to avoid CORS using an image proxy server
		// LATER: Use img.crossOrigin="anonymous" to avoid proxy
		var convert = converter.convert;
		
		converter.convert = function(src)
		{
			if (src != null)
			{
				if ((src.substring(0, 7) == 'http://' || src.substring(0, 8) == 'https://') &&
					src.substring(0, converter.baseUrl.length) != converter.baseUrl)
				{
					src = PROXY_URL + '?url=' + encodeURIComponent(src);
				}
				else if (src.substring(0, 19) != 'chrome-extension://')
				{
					src = convert.apply(this, arguments);
				}
			}
			
			return src;
		};
		
		return converter;
	};
	
	/**
	 * Converts all images in the SVG output to data URIs for immediate rendering
	 */
	EditorUi.prototype.convertImages = function(svgRoot, callback, imageCache, converter)
	{
		// Converts images to data URLs for immediate painting
		if (converter == null)
		{
			converter = this.createImageUrlConverter();
		}
		
		// Barrier for asynchronous image loading
		var counter = 0;
		
		function inc()
		{
			counter++;
		};
		
		function dec()
		{
			counter--;
			
			if (counter == 0)
			{
				callback(svgRoot);
			}
		};

		var cache = imageCache || new Object();
		
		var convertImages = mxUtils.bind(this, function(tagName, srcAttr)
		{
			var images = svgRoot.getElementsByTagName(tagName);
			
			for (var i = 0; i < images.length; i++)
			{
				(mxUtils.bind(this, function(img)
				{
					var src = converter.convert(img.getAttribute(srcAttr));
					
					// Data URIs are pass-through
					if (src != null && src.substring(0, 5) != 'data:')
					{
						var tmp = cache[src];
						
						if (tmp == null)
						{
							inc();
							
							this.convertImageToDataUri(src, function(uri)
							{
								if (uri != null)
								{
									cache[src] = uri;
									img.setAttribute(srcAttr, uri);
								}
								
								dec();
							});
						}
						else
						{
							img.setAttribute(srcAttr, tmp);
						}
					}
				}))(images[i]);
			}
		});
		
		// Converts all known image tags in output
		// LATER: Add support for images in CSS
		convertImages('image', 'xlink:href');
		convertImages('img', 'src');
		
		// All from cache or no images
		if (counter == 0)
		{
			callback(svgRoot);
		}
	};

	/**
	 * Returns true if the given URL is known to have CORS headers.
	 */
	EditorUi.prototype.isCorsEnabledForUrl = function(url)
	{
		return url.substring(0, 34) === 'https?://raw.githubusercontent.com/' ||
			/^https?:\/\/.*\.github\.io\//.test(url) ||
			/^https?:\/\/(.*\.)?rawgit\.com\//.test(url);
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.convertImageToDataUri = function(url, callback)
	{
		if (/(\.svg)$/i.test(url))
		{
			mxUtils.get(url, mxUtils.bind(this, function(req)
			{
				callback(this.createSvgDataUri(req.getText()));
			}),
			function()
			{
				callback();
			});
		}
		else
		{
		    var img = new Image();
		    
		    img.onload = function()
		    {
		        var canvas = document.createElement('canvas');
		        var ctx = canvas.getContext('2d');
		        canvas.height = img.height;
		        canvas.width = img.width;
		        ctx.drawImage(img, 0, 0);
		        callback(canvas.toDataURL());
		    };
		    
		    img.onerror = function()
		    {
		    	callback();
		    };
		    
		    img.src = url;
		}
	};
	
	/**
	 * Handling drag and drop and import.
	 */

	/**
	 * Imports the given XML into the existing diagram.
	 */
	EditorUi.prototype.importXml = function(xml, dx, dy, crop, noErrorHandling)
	{
		dx = (dx != null) ? dx : 0;
		dy = (dy != null) ? dy : 0;
		var cells = []
		
		try
		{
			var graph = this.editor.graph;
	
			if (xml != null && xml.length > 0)
			{
				var doc = mxUtils.parseXml(xml);
				
				// Checks for mxfile with multiple pages
				var node = this.editor.extractGraphModel(doc.documentElement, this.pages != null);
				
				if (node != null && node.nodeName == 'mxfile' && this.pages != null)
				{
					var diagrams = node.getElementsByTagName('diagram');

					if (diagrams.length == 1)
					{
						node = mxUtils.parseXml(graph.decompress(mxUtils.getTextContent(diagrams[0]))).documentElement;
					}
					else if (diagrams.length > 1)
					{
						// Adds pages
						graph.model.beginUpdate();
						try
						{
							for (var i = 0; i < diagrams.length; i++)
							{
								var page = this.updatePageRoot(new DiagramPage(diagrams[i]));
								var index = this.pages.length;
								
								// Checks for invalid page names
								if (page.getName() == null)
								{
									page.setName(mxResources.get('pageWithNumber', [index + 1]));
								}
								
								graph.model.execute(new ChangePage(this, page, page, index));
							}
						}
						finally
						{
							graph.model.endUpdate();
						}
					}
				}
				
				if (node != null && node.nodeName === 'mxGraphModel')
				{
					var model = new mxGraphModel();
					var codec = new mxCodec(node.ownerDocument);
					codec.decode(node, model);
					
					var childCount = model.getChildCount(model.getRoot());
					var targetChildCount = graph.model.getChildCount(graph.model.getRoot());
					
					// Merges into active layer if one layer is pasted
					graph.model.beginUpdate();
					try
					{
						// Mapping for multiple calls to cloneCells with the same set of cells
						var mapping = new Object();
						
						for (var i = 0; i < childCount; i++)
						{
							var parent = model.getChildAt(model.getRoot(), i);
							
							// Adds cells to existing layer if not locked
							if (childCount == 1 && !graph.isCellLocked(graph.getDefaultParent()))
							{
								var children = model.getChildren(parent);
								cells = cells.concat(graph.importCells(children, dx, dy, graph.getDefaultParent(), null, mapping));
							}
							else
							{
								// Delta is non cascading, needs separate move for layers
								parent = graph.importCells([parent], 0, 0, graph.model.getRoot(), null, mapping)[0];
								var children = graph.model.getChildren(parent);
								graph.moveCells(children, dx, dy);
								cells = cells.concat(children);
							}
						}
						
						if (crop)
						{
							if (graph.isGridEnabled())
							{
								dx = graph.snap(dx);
								dy = graph.snap(dy);
							}
							
							var bounds = graph.getBoundingBoxFromGeometry(cells, true);
							
							if (bounds != null)
							{
								graph.moveCells(cells, dx - bounds.x, dy - bounds.y);
							}
						}
					}
					finally
					{
						graph.model.endUpdate();
					}
				}
			}
		}
		catch (e)
		{
			if (!noErrorHandling)
			{
				this.handleError(e, mxResources.get('invalidOrMissingFile'));
			}
			
			throw e;
		}
		
		return cells;
	};

	/**
	 * Automatic loading for lucidchart import.
	 */
	EditorUi.prototype.insertLucidChart = function(g, dx, dy, crop)
	{
		var delayed = mxUtils.bind(this, function()
		{
			// Checks for signature method
			if (this.pasteLucidChart)
			{
				try
				{
					this.pasteLucidChart(g, dx, dy, crop);
				}
				catch (e)
				{
					// ignore
				}
			}
		});
		
		if (!this.pasteLucidChart && !this.loadingExtensions && !this.isOffline())
		{
			this.loadingExtensions = true;
			
			if (urlParams['dev'] == '1')
			{
				mxscript('/js/diagramly/Extensions.js', delayed);
			}
			else
			{
				mxscript('/js/extensions.min.js', delayed);
			}
		}
		else
		{
			// Must be async for cell selection
			window.setTimeout(delayed, 0);
		}
	};
	
	/**
	 * Imports the given XML into the existing diagram.
	 * TODO: Make this function asynchronous
	 */
	EditorUi.prototype.insertTextAt = function(text, dx, dy, html, asImage, crop)
	{
		crop = (crop != null) ? crop : true;
		
		// Handles special case for Gliffy data which requires async server-side for parsing
		if (text != null)
		{
			if (Graph.fileSupport && !this.isOffline() && new XMLHttpRequest().upload && this.isRemoteFileFormat(text))
			{
				// Fixes possible parsing problems with ASCII 160 (non-breaking space)
				this.parseFile(new Blob([text.replace(/\s+/g,' ')], {type: 'application/octet-stream'}), mxUtils.bind(this, function(xhr)
				{
					if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status <= 299)
					{
						this.editor.graph.setSelectionCells(this.insertTextAt(xhr.responseText, dx, dy, true));
					}
				}));
				
				// Returns empty cells array as it is aysynchronous
				return [];
			}
			// Handles special case of data URI which requires async loading for finding size
			else if (text.substring(0, 5) == 'data:' || (!this.isOffline() && (asImage || (/\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(text))))
			{
				var graph = this.editor.graph;
				
				// Checks for embedded XML in PNG
				if (text.substring(0, 22) == 'data:image/png;base64,')
				{
					var xml = this.extractGraphModelFromPng(text);
					var result = this.importXml(xml, dx, dy, crop, true); 
					
					if (result.length > 0)
					{
						return result;
					}
				}
				
				// Tries to extract embedded XML from SVG data URI
				if (text.substring(0, 19) == 'data:image/svg+xml;')
				{
					try
					{
						var xml = null;
						
						if (text.substring(0, 26) == 'data:image/svg+xml;base64,')
						{
							xml = text.substring(text.indexOf(',') + 1);
							xml = (window.atob && !mxClient.IS_SF) ? atob(xml) : Base64.decode(xml, true);
						}
						else
						{
							xml = decodeURIComponent(text.substring(text.indexOf(',') + 1));
						}
						
						var result = this.importXml(xml, dx, dy, crop, true); 
	
						if (result.length > 0)
						{
							return result;
						}
					}
					catch (e)
					{
						// Ignore
					}
				}
				
				this.loadImage(text, mxUtils.bind(this, function(img)
				{
					if (text.substring(0, 5) == 'data:')
					{
						this.resizeImage(img, text, mxUtils.bind(this, function(data2, w2, h2)
	    				{
							graph.setSelectionCell(graph.insertVertex(null, null, '', graph.snap(dx), graph.snap(dy),
									w2, h2, 'shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;' +
									'verticalAlign=top;aspect=fixed;imageAspect=0;image=' + this.convertDataUri(data2) + ';'));
	    				}), true, this.maxImageSize);
					}
					else
					{
						var s = Math.min(1, Math.min(this.maxImageSize / img.width, this.maxImageSize / img.height));
						var w = Math.round(img.width * s);
						var h = Math.round(img.height * s);
						
						graph.setSelectionCell(graph.insertVertex(null, null, '', graph.snap(dx), graph.snap(dy),
								w, h, 'shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;' +
								'verticalAlign=top;aspect=fixed;imageAspect=0;image=' + text + ';'));
					}
				}), mxUtils.bind(this, function()
				{
					var cell = null;
					
					// Inserts invalid data URIs as text
			    	graph.getModel().beginUpdate();
			    	try
			    	{
						cell = graph.insertVertex(graph.getDefaultParent(), null, text,
								graph.snap(dx), graph.snap(dy), 1, 1, 'text;' + ((html) ? 'html=1;' : ''));
						graph.updateCellSize(cell);
						graph.fireEvent(new mxEventObject('textInserted', 'cells', [cell]));
			    	}
			    	finally
			    	{
			    		graph.getModel().endUpdate();
			    	}
	
					graph.setSelectionCell(cell);
				}));
				
				return [];
			}
			else
			{
				text = this.editor.graph.zapGremlins(mxUtils.trim(text));
			
				if (this.isCompatibleString(text))
				{
					return this.importXml(text, dx, dy, crop);
				}
				else if (text.length > 0)
				{
					if (text.substring(0, 26) == '{"state":"{\\"Properties\\":')
					{
						// Finds and imports first page
						var state = JSON.parse(JSON.parse(text).state);
						var page = null;
						
						for (var id in state.Pages)
						{
							var tmp = state.Pages[id];
							
							if (tmp != null && tmp.Properties.Order == '0')
							{
								page = tmp;
								
								break;
							}
						}
						
						if (page != null)
						{
							this.insertLucidChart(page, dx, dy, crop);
						}
					}
					else
					{
						var graph = this.editor.graph;
						var cell = null;
						
				    	graph.getModel().beginUpdate();
				    	try
				    	{
				    		// Fires cellsInserted to apply the current style to the inserted text.
				    		// This requires the value to be empty when the event is fired.
							cell = graph.insertVertex(graph.getDefaultParent(), null, '',
									graph.snap(dx), graph.snap(dy), 1, 1, 'text;' + ((html) ? 'html=1;' : ''));
							graph.fireEvent(new mxEventObject('textInserted', 'cells', [cell]));
							
							// Apply value and updates the cell size to fit the text block
							cell.value = text;
							graph.updateCellSize(cell);
							
							// See http://stackoverflow.com/questions/6927719/url-regex-does-not-work-in-javascript
							var regexp = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i;
							
							if (regexp.test(cell.value))
							{
								graph.setLinkForCell(cell, cell.value);
							}
							
							// Adds spacing
							cell.geometry.width += graph.gridSize;
							cell.geometry.height += graph.gridSize;
				    	}
				    	finally
				    	{
				    		graph.getModel().endUpdate();
				    	}
						
						return [cell];
					}
				}
			}
		}
		
		return [];
	};

	/**
	 * Formats the given file size.
	 */
	EditorUi.prototype.formatFileSize = function(size)
	{
	    var units = [' kB', ' MB', ' GB', ' TB', 'PB', 'EB', 'ZB', 'YB'];
		var i = -1;
	    do
	    {
	    	size = size / 1024;
	        i++;
	    } while (size > 1024);

	    return Math.max(size, 0.1).toFixed(1) + units[i];
	};

	/**
	 * Imports the given XML into the existing diagram.
	 */
	EditorUi.prototype.convertDataUri = function(uri)
	{
		// Handles special case of data URI which needs to be rewritten
		// to be used in a cell style to remove the semicolon
		if (uri.substring(0, 5) == 'data:')
		{
			var semi = uri.indexOf(';');
			
			if (semi > 0)
			{
				uri = uri.substring(0, semi) + uri.substring(uri.indexOf(',', semi + 1));
			}
		}
		
		return uri;
	};
	
	/**
	 * Returns true for Gliffy or GraphML data or .vsdx filenames.
	 */
	EditorUi.prototype.isRemoteFileFormat = function(data, filename)
	{
		return /(\.*<graphml xmlns=\".*)/.test(data) ||
			/(\"contentType\":\s*\"application\/gliffy\+json\")/.test(data) ||
			(filename != null && /(\.vsdx)($|\?)/i.test(filename));
	};
	
	/**
	 * Imports the given XML into the existing diagram.
	 */
	EditorUi.prototype.importFile = function(data, mimeType, dx, dy, w, h, filename, done, file, crop, ignoreEmbeddedXml)
	{
		crop = (crop != null) ? crop : true;
		var async = false;
		var cells = null;
		
		if (mimeType.substring(0, 5) == 'image')
		{
			var containsModel = false;

			if (mimeType.substring(0, 9) == 'image/png')
			{
				var xml = (ignoreEmbeddedXml) ? null : this.extractGraphModelFromPng(data);
				
				if (xml != null && xml.length > 0)
				{
					cells = this.importXml(xml, dx, dy, crop);
					containsModel = true;
				}
			}
			
			if (!containsModel)
			{
				var graph = this.editor.graph;
				
				// Strips encoding bit (eg. ;base64,) for cell style
				var semi = data.indexOf(';');
	
				if (semi > 0)
				{
					data = data.substring(0, semi) + data.substring(data.indexOf(',', semi + 1));
				}
				
				if (crop && graph.isGridEnabled())
				{
					dx = graph.snap(dx);
					dy = graph.snap(dy);
				}

				cells = [graph.insertVertex(null, null, '', dx, dy, w, h,
					'shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;' +
					'verticalAlign=top;aspect=fixed;imageAspect=0;image=' + data + ';')];
			}
		}
		else if (!this.isOffline() && new XMLHttpRequest().upload && this.isRemoteFileFormat(data, filename))
		{
			//  LATER: done and async are a hack before making this asynchronous
			async = true;

			// Returns empty cells array as it is aysynchronous
			this.parseFile((file != null) ? file : new Blob([data], {type: 'application/octet-stream'}), mxUtils.bind(this, function(xhr)
			{
				if (xhr.readyState == 4)
				{
					var importedCells = null;
					
					if (xhr.status >= 200 && xhr.status <= 299)
					{
						importedCells = this.importXml(xhr.responseText, dx, dy, crop);
					}
					
					if (done != null)
					{
						done(importedCells);
					}
				}
			}), filename);
		}
		else if (!/(\.vsd)($|\?)/i.test(filename))
		{
			cells = this.insertTextAt(this.validateFileData(data), dx, dy, true, null, crop);
		}
		
		if (!async && done != null)
		{
			done(cells);
		}
		
		return cells;
	};
	
	/**
	 * Base64 encodes the given string. This method seems to be more
	 * robust for encoding PNG from binary AJAX responses.
	 */
	EditorUi.prototype.base64Encode = function(str)
	{
	    var CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
	    var out = "", i = 0, len = str.length, c1, c2, c3;
	    
	    while (i < len)
	    {
	        c1 = str.charCodeAt(i++) & 0xff;
	        
	        if (i == len)
	        {
	            out += CHARS.charAt(c1 >> 2);
	            out += CHARS.charAt((c1 & 0x3) << 4);
	            out += "==";
	            break;
	        }
	        
	        c2 = str.charCodeAt(i++);
	        
	        if (i == len)
	        {
	            out += CHARS.charAt(c1 >> 2);
	            out += CHARS.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
	            out += CHARS.charAt((c2 & 0xF) << 2);
	            out += "=";
	            break;
	        }
	        
	        c3 = str.charCodeAt(i++);
	        out += CHARS.charAt(c1 >> 2);
	        out += CHARS.charAt(((c1 & 0x3) << 4) | ((c2 & 0xF0) >> 4));
	        out += CHARS.charAt(((c2 & 0xF) << 2) | ((c3 & 0xC0) >> 6));
	        out += CHARS.charAt(c3 & 0x3F);
	    }
	    
	    return out;
	};

	/**
	 * 
	 */
	EditorUi.prototype.importFiles = function(files, x, y, maxSize, fn, resultFn, filterFn, barrierFn, resizeImages, maxBytes, resampleThreshold, ignoreEmbeddedXml)
	{
		var crop = x != null && y != null;
		
		x = (x != null) ? x : 0;
		y = (y != null) ? y : 0;
		maxSize = (maxSize != null) ? maxSize : this.maxImageSize;
		maxBytes = (maxBytes != null) ? maxBytes : this.maxImageBytes;
		resizeImages = (resizeImages != null) ? resizeImages : true;
		
		var graph = this.editor.graph;
		var gs = graph.gridSize;

		fn = (fn != null) ? fn : mxUtils.bind(this, function(data, mimeType, x, y, w, h, filename, done, file)
		{
			if (data != null && data.substring(0, 10) == '<mxlibrary')
			{
				this.spinner.stop();
				this.loadLibrary(new LocalLibrary(this, data, filename));
    			
    			return null;
			}
			else
			{
				return this.importFile(data, mimeType, x, y, w, h, filename, done, file, crop, ignoreEmbeddedXml);
			}
		});
		
		resultFn = (resultFn != null) ? resultFn : mxUtils.bind(this, function(cells)
		{
			graph.setSelectionCells(cells);
		});

		if (this.spinner.spin(document.body, mxResources.get('loading')))
		{
			var count = files.length;
			var remain = count;
			var queue = [];
			
			// Barrier waits for all files to be loaded asynchronously
			var barrier = mxUtils.bind(this, function(index, fnc)
			{
				queue[index] = fnc;
				
				if (--remain == 0)
				{
					this.spinner.stop();
					
					if (barrierFn != null)
					{
						barrierFn(queue);
					}
					else
					{
						var cells = [];
						
						graph.getModel().beginUpdate();
						try
						{
					    	for (var j = 0; j < queue.length; j++)
					    	{
					    		var tmp = queue[j]();
					    		
					    		if (tmp != null)
					    		{
					    			cells = cells.concat(tmp);
					    		}
					    	}
						}
						finally
						{
							graph.getModel().endUpdate();
						}
					}
					
					resultFn(cells);
				}
			});
			
			for (var i = 0; i < count; i++)
			{
				(mxUtils.bind(this, function(index)
				{
					var file = files[index];
					var reader = new FileReader();
					
					reader.onload = mxUtils.bind(this, function(e)
					{
						if (filterFn == null || filterFn(file))
						{
				    		if (file.type.substring(0, 6) == 'image/')
				    		{
				    			if (file.type.substring(0, 9) == 'image/svg')
				    			{
				    				// Checks if SVG contains content attribute
			    					var data = e.target.result;
			    					var comma = data.indexOf(',');
			    					var svgText = atob(data.substring(comma + 1));
			    					var root = mxUtils.parseXml(svgText);
		    						var svgs = root.getElementsByTagName('svg');
		    						
		    						if (svgs.length > 0)
			    					{
		    							var svgRoot = svgs[0];
				    					var cont = (ignoreEmbeddedXml) ? null : svgRoot.getAttribute('content');

				    					if (cont != null && cont.charAt(0) != '<' && cont.charAt(0) != '%')
				    					{
				    						cont = unescape((window.atob) ? atob(cont) : Base64.decode(cont, true));
				    					}
				    					
				    					if (cont != null && cont.charAt(0) == '%')
				    					{
				    						cont = decodeURIComponent(cont);
				    					}

				    					if (cont != null && (cont.substring(0, 8) === '<mxfile ' ||
				    						cont.substring(0, 14) === '<mxGraphModel '))
				    					{
				    						barrier(index, mxUtils.bind(this, function()
						    				{
						    					return fn(cont, 'text/xml', x + index * gs, y + index * gs, 0, 0, file.name);	
						    				}));
				    					}
				    					else
				    					{
						    				// SVG needs special handling to add viewbox if missing and
						    				// find initial size from SVG attributes (only for IE11)
						    				barrier(index, mxUtils.bind(this, function()
						    				{
					    						try
					    						{
							    					var prefix = data.substring(0, comma + 1);
							    					
							    					// Parses SVG and find width and height
							    					if (root != null)
							    					{
							    						var svgs = root.getElementsByTagName('svg');
							    						
							    						if (svgs.length > 0)
								    					{
							    							var svgRoot = svgs[0];
								    						var w = parseFloat(svgRoot.getAttribute('width'));
								    						var h = parseFloat(svgRoot.getAttribute('height'));
								    						
								    						// Check if viewBox attribute already exists
								    						var vb = svgRoot.getAttribute('viewBox');
								    						
								    						if (vb == null || vb.length == 0)
								    						{
								    							svgRoot.setAttribute('viewBox', '0 0 ' + w + ' ' + h);
								    						}
								    						// Uses width and height from viewbox for
								    						// missing width and height attributes
								    						else if (isNaN(w) || isNaN(h))
								    						{
								    							var tokens = vb.split(' ');
								    							
								    							if (tokens.length > 3)
								    							{
								    								w = parseFloat(tokens[2]);
								    								h = parseFloat(tokens[3]);
								    							}
								    						}
	
								    						data = this.createSvgDataUri(mxUtils.getXml(svgs[0]));
								    						
								    						var s = Math.min(1, Math.min(maxSize / Math.max(1, w)), maxSize / Math.max(1, h));
										    				
										    				return fn(data, file.type, x + index * gs, y + index * gs,
										    					Math.max(1, Math.round(w * s)), Math.max(1, Math.round(h * s)), file.name);
								    					}
							    					}
					    						}
					    						catch (e)
					    						{
					    							// ignores any SVG parsing errors
					    						}
						    					
						    					return null;
						    				}));
				    					}
			    					}
				    			}
				    			else
				    			{
				    				// Checks if PNG+XML is available to bypass code below
				    				var containsModel = false;
				    				
				    				if (file.type == 'image/png')
				    				{
				    					var xml = (ignoreEmbeddedXml) ? null : this.extractGraphModelFromPng(e.target.result);
				    					
				    					if (xml != null && xml.length > 0)
				    					{
				    						var img = new Image();
				    						img.src = e.target.result;
				    						
						    				barrier(index, mxUtils.bind(this, function()
						    				{
						    					return fn(xml, 'text/xml', x + index * gs, y + index * gs,
						    						img.width, img.height, file.name);	
						    				}));
				    						
				    						containsModel = true;
				    					}
				    				}
				    				
					    			// Additional asynchronous step for finding image size
				    				if (!containsModel)
				    				{
				    					// Cannot load local files in Chrome App
				    					if (window.chrome != null && chrome.app != null && chrome.app.runtime != null)
				    					{
				    						this.spinner.stop();
				    						this.showError(mxResources.get('error'), mxResources.get('dragAndDropNotSupported'),
				    							mxResources.get('cancel'), mxUtils.bind(this, function()
			    								{
			    									// Hides the dialog
			    								}), null, mxResources.get('ok'), mxUtils.bind(this, function()
			    								{
				    								// Redirects to import function
			    									this.actions.get('import').funct();
			    								})
			    							);
				    					}
				    					else
				    					{
							    			this.loadImage(e.target.result, mxUtils.bind(this, function(img)
							    			{
							    				this.resizeImage(img, e.target.result, mxUtils.bind(this, function(data2, w2, h2)
							    				{
								    				barrier(index, mxUtils.bind(this, function()
										    		{
								    					// Refuses to insert images above a certain size as they kill the app
								    					if (data2 != null && data2.length < maxBytes)
								    					{
									    					var s = (!resizeImages || !this.isResampleImage(e.target.result)) ? 1 : Math.min(1, Math.min(maxSize / w2, maxSize / h2));
										    				
									    					return fn(data2, file.type, x + index * gs, y + index * gs, Math.round(w2 * s), Math.round(h2 * s), file.name);
								    					}
								    					else
								    					{
								    						this.handleError({message: mxResources.get('imageTooBig')});
								    						
								    						return null;
								    					}
										    		}));
							    				}), resizeImages, maxSize, resampleThreshold);
							    			}));
				    					}
				    				}
				    			}
				    		}
				    		else
				    		{
								fn(e.target.result, file.type, x + index * gs, y + index * gs, 240, 160, file.name, function(cells)
								{
									barrier(index, function()
		    	    				{
		    		    				return cells;
		    	    				});
								});
				    		}
						}
					});
					
					// Handles special case of binary file where the reader should not be used
					if (/(\.vsdx)($|\?)/i.test(file.name))
					{
						fn(null, file.type, x + index * gs, y + index * gs, 240, 160, file.name, function(cells)
						{
							barrier(index, function()
    	    				{
    		    				return cells;
    	    				});
						}, file);
					}
					else if (file.type.substring(0, 5) == 'image')
					{
						reader.readAsDataURL(file);
					}
					else
					{
						reader.readAsText(file);
					}
				}))(i);
			}
		}
	};

	/**
	 * Parses the file using XHR2 via the server. File can be a blob or file object.
	 * Filename is an optional parameter for blobs (that do not have a filename).
	 */
	EditorUi.prototype.parseFile = function(file, fn, filename)
	{
		filename = (filename != null) ? filename : file.name;
		
		var formData = new FormData();
		formData.append('format', 'xml');
		formData.append('upfile', file, filename);

		var xhr = new XMLHttpRequest();
		xhr.open('POST', OPEN_URL);
		
		xhr.onreadystatechange = function()
		{
			fn(xhr);
		};
		
		xhr.send(formData);
	};
	
	/**
	 * 
	 */
	EditorUi.prototype.isResampleImage = function(data, thresh)
	{
		thresh = (thresh != null) ? thresh : this.resampleThreshold;

		return data.length > thresh;
	};
	
	/**
	 * Resizes the given image if <maxImageBytes> is not null.
	 */
	EditorUi.prototype.resizeImage = function(img, data, fn, enabled, maxSize, thresh)
	{
		maxSize = (maxSize != null) ? maxSize : this.maxImageSize;
		var w = Math.max(1, img.width);
		var h = Math.max(1, img.height);
		
		if (enabled && this.isResampleImage(data, thresh))
		{
			try
			{
				var factor = Math.max(w / maxSize, h / maxSize);
				
				if (factor > 1)
				{
					var w2 = Math.round(w / factor);
					var h2 = Math.round(h / factor);
					
					var canvas = document.createElement('canvas');
				    canvas.width = w2;
				    canvas.height = h2;
	
				    var ctx = canvas.getContext('2d');
				    ctx.drawImage(img, 0, 0, w2, h2);
				    
				    var tmp = canvas.toDataURL();

				    // Uses new image if smaller
				    if (tmp.length < data.length)
				    {			    
				    	// Checks if the image is empty by comparing
				    	// with an empty image of the same size
				    	var canvas2 = document.createElement('canvas');
						canvas2.width = w2;
					    canvas2.height = h2;
					    var tmp2 = canvas2.toDataURL();
					    
					    if (tmp !== tmp2)
					    {	
					    	data = tmp;
					    	w = w2;
					    	h = h2;
					    }
				    }
				}
			}
			catch (e)
			{
				// ignores image scaling errors
			}
		}

		fn(data, w, h);
	};
	
	EditorUi.prototype.crcTable = [];
	
	for (var n = 0; n < 256; n++)
	{
		var c = n;
		
		for (var k = 0; k < 8; k++)
		{
			if ((c & 1) == 1)
			{
				c = 0xedb88320 ^ (c >>> 1);
			}
			else
			{
				c >>>= 1;
			}

			EditorUi.prototype.crcTable[n] = c;
		}
	}
	
	EditorUi.prototype.updateCRC = function(crc, data, off, len)
	{
		var c = crc;
	
		for (var n = 0; n < len; n++)
		{
			c = EditorUi.prototype.crcTable[(c ^ data[off + n]) & 0xff] ^ (c >>> 8);
		}
	
		return c;
	};

	/**
	 * Adds the given text to the compressed or non-compressed text chunk.
	 */
	EditorUi.prototype.writeGraphModelToPng = function(data, type, key, value, error)
	{
		var base64 = data.substring(data.indexOf(',') + 1);
		var f = (window.atob) ? atob(base64) : Base64.decode(base64, true);
		var pos = 0;
		
		function fread(d, count)
		{
			var start = pos;
			pos += count;
			
			return d.substring(start, pos);
		};
		
		// Reads unsigned long 32 bit big endian
		function _freadint(d)
		{
			var bytes = fread(d, 4);
			
			return bytes.charCodeAt(3) + (bytes.charCodeAt(2) << 8) +
				(bytes.charCodeAt(1) << 16) + (bytes.charCodeAt(0) << 24);
		};
		
		function writeInt(num)
		{
			return String.fromCharCode((num >> 24) & 0x000000ff, (num >> 16) & 0x000000ff,
				(num >> 8) & 0x000000ff, num & 0x000000ff);
		};
		
		// Checks signature
		if (fread(f,8) != String.fromCharCode(137) + 'PNG' + String.fromCharCode(13, 10, 26, 10))
		{
			if (error != null)
			{
				error();
			}
			
			return;
		}
		
		// Reads header chunk
		fread(f,4);
		
		if (fread(f,4) != 'IHDR')
		{
			if (error != null)
			{
				error();
			}
			
			return;
		}
		
		fread(f, 17);
		var result = f.substring(0, pos);
		
		do
		{
			var n = _freadint(f);
			var chunk = fread(f,4);
			
			if (chunk == 'IDAT')
			{
				result = f.substring(0, pos - 8);
				
				var chunkData = key + String.fromCharCode(0) +
					((type == 'zTXt') ? String.fromCharCode(0) : '') + 
					value;
				
				// FIXME: Wrong crc
				var crc = 0xffffffff;
				crc = this.updateCRC(crc, type, 0, 4);
				crc = this.updateCRC(crc, chunkData, 0, chunkData.length);
				
				result += writeInt(chunkData.length) + type + chunkData + writeInt(crc ^ 0xffffffff);
				result += f.substring(pos - 8, f.length);
				
				break;
			}
			
			result += f.substring(pos - 8, pos - 4 + n);
			value = fread(f,n);
			fread(f,4);
		}
		while (n);
		
		return 'data:image/png;base64,' + ((window.btoa) ? btoa(result) : Base64.encode(result, true));
	}
	
	/**
	 * Extracts the XML from the compressed or non-compressed text chunk.
	 */
	EditorUi.prototype.extractGraphModelFromPng = function(data)
	{
		var result = null;
		
		try
		{
			var base64 = data.substring(data.indexOf(',') + 1);

			// Workaround for invalid character error in Safari
			var binary = (window.atob && !mxClient.IS_SF) ? atob(base64) : Base64.decode(base64, true);
			
			EditorUi.parsePng(binary, mxUtils.bind(this, function(pos, type, length)
			{
				var value = binary.substring(pos + 8, pos + 8 + length);
				
				if (type == 'zTXt')
				{
					var idx = value.indexOf(String.fromCharCode(0));
					
					if (value.substring(0, idx) == 'mxGraphModel')
					{
						// Workaround for Java URL Encoder using + for spaces, which isn't compatible with JS
						var xmlData = this.editor.graph.bytesToString(pako.inflateRaw(
							value.substring(idx + 2))).replace(/\+/g,' ');
						
						if (xmlData != null && xmlData.length > 0)
						{
							result = xmlData;
						}
					}
				}
				// Uncompressed section is normally not used
				else if (type == 'tEXt')
				{
					var vals = value.split(String.fromCharCode(0));
					
					if (vals.length > 1 && vals[0] == 'mxGraphModel')
					{
						result = vals[1];
					}
				}
				
				if (result != null || type == 'IDAT')
				{
					// Stops processing the file as our text chunks
					// are always placed before the data section
					return true;
				}
			}));
		}
		catch (e)
		{
			// ignores decoding errors
		}
		
		if (result != null && result.charAt(0) == '%')
		{
			result = decodeURIComponent(result);
		}
		
		// Workaround for double encoded content
		if (result != null && result.charAt(0) == '%')
		{
			result = decodeURIComponent(result);
		}
		
		return result;
	};

	/**
	 * Loads the image from the given URI.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.loadImage = function(uri, onload, onerror)
	{
		var img = new Image();
		
		img.onload = function()
		{
			onload(img);
		}
		
		if (onerror != null)
		{
			img.onerror = onerror;
		}
		
		img.src = uri;
	};

	// Initializes the user interface
	var editorUiInit = EditorUi.prototype.init;
	EditorUi.prototype.init = function()
	{
		editorUiInit.apply(this, arguments);
		var graph = this.editor.graph;
		var ui = this;
		
		if (mxClient.IS_SVG)
		{
			// LATER: Add shadow for labels in graph.container (eg. math, NO_FO), scaling
			this.editor.graph.addSvgShadow(graph.view.canvas.ownerSVGElement, null, true);
		}

		/**
		 * Specifies the default filename.
		 */
		this.defaultFilename = mxResources.get('untitledDiagram');
		
		/**
		 * Adds placeholder for %page% and %pagenumber%
		 */
		var graphGetGlobalVariable = graph.getGlobalVariable;
		
		graph.getGlobalVariable = function(name)
		{
			if (name == 'page' && ui.currentPage != null)
			{
				return ui.currentPage.getName();
			}
			else if (name == 'pagenumber')
			{
				if (ui.currentPage != null && ui.pages != null)
				{
					return mxUtils.indexOf(ui.pages, ui.currentPage) + 1;
				}
				else
				{
					return 1;
				}
			}
			
			return graphGetGlobalVariable.apply(this, arguments);
		};

		/**
		 * Overrides editor filename.
		 */
		this.editor.getOrCreateFilename = function()
		{
			var filename = ui.defaultFilename;
			var file = ui.getCurrentFile();
			
			if (file != null)
			{
				filename = (file.getTitle() != null) ? file.getTitle() : filename;
			}
			
			return filename;
		};

		// Disables print action for standalone apps on iOS
		// because there is no way to close the new window
		// LATER: Use iframe for print, disable preview
		var printAction = this.actions.get('print');
		printAction.setEnabled(!mxClient.IS_IOS || !navigator.standalone);
		printAction.visible = printAction.isEnabled();
		
		// Scales pages/graph to fit available size
		if (!this.editor.chromeless)
		{
			// Defines additional hotkeys
			this.keyHandler.bindAction(70, true, 'find'); // Ctrl+F
		    this.keyHandler.bindAction(67, true, 'copyStyle', true); // Ctrl+Shift+C
		    this.keyHandler.bindAction(86, true, 'pasteStyle', true); // Ctrl+Shift+V
		    this.keyHandler.bindAction(77, true, 'editGeometry', true); // Ctrl+Shift+M
		    this.keyHandler.bindAction(88, true, 'insertText', true); // Ctrl+Shift+X
		    this.keyHandler.bindAction(75, true, 'insertRectangle'); // Ctrl+K
		    this.keyHandler.bindAction(75, true, 'insertEllipse', true); // Ctrl+Shift+K
			
			// Handles copy paste of images from clipboard
			if (!mxClient.IS_IE)
			{
				graph.container.addEventListener('paste', mxUtils.bind(this, function(evt)
				{
					var graph = this.editor.graph;
					
					if (!mxEvent.isConsumed(evt))
					{
						try
						{
							var data = (evt.clipboardData || evt.originalEvent.clipboardData);
							var containsText = false;
							
							// Workaround for asynchronous paste event processing in textInput
							// is to ignore this event if it contains text/html/rtf (see below).
							// NOTE: Image is not pasted into textInput so can't listen there.
							for (var i = 0; i < data.types.length; i++)
							{	
								if (data.types[i].substring(0, 5) === 'text/')
								{
									containsText = true;
									break;
								}
							}
							
							if (!containsText)
							{
								var items = data.items;
								
								for (index in items)
								{
									var item = items[index];
									
									if (item.kind === 'file')
									{
										if (graph.isEditing())
										{
									    	this.importFiles([item.getAsFile()], 0, 0, this.maxImageSize, function(data, mimeType, x, y, w, h)
									    	{
									    		// Inserts image into current text box
									    		graph.insertImage(data, w, h);
									    	}, function()
									    	{
									    		// No post processing
									    	}, function(file)
									    	{
									    		// Handles only images
									    		return file.type.substring(0, 6) == 'image/';
									    	}, function(queue)
									    	{
									    		// Invokes elements of queue in order
									    		for (var i = 0; i < queue.length; i++)
									    		{
									    			queue[i]();
									    		}
									    	});
										}
										else
										{
											var pt = this.editor.graph.getInsertPoint();
											this.importFiles([item.getAsFile()], pt.x, pt.y, this.maxImageSize);
											mxEvent.consume(evt);
										}
										
										break;
									}
								}
							}
						}
						catch (e)
						{
							// ignore
						}
					}
				}), false);
			}

			// Focused but invisible textarea during control or meta key events
			var textInput = document.createElement('div');
			textInput.style.position = 'absolute';
			textInput.style.whiteSpace = 'nowrap';
			textInput.style.overflow = 'hidden';
			textInput.style.display = 'block';
			textInput.contentEditable = true;
			mxUtils.setOpacity(textInput, 0);
			textInput.style.width = '1px';
			textInput.style.height = '1px';
			textInput.innerHTML = '&nbsp;';

			var restoreFocus = false;
			
			// Disables built-in cut, copy and paste shortcuts
			this.keyHandler.bindControlKey(88, null);
			this.keyHandler.bindControlKey(67, null);
			this.keyHandler.bindControlKey(86, null);

			// Shows a textare when control/cmd is pressed to handle native clipboard actions
			mxEvent.addListener(document, 'keydown', mxUtils.bind(this, function(evt)
			{
				// No dialog visible
				var source = mxEvent.getSource(evt);
				
				if (graph.container != null && graph.isEnabled() && !graph.isMouseDown && !graph.isEditing() &&
					this.dialog == null && source.nodeName != 'INPUT' && source.nodeName != 'TEXTAREA')
				{
					if (evt.keyCode == 224 /* FF */ || (!mxClient.IS_MAC && evt.keyCode == 17 /* Control */) ||
						(mxClient.IS_MAC && evt.keyCode == 91 /* Meta */))
					{
						// Cannot use parentNode for check in IE
						if (!restoreFocus)
						{
							// Avoid autoscroll but allow handling of all pass-through ctrl shortcuts
							textInput.style.left = (graph.container.scrollLeft + 10) + 'px';
							textInput.style.top = (graph.container.scrollTop + 10) + 'px';
							
							graph.container.appendChild(textInput);
							restoreFocus = true;
							
							// Workaround for selected document content in quirks mode
							if (mxClient.IS_QUIRKS)
							{
								window.setTimeout(function()
								{
									textInput.focus();
									document.execCommand('selectAll', false, null);
								}, 0);
							}
							else
							{
								textInput.focus();
								document.execCommand('selectAll', false, null);
							}
						}
					}
				}
			}));

			// Clears input and restores focus and selection
			function clearInput()
			{
				window.setTimeout(function()
				{
					textInput.innerHTML = '&nbsp;';
					textInput.focus();
					document.execCommand('selectAll', false, null);
				}, 0);
			};
			
			mxEvent.addListener(document, 'keyup', mxUtils.bind(this, function(evt)
			{
				// Workaround for asynchronous event read invalid in IE quirks mode
				var keyCode = evt.keyCode;
				
				// Asynchronous workaround for scroll to origin after paste if the
				// Ctrl-key is not pressed for long enough in FF on Windows
				window.setTimeout(mxUtils.bind(this, function()
				{
					if (restoreFocus && (keyCode == 224 /* FF */ || keyCode == 17 /* Control */ ||
						keyCode == 91 /* Meta */))
					{
						restoreFocus = false;
						
						if (!graph.isEditing() && this.dialog == null && graph.container != null)
						{
							graph.container.focus();
						}
						
						textInput.parentNode.removeChild(textInput);
					}
				}), 0);
			}));

			mxEvent.addListener(textInput, 'copy', mxUtils.bind(this, function(evt)
			{
				if (graph.isEnabled())
				{
					mxClipboard.copy(graph);
					this.copyCells(textInput);
					clearInput();
				}
			}));
			
			mxEvent.addListener(textInput, 'cut', mxUtils.bind(this, function(evt)
			{
				if (graph.isEnabled())
				{
					this.copyCells(textInput, true);
					clearInput();
				}
			}));
			
			mxEvent.addListener(textInput, 'paste', mxUtils.bind(this, function(evt)
			{
				if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent()))
				{
					textInput.innerHTML = '&nbsp;';
					textInput.focus();
					
					window.setTimeout(mxUtils.bind(this, function()
					{
						this.pasteCells(evt, textInput);
						textInput.innerHTML = '&nbsp;';
					}), 0);
				}
			}), true);
			
			// Needed for IE11
			var isSelectionAllowed2 = this.isSelectionAllowed;
			this.isSelectionAllowed = function(evt)
			{
				if (mxEvent.getSource(evt) == textInput)
				{
					return true;
				}

				return isSelectionAllowed2.apply(this, arguments);
			};
		};

		var y = Math.max(document.body.clientHeight || 0, document.documentElement.clientHeight || 0) / 2;
		var x = document.body.clientWidth / 2 - 2;
	
		// Holds the x-coordinate of the point
		this.spinner = this.createSpinner(x, y, 24);
		
		// Installs drag and drop handler for rich text editor
		if (Graph.fileSupport)
		{
			this.editor.graph.addListener(mxEvent.EDITING_STARTED, mxUtils.bind(this, function(evt)
			{
				// Setup the dnd listeners
				var graph = this.editor.graph;
				var textElt = graph.cellEditor.text2;
				var dropElt = null;
				
				if (textElt != null)
				{
					mxEvent.addListener(textElt, 'dragleave', function(evt)
					{
						if (dropElt != null)
					    {
					    	dropElt.parentNode.removeChild(dropElt);
					    	dropElt = null;
					    }
					    
						evt.stopPropagation();
						evt.preventDefault();
					});
					
					mxEvent.addListener(textElt, 'dragover', mxUtils.bind(this, function(evt)
					{
						// IE 10 does not implement pointer-events so it can't have a drop highlight
						if (dropElt == null && (!mxClient.IS_IE || document.documentMode > 10))
						{
							dropElt = this.highlightElement(textElt);
						}
						
						evt.stopPropagation();
						evt.preventDefault();
					}));
					
					mxEvent.addListener(textElt, 'drop', mxUtils.bind(this, function(evt)
					{
					    if (dropElt != null)
					    {
					    	dropElt.parentNode.removeChild(dropElt);
					    	dropElt = null;
					    }

					    if (evt.dataTransfer.files.length > 0)
					    {
					    	this.importFiles(evt.dataTransfer.files, 0, 0, this.maxImageSize, function(data, mimeType, x, y, w, h)
					    	{
					    		// Inserts image into current text box
					    		graph.insertImage(data, w, h);
					    	}, function()
					    	{
					    		// No post processing
					    	}, function(file)
					    	{
					    		// Handles only images
					    		return file.type.substring(0, 6) == 'image/';
					    	}, function(queue)
					    	{
					    		// Invokes elements of queue in order
					    		for (var i = 0; i < queue.length; i++)
					    		{
					    			queue[i]();
					    		}
					    	}, !mxEvent.isControlDown(evt));
			    		}
					    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0)
					    {
					    	var uri = evt.dataTransfer.getData('text/uri-list');
					    	
					    	if ((/\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(uri))
							{
				    			this.loadImage(decodeURIComponent(uri), mxUtils.bind(this, function(img)
				    			{
				    				var w = Math.max(1, img.width);
			    					var h = Math.max(1, img.height);
			    					var maxSize = this.maxImageSize;

				    				var s = Math.min(1, Math.min(maxSize / Math.max(1, w)), maxSize / Math.max(1, h));
				    				graph.insertImage(decodeURIComponent(uri), w * s, h * s);
				    			}));
							}
							else
							{
								document.execCommand('insertHTML', false, evt.dataTransfer.getData('text/plain'));
							}
					    }
					    else
					    {
					    	if (mxUtils.indexOf(evt.dataTransfer.types, 'text/html') >= 0)
						    {
					    		document.execCommand('insertHTML', false, evt.dataTransfer.getData('text/html'));
						    }
						    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/plain') >= 0)
						    {
						    	document.execCommand('insertHTML', false, evt.dataTransfer.getData('text/plain'));
						    }
					    }
	
					    evt.stopPropagation();
					    evt.preventDefault();
					}));
				}
			}));
		}
		
		// Adds an element to edit the style in the footer in test mode
		if (urlParams['test'] == '1')
		{
			var footer = document.getElementById('geFooter');

			if (footer != null)
			{
				this.styleInput = document.createElement('input');
				this.styleInput.setAttribute('type', 'text');
				this.styleInput.style.position = 'absolute';
				this.styleInput.style.top = '14px';
				this.styleInput.style.left = '2px';
				// Workaround for ignore right CSS property in FF
				this.styleInput.style.width = '98%';
				this.styleInput.style.visibility = 'hidden';
				this.styleInput.style.opacity = '0.9';

				mxEvent.addListener(this.styleInput, 'change', mxUtils.bind(this, function()
				{
					this.editor.graph.getModel().setStyle(this.editor.graph.getSelectionCell(), this.styleInput.value);
				}));

				footer.appendChild(this.styleInput);

				this.editor.graph.getSelectionModel().addListener(mxEvent.CHANGE, mxUtils.bind(this, function(sender, evt)
				{
					if (this.editor.graph.getSelectionCount() > 0)
					{
						var cell = this.editor.graph.getSelectionCell();
						var style = this.editor.graph.getModel().getStyle(cell);

						this.styleInput.value = style || '';
						this.styleInput.style.visibility = 'visible';
					} else
					{
						this.styleInput.style.visibility = 'hidden';
					}
				}));
			}

			var isSelectionAllowed = this.isSelectionAllowed;
			this.isSelectionAllowed = function(evt)
			{
				if (mxEvent.getSource(evt) == this.styleInput)
				{
					return true;
				}

				return isSelectionAllowed.apply(this, arguments);
			};
		}

		// Removes info text in page
		var info = document.getElementById('geInfo');

		if (info != null)
		{
			info.parentNode.removeChild(info);
		}

		// Installs drag and drop handler for files
		// Enables dropping files
		if (Graph.fileSupport)
		{
			// Setup the dnd listeners
			var dropElt = null;

			mxEvent.addListener(graph.container, 'dragleave', function(evt)
			{
				if (graph.isEnabled())
				{
					if (dropElt != null)
				    {
				    	dropElt.parentNode.removeChild(dropElt);
				    	dropElt = null;
				    }
				    
					evt.stopPropagation();
					evt.preventDefault();
				}
			});
			
			mxEvent.addListener(graph.container, 'dragover', mxUtils.bind(this, function(evt)
			{
				// IE 10 does not implement pointer-events so it can't have a drop highlight
				if (dropElt == null && (!mxClient.IS_IE || document.documentMode > 10))
				{
					dropElt = this.highlightElement(graph.container);
				}
				
				if (this.sidebar != null)
				{
					this.sidebar.hideTooltip();
				}

				evt.stopPropagation();
				evt.preventDefault();
			}));
			
			mxEvent.addListener(graph.container, 'drop', mxUtils.bind(this, function(evt)
			{
			    if (dropElt != null)
			    {
			    	dropElt.parentNode.removeChild(dropElt);
			    	dropElt = null;
			    }
			    
				if (graph.isEnabled())
				{
				    var pt = mxUtils.convertPoint(graph.container, mxEvent.getClientX(evt), mxEvent.getClientY(evt));
					var tr = graph.view.translate;
					var scale = graph.view.scale;
					var x = pt.x / scale - tr.x;
					var y = pt.y / scale - tr.y;
					
					if (mxEvent.isAltDown(evt))
					{
						x = 0;
						y = 0;
					}
					
				    if (evt.dataTransfer.files.length > 0)
				    {
						this.importFiles(evt.dataTransfer.files, x, y, this.maxImageSize, null, null, null, null,
							!mxEvent.isControlDown(evt), null, null, mxEvent.isShiftDown(evt));
		    		}
				    else
				    {
				    	var uri = (mxUtils.indexOf(evt.dataTransfer.types, 'text/uri-list') >= 0) ?
				    		evt.dataTransfer.getData('text/uri-list') : null;
				    	var data = this.extractGraphModelFromEvent(evt, this.pages != null);
				    	
				    	if (data != null)
				    	{
				    		graph.setSelectionCells(this.importXml(data, x, y, true));
				    	}
				    	else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/html') >= 0)
					    {
				    		var html = evt.dataTransfer.getData('text/html');
				    		var div = document.createElement('div');
				    		div.innerHTML = html;
				    		
				    		// The default is based on the extension
				    		var asImage = null;
				    		
				    		// Extracts single image
				    		var imgs = div.getElementsByTagName('img');

				    		if (imgs != null && imgs.length == 1)
				    		{
				    			html = imgs[0].getAttribute('src');
				    			
				    			// Handles special case where the src attribute has no valid extension
				    			// in which case the text would be inserted as text with a link
				    			if (!(/\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(html))
				    			{
				    				asImage = true;
				    			}
				    		}
				    		else
				    		{
				    			// Extracts single link
				    			var a = div.getElementsByTagName('a');

				    			if (a != null && a.length == 1)
				    			{
				    				html = a[0].getAttribute('href');
				    			}
				    		}
				    		
					    	graph.setSelectionCells(this.insertTextAt(html, x, y, true, asImage));
					    }
				    	else if (uri != null && (/\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(uri))
						{
			    			this.loadImage(decodeURIComponent(uri), mxUtils.bind(this, function(img)
			    			{
			    				var w = Math.max(1, img.width);
		    					var h = Math.max(1, img.height);
		    					var maxSize = this.maxImageSize;

			    				var s = Math.min(1, Math.min(maxSize / Math.max(1, w)), maxSize / Math.max(1, h));

			    				graph.setSelectionCell(graph.insertVertex(null, null, '', x, y, w * s, h * s,
			    					'shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;' +
			    					'verticalAlign=top;aspect=fixed;imageAspect=0;image=' + uri + ';'));
			    			}), mxUtils.bind(this, function(img)
			    			{
			    				graph.setSelectionCells(this.insertTextAt(uri, x, y, true));
			    			}));
						}
					    else if (mxUtils.indexOf(evt.dataTransfer.types, 'text/plain') >= 0)
					    {
					    	graph.setSelectionCells(this.insertTextAt(evt.dataTransfer.getData('text/plain'), x, y, true));
					    }
					}
				}

			    evt.stopPropagation();
			    evt.preventDefault();
			}), false);
		}

		this.initPages();
		
		// Embedded mode
		if (urlParams['embed'] == '1')
		{
			this.initializeEmbedMode();
		}
	};

	/**
	 * Creates the format panel and adds overrides.
	 */
	EditorUi.prototype.copyCells = function(elt, removeCells)
	{
		var graph = this.editor.graph;
		
		if (!graph.isSelectionEmpty())
		{
			var cells = mxUtils.sortCells(graph.model.getTopmostCells(graph.getSelectionCells()));
			
			// LATER: Add span with XML in data attribute
			// var span = document.createElement('span');
			// span.setAttribute('data-jgraph-type', 'application/vnd.jgraph.xml');
			// span.setAttribute('data-jgraph-content', mxUtils.getXml(graph.encodeCells(clones)));
			
			// Fixes cross-platform clipboard UTF8 issues by encoding as URI
			var xml = mxUtils.getXml(this.editor.graph.encodeCells(cells));
			mxUtils.setTextContent(elt, encodeURIComponent(xml));
			
			if (removeCells)
			{
				graph.removeCells(cells, false);
				graph.lastPasteXml = null;
			}
			else
			{
				graph.lastPasteXml = xml;
				graph.pasteCounter = 0;
			}

			elt.focus();
			document.execCommand('selectAll', false, null);
		}
		else
		{
			// Disables copy on focused element
			elt.innerHTML = '';
		}
	};
	
	/**
	 * Creates the format panel and adds overrides.
	 */
	EditorUi.prototype.pasteCells = function(evt, elt)
	{
		if (!mxEvent.isConsumed(evt))
		{
			var spans = elt.getElementsByTagName('span');
		
			if (spans != null && spans.length > 0 && spans[0].getAttribute('data-lucid-type') ===
				'application/vnd.lucid.chart.objects')
			{
				var content = spans[0].getAttribute('data-lucid-content');
				
				if (content != null && content.length > 0)
				{
					this.insertLucidChart(JSON.parse(content));
					mxEvent.consume(evt);
				}
			}
			else
			{
				var graph = this.editor.graph;
				var xml = mxUtils.trim((mxClient.IS_QUIRKS || document.documentMode == 8) ?
					mxUtils.getTextContent(elt) : elt.textContent);
				var compat = false;
	
				// Workaround for junk after XML in VM
				try
				{
					var idx = xml.lastIndexOf('%3E');
					
					if (idx >= 0 && idx < xml.length - 3)
					{
						xml = xml.substring(0, idx + 3);
					}
				}
				catch (e)
				{
					// ignore
				}
				
				// Checks for embedded XML content
				try
				{
					var spans = elt.getElementsByTagName('span');
					var tmp = (spans != null && spans.length > 0) ? 
						mxUtils.trim(decodeURIComponent(spans[0].textContent)) :
						decodeURIComponent(xml);
							
					if (this.isCompatibleString(tmp))
					{
						compat = true;
						xml = tmp;
					}
				}
				catch (e)
				{
					// ignore
				}
				
				if (graph.lastPasteXml == xml)
				{
					graph.pasteCounter++;
				}
				else
				{
					graph.lastPasteXml = xml;
					graph.pasteCounter = 0;
				}
				
				var dx = graph.pasteCounter * graph.gridSize;
				
				if (xml != null && xml.length > 0)
				{
					if (compat || this.isCompatibleString(xml))
					{
						graph.setSelectionCells(this.importXml(xml, dx, dx));
					}
					else
					{
						var pt = graph.getInsertPoint();
						
						if (graph.isMouseInsertPoint())
						{
							dx = 0;
							
							// No offset for insert at mouse position
							if (graph.lastPasteXml == xml && graph.pasteCounter > 0)
							{
								graph.pasteCounter--;
							}
						}
						
						graph.setSelectionCells(this.insertTextAt(xml, pt.x + dx, pt.y + dx, true));
					}
					
					if (!graph.isSelectionEmpty())
					{
						graph.scrollCellToVisible(graph.getSelectionCell());
					
						if (this.hoverIcons != null)
						{
							this.hoverIcons.update(graph.view.getState(graph.getSelectionCell()));
						}
						
						try
						{
							mxEvent.consume(evt);
						}
						catch (e)
						{
							// ignore event no longer exists in async handler in IE8-
						}
					}
				}
			}
		}
	};

	/**
	 * Adds a file drop handler for opening local files.
	 */
	EditorUi.prototype.addFileDropHandler = function(elts)
	{
		// Installs drag and drop handler for files
		if (Graph.fileSupport)
		{
			var dropElt = null;
			
			for (var i = 0; i < elts.length; i++)
			{
				// Setup the dnd listeners
				mxEvent.addListener(elts[i], 'dragleave', function(evt)
				{
					if (dropElt != null)
				    {
				    	dropElt.parentNode.removeChild(dropElt);
				    	dropElt = null;
				    }
					
					evt.stopPropagation();
					evt.preventDefault();
				});
		
				mxEvent.addListener(elts[i], 'dragover', mxUtils.bind(this, function(evt)
				{
					// IE 10 does not implement pointer-events so it can't have a drop highlight
					if (dropElt == null && (!mxClient.IS_IE || (document.documentMode > 10 && document.documentMode < 12)))
					{
						dropElt = this.highlightElement();
					}
					
					evt.stopPropagation();
					evt.preventDefault();
				}));
				
				mxEvent.addListener(elts[i], 'drop', mxUtils.bind(this, function(evt)
				{
					if (dropElt != null)
				    {
				    	dropElt.parentNode.removeChild(dropElt);
				    	dropElt = null;
				    }
					
					if (evt.dataTransfer.files.length > 0)
					{
						this.hideDialog();
						
						// Never open files in embed mode
						if (urlParams['embed'] == '1')
						{
							this.importFiles(evt.dataTransfer.files, 0, 0, this.maxImageSize, null, null,
								null, null, !mxEvent.isControlDown(evt) && !mxEvent.isShiftDown(evt));
						}
						else
						{
							this.openFiles(evt.dataTransfer.files);
						}
					}
					else
					{
						// Handles open special files via text drag and drop
						var data = this.extractGraphModelFromEvent(evt);
						
						// Tries additional and async parsing of text content such as HTML, Gliffy data
						if (data == null)
						{
							var provider = (evt.dataTransfer != null) ? evt.dataTransfer : evt.clipboardData;
						
							if (provider != null)
							{
								if (document.documentMode == 10 || document.documentMode == 11)
								{
									data = provider.getData('Text');
								}
								else
								{
							    	var data = null;
							    	
							    	if (mxUtils.indexOf(provider.types, 'text/uri-list') >= 0)
							    	{
							    		var data = evt.dataTransfer.getData('text/uri-list');
							    	}
							    	else
							    	{
							    		data = (mxUtils.indexOf(provider.types, 'text/html') >= 0) ? provider.getData('text/html') : null;
							    	}
									
									if (data != null && data.length > 0)
									{
										var div = document.createElement('div');
							    		div.innerHTML = data;
	
							    		// Extracts single image
							    		var imgs = div.getElementsByTagName('img');
							    		
							    		if (imgs.length > 0)
							    		{
							    			data = imgs[0].getAttribute('src');
							    		}
									}
									else if (mxUtils.indexOf(provider.types, 'text/plain') >= 0)
									{
										data = provider.getData('text/plain');
									}
								}
								
								if (data != null)
								{
									// Checks for embedded XML in PNG
									if (data.substring(0, 22) == 'data:image/png;base64,')
									{
										var xml = this.extractGraphModelFromPng(data);
										
										if (xml != null && xml.length > 0)
										{
											this.openLocalFile(xml, null, true);
										}
									}
									if (!this.isOffline() && this.isRemoteFileFormat(data))
									{
							    		new mxXmlRequest(OPEN_URL, 'format=xml&data=' + encodeURIComponent(data)).send(mxUtils.bind(this, function(req)
										{
							    			if (req.getStatus() >= 200 && req.getStatus() <= 299)
							    			{
							    				this.openLocalFile(req.getText(), null, true);
							    			}
										}));
									}
									else if (/^https?:\/\//.test(data))
									{
										if (this.getCurrentFile() == null)
										{
											window.location.hash = '#U' + encodeURIComponent(data);
										}
										else
										{
											window.openWindow(((mxClient.IS_CHROMEAPP) ?
												'https://www.draw.io/' : 'https://' + location.host + '/') +
												window.location.search + '#U' + encodeURIComponent(data));
										}
									}
								}
							}
						}
						else
						{
							this.openLocalFile(data, null, true);
						}
					}
					
					evt.stopPropagation();
					evt.preventDefault();
				}));
			}
		}
	};
	
	/**
	 * Highlights the given element
	 */
	EditorUi.prototype.highlightElement = function(elt)
	{
		var x = 0;
		var y = 0;
		var w = 0;
		var h = 0;
		
		if (elt == null)
		{
			var b = document.body;
			var d = document.documentElement;
		
			w = (b.clientWidth || d.clientWidth) - 3;
			h = Math.max(b.clientHeight || 0, d.clientHeight) - 3;
		}
		else
		{
			x = elt.offsetTop;
			y = elt.offsetLeft;
			w = elt.clientWidth;
			h = elt.clientHeight;
		}
		
		var hl = document.createElement('div');
		hl.style.zIndex = mxPopupMenu.prototype.zIndex + 2;
		hl.style.border = '3px dotted rgb(254, 137, 12)';
		hl.style.pointerEvents = 'none';
		hl.style.position = 'absolute';
		hl.style.top = x + 'px';
		hl.style.left = y + 'px';
		hl.style.width = Math.max(0, w - 3) + 'px';
		hl.style.height = Math.max(0, h - 3) + 'px';
		
		if (elt != null && elt.parentNode == this.editor.graph.container)
		{
			this.editor.graph.container.appendChild(hl);
		}
		else
		{
			document.body.appendChild(hl);
		}
		
		return hl;
	};
	
	/**
	 * Highlights the given element
	 */
	EditorUi.prototype.stringToCells = function(xml)
	{
		var doc = mxUtils.parseXml(xml);
		var node = this.editor.extractGraphModel(doc.documentElement);
		var cells = [];
		
		if (node != null)
		{
			var codec = new mxCodec(node.ownerDocument);
			var model = new mxGraphModel();
			codec.decode(node, model);
			
			var parent = model.getChildAt(model.getRoot(), 0);
			
			for (var j = 0; j < model.getChildCount(parent); j++)
			{
				cells.push(model.getChildAt(parent, j));
			}
		}
		
		return cells;
	};
	
	/**
	 * Opens the given files in the editor.
	 */
	EditorUi.prototype.openFiles = function(files)
	{
		if (this.spinner.spin(document.body, mxResources.get('loading')))
		{
			for (var i = 0; i < files.length; i++)
			{
				(mxUtils.bind(this, function(file)
				{
					var reader = new FileReader();
				
					reader.onload = mxUtils.bind(this, function(e)
					{
						var data = e.target.result;
						var name = file.name;
						
						if (name != null && name.length > 0)
						{
							if (/(\.png)$/i.test(name))
							{
								name = name.substring(0, name.length - 4) + '.xml';
							}
		
							if (Graph.fileSupport && !this.isOffline() && new XMLHttpRequest().upload &&
								this.isRemoteFileFormat(data, name))
							{
								var dot = name.lastIndexOf('.');
								
								if (dot >= 0)
								{
									name = name.substring(0, name.lastIndexOf('.')) + '.xml';
								}
								else
								{
									name = name + '.xml';
								}
								
								this.parseFile(file, mxUtils.bind(this, function(xhr)
								{
									if (xhr.readyState == 4)
									{
										this.spinner.stop();
										
										if (xhr.status >= 200 && xhr.status <= 299)
										{
											this.openLocalFile(xhr.responseText, name);
										}
										else
										{
											this.handleError({message: mxResources.get((xhr.status == 413) ?
				            						'drawingTooLarge' : 'invalidOrMissingFile')},
				            						mxResources.get('errorLoadingFile'));
										}
									}
								}));
							}
							else if (e.target.result.substring(0, 10) == '<mxlibrary')
			    			{
								this.spinner.stop();
								
			    				try
				    			{
				    				this.loadLibrary(new LocalLibrary(this, e.target.result, file.name));
				    			}
				    			catch (e)
				    			{
				    				this.handleError(e, mxResources.get('errorLoadingFile'));
				    			}
			    			}
							else
							{
								if (file.type.substring(0, 9) == 'image/png')
								{
									data = this.extractGraphModelFromPng(data);
								}
								
								this.spinner.stop();
								this.openLocalFile(data, name);
							}
						}
					});
					
					reader.onerror = mxUtils.bind(this, function(e)
					{
						this.spinner.stop();
						this.handleError(e);
						window.openFile = null;
					});
					
					if (file.type.substring(0, 5) === 'image' && file.type.substring(0, 9) !== 'image/svg')
					{
						reader.readAsDataURL(file);
					}
					else
					{
						reader.readAsText(file);
					}
				}))(files[i]);
			}
		}
	};

	/**
	 * Shows the layers dialog if the graph has more than one layer.
	 */
	EditorUi.prototype.openLocalFile = function(data, name, temp)
	{
		var currentFile = this.getCurrentFile();
		
		var fn = mxUtils.bind(this, function()
		{
			window.openFile = null;
			
			if (name == null && this.getCurrentFile() != null && this.isDiagramEmpty())
			{
				var doc = mxUtils.parseXml(data);
				
				if (doc != null)
				{
					this.editor.setGraphXml(doc.documentElement);
					this.editor.graph.selectAll();
				}
			}
			else
			{
				this.fileLoaded(new LocalFile(this, data, name || this.defaultFilename, temp));
			}
		});

		if (data != null && data.length > 0)
		{
			if (currentFile == null || !currentFile.isModified())
			{
				fn();
			}
			else
			{
				window.openFile = new OpenFile(function()
				{
					window.openFile = null;
				});
				
				window.openFile.setData(data, name);
				window.openWindow(this.getUrl(), null, mxUtils.bind(this, function()
				{
					this.confirm(mxResources.get('allChangesLost'), null, fn,
						mxResources.get('cancel'), mxResources.get('discardChanges'));
				}));
			}
		}
	};
	
	/**
	 * Returns a list of all shapes used in the current file.
	 */
	EditorUi.prototype.getBasenames = function()
	{
		var basenames = {};

		if (this.pages != null)
		{
			for (var i = 0; i < this.pages.length; i++)
			{
				this.updatePageRoot(this.pages[i]);
				this.addBasenamesForCell(this.pages[i].root, basenames);
			}
		}
		else
		{
			this.addBasenamesForCell(this.editor.graph.model.getRoot(), basenames);
		}
		
		var result = [];
		
		for (var key in basenames)
		{
			result.push(key);
		}
		
		return result;
	};
		
	/**
	 * Returns a list of all shapes used in the current file.
	 */
	EditorUi.prototype.addBasenamesForCell = function(cell, basenames)
	{
		function addName(name)
		{
			if (name != null)
			{
				// LATER: Check if this case exists
				var dot = name.lastIndexOf('.');
				
				if (dot > 0)
				{
					name = name.substring(dot + 1, name.length);
				}
				
				if (basenames[name] == null)
				{
					basenames[name] = true;
				}
			}
		};
		
		var graph = this.editor.graph;
		var style = graph.getCellStyle(cell);
		var shape = style[mxConstants.STYLE_SHAPE];
		addName(mxStencilRegistry.getBasenameForStencil(shape));
		
		// Adds package names for markers in edges
		if (graph.model.isEdge(cell))
		{
			addName(mxMarker.getPackageForType(style[mxConstants.STYLE_STARTARROW]));
			addName(mxMarker.getPackageForType(style[mxConstants.STYLE_ENDARROW]));
		}

		var childCount = graph.model.getChildCount(cell);
		
		for (var i = 0; i < childCount; i++)
		{
			this.addBasenamesForCell(graph.model.getChildAt(cell, i), basenames);
		}
	};
	
	/**
	 * Shows the layers dialog if the graph has more than one layer.
	 */
	EditorUi.prototype.setGraphEnabled = function(enabled)
	{
		this.diagramContainer.style.visibility = (enabled) ? '' : 'hidden';
		this.formatContainer.style.visibility = (enabled) ? '' : 'hidden';
		this.sidebarFooterContainer.style.display = (enabled) ? '' : 'none';
		this.sidebarContainer.style.display = (enabled) ? '' : 'none';
		this.hsplit.style.display = (enabled) ? '' : 'none';
		this.editor.graph.setEnabled(enabled);
	};
	
	/**
	 * Shows the layers dialog if the graph has more than one layer.
	 */
	EditorUi.prototype.initializeEmbedMode = function()
	{
		this.setGraphEnabled(false);
		var parent = window.opener || window.parent;

		if (parent != window)
		{
			if (urlParams['spin'] != '1' || this.spinner.spin(document.body, mxResources.get('loading')))
			{
				this.installMessageHandler(mxUtils.bind(this, function(xml, evt, modified)
				{
					this.spinner.stop();
					this.addEmbedButtons();
					this.setGraphEnabled(true);
					
					if (xml != null && xml.length > 0)
					{
						this.setFileData(xml);
						this.showLayersDialog();
					}
					else
					{
						this.editor.graph.model.clear();
						this.editor.fireEvent(new mxEventObject('resetGraphView'));
					}
	
					this.editor.undoManager.clear();
					this.editor.modified = (modified != null) ? modified : false;
					this.updateUi();
					
					// Workaround for no initial focus in FF
					// (does not work in Conf Cloud with FF)
					if (window.self !== window.top)
					{
						window.focus();
					}
					
					if (this.format != null)
					{
						this.format.refresh();
					}
				}));
			}
		}
	};
	
	/**
	 * Shows the layers dialog if the graph has more than one layer.
	 */
	EditorUi.prototype.showLayersDialog = function()
	{
		if (this.editor.graph.getModel().getChildCount(this.editor.graph.getModel().getRoot()) > 1)
		{
			if (this.actions.layersWindow == null)
			{
				this.actions.get('layers').funct();
			}
			else
			{
				this.actions.layersWindow.window.setVisible(true);
			}
		}
	};

	/**
	 * Tries to find a public URL for the given file.
	 */
	EditorUi.prototype.getPublicUrl = function(file, fn)
	{
		if (file != null)
		{
			file.getPublicUrl(fn);
		}
		else
		{
			fn(null);
		}
	};

	/**
	 * Adds the buttons for embedded mode.
	 */
	EditorUi.prototype.createLoadMessage = function(eventName)
	{
		var graph = this.editor.graph;
		
		return {event: eventName, pageVisible: graph.pageVisible, translate: graph.view.translate,
			scale: graph.view.scale, page: graph.view.getBackgroundPageBounds(), bounds: graph.getGraphBounds()};
	};
	
	/**
	 * Adds the buttons for embedded mode.
	 */
	EditorUi.prototype.installMessageHandler = function(fn)
	{
		var changeListener = null;
		var ignoreChange = false;
		var autosave = false;
		var lastData = null;
		
		var updateStatus = mxUtils.bind(this, function(sender, eventObject)
		{
			if (!this.editor.modified || urlParams['modified'] == '0')
			{
				this.editor.setStatus('');
			}
			else if (urlParams['modified'] != null)
			{
				this.editor.setStatus(mxUtils.htmlEntities(mxResources.get(urlParams['modified'])));
			}
		});
		
		this.editor.graph.model.addListener(mxEvent.CHANGE, updateStatus);
		
		// Receives XML message from opener and puts it into the graph
		mxEvent.addListener(window, 'message', mxUtils.bind(this, function(evt)
		{
			var data = evt.data;
			
			function extractDiagramXml(data)
			{
				if (data != null && typeof data.charAt === 'function' && data.charAt(0) != '<')
				{
					try
					{	
						if (data.substring(0, 26) == 'data:image/svg+xml;base64,')
						{
							data = atob(data.substring(26));
						}
						else if (data.substring(0, 24) == 'data:image/svg+xml;utf8,')
						{
							data = data.substring(24);
						}
						
						if (data != null)
						{
							if (data.charAt(0) == '%')
							{
								data = decodeURIComponent(data);
							}
							else if (data.charAt(0) != '<')
							{
								data = this.editor.graph.decompress(data);
							}
						}
					}
					catch (e)
					{
						// ignore compression errors and use empty data
					}
				}
				
				return data;
			};
			
			if (urlParams['proto'] == 'json')
			{
				try
				{
					data = JSON.parse(data);
				}
				catch (e)
				{
					data = null;
				}
				
				if (data == null)
				{
					// Ignore
					return;
				}
				else if (data.action == 'dialog')
				{
					this.showError((data.titleKey != null) ? mxResources.get(data.titleKey) : data.title,
						(data.messageKey != null) ? mxResources.get(data.messageKey) : data.message,
						(data.buttonKey != null) ? mxResources.get(data.buttonKey) : data.button);
					
					if (data.modified != null)
					{
						this.editor.modified = data.modified;
					}
					
					return;
				}
				else if (data.action == 'prompt')
				{
					this.spinner.stop();
					
					var dlg = new FilenameDialog(this, data.defaultValue || '',
						(data.okKey != null) ? mxResources.get(data.okKey) : null, function(value)
					{
						if (value != null)
						{
							parent.postMessage(JSON.stringify({event: 'prompt', value: value, message: data}), '*');
						}
					}, (data.titleKey != null) ? mxResources.get(data.titleKey) : data.title);
					this.showDialog(dlg.container, 300, 80, true, false);
					dlg.init();
					
					return;
				}
				else if (data.action == 'draft')
				{
					var tmp = null;
					
					if (data.xml.substring(0, 22) == 'data:image/png;base64,')
					{
						tmp = this.extractGraphModelFromPng(data.xml);
					}
					else
					{
						tmp = extractDiagramXml(data.xml);
					}
					
					this.spinner.stop();
					
					var dlg = new DraftDialog(this, mxResources.get('draftFound', [data.name || this.defaultFilename]),
						tmp, mxUtils.bind(this, function()
					{
						this.hideDialog();
						parent.postMessage(JSON.stringify({event: 'draft', result: 'edit', message: data}), '*');
					}), mxUtils.bind(this, function()
					{
						this.hideDialog();
						parent.postMessage(JSON.stringify({event: 'draft', result: 'discard', message: data}), '*');
					}), (data.editKey) ? mxResources.get(data.editKey) : null,
						(data.discardKey) ? mxResources.get(data.discardKey) : null);
					this.showDialog(dlg.container, 640, 480, true, false, mxUtils.bind(this, function(cancel)
					{
						if (cancel)
						{
							this.actions.get('exit').funct();
						}
					}));
					
					try
					{
						dlg.init();
					}
					catch (e)
					{
						parent.postMessage(JSON.stringify({event: 'draft', error: e.toString(), message: data}), '*');
					}
					
					return;
				}
				else if (data.action == 'template')
				{
					this.spinner.stop();
					
					var dlg = new NewDialog(this, false, data.callback != null, mxUtils.bind(this, function(xml, name)
					{
						xml = xml || this.emptyDiagramXml;
						
						// LATER: Add autosave option in template message
						if (data.callback != null)
						{
							parent.postMessage(JSON.stringify({event: 'template', xml: xml,
								blank: xml == this.emptyDiagramXml, name: name}), '*');
						}
						else
						{
							fn(xml, evt, xml != this.emptyDiagramXml);
							
							// Workaround for status updated before modified applied
							if (!this.editor.modified)
							{
								this.editor.setStatus('');
							}
						}
					}));

					this.showDialog(dlg.container, 620, 440, true, false, mxUtils.bind(this, function(cancel)
					{
						if (cancel)
						{
							this.actions.get('exit').funct();
						}
					}));
					dlg.init();
					
					return;
				}
				else if (data.action == 'status')
				{
					if (data.messageKey != null)
					{
						this.editor.setStatus(mxUtils.htmlEntities(mxResources.get(data.messageKey)));
					}
					else if (data.message != null)
					{
						this.editor.setStatus(mxUtils.htmlEntities(data.message));
					}
					
					if (data.modified != null)
					{
						this.editor.modified = data.modified;
					}
					
					return;
				}
				else if (data.action == 'spinner')
				{
					var msg = (data.messageKey != null) ? mxResources.get(data.messageKey) : data.message;
					
					if (data.show != null && !data.show)
					{
						this.spinner.stop();
					}
					else
					{
						this.spinner.spin(document.body, msg)
					}

					return;
				}
				else if (data.action == 'export')
				{
					if (data.format == 'png' || data.format == 'xmlpng')
					{
						if ((data.spin == null && data.spinKey == null) || this.spinner.spin(document.body,
							(data.spinKey != null) ? mxResources.get(data.spinKey) : data.spin))
						{
							var xml = (data.xml != null) ? data.xml : this.getFileData(true);
							this.editor.graph.setEnabled(false);
							var graph = this.editor.graph;
							
							var postDataBack = mxUtils.bind(this, function(uri)
							{
								this.editor.graph.setEnabled(true);
								this.spinner.stop();
								
								var msg = this.createLoadMessage('export');
								msg.format = data.format;
								msg.xml = encodeURIComponent(xml);
								msg.data = uri;
								parent.postMessage(JSON.stringify(msg), '*');
							});
							
							var processUri = mxUtils.bind(this, function(uri)
							{
								if (uri == null)
								{
									uri = Editor.blankImage;
								}
								
						   	    if (data.format == 'xmlpng')
						   	    {
						   	    	uri = this.writeGraphModelToPng(uri, 'zTXt', 'mxGraphModel',
						   	    		atob(this.editor.graph.compress(xml)));	
						   	    }
						   	    	
								// Removes temporary graph from DOM
				   	   	    	if (graph != this.editor.graph)
								{
									graph.container.parentNode.removeChild(graph.container);
								}
				   	   	    	
						   	    postDataBack(uri);
							});
					
							// LATER: Uses external export if current page (not first page) has mathEnabled
							if (this.isExportToCanvas())
							{
								// Exports PNG for first page while other page is visible by creating a graph
								// LATER: Add caching for the graph or SVG while not on first page
								if (this.pages != null && this.currentPage != this.pages[0])
								{
									graph = this.createTemporaryGraph(graph.getStylesheet());
									var graphGetGlobalVariable = graph.getGlobalVariable;
									var page = this.pages[0];
							
									graph.getGlobalVariable = function(name)
									{
										if (name == 'page')
										{
											return page.getName();
										}
										else if (name == 'pagenumber')
										{
											return 1;
										}
										
										return graphGetGlobalVariable.apply(this, arguments);
									};
							
									document.body.appendChild(graph.container);
									graph.model.setRoot(page.root);
								}

								this.exportToCanvas(mxUtils.bind(this, function(canvas)
							   	{
									processUri(canvas.toDataURL('image/png'));
							   	}), null, null, null, mxUtils.bind(this, function()
								{
							   		processUri(null);
								}), null, null, null, null, null, null, graph);
							}
							else
							{
								// Data from server is base64 encoded to avoid binary XHR
								// Double encoding for XML arg is needed for UTF8 encoding
						       	var req = new mxXmlRequest(EXPORT_URL, 'format=png&embedXml=' +
						       		((data.format == 'xmlpng') ? '1' : '0') + '&base64=1&xml=' +
						       		encodeURIComponent(encodeURIComponent(xml)));

								req.send(mxUtils.bind(this, function(req)
								{
									// Temp graph was never created at this point so we can
									// skip processUri since it already contains the XML
									if (req.getStatus() >= 200 && req.getStatus() <= 299)
									{
										postDataBack('data:image/png;base64,' + req.getText());
									}
									else
									{
										processUri(null);
									}
								}), mxUtils.bind(this, function()
								{
									processUri(null);
								}));
							}
						}
					}
					else
					{
						// SVG is generated from graph so parse optional XML
						if (data.xml != null && data.xml.length > 0)
						{
							this.setFileData(data.xml);
						}
						
						var msg = this.createLoadMessage('export');
						
						// Forces new HTML format if pages exists
						if (data.format == 'html2' || (data.format == 'html' && (urlParams['pages'] != '0' ||
							(this.pages != null && this.pages.length > 1))))
						{
							var node = this.getXmlFileData();
							msg.xml = mxUtils.getXml(node);
							msg.data = this.getFileData(null, null, true, null, null, null, node);
							msg.format = data.format;
						}
						else if (data.format == 'html')
						{
							var xml = this.editor.getGraphXml();
							msg.data = this.getHtml(xml, this.editor.graph);
							msg.xml = mxUtils.getXml(xml);
							msg.format = data.format;
						}
						else
						{
							// Creates a preview with no alt text for unsupported browsers
				        	mxSvgCanvas2D.prototype.foAltText = null;
				        	
				        	var bg = this.editor.graph.background;
				        	
				        	if (bg == mxConstants.NONE)
				        	{
				        		bg = null;
				        	}
				        	
							msg.xml = this.getFileData(true);
							msg.format = 'svg';
				        	
				        	if (data.embedImages || data.embedImages == null)
				        	{
								if ((data.spin == null && data.spinKey == null) || this.spinner.spin(document.body,
									(data.spinKey != null) ? mxResources.get(data.spinKey) : data.spin))
								{
									this.editor.graph.setEnabled(false);
									
					        		if (data.format == 'xmlsvg')
					        		{
						        		this.getEmbeddedSvg(msg.xml, this.editor.graph, null, true, mxUtils.bind(this, function(svg)
					        			{
											this.editor.graph.setEnabled(true);
											this.spinner.stop();
											
											msg.data = this.createSvgDataUri(svg);
											parent.postMessage(JSON.stringify(msg), '*');
					        			}));
					        		}
					        		else
					        		{
					        			this.convertImages(this.editor.graph.getSvg(bg), mxUtils.bind(this, function(svgRoot)
					        			{
											this.editor.graph.setEnabled(true);
											this.spinner.stop();
											
											msg.data = this.createSvgDataUri(mxUtils.getXml(svgRoot));
											parent.postMessage(JSON.stringify(msg), '*');
					        			}));
					        		}
								}
				        		
				        		return;
				        	}
				        	else
				        	{
				        		var svg = (data.format == 'xmlsvg') ? this.getEmbeddedSvg(this.getFileData(true),
				        			this.editor.graph, null, true) : mxUtils.getXml(this.editor.graph.getSvg(bg));
								msg.data = this.createSvgDataUri(svg);
				        	}
						}

						parent.postMessage(JSON.stringify(msg), '*');
					}
					
					return;
				}
				else if (data.action == 'load')
				{
					autosave = data.autosave == 1;
					this.hideDialog();
					
					if (data.modified != null && urlParams['modified'] == null)
					{
						urlParams['modified'] = data.modified;
					}
					
					if (data.saveAndExit != null && urlParams['saveAndExit'] == null)
					{
						urlParams['saveAndExit'] = data.saveAndExit;
					}
					
					if (data.title != null && this.buttonContainer != null)
					{
						var tmp = document.createElement('span');
						mxUtils.write(tmp, data.title);
						
						if (uiTheme == 'atlas')
						{
							this.buttonContainer.style.paddingRight = '12px';
							this.buttonContainer.style.paddingTop = '12px';
						}
						else
						{
							this.buttonContainer.style.paddingRight = '38px';
							this.buttonContainer.style.paddingTop = '6px';
						}
						
						this.buttonContainer.appendChild(tmp);
					}
					
					if (data.xmlpng != null)
					{
						data = this.extractGraphModelFromPng(data.xmlpng);
					}
					else if (data.xml != null && data.xml.substring(0, 22) == 'data:image/png;base64,')
					{
						data = this.extractGraphModelFromPng(data.xml);
					}
					else
					{
						data = data.xml;
					}
				}
				else
				{
					// Unknown message must stop execution
					parent.postMessage(JSON.stringify({error: 'unknownMessage', data: JSON.stringify(data)}), '*');
					
					return;
				}
			}
			
			data = extractDiagramXml(data);
			
			ignoreChange = true;
			try
			{
				fn(data, evt);
			}
			catch (e)
			{
				this.handleError(e);
			}
			ignoreChange = false;
			
			if (urlParams['modified'] != null)
			{
				this.editor.setStatus('');
			}
			
			var getData = mxUtils.bind(this, function()
			{
				return (urlParams['pages'] != '0' || (this.pages != null && this.pages.length > 1)) ?
					this.getFileData(true): mxUtils.getXml(this.editor.getGraphXml());
			});;
			
			lastData = getData();

			if (autosave && changeListener == null)
			{
				changeListener = mxUtils.bind(this, function(sender, eventObject)
				{
					var data = getData();

					if (data != lastData && !ignoreChange)
					{
						var msg = this.createLoadMessage('autosave');
						msg.xml = data;
						data = JSON.stringify(msg);
						
						var parent = window.opener || window.parent;
						parent.postMessage(data, '*');
					}
					
					lastData = data;
				});
				
				this.editor.graph.model.addListener(mxEvent.CHANGE, changeListener);

				// Some options trigger autosave
				this.editor.graph.addListener('gridSizeChanged', changeListener);
				this.editor.graph.addListener('shadowVisibleChanged', changeListener);
				this.addListener('pageFormatChanged', changeListener);
				this.addListener('pageScaleChanged', changeListener);
				this.addListener('backgroundColorChanged', changeListener);
				this.addListener('backgroundImageChanged', changeListener);
				this.addListener('foldingEnabledChanged', changeListener);
				this.addListener('mathEnabledChanged', changeListener);
				this.addListener('gridEnabledChanged', changeListener);
				this.addListener('guidesEnabledChanged', changeListener);
				this.addListener('pageViewChanged', changeListener);
			}
			
			// Sends the bounds of the graph to the host after parsing
			if (urlParams['returnbounds'] == '1' || urlParams['proto'] == 'json')
			{
				parent.postMessage(JSON.stringify(this.createLoadMessage('load')), '*');
			}
		}));
		
		// Requests data from the sender. This is a workaround for not allowing
		// the opener to listen for the onload event if not in the same origin.
		var parent = window.opener || window.parent;
		var msg = (urlParams['proto'] == 'json') ? JSON.stringify({event: 'init'}) : (urlParams['ready'] || 'ready');
		parent.postMessage(msg, '*');
	};
	
	/**
	 * Adds the buttons for embedded mode.
	 */
	EditorUi.prototype.addEmbedButtons = function()
	{
		if (this.menubar != null)
		{
			var div = document.createElement('div');
			div.style.display = 'inline-block';
			div.style.position = 'absolute';
			div.style.paddingTop = (uiTheme == 'atlas') ? '2px' : '3px';
			div.style.paddingLeft = '8px';
			div.style.paddingBottom = '2px';

			var button = document.createElement('button');
			mxUtils.write(button, mxResources.get('save'));
			button.setAttribute('title', mxResources.get('save') + ' (Ctrl+S)');
			button.className = 'geBigButton';
			button.style.fontSize = '12px';
			button.style.padding = '4px 6px 4px 6px';
			button.style.borderRadius = '3px';
			
			mxEvent.addListener(button, 'click', mxUtils.bind(this, function()
			{
				this.actions.get('save').funct();
			}));
			
			div.appendChild(button);
			
			if (urlParams['saveAndExit'] == '1')
			{
				button = document.createElement('a');
				mxUtils.write(button, mxResources.get('saveAndExit'));
				button.setAttribute('title', mxResources.get('saveAndExit'));
				button.style.fontSize = '12px';
				button.style.marginLeft = '6px';
				button.style.padding = '4px';
				button.style.cursor = 'pointer';
				
				mxEvent.addListener(button, 'click', mxUtils.bind(this, function()
				{
					this.actions.get('saveAndExit').funct();
				}));
				
				div.appendChild(button);
			}

			button = document.createElement('a');
			mxUtils.write(button, mxResources.get('exit'));
			button.setAttribute('title', mxResources.get('exit'));
			button.style.fontSize = '12px';
			button.style.marginLeft = '6px';
			button.style.marginRight = '20px';
			button.style.padding = '4px';
			button.style.cursor = 'pointer';
			
			mxEvent.addListener(button, 'click', mxUtils.bind(this, function()
			{
				this.actions.get('exit').funct();
			}));
			
			div.appendChild(button);
			
			this.toolbar.container.appendChild(div);
			this.toolbar.staticElements.push(div);
			div.style.right = (uiTheme != 'atlas') ? '52px' : '42px';
		}
	};

	/**
	 * 
	 */
	EditorUi.prototype.showImportCsvDialog = function()
	{
		if (this.importCsvDialog == null)
		{
			this.importCsvDialog = new TextareaDialog(this, mxResources.get('csv') + ':',
    			Editor.defaultCsvValue, mxUtils.bind(this, function(newValue)
			{
    			this.importCsv(newValue);
			}), null, null, 620, 430, null, true, true, mxResources.get('import'));
		}
		
		this.showDialog(this.importCsvDialog.container, 640, 520, true, true);
		this.importCsvDialog.init();
	};

	/**
	 * TODO: Move to Editor
	 */
	EditorUi.prototype.importCsv = function(text)
	{
		try
		{
    		var lines = text.split('\n');
    		var cells = [];
    		
    		if (lines.length > 0)
    		{
        		// Internal lookup table
        		var lookups = {};
        		
        		// Default values
        		var style = null;
        		var width = 'auto';
        		var height = 'auto';
        		var edgespacing = 40;
        		var nodespacing = 40;
        		var padding = 0;
        		
        		var graph = this.editor.graph;
				var view = graph.view;
				var bds = graph.getGraphBounds();

				// Delayed after optional layout
    			var afterInsert = function()
    			{
    				graph.setSelectionCells(select);
		    		graph.scrollCellToVisible(graph.getSelectionCell());
    			};
    				
				// Computes unscaled, untranslated graph bounds
    			var pt = graph.getFreeInsertPoint();
				var x0 = pt.x;
				var y0 = pt.y;
				var y = y0;

    			// Default label value depends on column names
        		var label = null;
        		
    			// Default layout to run.
        		var layout = 'auto';
        		
        		// Name of the attribute that contains the parent reference
        		var parent = null;
        		
        		// Name of the attribute that contains the references for creating edges
        		var edges = [];

        		// Name of the column for hyperlinks
        		var link = null;
        		
        		// String array of names to remove from metadata
        		var ignore = null;
        		
        		// Read processing instructions first
        		var index = 0;
        		
        		while (index < lines.length && lines[index].charAt(0) == '#')
        		{
        			var text = lines[index];
        			index++;
        			
        			while (index < lines.length && text.charAt(text.length - 1) == '\\' &&
        				lines[index].charAt(0) == '#')
        			{
        				text = text.substring(0, text.length - 1) + mxUtils.trim(lines[index].substring(1));
        				index++;
        			}
        			
        			if (text.charAt(1) != '#')
        			{
	    				// Processing instruction
	    				var idx = text.indexOf(':');
	    				
	    				if (idx > 0)
	    				{
		    				var key = mxUtils.trim(text.substring(1, idx));
		    				var value = mxUtils.trim(text.substring(idx + 1));
	
		    				if (key == 'label')
		    				{
		    					label = graph.sanitizeHtml(value);
		    				}
		    				else if (key == 'style')
		    				{
		    					style = value;
		    				}
		    				else if (key == 'width')
		    				{
		    					width = value;
		    				}
		    				else if (key == 'height')
		    				{
		    					height = value;
		    				}
		    				else if (key == 'ignore')
		    				{
		    					ignore = value.split(',');
		    				}
		    				else if (key == 'connect')
		    				{
		    					edges.push(JSON.parse(value));
		    				}
		    				else if (key == 'link')
		    				{
		    					link = value;
		    				}
		    				else if (key == 'padding')
		    				{
		    					padding = parseFloat(value);
		    				}
		    				else if (key == 'edgespacing')
		    				{
		    					edgespacing = parseFloat(value);
		    				}
		    				else if (key == 'nodespacing')
		    				{
		    					nodespacing = parseFloat(value);
		    				}
		    				else if (key == 'layout')
		    				{
		    					layout = value;
		    				}
	    				}
        			}
        		}
        		
    			var keys = this.editor.csvToArray(lines[index]);
    			
    			if (label == null)
    			{
    				label = '%' + keys[0] + '%';
    			}
    			
    			if (edges != null)
				{
					for (var e = 0; e < edges.length; e++)
					{
						if (lookups[edges[e].to] == null)
						{
							lookups[edges[e].to] = {};
						}
					}
				}
    			
        		graph.model.beginUpdate();
        		try
        		{
	    			for (var i = index + 1; i < lines.length; i++)
		    		{
    	    			var values = this.editor.csvToArray(lines[i]);
    	    			
	    				if (values.length == keys.length)
		    			{
			    			var cell = new mxCell(label, new mxGeometry(x0, y,
			    				0, 0), style || 'whiteSpace=wrap;html=1;');
							cell.vertex = true;
							
							for (var j = 0; j < values.length; j++)
				    		{
								graph.setAttributeForCell(cell, keys[j], values[j]);
				    		}
							
							graph.setAttributeForCell(cell, 'placeholders', '1');
							cell.style = graph.replacePlaceholders(cell, cell.style);
							
	    					for (var e = 0; e < edges.length; e++)
	    					{
	    						lookups[edges[e].to][cell.getAttribute(edges[e].to)] = cell;
	    					}
							
							if (link != null && link != 'link')
							{
								graph.setLinkForCell(cell, cell.getAttribute(link));
								
								// Removes attribute
								graph.setAttributeForCell(cell, link, null);
							}

							// Sets the size
							var size = this.editor.graph.getPreferredSizeForCell(cell);
							
							cell.geometry.width = (width == 'auto') ? size.width + padding : parseFloat(width);
							cell.geometry.height = (height == 'auto') ? size.height + padding : parseFloat(height);
							y += cell.geometry.height + nodespacing;

							cells.push(graph.addCell(cell));
		    			}
		    		}
	    			
	    			if (style == null)
	    			{
	    				graph.fireEvent(new mxEventObject('cellsInserted', 'cells', cells));
	    			}
	    			
					var roots = cells.slice();
					var select = cells.slice();

					for (var e = 0; e < edges.length; e++)
					{
    					var edge = edges[e];

						for (var i = 0; i < cells.length; i++)
	    				{
							var cell = cells[i];

	    					var tmp = cell.getAttribute(edge.from);
	    					
	    					if (tmp != null)
	    					{
	    						// Removes attribute
		    					graph.setAttributeForCell(cell, edge.from, null);
	    						var refs = tmp.split(',');
		    					
		    					for (var j = 0; j < refs.length; j++)
		        				{
		    						var ref = lookups[edge.to][refs[j]];
		    						
		    						if (ref != null)
		    						{
		    							select.push(graph.insertEdge(null, null, edge.label || '',
			    							(edge.invert) ? ref : cell, (edge.invert) ? cell : ref,
							    			edge.style || graph.createCurrentEdgeStyle()));
		    							mxUtils.remove((edge.invert) ? cell : ref, roots);
		    						}
		        				}
	    					}
    					}
    				}
					
					// Removes ignored attributes after processing above
					if (ignore != null)
					{
						for (var i = 0; i < cells.length; i++)
	    				{
							var cell = cells[i];
							
							for (var j = 0; j < ignore.length; j++)
				    		{
								graph.setAttributeForCell(cell, mxUtils.trim(ignore[j]), null);
				    		}
	    				}
					}
					
					var edgeLayout = new mxParallelEdgeLayout(graph);
    				edgeLayout.spacing = edgespacing;
					
					var postProcess = function()
					{
						edgeLayout.execute(graph.getDefaultParent());
						
	    	    		// Aligns cells to grid and/or rounds positions
						for (var i = 0; i < cells.length; i++)
	    				{
							var geo = graph.getCellGeometry(cells[i]);
							geo.x = Math.round(graph.snap(geo.x));
							geo.y = Math.round(graph.snap(geo.y));
							
							if (width == 'auto')
							{
								geo.width = Math.round(graph.snap(geo.width));	
							}
							
							if (height == 'auto')
							{
								geo.height = Math.round(graph.snap(geo.height));	
							}
	    				}
					};
					
					if (layout == 'circle')
					{
						var circleLayout = new mxCircleLayout(graph);
	    				circleLayout.resetEdges = false;
	    				
	    				var circleLayoutIsVertexIgnored = circleLayout.isVertexIgnored;
	    				
    	    			// Ignore other cells
	    				circleLayout.isVertexIgnored = function(vertex)
	    				{
	    					return circleLayoutIsVertexIgnored.apply(this, arguments) ||
	    						mxUtils.indexOf(cells, vertex) < 0;
	    				};
						
			    		this.executeLayout(function()
			    		{
			    			circleLayout.execute(graph.getDefaultParent());
			    			postProcess();
			    		}, true, afterInsert);
	    				
	    				afterInsert = null;
					}
					else if (layout == 'horizontaltree' || layout == 'verticaltree' ||
						(layout == 'auto' && select.length == 2 * cells.length - 1 && roots.length == 1))
	    			{
		    			// Required for layouts to work with new cells
		    			graph.view.validate();
		    			
	    				var treeLayout = new mxCompactTreeLayout(graph, layout == 'horizontaltree');
	    				treeLayout.levelDistance = nodespacing;
	    				treeLayout.edgeRouting = false;
	    				
	    				this.executeLayout(function()
	    	    		{
	    					treeLayout.execute(graph.getDefaultParent(), (roots.length > 0) ? roots[0] : null);
	    	    		}, true, afterInsert);
	    				
	    				afterInsert = null;
	    			}
	    			else if (layout == 'horizontalflow' || layout == 'verticalflow' ||
	    					(layout == 'auto' && roots.length == 1))
	    			{
		    			// Required for layouts to work with new cells
		    			graph.view.validate();
		    			
		    			var flowLayout = new mxHierarchicalLayout(graph,
		    				(layout == 'horizontalflow') ? mxConstants.DIRECTION_WEST : mxConstants.DIRECTION_NORTH);
		    			flowLayout.intraCellSpacing = nodespacing;
		    			
		        		this.executeLayout(function()
		        		{
		        			flowLayout.execute(graph.getDefaultParent(), select);
		        			
		        			// Workaround for flow layout moving cells to origin
		        			graph.moveCells(select, x0, y0);
		        		}, true, afterInsert);
			    			
		    			afterInsert = null;
		    		}
	    			else if (layout == 'organic' || (layout == 'auto' &&
	    					select.length > cells.length))
	    			{
		    			// Required for layouts to work with new cells
		    			graph.view.validate();
		    			
	    				var organicLayout = new mxFastOrganicLayout(graph);
	    				organicLayout.forceConstant = nodespacing * 3;
	    				organicLayout.resetEdges = false;

	    				var organicLayoutIsVertexIgnored = organicLayout.isVertexIgnored;

    	    			// Ignore other cells
	    				organicLayout.isVertexIgnored = function(vertex)
	    				{
	    					return organicLayoutIsVertexIgnored.apply(this, arguments) ||
	    						mxUtils.indexOf(cells, vertex) < 0;
	    				};

	    				var edgeLayout = new mxParallelEdgeLayout(graph);
	    				edgeLayout.spacing = edgespacing;
	    				
	    	    		this.executeLayout(function()
	    	    		{
	    	    			organicLayout.execute(graph.getDefaultParent());
			    			postProcess();
	    	    		}, true, afterInsert);
	    	    		
	    	    		afterInsert = null;
	    			}
	    			
	    			this.hideDialog();
        		}
        		finally
        		{
        			graph.model.endUpdate();
        		}
				
        		if (afterInsert != null)
        		{
        			afterInsert();
        		}
    		}
		}
		catch (e)
		{
			this.handleError(e);
		}
	};

	/**
	 * Translates this point by the given vector.
	 * 
	 * @param {number} dx X-coordinate of the translation.
	 * @param {number} dy Y-coordinate of the translation.
	 */
	EditorUi.prototype.getSearch = function(exclude)
	{
		var result = '';
		
		if (urlParams['offline'] != '1' && urlParams['demo'] != '1' && exclude != null && window.location.search.length > 0)
		{
			var amp = '?';
			
			for (var key in urlParams)
			{
				if (mxUtils.indexOf(exclude, key) < 0 && urlParams[key] != null)
				{
					result += amp + key + '=' + urlParams[key];
					amp = '&';
				}
			}
		}
		else
		{
			result = window.location.search;
		}
		
		return result;
	};

	/**
	 * Returns the URL for a copy of this editor with no state.
	 */
	EditorUi.prototype.getUrl = function(pathname)
	{
		var href = (pathname != null) ? pathname : window.location.pathname;
		var parms = (href.indexOf('?') > 0) ? 1 : 0;

		if (urlParams['offline'] == '1')
		{
			href += window.location.search;
		}
		else
		{
			var ignored = ['tmp', 'libs', 'clibs', 'state', 'fileId', 'code', 'share', 'notitle',
			               'data', 'url', 'embed', 'client', 'create', 'title', 'splash'];
			
			// Removes template URL parameter for new blank diagram
			for (var key in urlParams)
			{
				if (mxUtils.indexOf(ignored, key) < 0)
				{
					if (parms == 0)
					{
						href += '?';
					}
					else
					{
						href += '&';
					}
					
					if (urlParams[key] != null)
					{
						href += key + '=' + urlParams[key];
						parms++;
					}
				}
			}
		}

		return href;
	};

	/**
	 * Overrides createOutline
	 */
	var editorUiCreateOutline = EditorUi.prototype.createOutline;

	EditorUi.prototype.createOutline = function(wnd)
	{
		var outline = editorUiCreateOutline.apply(this, arguments);
		var graph = this.editor.graph;

		var outlineGetSourceGraphBounds = outline.getSourceGraphBounds;
		outline.getSourceGraphBounds = function()
		{
			if (mxUtils.hasScrollbars(graph.container) && graph.pageVisible && this.source.minimumGraphSize != null)
			{
				var pb = this.source.getPagePadding();
				var s = this.source.view.scale;
				
				var result = new mxRectangle(0, 0, Math.ceil(this.source.minimumGraphSize.width - 2 * pb.x / s),
						Math.ceil(this.source.minimumGraphSize.height - 2 * pb.y / s));
				
				return result;
			}
			
			return outlineGetSourceGraphBounds.apply(this, arguments);
		};
		
		var outlineGetSourceContainerSize = outline.getSourceContainerSize;
		outline.getSourceContainerSize = function()
		{
			if (mxUtils.hasScrollbars(graph.container) && this.source.minimumGraphSize != null)
			{
				var pad = this.source.getPagePadding();
				var s = this.source.view.scale;
				
				return new mxRectangle(0, 0, Math.ceil(this.source.minimumGraphSize.width * s - 2 * pad.x),
						Math.ceil(this.source.minimumGraphSize.height * s - 2 * pad.y));
			}

			return outlineGetSourceContainerSize.apply(this, arguments);
		};

		outline.getOutlineOffset = function(scale)
		{
			if (mxUtils.hasScrollbars(graph.container) && this.source.minimumGraphSize != null)
			{
				var pb = this.source.getPagePadding();

				var dx = Math.max(0, (outline.outline.container.clientWidth / scale - (this.source.minimumGraphSize.width - 2 * pb.x)) / 2);
				var dy = Math.max(0, (outline.outline.container.clientHeight / scale - (this.source.minimumGraphSize.height - 2 * pb.y)) / 2);

				// Why is vertical offset negative relative to dy
				return new mxPoint(Math.round(dx - pb.x), Math.round(dy - pb.y - 5 / scale));
			}
			
			return new mxPoint(8 / scale, 8 / scale);
		};
		
		var outlineInit = outline.init;
		outline.init = function()
		{
			outlineInit.apply(this, arguments);
			
			// Problem: Need to override a function in the view but the view is created
			// with the graph so a refresh of the page is needed to see this change.
			outline.outline.view.getBackgroundPageBounds = function()
			{
				var layout = graph.getPageLayout();
				var page = graph.getPageSize();
				
				return new mxRectangle(this.scale * (this.translate.x + layout.x * page.width),
						this.scale * (this.translate.y + layout.y * page.height),
						this.scale * layout.width * page.width,
						this.scale * layout.height * page.height);
			};
			
			outline.outline.view.validateBackgroundPage();
		};
		
		this.editor.addListener('pageSelected', function(sender, evt)
		{
			var change = evt.getProperty('change');
			
			var graph = outline.source;
			var g = outline.outline;
			
			g.pageScale = graph.pageScale;
			g.pageFormat = graph.pageFormat;
			g.background = graph.background;
			g.pageVisible = graph.pageVisible;
			g.background = graph.background;
			
			var current = mxUtils.getCurrentStyle(graph.container);
			g.container.style.backgroundColor = current.backgroundColor;
			
			if (graph.view.backgroundPageShape != null && g.view.backgroundPageShape != null)
			{
				g.view.backgroundPageShape.fill = graph.view.backgroundPageShape.fill;
			}

			outline.outline.view.clear(change.previousPage.root, true);
			outline.outline.view.validate();
		});

		return outline;
	};
	
	/**
	 * Returns the number of storage options enabled
	 */
	EditorUi.prototype.getServiceCount = function(allowBrowser)
	{
		var serviceCount = 0;
		
		if (this.drive != null || typeof window.DriveClient === 'function')
		{
			serviceCount++
		}
		
		if (this.dropbox != null || typeof window.DropboxClient === 'function')
		{
			serviceCount++
		}

		if (this.oneDrive != null || typeof window.OneDriveClient === 'function')
		{
			serviceCount++
		}
		
		if (this.gitHub != null)
		{
			serviceCount++
		}
		
		if (allowBrowser && isLocalStorage && (urlParams['browser'] == '1' || mxClient.IS_IOS))
		{
			serviceCount++
		}
		
		if (!mxClient.IS_IOS)
		{
			serviceCount++
		}
		
		return serviceCount;
	}

	/**
	 * Updates action and menu states depending on the file.
	 */
	EditorUi.prototype.updateUi = function()
	{
		this.updateButtonContainer();
		this.updateActionStates();
		
		// Action states that only need update for new files
		var file = this.getCurrentFile();
		var active = file != null || (urlParams['embed'] == '1' &&
			this.editor.graph.isEnabled());
		this.menus.get('viewPanels').setEnabled(active);
		this.menus.get('viewZoom').setEnabled(active);
		
		var restricted = (urlParams['embed'] != '1' ||
			!this.editor.graph.isEnabled()) &&
			(file == null || file.isRestricted());
		this.actions.get('makeCopy').setEnabled(!restricted);
		this.actions.get('print').setEnabled(!restricted);
		this.menus.get('exportAs').setEnabled(!restricted);
		this.menus.get('embed').setEnabled(!restricted);
		
		// Disables libraries and extras menu in embed mode
		// while waiting for file data
		var libsEnabled = urlParams['embed'] != '1' ||
				this.editor.graph.isEnabled();
		this.menus.get('openLibraryFrom').setEnabled(libsEnabled);
		this.menus.get('newLibrary').setEnabled(libsEnabled);
		this.menus.get('extras').setEnabled(libsEnabled);
		
		// Disables actions in the toolbar
		var editable = (urlParams['embed'] == '1' &&
			this.editor.graph.isEnabled()) ||
			(file != null && file.isEditable());
		this.actions.get('image').setEnabled(active);
		this.actions.get('zoomIn').setEnabled(active);
		this.actions.get('zoomOut').setEnabled(active);
		this.actions.get('resetView').setEnabled(active);
	
		// Disables menus
		this.menus.get('edit').setEnabled(active);
		this.menus.get('view').setEnabled(active);
		this.menus.get('importFrom').setEnabled(editable);
		this.menus.get('arrange').setEnabled(editable);
		
		// Disables connection drop downs in toolbar
		if (this.toolbar != null)
		{
			if (this.toolbar.edgeShapeMenu != null)
			{
				this.toolbar.edgeShapeMenu.setEnabled(editable);
			}
			
			if (this.toolbar.edgeStyleMenu != null)
			{
				this.toolbar.edgeStyleMenu.setEnabled(editable);
			}
		}
		
		if (this.isOfflineApp())
		{
			// In FF, IE and Safari (desktop) the cache status never changes
			if ((mxClient.IS_GC || (mxClient.IS_IOS && mxClient.IS_SF)) && applicationCache != null)
			{
				var appCache = applicationCache;
		
				if (this.offlineStatus == null)
				{
					this.offlineStatus = document.createElement('div');
					this.offlineStatus.className = 'geItem';
					this.offlineStatus.style.position = 'absolute';
					this.offlineStatus.style.fontSize = '8pt';
					this.offlineStatus.style.top = '2px';
					this.offlineStatus.style.right = '12px';
					this.offlineStatus.style.color = '#666';
					this.offlineStatus.style.margin = '4px';
					this.offlineStatus.style.padding = '2px';
					this.offlineStatus.style.verticalAlign = 'middle';
					this.offlineStatus.innerHTML = '';
					
					this.menubarContainer.appendChild(this.offlineStatus);
		
					// Events are not working, use polling instead (10 secs interval)
					var thread = window.setTimeout(mxUtils.bind(this, function()
					{
						if (appCache.status == appCache.IDLE)
						{
							this.offlineStatus.innerHTML = '[' + '<img title="Cached" border="0" src="' + IMAGE_PATH + '/checkmark.gif"/>]';
							window.clearTimeout(thread);
						}
					}), 5000);
				}
			}
		}
		else
		{
			this.updateUserElement();
		}
	};
	
	/**
	 * Hook for subclassers
	 */
	EditorUi.prototype.updateButtonContainer = function()
	{
		// do nothing
	};
		
	/**
	 * Hook for subclassers
	 */
	EditorUi.prototype.updateUserElement = function()
	{
		// do nothing
	};
	
	/**
	 * Updates action states depending on the selection.
	 */
	var editorUiUpdateActionStates = EditorUi.prototype.updateActionStates;
	EditorUi.prototype.updateActionStates = function()
	{
		editorUiUpdateActionStates.apply(this, arguments);

		var graph = this.editor.graph;
		var file = this.getCurrentFile();
		var active = (file != null && file.isEditable()) || 
			(urlParams['embed'] == '1'  && this.editor.graph.isEnabled());
		this.actions.get('pageSetup').setEnabled(active);
		this.actions.get('autosave').setEnabled(file != null && file.isEditable() && file.isAutosaveOptional());
		this.actions.get('guides').setEnabled(active);
		this.actions.get('shadowVisible').setEnabled(active);
		this.actions.get('connectionArrows').setEnabled(active);
		this.actions.get('connectionPoints').setEnabled(active);
		this.actions.get('copyStyle').setEnabled(active && !graph.isSelectionEmpty());
		this.actions.get('pasteStyle').setEnabled(active && !graph.isSelectionEmpty());
		this.actions.get('editGeometry').setEnabled(graph.getModel().isVertex(graph.getSelectionCell()));
		this.actions.get('createShape').setEnabled(active);
		this.actions.get('createRevision').setEnabled(active);
		this.actions.get('moveToFolder').setEnabled(file != null);
		this.actions.get('makeCopy').setEnabled(file != null && !file.isRestricted());
		this.actions.get('editDiagram').setEnabled((urlParams['embed'] == '1'  &&
			this.editor.graph.isEnabled()) || (file != null && !file.isRestricted()));
		this.actions.get('publishLink').setEnabled(file != null && !file.isRestricted());
		this.menus.get('publish').setEnabled(file != null && !file.isRestricted());
		
		var state = graph.view.getState(graph.getSelectionCell());
		this.actions.get('editShape').setEnabled(active && state != null && state.shape != null && state.shape.stencil != null);
	};
				
	/**
	 * Overrides export dialog for using ui functions for save and setting global switches.
	 */
	if (window.ExportDialog != null)
	{
		ExportDialog.showXmlOption = false;
		ExportDialog.showGifOption = false;
		
    	ExportDialog.exportFile = function(editorUi, name, format, bg, s, b)
		{
			var graph = editorUi.editor.graph;
			
			if (format == 'xml')
			{
				editorUi.hideDialog();
		    	editorUi.saveData(name, 'xml', mxUtils.getXml(editorUi.editor.getGraphXml()), 'text/xml');
			}
		    else if (format == 'svg')
			{
		    	editorUi.hideDialog();
				editorUi.saveData(name, 'svg', mxUtils.getXml(graph.getSvg(bg, s, b)), 'image/svg+xml');
			}
		    else
		    {
		    	var data = editorUi.getFileData(true, null, null, null, null, true);
		    	var bounds = graph.getGraphBounds();
				var w = Math.floor(bounds.width * s / graph.view.scale);
				var h = Math.floor(bounds.height * s / graph.view.scale);
				
				if (data.length <= MAX_REQUEST_SIZE && w * h < MAX_AREA)
				{
					editorUi.hideDialog();
					editorUi.saveRequest(name, format,
						function(newTitle, base64)
						{
							return new mxXmlRequest(EXPORT_URL, 'format=' + format + '&base64=' + (base64 || '0') +
								((newTitle != null) ? '&filename=' + encodeURIComponent(newTitle) : '') +
								'&bg=' + ((bg != null) ? bg : 'none') + '&w=' + w + '&h=' + h +
								'&border=' + b + '&xml=' + encodeURIComponent(data));
						});
				}
				else
				{
					mxUtils.alert(mxResources.get('drawingTooLarge'));
				}
			}
		};
	}

})();

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
/**
 * Utility class for working with persisted application settings
 */
var mxSettings =
{
	// NOTE: Hardcoded in index.html due to timing of JS loading
	key: '.drawio-config',

	settings:
	{
		language: '',
		libraries: Sidebar.prototype.defaultEntries,
		customLibraries: [],
		plugins: [],
		recentColors: [],
		formatWidth: '240',
		currentEdgeStyle: Graph.prototype.defaultEdgeStyle,
		currentVertexStyle: {},
		createTarget: false,
		pageFormat: mxGraph.prototype.pageFormat,
		search: true,
		showStartScreen: true,
		gridColor: mxGraphView.prototype.gridColor,
		autosave: true,
		version: 13,
		// Only defined and true for new settings which haven't been saved
		isNew: true
	},
	getLanguage: function()
	{
		return this.settings.language;
	},
	setLanguage: function(lang)
	{
		this.settings.language = lang;
	},
	getUi: function()
	{
		return this.settings.ui;
	},
	setUi: function(ui)
	{
		this.settings.ui = ui;
	},
	getShowStartScreen: function()
	{
		return this.settings.showStartScreen;
	},
	setShowStartScreen: function(showStartScreen)
	{
		this.settings.showStartScreen = showStartScreen;
	},
	getGridColor: function()
	{
		return this.settings.gridColor;
	},
	setGridColor: function(gridColor)
	{
		this.settings.gridColor = gridColor;
	},
	getAutosave: function()
	{
		return this.settings.autosave;
	},
	setAutosave: function(autosave)
	{
		this.settings.autosave = autosave;
	},
	getLibraries: function()
	{
		return this.settings.libraries;
	},
	setLibraries: function(libs)
	{
		this.settings.libraries = libs;
	},
	addCustomLibrary: function(id)
	{
		// Makes sure to update the latest data from the localStorage
		mxSettings.load();
		
		if (mxUtils.indexOf(this.settings.customLibraries, id) < 0)
		{
			this.settings.customLibraries.push(id);
		}
		
		mxSettings.save();
	},
	removeCustomLibrary: function(id)
	{
		// Makes sure to update the latest data from the localStorage
		mxSettings.load();
		mxUtils.remove(id, this.settings.customLibraries);
		mxSettings.save();
	},
	getCustomLibraries: function()
	{
		return this.settings.customLibraries;
	},
	getPlugins: function()
	{
		return this.settings.plugins;
	},
	setPlugins: function(plugins)
	{
		this.settings.plugins = plugins;
	},
	getRecentColors: function()
	{
		return this.settings.recentColors;
	},
	setRecentColors: function(recentColors)
	{
		this.settings.recentColors = recentColors;
	},
	getFormatWidth: function()
	{
		return parseInt(this.settings.formatWidth);
	},
	setFormatWidth: function(formatWidth)
	{
		this.settings.formatWidth = formatWidth;
	},
	getCurrentEdgeStyle: function()
	{
		return this.settings.currentEdgeStyle;
	},
	setCurrentEdgeStyle: function(value)
	{
		this.settings.currentEdgeStyle = value;
	},
	getCurrentVertexStyle: function()
	{
		return this.settings.currentVertexStyle;
	},
	setCurrentVertexStyle: function(value)
	{
		this.settings.currentVertexStyle = value;
	},
	isCreateTarget: function()
	{
		return this.settings.createTarget;
	},
	setCreateTarget: function(value)
	{
		this.settings.createTarget = value;
	},
	getPageFormat: function()
	{
		return this.settings.pageFormat;
	},
	setPageFormat: function(value)
	{
		this.settings.pageFormat = value;
	},
	save: function()
	{
		if (isLocalStorage && typeof(JSON) !== 'undefined')
		{
			try
			{
				delete this.settings.isNew;
				this.settings.version = 12;
				localStorage.setItem(mxSettings.key, JSON.stringify(this.settings));
			}
			catch (e)
			{
				// ignores quota exceeded
			}
		}
	},
	load: function()
	{
		if (isLocalStorage && typeof(JSON) !== 'undefined')
		{
			mxSettings.parse(localStorage.getItem(mxSettings.key));
		}
	},
	parse: function(value)
	{
		if (value != null)
		{
			this.settings = JSON.parse(value);

			if (this.settings.plugins == null)
			{
				this.settings.plugins = [];
			}
			
			if (this.settings.recentColors == null)
			{
				this.settings.recentColors = [];
			}
			
			if (this.settings.libraries == null)
			{
				this.settings.libraries = Sidebar.prototype.defaultEntries;
			}
			
			if (this.settings.customLibraries == null)
			{
				this.settings.customLibraries = [];
			}
			
			if (this.settings.ui == null)
			{
				this.settings.ui = '';
			}
			
			if (this.settings.formatWidth == null)
			{
				this.settings.formatWidth = '240';
			}
			
			if (this.settings.lastAlert != null)
			{
				delete this.settings.lastAlert;
			}
			
			if (this.settings.currentEdgeStyle == null)
			{
				this.settings.currentEdgeStyle = Graph.prototype.defaultEdgeStyle;
			}
			else if (this.settings.version <= 10)
			{
				// Adds new defaults for jetty size and loop routing
				this.settings.currentEdgeStyle['orthogonalLoop'] = 1;
				this.settings.currentEdgeStyle['jettySize'] = 'auto';
			}
			
			if (this.settings.currentVertexStyle == null)
			{
				this.settings.currentVertexStyle = {};
			}
			
			if (this.settings.createTarget == null)
			{
				this.settings.createTarget = false;
			}
			
			if (this.settings.pageFormat == null)
			{
				this.settings.pageFormat = mxGraph.prototype.pageFormat;
			}
			
			if (this.settings.search == null)
			{
				this.settings.search = true;
			}
			
			if (this.settings.showStartScreen == null)
			{
				this.settings.showStartScreen = true;
			}		
			
			if (this.settings.gridColor == null)
			{
				this.settings.gridColor = mxGraphView.prototype.gridColor;
			}
			
			if (this.settings.autosave == null)
			{
				this.settings.autosave = true;
			}
			
			if (this.settings.scratchpadSeen != null)
			{
				delete this.settings.scratchpadSeen;
			}
		}
	},
	clear: function() 
	{
		if (isLocalStorage)
		{
			localStorage.removeItem(mxSettings.key);
		}
	}
}

/**
 * Variable: mxLoadSettings
 * 
 * Optional global config variable to toggle loading the settings. Default is true.
 *
 * (code)
 * <script type="text/javascript">
 * 		var mxLoadSettings = false;
 * </script>
 * (end)
 */
if (typeof(mxLoadSettings) == 'undefined' || mxLoadSettings)
{
	// Loads initial content
	mxSettings.load();
}

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
/**
 * Constructs a new point for the optional x and y coordinates. If no
 * coordinates are given, then the default values for <x> and <y> are used.
 * @constructor
 * @class Implements a basic 2D point. Known subclassers = {@link mxRectangle}.
 * @param {number} x X-coordinate of the point.
 * @param {number} y Y-coordinate of the point.
 */
App = function(editor, container, lightbox)
{
	EditorUi.call(this, editor, container, (lightbox != null) ? lightbox : urlParams['lightbox'] == '1');

	// Pre-fetches images
	if (mxClient.IS_SVG)
	{
		mxGraph.prototype.warningImage.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAE7SURBVHjaYvz//z8DJQAggBjwGXDuHMP/tWuD/uPTCxBAOA0AaQRK/f/+XeJ/cbHlf1wGAAQQTgPu3QNLgfHSpZo4DQAIIKwGwGyH4e/fFbG6AiQJEEAs2Ew2NFzH8OOHBMO6dT/A/KCg7wxGRh+wuhQggDBcALMdFIAcHBxgDGJjcwVIIUAAYbhAUXEdVos4OO4DXcGBIQ4QQCguQPY7sgtgAYruCpAgQACx4LJdU1OCwctLEcyWlLwPJF+AXQE0EMUBAAEEdwF6yMOiD4RRY0QT7gqQAEAAseDzu6XldYYPH9DD4joQa8L5AAEENgWb7SBcXa0JDQMBrK4AcQACiAlfyOMCEFdAnAYQQEz4FLa0XGf4/v0H0IIPONUABBAjyBmMjIwMS5cK/L927QORbtBkaG29DtYLEGAAH6f7oq3Zc+kAAAAASUVORK5CYII=';
	}
	else
	{
		var img = new Image();
		img.src = mxGraph.prototype.warningImage.src;
	}
	
	// Global helper method to deal with popup blockers
	window.openWindow = mxUtils.bind(this, function(url, pre, fallback)
	{
		var wnd = null;
		
		try
		{
			wnd = window.open(url);
		}
		catch (e)
		{
			// ignore
		}
		
		if (wnd == null || wnd === undefined)
		{
			this.showDialog(new PopupDialog(this, url, pre, fallback).container, 320, 140, true, true);
		}
		else if (pre != null)
		{
			pre();
		}
	});
	
	// Initial state for toolbar items is disabled
	this.updateUi();
	
	// Checks if canvas is supported
	var cnv = document.createElement('canvas');
	this.canvasSupported = !!(cnv.getContext && cnv.getContext('2d'));
	
	// Global helper method to display error messages
	window.showOpenAlert = mxUtils.bind(this, function(message)
	{
		// Cancel must be called before showing error message
		if (window.openFile != null)
		{
			window.openFile.cancel(true);
		}
		
		this.handleError(message);
	});
	
	// Sets help link for placeholders
	if (!this.isOffline())
	{
		EditDataDialog.placeholderHelpLink = 'https://desk.draw.io/support/solutions/articles/16000051979';
	}

	// Gets recent colors from settings
	ColorDialog.recentColors = mxSettings.getRecentColors(ColorDialog.recentColors);

	// Handles opening files via drag and drop
	this.addFileDropHandler([document]);
	
	// Process the queue for waiting plugins
	if (App.DrawPlugins != null)
	{
		for (var i = 0; i < App.DrawPlugins.length; i++)
		{
			try
			{
				App.DrawPlugins[i](this);
			}
			catch (e)
			{
				if (window.console != null)
				{
					console.log('Plugin Error:', e, App.DrawPlugins[i]);
				}
			}
		}
		
		window.Draw.loadPlugin = function(callback)
		{
			callback(this);
		};
	}

	this.load();
};

/**
 * Executes the first step for connecting to Google Drive.
 */
App.ERROR_TIMEOUT = 'timeout';

/**
 * Executes the first step for connecting to Google Drive.
 */
App.ERROR_BUSY = 'busy';

/**
 * Executes the first step for connecting to Google Drive.
 */
App.ERROR_UNKNOWN = 'unknown';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_GOOGLE = 'google';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_DROPBOX = 'dropbox';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_ONEDRIVE = 'onedrive';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_GITHUB = 'github';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_DEVICE = 'device';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.MODE_BROWSER = 'browser';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.DROPBOX_APPKEY = 'libwls2fa9szdji';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.DROPBOX_URL = 'https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.DROPINS_URL = 'https://www.dropbox.com/static/api/2/dropins.js';

/**
 * Sets the delay for autosave in milliseconds. Default is 2000.
 */
App.ONEDRIVE_URL = 'https://js.live.net/v7.0/OneDrive.js';

/**
 * Defines plugin IDs for loading via p URL parameter. Update the table at
 * https://desk.draw.io/solution/articles/16000042546
 */
App.pluginRegistry = {'4xAKTrabTpTzahoLthkwPNUn': '/plugins/explore.js',
	'ex': '/plugins/explore.js', 'p1': '/plugins/p1.js', 'ac': '/plugins/connect.js',
	'acj': '/plugins/connectJira.js', 'voice': '/plugins/voice.js',
	'tips': '/plugins/tooltips.js', 'svgdata': '/plugins/svgdata.js',
	'doors': '/plugins/doors.js', 'electron': 'plugins/electron.js',
	'number': '/plugins/number.js', 'sql': '/plugins/sql.js',
	'props': '/plugins/props.js', 'text': '/plugins/text.js',
	'anim': '/plugins/animation.js', 'update': '/plugins/update.js',
	'mind': '/plugins/mind/mind.js'};

/**
 * Function: authorize
 * 
 * Authorizes the client, gets the userId and calls <open>.
 */
App.getStoredMode = function()
{
	var mode = null;
	
	if (mode == null && isLocalStorage)
	{
		mode = localStorage.getItem('.mode');
	}
	
	if (mode == null && typeof(Storage) != 'undefined')
	{
		var cookies = document.cookie.split(";");
		
		for (var i = 0; i < cookies.length; i++)
		{
			// Removes spaces around cookie
			var cookie = mxUtils.trim(cookies[i]);
			
			if (cookie.substring(0, 5) == 'MODE=')
			{
				mode = cookie.substring(5);
				break;
			}
		}
		
		if (mode != null && isLocalStorage)
		{
			// Moves to local storage
			var expiry = new Date();
			expiry.setYear(expiry.getFullYear() - 1);
			document.cookie = 'MODE=; expires=' + expiry.toUTCString();
			localStorage.setItem('.mode', mode);
		}
	}
	
	return mode;
};

/**
 * Static Application initializer executed at load-time.
 */
(function()
{
	if (!mxClient.IS_CHROMEAPP)
	{
		if (urlParams['offline'] != '1')
		{
			// Switches to dropbox mode for db.draw.io
			if (window.location.hostname == 'db.draw.io' && urlParams['mode'] == null)
			{
				urlParams['mode'] = 'dropbox';
			}
			
			App.mode = urlParams['mode'];
			
			if (App.mode == null)
			{
				// Stored mode overrides preferred mode
				App.mode = App.getStoredMode();
			}
		}

		/**
		 * Lazy loading backends.
		 */
		if (window.mxscript != null)
		{
			// Loads gapi for all browsers but IE8 and below if not disabled or if enabled and in embed mode
			if (urlParams['embed'] != '1')
			{
				if (typeof window.DriveClient === 'function')
				{
					if (urlParams['gapi'] != '0' && isSvgBrowser &&
						(document.documentMode == null || document.documentMode >= 10))
					{
						// Immediately loads client
						if (App.mode == App.MODE_GOOGLE || (urlParams['state'] != null &&
							window.location.hash == '') || (window.location.hash != null &&
							window.location.hash.substring(0, 2) == '#G'))
						{
							mxscript('https://apis.google.com/js/api.js');
						}
						// Keeps lazy loading for fallback to authenticated Google file if not public in loadFile
						else if (urlParams['chrome'] == '0' && (window.location.hash == null ||
							window.location.hash.substring(0, 45) !== '#Uhttps%3A%2F%2Fdrive.google.com%2Fuc%3Fid%3D'))
						{
							// Disables loading of client
							window.DriveClient = null;
						}
					}
					else
					{
						// Disables loading of client
						window.DriveClient = null;
					}
				}
	
				// Loads dropbox for all browsers but IE8 and below (no CORS) if not disabled or if enabled and in embed mode
				// KNOWN: Picker does not work in IE11 (https://dropbox.zendesk.com/requests/1650781)
				if (typeof window.DropboxClient === 'function')
				{
					if (urlParams['db'] != '0' && isSvgBrowser &&
						(document.documentMode == null || document.documentMode > 9))
					{
						// Immediately loads client
						if (App.mode == App.MODE_DROPBOX || (window.location.hash != null &&
							window.location.hash.substring(0, 2) == '#D'))
						{
							mxscript(App.DROPBOX_URL);
							
							// Must load this after the dropbox SDK since they use the same namespace
							mxscript(App.DROPINS_URL, null, 'dropboxjs', App.DROPBOX_APPKEY);
						}
						else if (urlParams['chrome'] == '0')
						{
							window.DropboxClient = null;
						}
					}
					else
					{
						// Disables loading of client
						window.DropboxClient = null;
					}
				}
				
				// Loads OneDrive for all browsers but IE6/IOS if not disabled or if enabled and in embed mode
				if (typeof window.OneDriveClient === 'function')
				{
					if (urlParams['od'] != '0' && !/(iPad|iPhone|iPod)/.test(navigator.userAgent) &&
						(navigator.userAgent.indexOf('MSIE') < 0 || document.documentMode >= 10))
					{
						// Immediately loads client
						if (App.mode == App.MODE_ONEDRIVE || (window.location.hash != null &&
							window.location.hash.substring(0, 2) == '#W'))
						{
							mxscript(App.ONEDRIVE_URL);
						}
						else if (urlParams['chrome'] == '0')
						{
							window.OneDriveClient = null;
						}
					}
					else
					{
						// Disables loading of client
						window.OneDriveClient = null;
					}
				}
			}
			
			// Loads JSON for older browsers
			if (typeof(JSON) == 'undefined')
			{
				mxscript('js/json/json2.min.js');
			}
		}

		/**
		 * Loading plugins.
		 */
		if (urlParams['plugins'] != '0' && urlParams['offline'] != '1')
		{
			var plugins = mxSettings.getPlugins();
			var temp = urlParams['p'];
			
			if ((temp != null) || (plugins != null && plugins.length > 0))
			{
				// Workaround for need to load plugins now but wait for UI instance
				App.DrawPlugins = [];
				
				// Global entry point for plugins is Draw.loadPlugin. This is the only
				// long-term supported solution for access to the EditorUi instance.
				window.Draw = new Object();
				window.Draw.loadPlugin = function(callback)
				{
					App.DrawPlugins.push(callback);
				};
			}
			
			if (temp != null)
			{
				// Mapping from key to URL in App.plugins
				var t = temp.split(';');
				
				for (var i = 0; i < t.length; i++)
				{
					var url = App.pluginRegistry[t[i]];
					
					if (url != null)
					{
						mxscript(url);
					}
					else if (window.console != null)
					{
						console.log('Unknown plugin:', t[i]);
					}
				}
			}
			
			if (plugins != null && plugins.length > 0 && urlParams['plugins'] != '0')
			{
				// Loading plugins inside the asynchronous block below stops the page from loading so a 
				// hardcoded message for the warning dialog is used since the resources are loadd below
				var warning = 'The page has requested to load the following plugin(s):\n \n {1}\n \n Would you like to load these plugin(s) now?\n \n NOTE : Only allow plugins to run if you fully understand the security implications of doing so.\n';
				var tmp = window.location.protocol + '//' + window.location.host;
				var local = true;
				
				for (var i = 0; i < plugins.length && local; i++)
				{
					if (plugins[i].charAt(0) != '/' && plugins[i].substring(0, tmp.length) != tmp)
					{
						local = false;
					}
				}
				
				if (local || mxUtils.confirm(mxResources.replacePlaceholders(warning, [plugins.join('\n')]).replace(/\\n/g, '\n')))
				{
					for (var i = 0; i < plugins.length; i++)
					{
						try
						{
							mxscript(plugins[i]);
						}
						catch (e)
						{
							// ignore
						}
					}
				}
			}
		}
	}
})();

/**
 * Program flow starts here.
 * 
 * Optional callback is called with the app instance.
 */
App.main = function(callback)
{
	var lastErrorMessage = null;
	
	// Changes top level error handling
	window.onerror = function(message, url, linenumber, colno, err)
	{
		try
		{
			if (message == lastErrorMessage || (message != null && url != null &&
				((message.indexOf('Script error') != -1) || (message.indexOf('extension') != -1))))
			{
				// TODO log external domain script failure "Script error." is
				// reported when the error occurs in a script that is hosted
				// on a domain other than the domain of the current page
			}
			// DocumentClosedError seems to be an FF bug an can be ignored for now
			else if (message != null && message.indexOf('DocumentClosedError') < 0)
			{
				lastErrorMessage = message;
				var img = new Image();
				var severity = (message.indexOf('NetworkError') >= 0 || message.indexOf('SecurityError') >= 0 ||
					message.indexOf('NS_ERROR_FAILURE') >= 0 || message.indexOf('out of memory') >= 0) ?
					'CONFIG' : 'SEVERE';
				var logDomain = window.DRAWIO_LOG_URL != null ? window.DRAWIO_LOG_URL : '';
	    		img.src = logDomain + '/log?severity=' + severity + '&v=' + encodeURIComponent(EditorUi.VERSION) +
	    			'&msg=clientError:' + encodeURIComponent(message) + ':url:' + encodeURIComponent(window.location.href) +
	    			':lnum:' + encodeURIComponent(linenumber) + 
	    			((colno != null) ? ':colno:' + encodeURIComponent(colno) : '') +
	    			((err != null && err.stack != null) ? '&stack=' + encodeURIComponent(err.stack) : '');
			}
		}
		catch (err)
		{
			// do nothing
		}
	};

	/**
	 * Lazy loading of additional CSS for atlas theme.
	 */
	if (uiTheme == 'atlas')
	{
		mxClient.link('stylesheet', 'styles/atlas.css');
	}
	
	if (window.mxscript != null)
	{
		/**
		 * Color dialog - Do not add to app.min.js due to path issues!
		 */
		if (urlParams['chrome'] != '0')
		{
			mxscript('js/jscolor/jscolor.js');
		}
	
		/**
		 * Injects offline dependencies
		 */
		if (urlParams['offline'] == '1')
		{
			mxscript('js/shapes.min.js');
			
			var frame = document.createElement('iframe');
			frame.setAttribute('width', '0');
			frame.setAttribute('height', '0');
			frame.setAttribute('src', 'offline.html');
			document.body.appendChild(frame);
		
			// Precaching for stencils. Alternatively we could generate
			// a cache manifest with all stencil and shape files but this
			// simplifies the cache file, streamlines the shape loading
			// to a single loading point (here) vs dynamic loading in the
			// online version. It does slow down the startup time though.
			mxStencilRegistry.stencilSet = {};
		
			// Overrides dynamic loading (everything loaded at startup)
			mxStencilRegistry.getStencil = function(name)
			{
				return mxStencilRegistry.stencils[name];
			};
	
			// Takes stencil data from cache for populating sidebar
			mxStencilRegistry.loadStencilSet = function(stencilFile, postStencilLoad, force)
			{
				var name = stencilFile.substring(stencilFile.indexOf('/') + 1);
				name = 'mxgraph.' + name.substring(0, name.length - 4).replace(/\//g, '.');
				var node = mxStencilRegistry.stencilSet[name];
				
				if (node != null)
				{
					mxStencilRegistry.parseStencilSet(node, postStencilLoad, false);
				}
			};
			
			// Preload all stencils from merged XML file
			var req2 = mxUtils.load('stencils.xml');
			var root = req2.getXml().documentElement;
			var node = root.firstChild;
			
			while (node != null)
			{
				if (node.nodeName == 'shapes' && node.getAttribute('name') != null)
				{
					mxStencilRegistry.stencilSet[node.getAttribute('name').toLowerCase()] = node;
					mxStencilRegistry.parseStencilSet(node);
				}
				
				node = node.nextSibling;
			}
		}
		
		/**
		 * Loads Google Image Picker API (not allowed inside iframes)
		 */
		if (urlParams['picker'] != '0' && !mxClient.IS_QUIRKS && document.documentMode != 8)
		{
			mxscript(document.location.protocol + '//www.google.com/jsapi?autoload=%7B%22modules%22%3A%5B%7B%22name%22%3A%22picker%22%2C%22version%22%3A%221%22%2C%22language%22%3A%22' + mxClient.language + '%22%7D%5D%7D');
		}
		
		// Loads gapi for all browsers but IE8 and below if not disabled or if enabled and in embed mode
		// Special case: Cannot load in asynchronous code below
		if (typeof window.DriveClient === 'function' &&
			(typeof gapi === 'undefined' && (((urlParams['embed'] != '1' && urlParams['gapi'] != '0') ||
			(urlParams['embed'] == '1' && urlParams['gapi'] == '1')) && isSvgBrowser &&
			isLocalStorage && (document.documentMode == null || document.documentMode >= 10))))
		{
			mxscript('https://apis.google.com/js/api.js?onload=DrawGapiClientCallback');
		}
		// Disables client
		else if (typeof window.gapi === 'undefined')
		{
			window.DriveClient = null;
		}
	}
	
	/**
	 * Asynchronous MathJax extension.
	 */
	if (urlParams['math'] != '0')
	{
		Editor.initMath();
	}

	// Adds required resources (disables loading of fallback properties, this can only
	// be used if we know that all keys are defined in the language specific file)
	mxResources.loadDefaultBundle = false;
	var bundle = mxResources.getDefaultBundle(RESOURCE_BASE, mxLanguage) ||
		mxResources.getSpecialBundle(RESOURCE_BASE, mxLanguage);

	// Prefetches asynchronous requests so that below code runs synchronous
	// Loading the correct bundle (one file) via the fallback system in mxResources. The stylesheet
	// is compiled into JS in the build process and is only needed for local development.
	mxUtils.getAll((urlParams['dev'] != '1') ? [bundle] : [bundle, STYLE_PATH + '/default.xml'], function(xhr)
	{
		// Adds bundle text to resources
		mxResources.parse(xhr[0].getText());
		
		// Prepares themes with mapping from old default-style to old XML file
		if (xhr.length > 1)
		{
 			Graph.prototype.defaultThemes[Graph.prototype.defaultThemeName] = xhr[1].getDocumentElement();
		}

		// Main
		var ui = new App(new Editor(urlParams['chrome'] == '0'));
		
		if (window.mxscript != null)
		{
			// Loads dropbox for all browsers but IE8 and below (no CORS) if not disabled or if enabled and in embed mode
			// KNOWN: Picker does not work in IE11 (https://dropbox.zendesk.com/requests/1650781)
			if (typeof window.DropboxClient === 'function' &&
				(window.Dropbox == null && window.DrawDropboxClientCallback != null &&
				(((urlParams['embed'] != '1' && urlParams['db'] != '0') ||
				(urlParams['embed'] == '1' && urlParams['db'] == '1')) &&
				isSvgBrowser && (document.documentMode == null || document.documentMode > 9))))
			{
				mxscript(App.DROPBOX_URL, function()
				{
					// Must load this after the dropbox SDK since they use the same namespace
					mxscript(App.DROPINS_URL, function()
					{
						DrawDropboxClientCallback();
					}, 'dropboxjs', App.DROPBOX_APPKEY);
				});
			}
			// Disables client
			else if (typeof window.Dropbox === 'undefined' || typeof window.Dropbox.choose === 'undefined')
			{
				window.DropboxClient = null;
			}
				
			// Loads OneDrive for all browsers but IE6/IOS if not disabled or if enabled and in embed mode
			if (typeof window.OneDriveClient === 'function' &&
				(typeof OneDrive === 'undefined' && window.DrawOneDriveClientCallback != null &&
				(((urlParams['embed'] != '1' && urlParams['od'] != '0') || (urlParams['embed'] == '1' &&
				urlParams['od'] == '1')) && !/(iPad|iPhone|iPod)/.test(navigator.userAgent) &&
				(navigator.userAgent.indexOf('MSIE') < 0 || document.documentMode >= 10))))
			{
				mxscript(App.ONEDRIVE_URL, window.DrawOneDriveClientCallback);
			}
			// Disables client
			else if (typeof window.OneDrive === 'undefined')
			{
				window.OneDriveClient = null;
			}
		}
		
		if (callback != null)
		{
			callback(ui);
		}
		
		/**
		 * For developers only
		 */
		if (urlParams['chrome'] != '0' && urlParams['test'] == '1')
		{
			mxLog.show();
			mxLog.debug('Started in ' + (new Date().getTime() - t0.getTime()) + 'ms');
			mxLog.debug('Export:', EXPORT_URL);
			mxLog.debug('Development mode:', (urlParams['dev'] == '1') ? 'active' : 'inactive');
			mxLog.debug('Test mode:', (urlParams['test'] == '1') ? 'active' : 'inactive');
		}
	}, function()
	{
		document.getElementById('geStatus').innerHTML = 'Error loading page. <a href="javascript:void(0);" onclick="location.reload();">Please try refreshing.</a>';
	});
};

//Extends EditorUi
mxUtils.extend(App, EditorUi);

/**
 * Executes the first step for connecting to Google Drive.
 */
App.prototype.defaultUserPicture = 'https://lh3.googleusercontent.com/-HIzvXUy6QUY/AAAAAAAAAAI/AAAAAAAAAAA/giuR7PQyjEk/photo.jpg?sz=30';

/**
 * 
 */
App.prototype.shareImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODhDNkFGMDBEQkQ0RTgwOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMjU2NzdEMTcwRDIxMUUxQjc0MDkxRDhCNUQzOEFGRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMjU2NzdEMDcwRDIxMUUxQjc0MDkxRDhCNUQzOEFGRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNjgwMTE3NDA3MjA2ODExODcxRkM4MUY1OTFDMjQ5OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNzgwMTE3NDA3MjA2ODExODhDNkFGMDBEQkQ0RTgwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrM/fs0AAADgSURBVHjaYmDAA/7//88MwgzkAKDGFiD+BsQ/QWxSNaf9RwN37twpI8WAS+gGfP78+RpQSoRYA36iG/D379+vQClNdLVMOMz4gi7w79+/n0CKg1gD9qELvH379hzIHGK9oA508ieY8//8+fO5rq4uFCilRKwL1JmYmNhhHEZGRiZ+fn6Q2meEbDYG4u3/cYCfP38uA7kOm0ZOIJ7zn0jw48ePPiDFhmzArv8kgi9fvuwB+w5qwH9ykjswbFSZyM4sEMDPBDTlL5BxkFSd7969OwZ2BZKYGhDzkmjOJ4AAAwBhpRqGnEFb8QAAAABJRU5ErkJggg==';

/**
 *
 */
App.prototype.chevronUpImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/chevron-up.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDg2NEE3NUY1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDg2NEE3NjA1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODY0QTc1RDUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0ODY0QTc1RTUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg+qUokAAAAMUExURQAAANnZ2b+/v////5bgre4AAAAEdFJOU////wBAKqn0AAAAL0lEQVR42mJgRgMMRAswMKAKMDDARBjg8lARBoR6KImkH0wTbygT6YaS4DmAAAMAYPkClOEDDD0AAAAASUVORK5CYII=';

/**
 *
 */
App.prototype.chevronDownImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/chevron-down.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDg2NEE3NUI1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDg2NEE3NUM1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODY0QTc1OTUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0ODY0QTc1QTUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsCtve8AAAAMUExURQAAANnZ2b+/v////5bgre4AAAAEdFJOU////wBAKqn0AAAALUlEQVR42mJgRgMMRAkwQEXBNAOcBSPhclB1cNVwfcxI+vEZykSpoSR6DiDAAF23ApT99bZ+AAAAAElFTkSuQmCC';

/**
 *
 */
App.prototype.formatShowImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/format-show.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODdCREY5REY1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODdCREY5RTA1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4N0JERjlERDU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4N0JERjlERTU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlnMQ/8AAAAJUExURQAAAP///3FxcTfTiAsAAAACdFJOU/8A5bcwSgAAACFJREFUeNpiYEQDDEQJMMABTAAixcQ00ALoDiPRcwABBgB6DADly9Yx8wAAAABJRU5ErkJggg==';

/**
 *
 */
App.prototype.formatHideImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/format-hide.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODdCREY5REI1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODdCREY5REM1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4N0JERjlEOTU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4N0JERjlEQTU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqjT9SMAAAAGUExURQAAAP///6XZn90AAAACdFJOU/8A5bcwSgAAAB9JREFUeNpiYEQDDEQJMMABTAAmNdAC6A4j0XMAAQYAcbwA1Xvj1CgAAAAASUVORK5CYII=';

/**
 *
 */
App.prototype.fullscreenImage = (!mxClient.IS_SVG) ? IMAGE_PATH + '/fullscreen.png' : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABpJREFUCNdjgAAbGxAy4AEh5gNwBBGByoIBAIueBd12TUjqAAAAAElFTkSuQmCC';

/**
 * Executes the first step for connecting to Google Drive.
 */
App.prototype.timeout = 25000;

// Restores app defaults for UI
App.prototype.formatEnabled = urlParams['format'] != '0';
App.prototype.formatWidth = (screen.width < 600) ? 0 : mxSettings.getFormatWidth();

/**
 * Overriden UI settings depending on mode.
 */
if (urlParams['embed'] != '1')
{
	App.prototype.menubarHeight = 60;
}

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.init = function()
{
	EditorUi.prototype.init.apply(this, arguments);

	/**
	 * Specifies the default filename.
	 */
	this.defaultLibraryName = mxResources.get('untitledLibrary');

	/**
	 * Holds the listener for description changes.
	 */	
	this.descriptorChangedListener = mxUtils.bind(this, this.descriptorChanged);
	
	/**
	 * Creates github client.
	 */
	this.gitHub = (!mxClient.IS_IE || document.documentMode == 10 ||
			mxClient.IS_IE11 || mxClient.IS_EDGE) &&
			(urlParams['gh'] != '0' && (urlParams['embed'] != '1' ||
			urlParams['gh'] == '1')) ? new GitHubClient(this) : null;
	
	if (this.gitHub != null)
	{
		this.gitHub.addListener('userChanged', mxUtils.bind(this, function()
		{
			this.updateUserElement();
			this.restoreLibraries();
		}))
	}

	/**
	 * Lazy-loading for individual backends
	 */
	if (urlParams['embed'] != '1' || urlParams['od'] == '1')
	{
		/**
		 * Creates onedrive client if all required libraries are available.
		 */
		var initOneDriveClient = mxUtils.bind(this, function()
		{
			if (typeof OneDrive !== 'undefined')
			{
				/**
				 * Holds the x-coordinate of the point.
				 */
				this.oneDrive = new OneDriveClient(this);
				
				this.oneDrive.addListener('userChanged', mxUtils.bind(this, function()
				{
					this.updateUserElement();
					this.restoreLibraries();
				}))
				
				// Notifies listeners of new client
				this.fireEvent(new mxEventObject('clientLoaded', 'client', this.oneDrive));
			}
			else if (window.DrawOneDriveClientCallback == null)
			{
				window.DrawOneDriveClientCallback = initOneDriveClient;
			}
		});

		initOneDriveClient();
	}

	/**
	 * Creates drive client with all required libraries are available.
	 */
	if (urlParams['embed'] != '1' || urlParams['gapi'] == '1')
	{
		var initDriveClient = mxUtils.bind(this, function()
		{
			/**
			 * Creates google drive client if all required libraries are available.
			 */
			if (typeof gapi !== 'undefined')
			{
				var doInit = mxUtils.bind(this, function()
				{
					/**
					 * Holds the x-coordinate of the point.
					 */
					this.drive = new DriveClient(this);
					
					/**
					 * Adds important notice for new app if drive file is loaded in old app.
					 */
					if (this.drive.appId == '420247213240')
					{
						this.editor.addListener('fileLoaded', mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();
							
							if (file != null && file.constructor == DriveFile)
							{
								var td = document.getElementById('geFooterItem2');
								
								if (td != null)
								{
									td.innerHTML = '<a href="https://support.draw.io/display/DO/2014/11/27/Switching+application+in+Google+Drive" ' +
										'target="_blank" title="IMPORTANT NOTICE" >IMPORTANT NOTICE</a>';
								}
							}
						}));
					}
					
					this.drive.addListener('userChanged', mxUtils.bind(this, function()
					{
						// Changes the footer ads for Google Accounts
						if (this.updateAd != null)
						{
							this.adsHtml = ['<a title="Quick start video" href="https://www.youtube.com/watch?v=8OaMWa4R1SE&t=1" target="_blank">' +
											'<img border="0" align="absmiddle" style="margin-top:-4px;" src="images/glyphicons_star.png"/>&nbsp;&nbsp;Quick start video</a>',
											'<a title="Google Docs Add-on" href="https://chrome.google.com/webstore/detail/drawio-diagrams/clpbjldiohnnmfmkngmaohehlnfkmoea" target="_blank">' +
											'<img border="0" align="absmiddle" style="margin-top:-4px;" src="images/glyphicons_star.png"/>&nbsp;&nbsp;Google Docs Add-on</a>',
											'<a title="Google Chrome App" href="https://chrome.google.com/webstore/detail/drawio-desktop/pebppomjfocnoigkeepgbmcifnnlndla" target="_blank">' +
											'<img border="0" align="absmiddle" style="margin-top:-4px;" src="images/glyphicons_star.png"/>&nbsp;&nbsp;Google Chrome App</a>',
											'<a title="Please help us to 5 stars" href="https://chrome.google.com/webstore/detail/drawio-pro/onlkggianjhjenigcpigpjehhpplldkc/reviews" target="_blank">' +
											'<img border="0" align="absmiddle" style="margin-top:-4px;" src="images/glyphicons_star.png"/>&nbsp;&nbsp;Please help us to 5 stars</a>'];
							this.updateAd(this.adsHtml.length - 1);
						}
						
						this.updateUserElement();
						this.restoreLibraries();
						this.checkLicense();
					}))
					
					// Notifies listeners of new client
					this.fireEvent(new mxEventObject('clientLoaded', 'client', this.drive));
				});
				
				if (window.DrawGapiClientCallback != null)
				{
					gapi.load('auth:client,drive-realtime,drive-share', mxUtils.bind(this, function(resp)
					{
						// Starts the app without the Google Option if the API fails to load
						if (gapi.drive != null && gapi.drive.realtime != null)
						{
							gapi.client.load('drive', 'v2', mxUtils.bind(this, function()
							{
								this.defineCustomObjects();
								
								// Needed to avoid popup blocking for non-immediate authentication
								gapi.auth.init(mxUtils.bind(this, function()
								{
									if (gapi.client.drive != null)
									{
										doInit();
									}
								}));
							}));
						}
					}));
					
					/**
					 * Clears any callbacks.
					 */
					window.DrawGapiClientCallback = null;
				}
				else
				{
					doInit();
				}
			}
			else if (window.DrawGapiClientCallback == null)
			{
				window.DrawGapiClientCallback = initDriveClient;
			}
		});
		
		initDriveClient();
	}

	if (urlParams['embed'] != '1' || urlParams['db'] == '1')
	{
		/**
		 * Creates dropbox client if all required libraries are available.
		 */
		var initDropboxClient = mxUtils.bind(this, function()
		{
			if (typeof Dropbox === 'function' && typeof Dropbox.choose !== 'undefined')
			{
				/**
				 * Clears dropbox client callback.
				 */
				window.DrawDropboxClientCallback = null;
				
				/**
				 * Holds the x-coordinate of the point.
				 */
				this.dropbox = new DropboxClient(this);
				
				this.dropbox.addListener('userChanged', mxUtils.bind(this, function()
				{
					this.updateUserElement();
					this.restoreLibraries();
				}));
				
				// Notifies listeners of new client
				this.fireEvent(new mxEventObject('clientLoaded', 'client', this.dropbox));
			}
			else if (window.DrawDropboxClientCallback == null)
			{
				window.DrawDropboxClientCallback = initDropboxClient;
			}
		});

		initDropboxClient();
	}

	if (urlParams['embed'] != '1')
	{
		/**
		 * Holds the background element.
		 */
		this.bg = this.createBackground();
		document.body.appendChild(this.bg);
		this.diagramContainer.style.visibility = 'hidden';
		this.formatContainer.style.visibility = 'hidden';
		this.hsplit.style.display = 'none';
		this.sidebarContainer.style.display = 'none';
		this.sidebarFooterContainer.style.display = 'none';

		// Sets the initial mode
		if (urlParams['local'] == '1')
		{
			this.setMode(App.MODE_DEVICE);
		}
		else
		{
			this.mode = App.mode;
		}
	}
	else if (this.menubar != null)
	{
		this.menubar.container.style.paddingTop = '0px';
	}

	this.updateHeader();
	
	// Changes footer from time to time
	var td = document.getElementById('geFooterItem2');
	
	if (td != null)
	{
		this.adsHtml = ['<a title="Quick start video" href="https://www.youtube.com/watch?v=8OaMWa4R1SE&t=1" target="_blank">' +
					'<img border="0" align="absmiddle" style="margin-top:-4px;" src="images/glyphicons_star.png"/>&nbsp;&nbsp;Quick start video</a>'];
		this.adsHtml.push(td.innerHTML);
		
		mxUtils.setPrefixedStyle(td.style, 'transition', 'all 1s ease');
		var lastAd = this.adsHtml.length - 1;
		
		this.updateAd = function(index)
		{
			if (index == lastAd)
			{
				index = this.adsHtml.length - 1;
			}

			if (index != lastAd)
			{
				mxUtils.setPrefixedStyle(td.style, 'transform', 'scale(0)');
				td.style.opacity = '0';
				lastAd = index;
				
				window.setTimeout(mxUtils.bind(this, function()
				{
					td.innerHTML = this.adsHtml[index];
					mxUtils.setPrefixedStyle(td.style, 'transform', 'scale(1)');
					td.style.opacity = '1';
				}), 1000);
			}
		};
		
		window.setInterval(mxUtils.bind(this, function()
		{
			if (this.adsHtml.length == 3)
			{
				this.updateAd(mxUtils.mod(lastAd + 1, 3));
			}
			else
			{
				var rnd = Math.random();
				this.updateAd(Math.round(rnd * (this.adsHtml.length - 1)));
			}
		}), 300000);
	}
	
	if (this.menubar != null)
	{
		this.buttonContainer = document.createElement('div');
		this.buttonContainer.style.display = 'inline-block';
		this.buttonContainer.style.paddingRight = '48px';
		this.buttonContainer.style.position = 'absolute';
		this.buttonContainer.style.right = '0px';
		
		this.menubar.container.appendChild(this.buttonContainer);
	}

	if (uiTheme == 'atlas' && this.menubar != null)
	{
		if (this.toggleElement != null)
		{
			this.toggleElement.click();
			this.toggleElement.style.display = 'none';
		}
		
		this.icon = document.createElement('img');
		this.icon.setAttribute('src', IMAGE_PATH + '/logo-flat-small.png');
		this.icon.setAttribute('title', mxResources.get('draw.io'));
		this.icon.style.paddingTop = '11px';
		this.icon.style.marginLeft = '4px';
		this.icon.style.marginRight = '6px';
		
		if (mxClient.IS_QUIRKS)
		{
			this.icon.style.marginTop = '12px';
		}
		
		this.menubar.container.insertBefore(this.icon, this.menubar.container.firstChild);
	}

	if (isLocalStorage || mxClient.IS_CHROMEAPP)
	{
		/**
		 * Persists current edge style.
		 */
		this.editor.graph.currentEdgeStyle = mxSettings.getCurrentEdgeStyle();
		this.editor.graph.currentVertexStyle = mxSettings.getCurrentVertexStyle();
		
		// Updates UI to reflect current edge style
		this.fireEvent(new mxEventObject('styleChanged', 'keys', [], 'values', [], 'cells', []));
		
		this.addListener('styleChanged', mxUtils.bind(this, function(sender, evt)
		{
			mxSettings.setCurrentEdgeStyle(this.editor.graph.currentEdgeStyle);
			mxSettings.setCurrentVertexStyle(this.editor.graph.currentVertexStyle);
			mxSettings.save();
		}));

		/**
		 * Persists copy on connect switch.
		 */
		this.editor.graph.connectionHandler.setCreateTarget(mxSettings.isCreateTarget());
		this.fireEvent(new mxEventObject('copyConnectChanged'));
		
		this.addListener('copyConnectChanged', mxUtils.bind(this, function(sender, evt)
		{
			mxSettings.setCreateTarget(this.editor.graph.connectionHandler.isCreateTarget());
			mxSettings.save();
		}));
		
		/**
		 * Persists default page format.
		 */
		this.editor.graph.pageFormat = mxSettings.getPageFormat();
		
		this.addListener('pageFormatChanged', mxUtils.bind(this, function(sender, evt)
		{
			mxSettings.setPageFormat(this.editor.graph.pageFormat);
			mxSettings.save();
		}));
		
		/**
		 * Persists default grid color.
		 */
		this.editor.graph.view.gridColor = mxSettings.getGridColor();
		
		this.addListener('gridColorChanged', mxUtils.bind(this, function(sender, evt)
		{
			mxSettings.setGridColor(this.editor.graph.view.gridColor);
			mxSettings.save();
		}));

		/**
		 * Persists autosave switch in Chrome app.
		 */
		if (mxClient.IS_CHROMEAPP)
		{
			this.editor.addListener('autosaveChanged', mxUtils.bind(this, function(sender, evt)
			{
				mxSettings.setAutosave(this.editor.autosave);
				mxSettings.save();
			}));
			
			this.editor.autosave = mxSettings.getAutosave();
		}
		
		/**
		 * 
		 */
		if (this.sidebar != null)
		{
			this.sidebar.showPalette('search', mxSettings.settings.search);
		}
		
		/**
		 * Shows scratchpad if never shown.
		 */
		if (!this.editor.chromeless && this.sidebar != null && (mxSettings.settings.isNew ||
			parseInt(mxSettings.settings.version || 0) <= 8))
		{
			this.toggleScratchpad();
			mxSettings.save();
		}

		// Saves app defaults for UI
		this.addListener('formatWidthChanged', function()
		{
			mxSettings.setFormatWidth(this.formatWidth);
			mxSettings.save();
		});
	}
};

/**
 * Returns true if the current domain is for the new drive app.
 */
App.prototype.isDriveDomain = function()
{
	return urlParams['drive'] != '0' &&
		(window.location.hostname == 'test.draw.io' ||
		window.location.hostname == 'cdn.draw.io' ||
		window.location.hostname == 'www.draw.io' ||
		window.location.hostname == 'drive.draw.io' ||
		window.location.hostname == 'jgraph.github.io');
};

/**
 * Returns true if the current domain is for the old drive app.
 */
App.prototype.isLegacyDriveDomain = function()
{
	return urlParams['drive'] == 0 || window.location.hostname == 'legacy.draw.io';
};

/**
 * 
 */
App.prototype.checkLicense = function()
{
	var driveUser = this.drive.getUser();
	var email = ((urlParams['dev'] == '1') ? urlParams['lic'] : null) ||
		((driveUser != null) ? driveUser.email : null);
	
	if (!this.isOffline() && !this.editor.chromeless && email != null)
	{
		// Anonymises the local part of the email address
		var at = email.lastIndexOf('@');
		var domain = email;
		
		if (at >= 0)
		{
			domain = email.substring(at + 1);
			//email = this.crc32(email.substring(0, at)) + '@' + domain;
		}
		
		// Timestamp is workaround for cached response in certain environments
		mxUtils.post('/license', 'domain=' + encodeURIComponent(domain) + '&email=' + encodeURIComponent(email) + 
				'&ds=' + encodeURIComponent(driveUser.displayName) + '&lc=' + encodeURIComponent(driveUser.locale) + 
				'&ts=' + new Date().getTime(),
			mxUtils.bind(this, function(req)
			{
				var registered = false;
				var exp = null;
				
				try
				{
					if (req.getStatus() >= 200 && req.getStatus() <= 299)
					{
						var value = req.getText();
						registered = true;
						
						if (value.length > 0)
						{
							var lic = JSON.parse(value);
							
							if (lic != null)
							{
								exp = this.handleLicense(lic, domain);
							}
						}
					}
				}
				catch (e)
				{
					// ignore
				}
			}));
	}
};

/**
 * Returns true if the current domain is for the new drive app.
 */
App.prototype.handleLicense = function(lic, domain)
{
	var footer = document.getElementById('geFooter');
	var expiry = null;

	if (footer != null && lic != null)
	{
		expiry = lic.expiry;
		
		if (lic.footer != null)
		{
			footer.innerHTML = decodeURIComponent(lic.footer);
		}
		else
		{
			this.hideFooter();
		
			if (expiry != null && expiry != 'never')
			{
				var exp = new Date(Date.parse(expiry));
				var diff = Math.round((exp - Date.now()) / (1000 * 60 * 60 * 24));
		
				if (diff < 90)
				{
		    		var link = 'https://support.draw.io/display/DKB/draw.io+footer+state+that+license+is+expiring+on+Google+For+Work+account?domain=' + encodeURIComponent(domain);
		    		footer.style.height = '100%';
		    		footer.style.margin = '0px';
		    		footer.style.display = '';
		    		
		    		if (diff < 0)
		    		{
			    		this.footerHeight = 80;
		    			footer.innerHTML = '<table height="100%"><tr><td valign="middle" align="center" class="geStatusAlert geBlink">' +
		    				'<a href="' + link + '" style="padding-top:16px;" target="_blank">' + 
		    				'<img border="0" src="' + mxGraph.prototype.warningImage.src + '" align="top" style="margin-right:6px">' +
		    				mxResources.get('licenseHasExpired', [domain, exp.toLocaleDateString()]) + '</a></td></tr></table>';
		    		}
		    		else
		    		{
			    		this.footerHeight = 46;
		    			footer.innerHTML = '<table height="100%"><tr><td valign="middle" align="center" class="geStatusAlert">' +
		    				'<a href="' + link + '" target="_blank">' +
		    				'<img border="0" src="' + mxGraph.prototype.warningImage.src + '" align="top" style="margin-right:6px">' +
		    				mxResources.get('licenseWillExpire', [domain, exp.toLocaleDateString()]) + '</a></td></tr></table>';
		    		}
		    		
		    		this.refresh();
				}
			}
		}
	}
	
	return expiry;
};

/**
 * 
 */
App.prototype.getEditBlankXml = function()
{
	var file = this.getCurrentFile();
	
	if (file != null && this.editor.chromeless && this.editor.graph.lightbox && file.realtime == null)
	{
		return file.getData();
	}
	else
	{
		return this.getFileData(true);
	}
};

/**
 * Updates action states depending on the selection.
 */
App.prototype.updateActionStates = function()
{
	EditorUi.prototype.updateActionStates.apply(this, arguments);

	var file = this.getCurrentFile();
	this.actions.get('revisionHistory').setEnabled(file != null && ((file.constructor == DriveFile &&
			file.isEditable()) || file.constructor == DropboxFile));
};

/**
 * Updates draft in local storage
 */
App.prototype.updateDraft = function()
{
	if (isLocalStorage && localStorage != null)
	{
		localStorage.setItem('.draft', JSON.stringify({modified: new Date().getTime(), data: this.getFileData()}));
	}
};

/**
 * Returns the draft in local storage
 */
App.prototype.getDraft = function()
{
	// FIXME: Handle multiple tabs
//	if (isLocalStorage && localStorage != null)
//	{
//		try
//		{
//			var draft = localStorage.getItem('.draft');
//			
//			if (draft != null)
//			{
//				return JSON.parse(draft);
//			}
//		}
//		catch (e)
//		{
//			// ignore quota etc
//		}
//	}

	return null;
};

/**
 * Adds the specified entry to the recent file list in local storage
 */
App.prototype.addRecent = function(entry)
{
	if (isLocalStorage && localStorage != null)
	{
		var recent = this.getRecent();
		
		if (recent == null)
		{
			recent = [];
		}
		else
		{
			for (var i = 0; i < recent.length; i++)
			{
				if (recent[i].id == entry.id)
				{
					recent.splice(i, 1);
				}
			}
		}
		
		if (recent != null)
		{
			recent.unshift(entry);
			recent = recent.slice(0, 5);
			localStorage.setItem('.recent', JSON.stringify(recent));
		}
	}
};

/**
 * Returns the recent file list from local storage
 */
App.prototype.getRecent = function()
{
	if (isLocalStorage && localStorage != null)
	{
		try
		{
			var recent = localStorage.getItem('.recent');
			
			if (recent != null)
			{
				return JSON.parse(recent);
			}
		}
		catch (e)
		{
			// ignore
		}
		
		return null;
	}
};

/**
 * Clears the recent file list in local storage
 */
App.prototype.resetRecent = function(entry)
{
	if (isLocalStorage && localStorage != null)
	{
		try
		{
			localStorage.removeItem('.recent');
		}
		catch (e)
		{
			// ignore
		}
	}
};

/**
 * Clears the draft save in local storage
 */
App.prototype.removeDraft = function()
{
	if (isLocalStorage && localStorage != null && urlParams['splash'] == '0')
	{
		try
		{
			localStorage.removeItem('.draft');
		}
		catch (e)
		{
			// ignore quota etc
		}
	}
};

/**
 * Sets the onbeforeunload for the application
 */
App.prototype.onBeforeUnload = function()
{
	var file = this.getCurrentFile();
	
	if (file != null)
	{
		// KNOWN: Message is ignored by most browsers
		if (file.constructor == LocalFile && file.getHash() == '' && !file.isModified() &&
			urlParams['nowarn'] != '1' && !this.isDiagramEmpty() && urlParams['url'] == null &&
			!this.editor.chromeless)
		{
			return mxResources.get('ensureDataSaved');
		}
		else if (file.constructor != DriveFile && file.isModified())
		{
			return mxResources.get('allChangesLost');
		}
		else
		{
			file.close(true);
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.updateDocumentTitle = function()
{
	if (!this.editor.graph.lightbox)
	{
		var title = this.editor.appName;
		var file = this.getCurrentFile();
		
		if (file != null)
		{
			var filename = (file.getTitle() != null) ? file.getTitle() : this.defaultFilename;
			title = filename + ' - ' + title;
		}
		
		if (this.isOfflineApp())
		{
			title += ' [' + mxResources.get('offline') + ']';
		}
		
		document.title = title;
	}
};

/**
 * Authorizes the client, gets the userId and calls <open>.
 */
App.prototype.createCrcTable = function()
{
    var crcTable = [];
    var c;

	for (var n = 0; n < 256; n++)
	{
        c = n;
        
        for (var k = 0; k < 8; k++)
        {
            c = ((c&1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
        }
	        
        crcTable[n] = c;
    }
	
    return crcTable;
};

/**
 * Authorizes the client, gets the userId and calls <open>.
 */
App.prototype.crc32 = function(str)
{
	this.crcTable = this.crcTable || this.createCrcTable();
    var crc = 0 ^ (-1);

    for (var i = 0; i < str.length; i++ )
    {
        crc = (crc >>> 8) ^ this.crcTable[(crc ^ str.charCodeAt(i)) & 0xFF];
    }

    return (crc ^ (-1)) >>> 0;
};

/**
 * Returns a thumbnail of the current file.
 */
App.prototype.getThumbnail = function(width, success)
{
	var result = false;
	
	try
	{
		if (this.thumbImageCache == null)
		{
			this.thumbImageCache = new Object();
		}
		
		var graph = this.editor.graph;
		
		// Exports PNG for first page while other page is visible by creating a graph
		// LATER: Add caching for the graph or SVG while not on first page
		if (this.pages != null && this.currentPage != this.pages[0])
		{
			graph = this.createTemporaryGraph(graph.getStylesheet());
			var graphGetGlobalVariable = graph.getGlobalVariable;
			var page = this.pages[0];
	
			graph.getGlobalVariable = function(name)
			{
				if (name == 'page')
				{
					return page.getName();
				}
				else if (name == 'pagenumber')
				{
					return 1;
				}
				
				return graphGetGlobalVariable.apply(this, arguments);
			};
	
			document.body.appendChild(graph.container);
			graph.model.setRoot(page.root);
		}
		
		// Uses client-side canvas export
		if (mxClient.IS_CHROMEAPP || (!graph.mathEnabled && this.useCanvasForExport))
		{
		   	this.exportToCanvas(mxUtils.bind(this, function(canvas)
		   	{
		   		// Removes temporary graph from DOM
   	   	    	if (graph != this.editor.graph)
				{
					graph.container.parentNode.removeChild(graph.container);
				}
		   		
		   		success(canvas);
		   	}), width, this.thumbImageCache, '#ffffff', function()
		   	{
		   		// Continues with null in error case
		   		success();
		   	}, null, null, null, null, null, null, graph);
		   	
		   	result = true;
		}
		else if (this.canvasSupported && this.getCurrentFile() != null)
		{
			var canvas = document.createElement('canvas');
			var bounds = graph.getGraphBounds();
			var scale = width / bounds.width;
			
			// Limits scale to 1 or 2 * width / height
			scale = Math.min(1, Math.min((width * 3) / (bounds.height * 4), scale));
			
			var x0 = Math.floor(bounds.x);
			var y0 = Math.floor(bounds.y);
			
			canvas.setAttribute('width', Math.ceil(scale * (bounds.width + 4)));
			canvas.setAttribute('height', Math.ceil(scale * (bounds.height + 4)));
			
			var ctx = canvas.getContext('2d');
			
			// Configures the canvas
			ctx.scale(scale, scale);
			ctx.translate(-x0, -y0);
			
			// Paint white background instead of transparent
			var bg = graph.background;
			
			if (bg == null || bg == '' || bg == mxConstants.NONE)
			{
				bg = '#ffffff';
			}
	
			// Paints background
			ctx.save();
			ctx.fillStyle = bg;
			ctx.fillRect(x0, y0, Math.ceil(bounds.width + 4), Math.ceil(bounds.height + 4));
			ctx.restore();
			
			var htmlCanvas = new mxJsCanvas(canvas);
			
			// NOTE: htmlCanvas passed into async canvas is only used for image
			// and canvas caching (canvas caching not used in this case as we do
			// not render text). To reuse that cache via the thumbImageCache we
			// pass that into the async canvas and override the image cache in
			// the newly created html canvas with that of the thumbImageCache.
			// LATER: Is clear thumbImageCache needed if file changes?
			var asynCanvas = new mxAsyncCanvas(this.thumbImageCache);
			htmlCanvas.images = this.thumbImageCache.images;
			
			// Render graph
			var imgExport = new mxImageExport();
			
			imgExport.drawShape = function(state, canvas)
			{
				if (state.shape instanceof mxShape && state.shape.checkBounds())
				{
					canvas.save();
					canvas.translate(0.5, 0.5);
					state.shape.paint(canvas);
					canvas.translate(-0.5, -0.5);
					canvas.restore();
				}
			};
			
			imgExport.drawText = function(state, canvas)
			{
				// No text output for thumbnails
			};
	
			imgExport.drawState(graph.getView().getState(graph.model.root), asynCanvas);
	
			asynCanvas.finish(mxUtils.bind(this, function()
			{
				imgExport.drawState(graph.getView().getState(graph.model.root), htmlCanvas);
				
		   		// Removes temporary graph from DOM
   	   	    	if (graph != this.editor.graph)
				{
					graph.container.parentNode.removeChild(graph.container);
				}
				
				success(canvas);
			}));
			
			result = true;
		}
	}
	catch (e)
	{
		// ignore and use placeholder
		// Removes temporary graph from DOM
  	    if (graph != this.editor.graph)
		{
			graph.container.parentNode.removeChild(graph.container);
		}
	}
	
	return result;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.createBackground = function()
{
	var bg = this.createDiv('background');
	bg.style.position = 'absolute';
	bg.style.background = 'white';
	bg.style.left = '0px';
	bg.style.top = '0px';
	bg.style.bottom = '0px';
	bg.style.right = '0px';
	
	mxUtils.setOpacity(bg, 100);
	
	if (mxClient.IS_QUIRKS)
	{
		new mxDivResizer(bg);
	}

	return bg;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
(function()
{
	var editorUiSetMode = EditorUi.prototype.setMode;
	
	App.prototype.setMode = function(mode, remember)
	{
		editorUiSetMode.apply(this, arguments);
		
		// Note: UseLocalStorage affects the file dialogs
		// and should not be modified if mode is undefined
		if (this.mode != null)
		{
			Editor.useLocalStorage = this.mode == App.MODE_BROWSER;
		}
		
		if (remember)
		{
			if (isLocalStorage)
			{
				localStorage.setItem('.mode', mode);
			}
			else if (typeof(Storage) != 'undefined')
			{
				var expiry = new Date();
				expiry.setYear(expiry.getFullYear() + 1);
				document.cookie = 'MODE=' + mode + '; expires=' + expiry.toUTCString();
			}
		}
		
		if (this.appIcon != null)
		{
			var file = this.getCurrentFile();
			var mode = (file != null) ? file.getMode() : null;
			
			if (mode == App.MODE_GOOGLE)
			{
				this.appIcon.setAttribute('title', mxResources.get('openIt', [mxResources.get('googleDrive')]));
				this.appIcon.style.cursor = 'pointer';
			}
			else if (mode == App.MODE_DROPBOX)
			{
				this.appIcon.setAttribute('title', mxResources.get('openIt', [mxResources.get('dropbox')]));
				this.appIcon.style.cursor = 'pointer';
			}
			else if (mode == App.MODE_ONEDRIVE)
			{
				this.appIcon.setAttribute('title', mxResources.get('openIt', [mxResources.get('oneDrive')]));
				this.appIcon.style.cursor = 'pointer';
			}
			else
			{
				this.appIcon.removeAttribute('title');
				this.appIcon.style.cursor = 'default';
			}
		}
	};
})();

/**
 * Function: authorize
 * 
 * Authorizes the client, gets the userId and calls <open>.
 */
App.prototype.appIconClicked = function(evt)
{
	if (mxEvent.isAltDown(evt))
	{
		this.showSplash(true);
	}
	else
	{
		var file = this.getCurrentFile();
		var mode = (file != null) ? file.getMode() : null;
		
		if (mode == App.MODE_GOOGLE)
		{
			if (file.desc.parents.length > 0)
			{
				window.open('https://drive.google.com/drive/folders/' + file.desc.parents[0].id);
			}
			else
			{
				window.open('https://drive.google.com/?authuser=0');
			}
		}
		else if (mode == App.MODE_DROPBOX)
		{
			window.open('https://www.dropbox.com/');
		}
		else if (mode == App.MODE_ONEDRIVE)
		{
			window.open('https://onedrive.live.com/');
		}
		else if (mode == App.MODE_GITHUB)
		{
			if (file != null && file.constructor == GitHubFile)
			{
				window.open(file.meta.html_url);
			}
			else
			{
				window.open('https://github.com/');
			}
		}
	}
	
	mxEvent.consume(evt);
};

/**
 * Function: authorize
 * 
 * Authorizes the client, gets the userId and calls <open>.
 */
App.prototype.clearMode = function()
{
	if (isLocalStorage)
	{
		localStorage.removeItem('.mode');
	}
	else if (typeof(Storage) != 'undefined')
	{
		var expiry = new Date();
		expiry.setYear(expiry.getFullYear() - 1);
		document.cookie = 'MODE=; expires=' + expiry.toUTCString();
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.getDiagramId = function()
{
	var id = window.location.hash;
	
	// Strips the hash sign
	if (id != null && id.length > 0)
	{
		id = id.substring(1);
	}
	
	return id;
};

/**
 * Opens any file specified in the URL parameters.
 */
App.prototype.open = function()
{
	// Cross-domain window access is not allowed in FF, so if we
	// were opened from another domain then this will fail.
	try
	{
		// If the create URL param is used in embed mode then
		// we try to open the XML from window.opener[value].
		// Use this for embedding via tab to bypass the timing
		// issues when passing messages without onload event.
		if (window.opener != null)
		{
			var value = urlParams['create'];
			
			if (value != null)
			{
				value = decodeURIComponent(value);
			}
			
			if (value != null && value.length > 0 && value.substring(0, 7) != 'http://' &&
				value.substring(0, 8) != 'https://')
			{
				var doc = mxUtils.parseXml(window.opener[value]);
				this.editor.setGraphXml(doc.documentElement);
			}
			else if (window.opener.openFile != null)
			{
				window.opener.openFile.setConsumer(mxUtils.bind(this, function(xml, filename, temp)
				{
					this.spinner.stop();
					
					if (filename == null)
					{
						var title = urlParams['title'];
						temp = true;
						
						if (title != null)
						{
							filename = decodeURIComponent(title);
						}
						else
						{
							filename = this.defaultFilename;
						}
					}
					
					// Replaces PNG with XML extension
					var dot = filename.substring(filename.length - 4) == '.png';
					
					if (dot > 0)
					{
						filename = filename.substring(0, filename.length - 4) + '.xml';
					}
					
					this.fileLoaded((mxClient.IS_IOS) ?
						new StorageFile(this, xml, filename) :
						new LocalFile(this, xml, filename, temp));
				}));
			}
		}
	}
	catch(e)
	{
		// ignore
	}
};

/**
 * Main function. Program starts here.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.load = function()
{
	// Checks if we're running in embedded mode
	if (urlParams['embed'] != '1')
	{
		if (this.spinner.spin(document.body, mxResources.get('starting')))
		{
			try
			{
				this.stateArg = (urlParams['state'] != null && this.drive != null) ? JSON.parse(decodeURIComponent(urlParams['state'])) : null;
			}
			catch (e)
			{
				// ignores invalid state args
			}
			
			this.editor.graph.setEnabled(this.getCurrentFile() != null);
			
			// Passes the userId from the state parameter to the client
			if ((window.location.hash == null || window.location.hash.length == 0) &&
				this.drive != null && this.stateArg != null && this.stateArg.userId != null)
			{
				this.drive.setUserId(this.stateArg.userId);
			}

			// Legacy support for fileId parameter which is moved to the hash tag
			if (urlParams['fileId'] != null)
			{
				window.location.hash = 'G' + urlParams['fileId'];
				window.location.search = this.getSearch(['fileId']);
			}
			else
			{
				// Asynchronous or disabled loading of client
				if (this.drive == null)
				{
					if (this.mode == App.MODE_GOOGLE)
					{
						this.mode = null;
					}
					
					this.start();
				}
				else
				{
					gapi.load('auth:client,drive-realtime,drive-share', mxUtils.bind(this, function(resp)
					{
						// Starts the app without the Google Option if the API fails to load
						if (gapi.drive == null || gapi.drive.realtime == null)
						{
							this.mode = null;
							this.drive = null;
							this.start();
						}
						else
						{
							gapi.client.load('drive', 'v2', mxUtils.bind(this, function()
							{
								// Needed to avoid popup blocking for non-immediate authentication
								gapi.auth.init(mxUtils.bind(this, function()
								{
									if (gapi.client.drive == null)
									{
										this.mode = null;
										this.drive = null;
									}
									
									this.start();
								}));
							}));
						}
					}));
				}
			}
		}
	}
	else
	{
		this.restoreLibraries();
	}
};

/**
 * Called in start after the spinner stops.
 */
App.prototype.showAlert = function(message)
{
	if (message != null && message.length > 0)
	{
		var div = document.createElement('div');
		div.className = 'geAlert';
		div.style.zIndex = 2e9; 
		div.style.left = '50%';
		div.style.top = '-100%';
		mxUtils.setPrefixedStyle(div.style, 'transform', 'translate(-50%,0%)');
		mxUtils.setPrefixedStyle(div.style, 'transition', 'all 1s ease');
		
		div.innerHTML = message;
		
		var close = document.createElement('a');
		close.className = 'geAlertLink';
		close.style.textAlign = 'right';
		close.style.marginTop = '20px';
		close.style.display = 'block';
		close.setAttribute('href', 'javascript:void(0);');
		close.setAttribute('title', mxResources.get('close'));
		close.innerHTML = mxResources.get('close');
		div.appendChild(close);
		
		mxEvent.addListener(close, 'click', function(evt)
		{
			if (div.parentNode != null)
			{
				div.parentNode.removeChild(div);
				mxEvent.consume(evt);
			}
		});
		
		document.body.appendChild(div);
		
		// Delayed to get smoother animation after DOM rendering
		window.setTimeout(function()
		{
			div.style.top = '30px';
		}, 10);
		
		// Fades out the alert after 15 secs
		window.setTimeout(function()
		{
			mxUtils.setPrefixedStyle(div.style, 'transition', 'all 2s ease');
			div.style.opacity = '0';
			
			window.setTimeout(function()
			{
				if (div.parentNode != null)
				{
					div.parentNode.removeChild(div);
				}
			}, 2000);
		}, 15000);
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.start = function()
{
	this.bg.parentNode.removeChild(this.bg);
	this.restoreLibraries();
	this.spinner.stop();
	
	try
	{
		// Listens to changes of the hash if not in embed or client mode
		if (urlParams['client'] != '1' && urlParams['embed'] != '1')
		{
			// KNOWN: Does not work in quirks mode
			mxEvent.addListener(window, 'hashchange', mxUtils.bind(this, function(evt)
			{
				try
				{
					var id = this.getDiagramId();
					var file = this.getCurrentFile();
					
					if (file == null || file.getHash() != id)
					{
						this.loadFile(id, true);
					}
				}
				catch (e)
				{
					// Workaround for possible scrollWidth of null in Dialog ctor
					if (document.body != null)
					{
						this.handleError(e, mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();
							window.location.hash = (file != null) ? file.getHash() : '';
						}));
					}
				}
			}));
		}
		
		// Redirects old url URL parameter to new #U format
		if ((window.location.hash == null || window.location.hash.length <= 1) && urlParams['url'] != null)
		{
			this.loadFile('U' + urlParams['url'], true);
		}
		else if (this.getCurrentFile() == null)
		{
			var done = mxUtils.bind(this, function()
			{
				// Starts in client mode and waits for data
				if (urlParams['client'] == '1' && (window.location.hash == null ||
					window.location.hash.length == 0))
				{
					var parent = window.opener || window.parent;
					
					if (parent != window)
					{
						this.installMessageHandler(mxUtils.bind(this, function(xml, evt)
						{
							// Ignores messages from other windows
							if (evt.source == parent)
							{
								// Extracts graph model from PNG
								if (xml.substring(0, 22) == 'data:image/png;base64,')
								{
									xml = this.extractGraphModelFromPng(xml);
								}
								
								var title = urlParams['title'];
								
								if (title != null)
								{
									title = decodeURIComponent(title);
								}
								else
								{
									title = this.defaultFilename;
								}
								
								this.fileLoaded(new LocalFile(this, xml, title, true));
								this.getCurrentFile().setModified(!this.editor.chromeless);
							}
						}));
					}
				}
				// Checks if no earlier loading errors are showing
				else if (this.dialog == null)
				{
					if (urlParams['demo'] == '1')
					{
						var prev = Editor.useLocalStorage;
						this.createFile(this.defaultFilename, null, null, null, null, null, null, true);
						Editor.useLocalStorage = prev;
					}
					else
					{
						var waiting = false;
						
						// Checks if we're waiting for some asynchronous file to be loaded
						// Cross-domain window access is not allowed in FF, so if we
						// were opened from another domain then this will fail.
						try
						{
							waiting = window.opener != null && window.opener.openFile != null;
						}
						catch(e)
						{
							// ignore
						}
						
						if (waiting)
						{
							// Spinner is stopped in App.open
							this.spinner.spin(document.body, mxResources.get('loading'))
						}
						else
						{
							var id = this.getDiagramId();
							
							if (urlParams['splash'] == '0' && (id == null || id.length == 0))
							{
								var draft = this.getDraft();
								var fileData = (draft != null) ? draft.data : this.getFileData();
								var prev = Editor.useLocalStorage;
								this.createFile(this.defaultFilename, fileData, null, null, null, null, null, true);
								Editor.useLocalStorage = prev;
								
								// Draft was used so the user should save the file
								if (draft != null)
								{
									var file = this.getCurrentFile();
									
									if (file != null)
									{
										file.addUnsavedStatus();
									}
								}
							}
							else
							{
								this.loadFile(this.getDiagramId());
							}
						}
					}
				}
			});
	
			// Defines custom classes for realtime in Google Drive
			if (this.drive != null)
			{
				this.defineCustomObjects();
			}
			
			var value = decodeURIComponent(urlParams['create'] || '');
			
			if ((window.location.hash == null || window.location.hash.length <= 1) &&
				value != null && value.length > 0 && this.spinner.spin(document.body, mxResources.get('loading')))
			{
				var reconnect = mxUtils.bind(this, function()
				{
					// Removes URL parameter and reloads the page
					if (this.spinner.spin(document.body, mxResources.get('reconnecting')))
					{
						window.location.search = this.getSearch(['create', 'title']);
					};
				});
	
				var showCreateDialog = mxUtils.bind(this, function(xml)
				{
					this.spinner.stop();
	
					// Resets mode for dialog - local file is only for preview
					if (urlParams['splash'] != '0')
					{
						this.fileLoaded(new LocalFile(this, xml, null));
						
						this.editor.graph.setEnabled(false);
						this.mode = urlParams['mode'];
						var title = urlParams['title'];
		
						if (title != null)
						{
							title = decodeURIComponent(title);
						}
						else
						{
							title = this.defaultFilename;
						}
						
						var serviceCount = this.getServiceCount(true);
						var rowLimit = (serviceCount <= 4) ? 4 : 3;
						
						var dlg = new CreateDialog(this, title, mxUtils.bind(this, function(filename, mode)
						{
							if (mode == null)
							{
								this.hideDialog();
								var prev = Editor.useLocalStorage;
								this.createFile((filename.length > 0) ? filename : this.defaultFilename,
									this.getFileData(), null, null, null, null, null, true);
								Editor.useLocalStorage = prev;
							}
							else
							{
								this.createFile(filename, this.getFileData(true), null, mode);
							}
						}), null, null, null, null, urlParams['browser'] == '1', null, null, true, rowLimit);
						this.showDialog(dlg.container, 380, (serviceCount > rowLimit) ? 390 : 270,
							true, false, mxUtils.bind(this, function(cancel)
						{
							if (cancel && this.getCurrentFile() == null)
							{
								this.showSplash();
							}
						}));
						dlg.init();
					}
				});
				
				value = decodeURIComponent(value);
				
				if (value.substring(0, 7) != 'http://' && value.substring(0, 8) != 'https://')
				{
					// Cross-domain window access is not allowed in FF, so if we
					// were opened from another domain then this will fail.
					try
					{
						if (window.opener != null && window.opener[value] != null)
						{
							showCreateDialog(window.opener[value]);
						}
						else
						{
							this.handleError(null, mxResources.get('errorLoadingFile'));
						}
					}
					catch (e)
					{
						this.handleError(e, mxResources.get('errorLoadingFile'));
					}
				}
				else
				{
					this.loadTemplate(value, function(text)
					{
						showCreateDialog(text);
					}, mxUtils.bind(this, function()
					{
						this.handleError(null, mxResources.get('errorLoadingFile'), reconnect);
					}));
				}
			}
			else
			{
				// Passes the fileId from the state parameter to the hash tag and reloads
				// the page without the state parameter
				if ((window.location.hash == null || window.location.hash.length <= 1) &&
					urlParams['state'] != null && this.stateArg != null && this.stateArg.action == 'open')
				{
					if (this.stateArg.ids != null)
					{
						window.location.hash = 'G' + this.stateArg.ids[0];
					}
				}
		
				if ((window.location.hash == null || window.location.hash.length <= 1) &&
					this.drive != null && this.stateArg != null && this.stateArg.action == 'create')
				{
					this.setMode(App.MODE_GOOGLE);
					this.actions.get('new').funct();
				}
				else
				{
					done();
				}
			}
		}
	}
	catch (e)
	{
		this.handleError(e);
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.showSplash = function(force)
{
	var serviceCount = this.getServiceCount(false);
	
	var showSecondDialog = mxUtils.bind(this, function()
	{
		var dlg = new SplashDialog(this);
		
		this.showDialog(dlg.container, 340, (serviceCount < 2) ? 180 : 260, true, true,
			mxUtils.bind(this, function(cancel)
			{
				// Creates a blank diagram if the dialog is closed
				if (cancel && !mxClient.IS_CHROMEAPP)
				{
					var prev = Editor.useLocalStorage;
					this.createFile(this.defaultFilename, null, null, null, null, null, null, true);
					Editor.useLocalStorage = prev;
				}
			}));
	});
	
	if (this.editor.chromeless)
	{
		this.handleError({message: mxResources.get('noFileSelected')},
			mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
		{
			this.showSplash();
		}));
	}
	else if (this.mode == null || force)
	{
		var rowLimit = (serviceCount <= 4) ? 4 : 3;
		
		var dlg = new StorageDialog(this, mxUtils.bind(this, function()
		{
			this.hideDialog();
			showSecondDialog();
		}), rowLimit);
		
		this.showDialog(dlg.container, rowLimit * 100, (serviceCount > rowLimit) ? 420 : 300, true, false);
		dlg.init();
	}
	else if (urlParams['create'] == null)
	{
		showSecondDialog();
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.addLanguageMenu = function(elt)
{
	var img = null;
	
	if (!this.isOfflineApp() || mxClient.IS_CHROMEAPP)
	{
		var langMenu = this.menus.get('language');
		
		if (langMenu != null)
		{
			img = document.createElement('div');
			img.setAttribute('title', mxResources.get('language'));
			img.className = 'geIcon geSprite geSprite-globe';
			img.style.position = 'absolute';
			img.style.cursor = 'pointer';
			img.style.bottom = '20px';
			img.style.right = '20px';
			
			mxEvent.addListener(img, 'click', mxUtils.bind(this, function(evt)
			{
				this.editor.graph.popupMenuHandler.hideMenu();
				var menu = new mxPopupMenu(this.menus.get('language').funct);
				menu.div.className += ' geMenubarMenu';
				menu.smartSeparators = true;
				menu.showDisabled = true;
				menu.autoExpand = true;
				
				// Disables autoexpand and destroys menu when hidden
				menu.hideMenu = mxUtils.bind(this, function()
				{
					mxPopupMenu.prototype.hideMenu.apply(menu, arguments);
					menu.destroy();
				});
		
				var offset = mxUtils.getOffset(img);
				menu.popup(offset.x, offset.y + img.offsetHeight, null, evt);
				
				// Allows hiding by clicking on document
				this.setCurrentMenu(menu);
			}));
		
			elt.appendChild(img);
		}
	}
	
	return img;
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.defineCustomObjects = function()
{
	if (gapi.drive.realtime != null && gapi.drive.realtime.custom != null)
	{
		gapi.drive.realtime.custom.registerType(mxRtCell, 'Cell');
		
		mxRtCell.prototype.cellId = gapi.drive.realtime.custom.collaborativeField('cellId');
		mxRtCell.prototype.type = gapi.drive.realtime.custom.collaborativeField('type');
		mxRtCell.prototype.value = gapi.drive.realtime.custom.collaborativeField('value');
		mxRtCell.prototype.xmlValue = gapi.drive.realtime.custom.collaborativeField('xmlValue');
		mxRtCell.prototype.style = gapi.drive.realtime.custom.collaborativeField('style');
		mxRtCell.prototype.geometry = gapi.drive.realtime.custom.collaborativeField('geometry');
		mxRtCell.prototype.visible = gapi.drive.realtime.custom.collaborativeField('visible');
		mxRtCell.prototype.collapsed = gapi.drive.realtime.custom.collaborativeField('collapsed');
		mxRtCell.prototype.connectable = gapi.drive.realtime.custom.collaborativeField('connectable');
		mxRtCell.prototype.parent = gapi.drive.realtime.custom.collaborativeField('parent');
		mxRtCell.prototype.children = gapi.drive.realtime.custom.collaborativeField('children');
		mxRtCell.prototype.source = gapi.drive.realtime.custom.collaborativeField('source');
		mxRtCell.prototype.target = gapi.drive.realtime.custom.collaborativeField('target');
	}
};

mxRtCell = function() {};

// Ignores rtCell property in codec and cloning
mxCodecRegistry.getCodec(mxCell).exclude.push('rtCell');
mxCell.prototype.mxTransient.push('rtCell');

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.pickFile = function(mode)
{
	mode = (mode != null) ? mode : this.mode;
	
	if (mode == App.MODE_GOOGLE)
	{
		if (this.drive != null && typeof(google) != 'undefined' && typeof(google.picker) != 'undefined')
		{
			this.drive.pickFile();
		}
		else
		{
			window.open('https://drive.google.com');
		}
	}
	else
	{
		var peer = this.getPeerForMode(mode);
		
		if (peer != null)
		{
			peer.pickFile();
		}
		else if (mode == App.MODE_DEVICE && Graph.fileSupport && !mxClient.IS_IE && !mxClient.IS_IE11)
		{
			var input = document.createElement('input');
			input.setAttribute('type', 'file');
			
			mxEvent.addListener(input, 'change', mxUtils.bind(this, function()
			{
				if (input.files != null)
				{
					this.openFiles(input.files);
				}
			}));
	
			input.click();
		}
		else
		{
			this.hideDialog();
			window.openNew = this.getCurrentFile() != null && !this.isDiagramEmpty();
			window.baseUrl = this.getUrl();
			window.openKey = 'open';
			var prevValue = Editor.useLocalStorage;
			Editor.useLocalStorage = (mode == App.MODE_BROWSER);
			this.openFile();
			
			// Installs local handler for opened files in same window
			window.openFile.setConsumer(mxUtils.bind(this, function(xml, filename)
			{
				// Replaces PNG with XML extension
				var dot = filename.substring(filename.length - 4) == '.png';
				
				if (dot > 0)
				{
					filename = filename.substring(0, filename.length - 4) + '.xml';
				}
				
				this.fileLoaded((mode == App.MODE_BROWSER) ?
						new StorageFile(this, xml, filename) :
						new LocalFile(this, xml, filename));
			}));
			
			// Extends dialog close to show splash screen
			var dlg = this.dialog;
			var dlgClose = dlg.close;
			
			this.dialog.close = mxUtils.bind(this, function(cancel)
			{
				Editor.useLocalStorage = prevValue;
				dlgClose.apply(dlg, arguments);
	
				if (this.getCurrentFile() == null)
				{
					this.showSplash();
				}
			});
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.pickLibrary = function(mode)
{
	mode = (mode != null) ? mode : this.mode;
	
	if (mode == App.MODE_GOOGLE || mode == App.MODE_DROPBOX || mode == App.MODE_ONEDRIVE || mode == App.MODE_GITHUB)
	{
		var peer = (mode == App.MODE_GOOGLE) ? this.drive :
			((mode == App.MODE_ONEDRIVE) ? this.oneDrive :
			((mode == App.MODE_GITHUB) ? this.gitHub :
			this.dropbox));
		
		if (peer != null)
		{
			peer.pickLibrary(mxUtils.bind(this, function(id, optionalFile)
			{
				if (optionalFile != null)
				{
					this.loadLibrary(optionalFile);
				}
				else
				{
					if (this.spinner.spin(document.body, mxResources.get('loading')))
					{
						peer.getLibrary(id, mxUtils.bind(this, function(file)
						{
							this.spinner.stop();
							
							try
							{
								this.loadLibrary(file);
							}
							catch (e)
							{
								this.handleError(e, mxResources.get('errorLoadingFile'));
							}
						}), mxUtils.bind(this, function(resp)
						{
							this.handleError(resp, (resp != null) ? mxResources.get('errorLoadingFile') : null);
						}));
					}
				}
			}));
		}
	}
	else if (mode == App.MODE_DEVICE && Graph.fileSupport && !mxClient.IS_IE && !mxClient.IS_IE11)
	{
		var input = document.createElement('input');
		input.setAttribute('type', 'file');
		
		mxEvent.addListener(input, 'change', mxUtils.bind(this, function()
		{
			if (input.files != null)
			{
				for (var i = 0; i < input.files.length; i++)
				{
					(mxUtils.bind(this, function(file)
					{
						var reader = new FileReader();
					
						reader.onload = mxUtils.bind(this, function(e)
						{
							try
							{
								this.loadLibrary(new LocalLibrary(this, e.target.result, file.name));
							}
							catch (e)
							{
								this.handleError(e, mxResources.get('errorLoadingFile'));
							}
						});

						reader.readAsText(file);
					}))(input.files[i]);
				}
			}
		}));

		input.click();
	}
	else
	{
		window.openNew = false;
		window.openKey = 'open';
		
		var prevValue = Editor.useLocalStorage;
		Editor.useLocalStorage = mode == App.MODE_BROWSER;
		
		// Closes dialog after open
		window.openFile = new OpenFile(mxUtils.bind(this, function(cancel)
		{
			this.hideDialog(cancel);
		}));
		
		window.openFile.setConsumer(mxUtils.bind(this, function(xml, filename)
		{
			try
			{
				this.loadLibrary((mode == App.MODE_BROWSER) ? new StorageLibrary(this, xml, filename) :
					new LocalLibrary(this, xml, filename));
			}
			catch (e)
			{
				this.handleError(e, mxResources.get('errorLoadingFile'));
			}
		}));

		// Removes openFile if dialog is closed
		this.showDialog(new OpenDialog(this).container, (Editor.useLocalStorage) ? 640 : 360,
			(Editor.useLocalStorage) ? 480 : 220, true, true, function()
		{
			Editor.useLocalStorage = prevValue;
			window.openFile = null;
		});
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.saveLibrary = function(name, images, file, mode, noSpin, noReload, fn)
{
	mode = (mode != null) ? mode : this.mode;
	noSpin = (noSpin != null) ? noSpin : false;
	noReload = (noReload != null) ? noReload : false;
	var xml = this.createLibraryDataFromImages(images);
	
	var error = mxUtils.bind(this, function(resp)
	{
		this.spinner.stop();
		
		if (fn != null)
		{
			fn();
		}
		
		this.handleError(resp, (resp != null) ? mxResources.get('errorSavingFile') : null);
	});

	// Handles special case for local libraries
	if (file == null && mode == App.MODE_DEVICE)
	{
		file = new LocalLibrary(this, xml, name);
	}
	
	if (file == null)
	{
		this.pickFolder(mode, mxUtils.bind(this, function(folderId)
		{
			if (mode == App.MODE_GOOGLE && this.drive != null && this.spinner.spin(document.body, mxResources.get('inserting')))
			{
				this.drive.insertFile(name, xml, folderId, mxUtils.bind(this, function(newFile)
				{
					this.spinner.stop();
					this.hideDialog(true);
					this.libraryLoaded(newFile, images);
				}), error, this.drive.libraryMimeType);
			}
			else if (mode == App.MODE_GITHUB && this.gitHub != null && this.spinner.spin(document.body, mxResources.get('inserting')))
			{
				this.gitHub.insertLibrary(name, xml, mxUtils.bind(this, function(newFile)
				{
					this.spinner.stop();
					this.hideDialog(true);
					this.libraryLoaded(newFile, images);
				}), error, folderId);
			}
			else if (mode == App.MODE_DROPBOX && this.dropbox != null && this.spinner.spin(document.body, mxResources.get('inserting')))
			{
				this.dropbox.insertLibrary(name, xml, mxUtils.bind(this, function(newFile)
				{
					this.spinner.stop();
					this.hideDialog(true);
					this.libraryLoaded(newFile, images);
				}), error, folderId);
			}
			else if (mode == App.MODE_ONEDRIVE && this.oneDrive != null && this.spinner.spin(document.body, mxResources.get('inserting')))
			{
				this.oneDrive.insertLibrary(name, xml, mxUtils.bind(this, function(newFile)
				{
					this.spinner.stop();
					this.hideDialog(true);
					this.libraryLoaded(newFile, images);
				}), error, folderId);
			}
			else if (mode == App.MODE_BROWSER)
			{
				var fn = mxUtils.bind(this, function()
				{
					var file = new StorageLibrary(this, xml, name);
					
					// Inserts data into local storage
					file.saveFile(name, false, mxUtils.bind(this, function()
					{
						this.hideDialog(true);
						this.libraryLoaded(file, images);
					}), error);
				});
				
				if (localStorage.getItem(name) == null)
				{
					fn();
				}
				else
				{
					this.confirm(mxResources.get('replaceIt', [name]), fn);
				}
			}
			else
			{
				this.handleError({message: mxResources.get('serviceUnavailableOrBlocked')});
			}
		}));
	}
	else if (noSpin || this.spinner.spin(document.body, mxResources.get('saving')))
	{
		file.setData(xml);
		
		var doSave = mxUtils.bind(this, function()
		{
			file.save(true, mxUtils.bind(this, function(resp)
			{
				this.spinner.stop();
				this.hideDialog(true);
				
				if (!noReload)
				{
					this.libraryLoaded(file, images);
				}
				
				if (fn != null)
				{
					fn();
				}
			}), error);
		});
		
		if (name != file.getTitle())
		{
			var oldHash = file.getHash();
			
			file.rename(name, mxUtils.bind(this, function(resp)
			{
				// Change hash in stored settings
				if (file.constructor != LocalLibrary && oldHash != file.getHash())
				{
					mxSettings.removeCustomLibrary(oldHash);
					mxSettings.addCustomLibrary(file.getHash());
				}

				// Workaround for library files changing hash so
				// the old library cannot be removed from the
				// sidebar using the updated file in libraryLoaded
				this.removeLibrarySidebar(oldHash);

				doSave();
			}), error)
		}
		else
		{
			doSave();
		}
	}
};

/**
 * Adds the label menu items to the given menu and parent.
 */
App.prototype.saveFile = function(forceDialog)
{
	var file = this.getCurrentFile();
	
	if (file != null)
	{
		// FIXME: Invoke for local files
		var done = mxUtils.bind(this, function()
		{
			this.removeDraft();
			
			// Workaround for possible status update while save as dialog is showing
			// is to show no saved status for device files
			if (file.getMode() != App.MODE_DEVICE)
			{
				this.editor.setStatus(mxUtils.htmlEntities(mxResources.get('allChangesSaved')));
			}
			else
			{
				this.editor.setStatus('');
			}
		});
		
		if (!forceDialog && file.getTitle() != null && this.mode != null)
		{
			this.save(file.getTitle(), done);
		}
		else
		{
			var filename = (file.getTitle() != null) ? file.getTitle() : this.defaultFilename;
			var allowTab = !mxClient.IS_IOS || !navigator.standalone;
			var prev = this.mode;
			
			var serviceCount = this.getServiceCount(true);
			var rowLimit = (serviceCount <= 4) ? 4 : 3;
			
			var dlg = new CreateDialog(this, filename, mxUtils.bind(this, function(name, mode)
			{
				if (name != null && name.length > 0)
				{
					if (prev == null && mode == App.MODE_DEVICE)
					{
						this.setMode(App.MODE_DEVICE);
						this.save(name, done);
					}
					else if (mode == 'download')
					{
						var tmp = new LocalFile(this, null, name);
						tmp.save();
					}
					else if (mode == '_blank')
					{
						window.openFile = new OpenFile(function()
						{
							window.openFile = null;
						});
						
						// Do not use a filename to use undefined mode
						window.openFile.setData(this.getFileData(true));
						window.open(this.getUrl(window.location.pathname));
					}
					else if (prev != mode)
					{
						this.pickFolder(mode, mxUtils.bind(this, function(folderId)
						{
							this.createFile(name, this.getFileData(/(\.xml)$/i.test(name) ||
								name.indexOf('.') < 0, /(\.svg)$/i.test(name),
								/(\.html)$/i.test(name)), null, mode, done,
								this.mode == null, folderId);
						}), mode !== App.MODE_GITHUB);
					}
					else if (mode != null)
					{
						this.save(name, done);
					}
				}
			}), mxUtils.bind(this, function()
			{
				this.hideDialog();
			}), mxResources.get('saveAs'), mxResources.get('download'), null, null, allowTab,
				(this.isOffline()) ? null :
				'https://desk.draw.io/support/solutions/articles/16000042485',
				true, rowLimit);
			this.showDialog(dlg.container, 460, (serviceCount > rowLimit) ? 390 : 270, true, true);
			dlg.init();
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
EditorUi.prototype.loadTemplate = function(url, onload, onerror)
{
	var realUrl = url;
	
	if (!this.isCorsEnabledForUrl(realUrl))
	{
		realUrl = PROXY_URL + '?url=' + encodeURIComponent(url);
	}
	
	this.loadUrl(realUrl, mxUtils.bind(this, function(data)
	{
		if (!this.isOffline() && new XMLHttpRequest().upload && this.isRemoteFileFormat(data, url))
		{
			// Asynchronous parsing via server
			this.parseFile(new Blob([data], {type: 'application/octet-stream'}), mxUtils.bind(this, function(xhr)
			{
				if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status <= 299 &&
					xhr.responseText.substring(0, 13) == '<mxGraphModel')
				{
					onload(xhr.responseText);
				}
			}), url);
		}
		else
		{
			if (/(\.png)($|\?)/i.test(url))
			{
				data = this.extractGraphModelFromPng(data);
			}
			
			onload(data);
		}
	}), onerror, /(\.png)($|\?)/i.test(url));
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.getPeerForMode = function(mode)
{
	if (mode == App.MODE_GOOGLE)
	{
		return this.drive;
	}
	else if (mode == App.MODE_GITHUB)
	{
		return this.gitHub;
	}
	else if (mode == App.MODE_DROPBOX)
	{
		return this.dropbox;
	}
	else if (mode == App.MODE_ONEDRIVE)
	{
		return this.oneDrive;
	}
	else
	{
		return null;
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.createFile = function(title, data, libs, mode, done, replace, folderId, tempFile)
{
	mode = (tempFile) ? null : ((mode != null) ? mode : this.mode);

	if (title != null && this.spinner.spin(document.body, mxResources.get('inserting')))
	{
		data = (data != null) ? data : this.emptyDiagramXml;
		
		var complete = mxUtils.bind(this, function()
		{
			this.spinner.stop();
		});
		
		var error = mxUtils.bind(this, function(resp)
		{
			complete();
			
			if (resp == null && this.getCurrentFile() == null && this.dialog == null)
			{
				this.showSplash();
			}
			else if (resp != null)
			{
				this.handleError(resp);
			}
		});
		
		if (mode == App.MODE_GOOGLE && this.drive != null)
		{
			folderId = (this.stateArg != null) ? this.stateArg.folderId : folderId;

			this.drive.insertFile(title, data, folderId, mxUtils.bind(this, function(file)
			{
				complete();
				this.fileCreated(file, libs, replace, done);
			}), error);
		}
		else if (mode == App.MODE_GITHUB && this.gitHub != null)
		{
			this.pickFolder(mode, mxUtils.bind(this, function(folderId)
			{
				this.gitHub.insertFile(title, data, mxUtils.bind(this, function(file)
				{
					complete();
					this.fileCreated(file, libs, replace, done);
				}), error, false, folderId);
			}));
		}
		else if (mode == App.MODE_DROPBOX && this.dropbox != null)
		{
			this.dropbox.insertFile(title, data, mxUtils.bind(this, function(file)
			{
				complete();
				this.fileCreated(file, libs, replace, done);
			}), error);
		}
		else if (mode == App.MODE_ONEDRIVE && this.oneDrive != null)
		{
			this.oneDrive.insertFile(title, data, mxUtils.bind(this, function(file)
			{
				complete();
				this.fileCreated(file, libs, replace, done);
			}), error, false, folderId);
		}
		else if (mode == App.MODE_BROWSER)
		{
			complete();
			
			var fn = mxUtils.bind(this, function()
			{
				var file = new StorageFile(this, data, title);
				
				// Inserts data into local storage
				file.saveFile(title, false, mxUtils.bind(this, function()
				{
					this.fileCreated(file, libs, replace, done);
				}), error);
			});
			
			if (localStorage.getItem(title) == null)
			{
				fn();
			}
			else
			{
				this.confirm(mxResources.get('replaceIt', [title]), fn, mxUtils.bind(this, function()
				{
					if (this.getCurrentFile() == null && this.dialog == null)
					{
						this.showSplash();
					}
				}));
			}
		}
		else
		{
			complete();
			this.fileCreated(new LocalFile(this, data, title, mode == null), libs, replace, done);
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.fileCreated = function(file, libs, replace, done)
{
	var url = window.location.pathname;
	
	if (libs != null && libs.length > 0)
	{
		url += '?libs=' + libs;
	}
	
	url = this.getUrl(url);

	// Always opens a new tab for local files to avoid losing changes
	if (file.getMode() != App.MODE_DEVICE)
	{
		url += '#' + file.getHash();
	}
	
	// Makes sure to produce consistent output with finalized files via createFileData this needs
	// to save the file again since it needs the newly created file ID for redirecting in HTML
	if (this.spinner.spin(document.body, mxResources.get('inserting')))
	{
		var data = file.getData();
		var dataNode = (data.length > 0) ? this.editor.extractGraphModel(
			mxUtils.parseXml(data).documentElement, true) : null;
		var redirect = window.location.protocol + '//' + window.location.hostname + url;
		var graph = null;
		
		// TODO: This code and comment needs checking (name is undefined and condition is inversed)
		// Handles special case where SVG files need a rendered graph to be saved
//		if (!/\.svg$/i.test(name) && dataNode != null)
//		{
//			graph = this.createTemporaryGraph(this.editor.graph.getStylesheet());
//
//			document.body.appendChild(graph.container);
//			node = dataNode;
//			
//			if (node != null)
//			{
//				var diagramNode = null;
//				
//				if (node.nodeName == 'diagram')
//				{
//					diagramNode = node;
//				}
//				else if (node.nodeName == 'mxfile')
//				{
//					var diagrams = node.getElementsByTagName('diagram');
//
//					if (diagrams.length > 0)
//					{
//						diagramNode = diagrams[0];
//						var graphGetGlobalVariable = graph.getGlobalVariable;
//						
//						graph.getGlobalVariable = function(name)
//						{
//							if (name == 'page')
//							{
//								return diagramNode.getAttribute('name') || mxResources.get('pageWithNumber', [1])
//							}
//							else if (name == 'pagenumber')
//							{
//								return 1;
//							}
//							
//							return graphGetGlobalVariable.apply(this, arguments);
//						};
//					}
//				}
//				
//				if (diagramNode != null)
//				{
//					var tmp = graph.decompress(mxUtils.getTextContent(diagramNode));
//					
//					if (tmp != null && tmp.length > 0)
//					{
//						node = mxUtils.parseXml(tmp).documentElement;
//					}
//				}
//			}
//			
//			// Hack to decode XML into temp graph via editor
//			var prev = this.editor.graph;
//			
//			try
//			{
//				this.editor.graph = graph;
//				this.editor.setGraphXml(node);	
//			}
//			catch (e)
//			{
//				// ignore
//			}
//			finally
//			{
//				this.editor.graph = prev;
//			}
//		}
		
		file.setData(this.createFileData(dataNode, graph, file, redirect));

		if (graph != null)
		{
			graph.container.parentNode.removeChild(graph.container);
		}

		var complete = mxUtils.bind(this, function()
		{
			this.spinner.stop();
		});
		
		var fn = mxUtils.bind(this, function()
		{
			complete();
			
			var currentFile = this.getCurrentFile();
			
			if (replace == null && currentFile != null)
			{
				replace = !currentFile.isModified() && currentFile.getMode() == null;
			}
			
			var fn3 = mxUtils.bind(this, function()
			{
				window.openFile = null;
				this.fileLoaded(file);
				
				if (replace)
				{
					this.editor.setStatus(mxUtils.htmlEntities(mxResources.get('allChangesSaved')));
				}
				
				if (libs != null)
				{
					this.sidebar.showEntries(libs);
				}
			});

			var fn2 = mxUtils.bind(this, function()
			{
				if (replace || currentFile == null || !currentFile.isModified())
				{
					fn3();
				}
				else
				{
					this.confirm(mxResources.get('allChangesLost'), null, fn3,
						mxResources.get('cancel'), mxResources.get('discardChanges'));
				}
			});

			if (done != null)
			{
				done();
			}
			
			// Opens the file in a new window
			if (replace != null && !replace)
			{
				// Opens local file in a new window
				if (file.constructor == LocalFile)
				{
					window.openFile = new OpenFile(function()
					{
						window.openFile = null;
					});
						
					window.openFile.setData(file.getData(), file.getTitle(), file.getMode() == null);
				}

				if (done != null)
				{
					done();
				}
				
				window.openWindow(url, null, fn2);
			}
			else
			{
				fn2();
			}
		});
		
		// Updates data in memory for local files and save is implicit
		// via start of realtime for DriveFiles
		if (file.constructor == LocalFile || file.constructor == DriveFile)
		{
			fn();
		}
		else
		{
			file.saveFile(file.getTitle(), false, mxUtils.bind(this, function()
			{
				fn();
			}), mxUtils.bind(this, function(resp)
			{
				complete();
				this.handleError(resp);
			}));
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.loadFile = function(id, sameWindow, file)
{
	this.hideDialog();
	
	var fn2 = mxUtils.bind(this, function()
	{
		if (this.spinner.spin(document.body, mxResources.get('loading')))
		{
			// Handles files from localStorage
			if (id.charAt(0) == 'L')
			{
				this.spinner.stop();

				if (!isLocalStorage)
				{
					this.handleError({message: mxResources.get('serviceUnavailableOrBlocked')}, mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
					{
						var tempFile = this.getCurrentFile();
						window.location.hash = (tempFile != null) ? tempFile.getHash() : '';
					}));
				}
				else
				{
					try
					{
						id = decodeURIComponent(id.substring(1));
						var data = localStorage.getItem(id);
						
						if (data != null)
						{
							this.fileLoaded(new StorageFile(this, data, id));
						}
						else
						{
							throw {message: mxResources.get('fileNotFound')};
						}
					}
					catch (e)
					{
						this.handleError(e, mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
						{
							var tempFile = this.getCurrentFile();
							window.location.hash = (tempFile != null) ? tempFile.getHash() : '';
						}));
					}
				}
			}
			else if (file != null)
			{
				// File already loaded
				this.spinner.stop();
				this.fileLoaded(file);
			}
			else if (id.charAt(0) == 'R')
			{
				// Raw file encoded into URL
				this.spinner.stop();
				var data = decodeURIComponent(id.substring(1));
				
				if (data.charAt(0) != '<')
				{
					data = this.editor.graph.decompress(data);
				}
				
				var tempFile = new LocalFile(this, data, (urlParams['title'] != null) ?
					decodeURIComponent(urlParams['title']) : this.defaultFilename, true);
				tempFile.getHash = function()
				{
					return id;
				};
				this.fileLoaded(tempFile);
			}
			else if (id.charAt(0) == 'U')
			{
				var url = decodeURIComponent(id.substring(1));
				
				this.loadTemplate(url, mxUtils.bind(this, function(text)
				{
					this.spinner.stop();
					
					if (text != null && text.length > 0)
					{
						var filename = this.defaultFilename;
						
						// Tries to find name from URL with valid extensions
						if (urlParams['title'] == null && urlParams['notitle'] != '1')
						{
							var tmp = url;
							var dot = url.lastIndexOf('.');
							var slash = tmp.lastIndexOf('/');
							
							if (dot > slash && slash > 0)
							{
								tmp = tmp.substring(slash + 1, dot);
								var ext = url.substring(dot);
								
								if (ext == '.png')
								{
									ext = '.xml';
								}

								if (ext === '.svg' || ext === '.xml' || ext === '.html')
								{
									filename = tmp + ext;
								}
							}
						}
						
						var tempFile = new LocalFile(this, text, (urlParams['title'] != null) ?
							decodeURIComponent(urlParams['title']) : filename, true);
						tempFile.getHash = function()
						{
							return id;
						};
						
						if (!this.fileLoaded(tempFile))
						{
							// Fallback for non-public Google Drive diagrams
							if (url.substring(0, 31) == 'https://drive.google.com/uc?id=' &&
								(this.drive != null || typeof window.DriveClient === 'function'))
							{
								this.hideDialog();
								
								var fallback = mxUtils.bind(this, function()
								{
									if (this.drive != null)
									{
										this.spinner.stop();
										this.loadFile('G' + url.substring(31, url.lastIndexOf('&')), sameWindow);
										
										return true;
									}
									else
									{
										return false;
									}
								});
								
								if (!fallback() && this.spinner.spin(document.body, mxResources.get('loading')))
								{
									this.addListener('clientLoaded', fallback);
								}
							}
						}
					}
				}), mxUtils.bind(this, function()
				{
					this.spinner.stop();
					this.handleError({message: mxResources.get('fileNotFound')}, mxResources.get('errorLoadingFile'));
				}));
			}
			else
			{
				// Google Drive files are handled as default file types
				var peer = null;
				
				if (id.charAt(0) == 'G')
				{
					peer = this.drive;
				}
				else if (id.charAt(0) == 'D')
				{
					peer = this.dropbox;
				}
				else if (id.charAt(0) == 'W')
				{
					peer = this.oneDrive;
				}
				else if (id.charAt(0) == 'H')
				{
					peer = this.gitHub;
				}
				
				if (peer == null)
				{
					this.handleError({message: mxResources.get('serviceUnavailableOrBlocked')}, mxResources.get('errorLoadingFile'), mxUtils.bind(this, function()
					{
						var file = this.getCurrentFile();
						window.location.hash = (file != null) ? file.getHash() : '';
					}));
				}
				else
				{
					id = decodeURIComponent(id.substring(1));
					
					peer.getFile(id, mxUtils.bind(this, function(file)
					{
						this.spinner.stop();
						this.fileLoaded(file);
					}), mxUtils.bind(this, function(resp)
					{
						// Makes sure the file does not save the invalid UI model and overwrites anything important
						if (window.console != null && resp != null)
						{
							console.log('error in loadFile:', id, resp);
						}
						
						this.handleError(resp, (resp != null) ? mxResources.get('errorLoadingFile') : null, mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();
							
							if (file == null)
							{
								window.location.hash = '';
								this.showSplash();
							}
							else
							{
								window.location.hash = file.getHash();	
							}
						}));
					}));
				}
			}
		}
	});
	
	var currentFile = this.getCurrentFile();
	
	var fn = mxUtils.bind(this, function()
	{
		if (currentFile == null || !currentFile.isModified())
		{
			fn2();
		}
		else
		{
			this.confirm(mxResources.get('allChangesLost'), null, fn2,
				mxResources.get('cancel'), mxResources.get('discardChanges'));
		}
	});
	
	if (id == null || id.length == 0)
	{
		this.editor.setStatus('');
		this.fileLoaded(null);
	}
	else if (currentFile != null && currentFile.isModified() && !sameWindow)
	{
		window.openWindow(this.getUrl() + '#' + id, null, fn);
	}
	else
	{
		fn();
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.getLibraryStorageHint = function(file)
{
	var tip = file.getTitle();
	
	if (file.constructor != LocalLibrary)
	{
		tip += '\n' + file.getHash();
	}
	
	if (file.constructor == DriveLibrary)
	{
		tip += ' (' + mxResources.get('googleDrive') + ')';
	}
	else if (file.constructor == GitHubLibrary)
	{
		tip += ' (' + mxResources.get('github') + ')';
	}
	else if (file.constructor == DropboxLibrary)
	{
		tip += ' (' + mxResources.get('dropbox') + ')';
	}
	else if (file.constructor == OneDriveLibrary)
	{
		tip += ' (' + mxResources.get('oneDrive') + ')';
	}
	else if (file.constructor == StorageLibrary)
	{
		tip += ' (' + mxResources.get('browser') + ')';
	}
	else if (file.constructor == LocalLibrary)
	{
		tip += ' (' + mxResources.get('device') + ')';
	}

	return tip;
};

/**
 * Updates action states depending on the selection.
 */
App.prototype.restoreLibraries = function()
{
	if (this.sidebar != null)
	{
		if (this.pendingLibraries == null)
		{
			this.pendingLibraries = new Object();
		}
		
		// Ignores this library next time
		var ignore = mxUtils.bind(this, function(id)
		{
			mxSettings.removeCustomLibrary(id);	
			delete this.pendingLibraries[id];
		});
				
		var load = mxUtils.bind(this, function(libs)
		{
			if (libs != null)
			{
				for (var i = 0; i < libs.length; i++)
				{
					var name = encodeURIComponent(decodeURIComponent(libs[i]));
					
					(mxUtils.bind(this, function(id)
					{
						if (id != null && id.length > 0 && this.pendingLibraries[id] == null &&
							this.sidebar.palettes[id] == null)
						{
							this.pendingLibraries[id] = true;
							var service = id.substring(0, 1);
							
							if (service == 'L')
							{
								if (isLocalStorage || mxClient.IS_CHROMEAPP)
								{
									try
									{
										var name = decodeURIComponent(id.substring(1));
										var xml = this.getLocalData(name, mxUtils.bind(this, function(xml)
										{
											if (name == '.scratchpad' && xml == null)
											{
												xml = this.emptyLibraryXml;
											}
											
											if (xml != null)
											{
												this.loadLibrary(new StorageLibrary(this, xml, name));
											}
											else
											{
												ignore(id);
											}
										}));
									}
									catch (e)
									{
										ignore(id);
									}
								}
							}
							else if (service == 'U')
							{
								var url = decodeURIComponent(id.substring(1));
								
								if (!this.isOffline())
								{
									var realUrl = url;
									
									if (!this.isCorsEnabledForUrl(realUrl))
									{
										realUrl = PROXY_URL + '?url=' + encodeURIComponent(url);
									}
									
									// Uses proxy to avoid CORS issues
									mxUtils.get(realUrl, mxUtils.bind(this, function(req)
									{
										if (req.getStatus() >= 200 && req.getStatus() <= 299)
										{
											try
											{
												this.loadLibrary(new UrlLibrary(this, req.getText(), url));
												delete this.pendingLibraries[id];
											}
											catch (e)
											{
												ignore(id);
											}
										}
										else
										{
											ignore(id);
										}
									}), function()
									{
										ignore(id);
									});
								}
							}
							else
							{
								var peer = null;
								
								if (service == 'G')
								{
									if (this.drive != null && this.drive.user != null)
									{
										peer = this.drive;
									}
								}
								else if (service == 'H')
								{
									if (this.gitHub != null && this.gitHub.getUser() != null)
									{
										peer = this.gitHub;
									}
								}

								else if (service == 'D')
								{
									if (this.dropbox != null && this.dropbox.getUser() != null)
									{
										peer = this.dropbox;
									}
								}
								else if (service == 'W')
								{
									if (this.oneDrive != null && this.oneDrive.getUser() != null)
									{
										peer = this.oneDrive;
									}
								}
								
								if (peer != null)
								{
									peer.getLibrary(decodeURIComponent(id.substring(1)), mxUtils.bind(this, function(file)
									{
										try
										{
											this.loadLibrary(file);
											delete this.pendingLibraries[id];
										}
										catch (e)
										{
											ignore(id);
										}
									}), function(resp)
									{
										ignore(id);
									});
								}
								else
								{
									delete this.pendingLibraries[id];
								}
							}
						}
					}))(name);
				}
			}
		});
		
		load(mxSettings.getCustomLibraries());
		load((urlParams['clibs'] || '').split(';'));
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.updateButtonContainer = function()
{
	if (this.buttonContainer != null)
	{
		var file = this.getCurrentFile();
		
		if (file != null && file.constructor == DriveFile)
		{
			// Adds Share button
			if (this.shareButton == null)
			{
				this.shareButton = document.createElement('div');
				this.shareButton.className = 'geBtn gePrimaryBtn';
				this.shareButton.style.display = 'inline-block';
				this.shareButton.style.padding = '0 10px 0 10px';
				this.shareButton.style.marginTop = '-4px';
				this.shareButton.style.height = '28px';
				this.shareButton.style.lineHeight = '28px';
				this.shareButton.style.minWidth = '0px';
				this.shareButton.style.cssFloat = 'right';
				
				var icon = document.createElement('img');
				icon.setAttribute('src', this.shareImage);
				icon.setAttribute('align', 'absmiddle');
				icon.style.marginRight = '4px';
				icon.style.marginTop = '-3px';
				this.shareButton.appendChild(icon);
				
				mxUtils.write(this.shareButton, mxResources.get('share'));
				
				mxEvent.addListener(this.shareButton, 'click', mxUtils.bind(this, function()
				{
					this.actions.get('share').funct();
				}));
				
				this.buttonContainer.appendChild(this.shareButton);
			} 
		}
		else if (this.shareButton != null)
		{
			this.shareButton.parentNode.removeChild(this.shareButton);
			this.shareButton = null;
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.save = function(name, done)
{
	var file = this.getCurrentFile();
	var msg = mxResources.get('saving');
	
	if (file != null && file.constructor == DriveFile)
	{
		msg = mxResources.get('createRevision');
	}
	
	if (file != null && this.spinner.spin(document.body, msg))
	{
		this.editor.setStatus('');
		
		if (this.editor.graph.isEditing())
		{
			this.editor.graph.stopEditing();
		}
		
		var success = mxUtils.bind(this, function(resp)
		{
			this.spinner.stop();
			
			if (this.getCurrentFile() == file)
			{
				if (file.isModified())
				{
					if (!file.isAutosave())
					{
						file.addUnsavedStatus();
					}
				}
				else
				{
					this.editor.setStatus(mxUtils.htmlEntities(mxResources.get('allChangesSaved')));
				}
			}
			
			if (done != null)
			{
				done();
			}
		});
		
		var error = mxUtils.bind(this, function(resp)
		{
			// Spinner is paused and resumed in handleError
			this.handleError(resp, (resp != null) ? mxResources.get('errorSavingFile') : null);
		});
		
		if (name == file.getTitle())
		{
			file.save(true, success, error);
		}
		else
		{
			file.saveAs(name, success, error)
		}
	}
};

/**
 * Invokes callback with null if mode does not support folder or not null
 * if a valid folder was chosen for a mode that supports it. No callback
 * is made if no folder was chosen for a mode that supports it.
 */
App.prototype.pickFolder = function(mode, fn, enabled)
{
	enabled = (enabled != null) ? enabled : true;
	var resume = this.spinner.pause();
	
	if (enabled && mode == App.MODE_GOOGLE && this.drive != null)
	{
		// Shows a save dialog
		this.drive.pickFolder(mxUtils.bind(this, function(evt)
		{
			resume();
			
			if (evt.action == google.picker.Action.PICKED)
			{
				var folderId = null;
				
				if (evt.docs != null && evt.docs.length > 0 && evt.docs[0].type == 'folder')
				{
					folderId = evt.docs[0].id;
				}
				
				fn(folderId);
			}
		}));
	}
	else if (enabled && mode == App.MODE_ONEDRIVE && this.oneDrive != null)
	{
		this.oneDrive.pickFolder(mxUtils.bind(this, function(files)
		{
			var folderId = null;
			resume();
			
			if (files != null && files.value != null && files.value.length > 0)
			{
				folderId = files.value[0].id;
        		fn(folderId);
			}
		}));
	}
	else if (enabled && mode == App.MODE_GITHUB && this.gitHub != null)
	{
		this.gitHub.pickFolder(mxUtils.bind(this, function(folderPath)
		{
			resume();
			fn(folderPath);
		}));
	}
	else
	{
		EditorUi.prototype.pickFolder.apply(this, arguments);
	}
};

/**
 * 
 */
App.prototype.exportFile = function(data, filename, mimeType, base64Encoded, mode, folderId)
{
	if (mode == App.MODE_DROPBOX)
	{
		if (this.dropbox != null && this.spinner.spin(document.body, mxResources.get('saving')))
		{
			// LATER: Add folder picker
			this.dropbox.insertFile(filename, (base64Encoded) ? this.base64ToBlob(data, mimeType) :
				data, mxUtils.bind(this, function()
			{
				this.spinner.stop();
			}), mxUtils.bind(this, function(resp)
			{
				this.spinner.stop();
				this.handleError(resp);
			}));
		}
	}
	else if (mode == App.MODE_GOOGLE)
	{
		if (this.drive != null && this.spinner.spin(document.body, mxResources.get('saving')))
		{
			this.drive.insertFile(filename, data, folderId, mxUtils.bind(this, function(resp)
			{
				// TODO: Add callback with url param for clickable status message
				// "File exported. Click here to open folder."
//				this.editor.setStatus('<div class="geStatusMessage" style="cursor:pointer;">' +
//					mxResources.get('saved') + '</div>');
//				
//				// Installs click handler for opening
//				if (this.statusContainer != null)
//				{
//					var links = this.statusContainer.getElementsByTagName('div');
//					
//					if (links.length > 0)
//					{
//						mxEvent.addListener(links[0], 'click', mxUtils.bind(this, function()
//						{
//							if (resp != null && resp.parents != null && resp.parents.length > 0)
//							{
//								var id = resp.parents[0].id;
//								
//								if (id != null)
//								{
//									window.open('https://drive.google.com/drive/folders/' + id);
//								}
//							}
//						}));
//					}
//				}
					
				this.spinner.stop();
			}), mxUtils.bind(this, function(resp)
			{
				this.spinner.stop();
				this.handleError(resp);
			}), mimeType, base64Encoded, false);
		}
	}
	else if (mode == App.MODE_ONEDRIVE)
	{
		if (this.oneDrive != null && this.spinner.spin(document.body, mxResources.get('saving')))
		{
			// KNOWN: OneDrive does not show .svg extension
			this.oneDrive.insertFile(filename, (base64Encoded) ? this.base64ToBlob(data, mimeType) :
				data, mxUtils.bind(this, function()
			{
				this.spinner.stop();
			}), mxUtils.bind(this, function(resp)
			{
				this.spinner.stop();
				this.handleError(resp);
			}), false, folderId);
		}
	}
	else if (mode == App.MODE_GITHUB)
	{
		if (this.gitHub != null && this.spinner.spin(document.body, mxResources.get('saving')))
		{
			// Must insert file as library to force the file to be written
			this.gitHub.insertFile(filename, data, mxUtils.bind(this, function()
			{
				this.spinner.stop();
			}), mxUtils.bind(this, function(resp)
			{
				this.spinner.stop();
				this.handleError(resp);
			}), true, folderId, base64Encoded);
		}
	}
	else if (mode == App.MODE_BROWSER)
	{
		var fn = mxUtils.bind(this, function()
		{
			localStorage.setItem(filename, data);
		});
		
		if (localStorage.getItem(filename) == null)
		{
			fn();
		}
		else
		{
			this.confirm(mxResources.get('replaceIt', [filename]), fn);
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.descriptorChanged = function()
{
	var file = this.getCurrentFile();
	
	if (file != null)
	{
		if (this.fname != null)
		{
			this.fnameWrapper.style.display = 'block';
			this.fname.innerHTML = '';
			var filename = (file.getTitle() != null) ? file.getTitle() : this.defaultFilename;
			mxUtils.write(this.fname, filename);
			this.fname.setAttribute('title', filename + ' - ' + mxResources.get('rename'));
		}
		
		this.editor.graph.setEnabled(file.isEditable());
		
		// Ignores title and hash for revisions
		if (urlParams['rev'] == null)
		{
			this.updateDocumentTitle();
			
			var newHash = file.getHash();
			
			if (newHash.length > 0)
			{
				window.location.hash = newHash;
			}
			else if (window.location.hash.length > 0)
			{
				window.location.hash = '';
			}
		}
	}
};

/**
 * Translates this point by the given vector.
 * 
 * @param {number} dx X-coordinate of the translation.
 * @param {number} dy Y-coordinate of the translation.
 */
App.prototype.toggleChat = function()
{
	var file = this.getCurrentFile();
	
	if (file != null)
	{
		if (file.chatWindow == null)
		{
			var cwLeft = document.body.offsetWidth - 300;
			file.chatWindow = new ChatWindow(this, mxResources.get('chatWindowTitle'), document.getElementById('geChat'), cwLeft , 80, 250, 350, file.realtime);
			file.chatWindow.window.setVisible(false);
		}
		
		file.chatWindow.window.setVisible(!file.chatWindow.window.isVisible());
	}
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
App.prototype.showAuthDialog = function(peer, showRememberOption, fn, closeFn)
{
	var resume = this.spinner.pause();
	
	this.showDialog(new AuthDialog(this, peer, showRememberOption, mxUtils.bind(this, function(remember)
	{
		try
		{
			if (fn != null)
			{
				fn(remember, mxUtils.bind(this, function()
				{
					this.hideDialog();
					resume();
				}));
			}
		}
		catch (e)
		{
			this.editor.setStatus(mxUtils.htmlEntities(e.message));
		}
	})).container, 300, (showRememberOption) ? 180 : 140, true, true, mxUtils.bind(this, function(cancel)
	{
		if (closeFn != null)
		{
			closeFn();
		}
		
		if (cancel && this.getCurrentFile() == null && this.dialog == null)
		{
			this.showSplash();
		}
	}));
};

/**
 * Checks if the client is authorized and calls the next step. The optional
 * readXml argument is used for import. Default is false. The optional
 * readLibrary argument is used for reading libraries. Default is false.
 */
App.prototype.convertFile = function(url, filename, mimeType, extension, success, error)
{
	var name = filename;
	
	// SVG file extensions are valid and needed for image import
	if (!/\.svg$/i.test(name))
	{
		name = name.substring(0, filename.lastIndexOf('.')) + extension;
	}
	
	var gitHubUrl = false;
	
	if (this.gitHub != null && url.substring(0, this.gitHub.baseUrl.length) == this.gitHub.baseUrl)
	{
		gitHubUrl = true;
	}
	
	// Workaround for wrong binary response with VSDX files
	if (/\.vsdx$/i.test(filename) && Graph.fileSupport && new XMLHttpRequest().upload &&
		typeof new XMLHttpRequest().responseType === 'string')
	{
		var req = new XMLHttpRequest();
		req.open('GET', url, true);
		
		if (!gitHubUrl)
		{
			req.responseType = 'blob';
		}

		req.onload = mxUtils.bind(this, function()
		{
			var blob = null;
			
			if (gitHubUrl)
			{
				var file = JSON.parse(req.responseText);
				blob = this.base64ToBlob(file.content, 'application/octet-stream');
			}
			else
			{
				blob = new Blob([req.response], {type: 'application/octet-stream'});
			}

			this.parseFile(blob, mxUtils.bind(this, function(xhr)
			{
				if (xhr.readyState == 4)
				{
					if (xhr.status >= 200 && xhr.status <= 299)
					{
						success(new LocalFile(this, xhr.responseText, name, true));
					}
					else if (error != null)
					{
						error({message: mxResources.get('errorLoadingFile')});
					}
				}
			}), filename);
		});

		req.send();
	}
	else
	{
		var handleData = mxUtils.bind(this, function(data)
		{
			try
			{
				if (/\.png$/i.test(filename))
				{
					temp = this.extractGraphModelFromPng(data);
					
					if (temp != null)
					{
						success(new LocalFile(this, temp, name, true));
					}
					else
					{
						success(new LocalFile(this, data, filename, true));
					}
				}
				else if (Graph.fileSupport && new XMLHttpRequest().upload && this.isRemoteFileFormat(data, url))
				{
					this.parseFile(new Blob([data], {type: 'application/octet-stream'}), mxUtils.bind(this, function(xhr)
					{
						if (xhr.readyState == 4)
						{
							if (xhr.status >= 200 && xhr.status <= 299)
							{
								success(new LocalFile(this, xhr.responseText, name, true));
							}
							else if (error != null)
							{
								error({message: mxResources.get('errorLoadingFile')});
							}
						}
					}), filename);
				}
				else
				{
					success(new LocalFile(this, data, name, true));
				}
			}
			catch (e)
			{
				if (error != null)
				{
					error(e);
				}
			}
		});

		var binary = /\.png$/i.test(filename) || /\.jpe?g$/i.test(filename) || (mimeType != null &&
			mimeType.substring(0, 6) == 'image/');
		
		// NOTE: Cannot force non-binary request via loadUrl so needs separate
		// code as decoding twice on content with binary data did not work
		if (gitHubUrl)
		{
			mxUtils.get(url, mxUtils.bind(this, function(req)
			{
				if (req.getStatus() >= 200 && req.getStatus() <= 299)
				{
			    	if (success != null)
			    	{
				    	var file = JSON.parse(req.getText());
				    	var data = file.content;
				    	
				    	if (file.encoding === 'base64')
				    	{
				    		if (/\.png$/i.test(filename))
					    	{
					    		data = 'data:image/png;base64,' + data;	
					    	}
					    	else
					    	{
					    		// Workaround for character encoding issues in IE10/11
					    		data = (window.atob && !mxClient.IS_IE && !mxClient.IS_IE11) ? atob(data) : Base64.decode(data);
					    	}
				    	}
				    	
				    	handleData(data);
			    	}
				}
				else if (error != null)
		    	{
		    		error({code: App.ERROR_UNKNOWN});
		    	}
			}), function()
			{
		    	if (error != null)
		    	{
		    		error({code: App.ERROR_UNKNOWN});
		    	}
			}, false, this.timeout, function()
		    {
		    	if (error != null)
				{
					error({code: App.ERROR_TIMEOUT, retry: fn});
				}
		    });
		}
		else
		{
			this.loadUrl(url, handleData, error, binary);
		}
	}
};

/**
 * Checks if the client is authorized and calls the next step.
 */
App.prototype.loadUrl = function(url, success, error, forceBinary, retry)
{
	try
	{
		var binary = forceBinary || /(\.png)($|\?)/i.test(url) ||
			/(\.jpe?g)($|\?)/i.test(url) || /(\.gif)($|\?)/i.test(url);
		retry = (retry != null) ? retry : true;
		
		var fn = mxUtils.bind(this, function()
		{
			mxUtils.get(url, mxUtils.bind(this, function(req)
			{
				if (req.getStatus() >= 200 && req.getStatus() <= 299)
				{
			    	if (success != null)
			    	{
				    	var data = req.getText();
				    	
			    		// Returns PNG as base64 encoded data URI
						if (binary)
						{
							// NOTE: This requires BinaryToArray VB script in the page
							if ((document.documentMode == 9 || document.documentMode == 10) &&
								typeof window.mxUtilsBinaryToArray !== 'undefined')
							{
								var bin = mxUtilsBinaryToArray(req.request.responseBody).toArray();
								var tmp = new Array(bin.length);
								
								for (var i = 0; i < bin.length; i++)
								{
									tmp[i] = String.fromCharCode(bin[i]);
								}
								
								data = tmp.join('');
							}
							
							// LATER: Could be JPG but modern browsers
							// ignore the mime type in the data URI
							data = 'data:image/png;base64,' + this.base64Encode(data);
						}
			    		
			    		success(data);
			    	}
				}
				else if (error != null)
		    	{
		    		error({code: App.ERROR_UNKNOWN});
		    	}
			}), function()
			{
		    	if (error != null)
		    	{
		    		error({code: App.ERROR_UNKNOWN});
		    	}
			}, binary, this.timeout, function()
		    {
		    	if (retry && error != null)
				{
					error({code: App.ERROR_TIMEOUT, retry: fn});
				}
		    });
		});
		
		fn();
	}
	catch (e)
	{
		if (error != null)
		{
			error(e);
		}
	}
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */ 
App.prototype.updateHeader = function()
{
	if (this.menubar != null)
	{
		this.appIcon = document.createElement('a');
		this.appIcon.style.display = 'block';
		this.appIcon.style.position = 'absolute';
		this.appIcon.style.width = '40px';
		this.appIcon.style.backgroundColor = '#f18808';
		this.appIcon.style.height = this.menubarHeight + 'px';
		
		mxEvent.disableContextMenu(this.appIcon);
		
		mxEvent.addListener(this.appIcon, 'click', mxUtils.bind(this, function(evt)
		{
			this.appIconClicked(evt);
		}));
		
		// LATER: Use Alpha image loader in IE6
		// NOTE: This uses the diagram bit of the old logo as it looks better in this case
		//this.appIcon.style.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=' + IMAGE_PATH + '/logo-white.png,sizingMethod=\'scale\')';
		var logo = (!mxClient.IS_SVG) ? 'url(\'' + IMAGE_PATH + '/logo-white.png\')' :
			'url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzA2LjE4NSAxMjAuMjk2IgogICB2aWV3Qm94PSIyNCAyNiA2OCA2OCIKICAgeT0iMHB4IgogICB4PSIwcHgiCiAgIHZlcnNpb249IjEuMSI+CiAgIAkgPGc+PGxpbmUKICAgICAgIHkyPSI3Mi4zOTQiCiAgICAgICB4Mj0iNDEuMDYxIgogICAgICAgeTE9IjQzLjM4NCIKICAgICAgIHgxPSI1OC4wNjkiCiAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICBzdHJva2Utd2lkdGg9IjMuNTUyOCIKICAgICAgIHN0cm9rZT0iI0ZGRkZGRiIKICAgICAgIGZpbGw9Im5vbmUiIC8+PGxpbmUKICAgICAgIHkyPSI3Mi4zOTQiCiAgICAgICB4Mj0iNzUuMDc2IgogICAgICAgeTE9IjQzLjM4NCIKICAgICAgIHgxPSI1OC4wNjgiCiAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICBzdHJva2Utd2lkdGg9IjMuNTAwOCIKICAgICAgIHN0cm9rZT0iI0ZGRkZGRiIKICAgICAgIGZpbGw9Im5vbmUiIC8+PGc+PHBhdGgKICAgICAgICAgZD0iTTUyLjc3Myw3Ny4wODRjMCwxLjk1NC0xLjU5OSwzLjU1My0zLjU1MywzLjU1M0gzNi45OTljLTEuOTU0LDAtMy41NTMtMS41OTktMy41NTMtMy41NTN2LTkuMzc5ICAgIGMwLTEuOTU0LDEuNTk5LTMuNTUzLDMuNTUzLTMuNTUzaDEyLjIyMmMxLjk1NCwwLDMuNTUzLDEuNTk5LDMuNTUzLDMuNTUzVjc3LjA4NHoiCiAgICAgICAgIGZpbGw9IiNGRkZGRkYiIC8+PC9nPjxnCiAgICAgICBpZD0iZzM0MTkiPjxwYXRoCiAgICAgICAgIGQ9Ik02Ny43NjIsNDguMDc0YzAsMS45NTQtMS41OTksMy41NTMtMy41NTMsMy41NTNINTEuOTg4Yy0xLjk1NCwwLTMuNTUzLTEuNTk5LTMuNTUzLTMuNTUzdi05LjM3OSAgICBjMC0xLjk1NCwxLjU5OS0zLjU1MywzLjU1My0zLjU1M0g2NC4yMWMxLjk1NCwwLDMuNTUzLDEuNTk5LDMuNTUzLDMuNTUzVjQ4LjA3NHoiCiAgICAgICAgIGZpbGw9IiNGRkZGRkYiIC8+PC9nPjxnPjxwYXRoCiAgICAgICAgIGQ9Ik04Mi43NTIsNzcuMDg0YzAsMS45NTQtMS41OTksMy41NTMtMy41NTMsMy41NTNINjYuOTc3Yy0xLjk1NCwwLTMuNTUzLTEuNTk5LTMuNTUzLTMuNTUzdi05LjM3OSAgICBjMC0xLjk1NCwxLjU5OS0zLjU1MywzLjU1My0zLjU1M2gxMi4yMjJjMS45NTQsMCwzLjU1MywxLjU5OSwzLjU1MywzLjU1M1Y3Ny4wODR6IgogICAgICAgICBmaWxsPSIjRkZGRkZGIiAvPjwvZz48L2c+PC9zdmc+)';
		this.appIcon.style.backgroundImage = logo;		
		this.appIcon.style.backgroundPosition = 'center center';
		this.appIcon.style.backgroundRepeat = 'no-repeat';
		
		mxUtils.setPrefixedStyle(this.appIcon.style, 'transition', 'all 125ms linear');
	
		mxEvent.addListener(this.appIcon, 'mouseover', mxUtils.bind(this, function()
		{
			var file = this.getCurrentFile();
			
			if (file != null)
			{
				var mode = file.getMode();
				
				if (mode == App.MODE_GOOGLE)
				{
					this.appIcon.style.backgroundImage = 'url(' + IMAGE_PATH + '/google-drive-logo-white.svg)';
				}
				else if (mode == App.MODE_DROPBOX)
				{
					this.appIcon.style.backgroundImage = 'url(' + IMAGE_PATH + '/dropbox-logo-white.svg)';
				}
				else if (mode == App.MODE_ONEDRIVE)
				{
					this.appIcon.style.backgroundImage = 'url(' + IMAGE_PATH + '/onedrive-logo-white.svg)';
				}
				else if (mode == App.MODE_GITHUB)
				{
					this.appIcon.style.backgroundImage = 'url(' + IMAGE_PATH + '/github-logo-white.svg)';
				}
			}
		}));
		
		mxEvent.addListener(this.appIcon, 'mouseout', mxUtils.bind(this, function()
		{
			this.appIcon.style.backgroundImage = logo;
		}));
		
		if (urlParams['embed'] != '1')
		{
			this.menubarContainer.appendChild(this.appIcon);
		}
	
		this.fnameWrapper = document.createElement('div');
		this.fnameWrapper.style.position = 'absolute';
		this.fnameWrapper.style.right = '120px';
		this.fnameWrapper.style.left = '50px';
		this.fnameWrapper.style.top = '6px';
		this.fnameWrapper.style.height = '26px';
		this.fnameWrapper.style.display = 'none';
		this.fnameWrapper.style.overflow = 'hidden';
		this.fnameWrapper.style.textOverflow = 'ellipsis';
		
		this.fname = document.createElement('a');
		this.fname.setAttribute('href', 'javascript:void(0);');
		this.fname.setAttribute('title', mxResources.get('rename'));
		this.fname.className = 'geItem';
		this.fname.style.padding = '2px 8px 2px 8px';
		this.fname.style.display = 'inline';
		this.fname.style.fontSize = '18px';
		this.fname.style.whiteSpace = 'nowrap';
		
		mxEvent.addListener(this.fname, 'click', mxUtils.bind(this, function(evt)
		{
			var file = this.getCurrentFile();
			
			if (file != null && file.isRenamable())
			{
				this.actions.get('rename').funct();
			}
			
			mxEvent.consume(evt);
		}));
		
		this.fnameWrapper.appendChild(this.fname);
		
		if (urlParams['embed'] != '1')
		{
			this.menubarContainer.appendChild(this.fnameWrapper);
		
			this.menubar.container.style.position = 'absolute';
			this.menubar.container.style.paddingLeft = '52px';
			this.menubar.container.style.boxSizing = 'border-box';
			this.menubar.container.style.top = '29px';
			
			this.toolbar.container.style.paddingLeft = '56px';
		}
		
		/**
		 * Adds format panel toggle.
		 */
		this.toggleFormatElement = document.createElement('a');
		this.toggleFormatElement.setAttribute('href', 'javascript:void(0);');
		this.toggleFormatElement.setAttribute('title', mxResources.get('formatPanel') + ' (Ctrl+Shift+P)');
		this.toggleFormatElement.style.position = 'absolute';
		this.toggleFormatElement.style.display = 'inline-block';
		this.toggleFormatElement.style.top = '5px';
		this.toggleFormatElement.style.right = (uiTheme != 'atlas' && urlParams['embed'] != '1') ? '26px' : '10px';
		this.toggleFormatElement.style.padding = '2px';
		this.toggleFormatElement.style.fontSize = '14px';
		this.toggleFormatElement.className = (uiTheme != 'atlas') ? 'geButton' : '';
		this.toggleFormatElement.style.width = '16px';
		this.toggleFormatElement.style.height = '16px';
		this.toggleFormatElement.style.backgroundPosition = '50% 50%';
		this.toggleFormatElement.style.backgroundRepeat = 'no-repeat';
		this.toolbarContainer.appendChild(this.toggleFormatElement);

		mxEvent.addListener(this.toggleFormatElement, 'click', mxUtils.bind(this, function(evt)
		{
			this.actions.get('formatPanel').funct();
			mxEvent.consume(evt);
		}));

		var toggleFormatPanel = mxUtils.bind(this, function()
		{
			if (this.formatWidth > 0)
			{
				this.toggleFormatElement.style.backgroundImage = 'url(\'' + this.formatShowImage + '\')';
			}
			else
			{
				this.toggleFormatElement.style.backgroundImage = 'url(\'' + this.formatHideImage + '\')';
			}
		});
		
		this.addListener('formatWidthChanged', toggleFormatPanel);
		toggleFormatPanel();

		this.fullscreenElement = document.createElement('a');
		this.fullscreenElement.setAttribute('href', 'javascript:void(0);');
		this.fullscreenElement.setAttribute('title', mxResources.get('fullscreen'));
		this.fullscreenElement.style.position = 'absolute';
		this.fullscreenElement.style.display = 'inline-block';
		this.fullscreenElement.style.top = '5px';
		this.fullscreenElement.style.right = (uiTheme != 'atlas' && urlParams['embed'] != '1') ? '42px' : '26px';
		this.fullscreenElement.style.padding = '2px';
		this.fullscreenElement.style.fontSize = '14px';
		this.fullscreenElement.className = (uiTheme != 'atlas') ? 'geButton' : '';
		this.fullscreenElement.style.width = '16px';
		this.fullscreenElement.style.height = '16px';
		this.fullscreenElement.style.backgroundPosition = '50% 50%';
		this.fullscreenElement.style.backgroundRepeat = 'no-repeat';
		this.fullscreenElement.style.backgroundImage = 'url(\'' + this.fullscreenImage + '\')';
		this.toolbarContainer.appendChild(this.fullscreenElement);
		
		var initialPosition = this.hsplitPosition;
		var collapsed = false;

		mxEvent.addListener(this.fullscreenElement, 'click', mxUtils.bind(this, function(evt)
		{
			if (uiTheme != 'atlas' && urlParams['embed'] != '1')
			{
				this.toggleCompactMode(!collapsed);
			}

			this.toggleFormatPanel(!collapsed);
			this.hsplitPosition = (!collapsed) ? 0 : initialPosition;
			this.hideFooter();
			collapsed = !collapsed;
			mxEvent.consume(evt);
		}));
		
		// Some style changes in Atlas theme
		if (uiTheme == 'atlas')
		{
			mxUtils.setOpacity(this.toggleFormatElement, 70);
			mxUtils.setOpacity(this.fullscreenElement, 70);
			this.toggleFormatElement.style.right = '6px';
			this.fullscreenElement.style.right = '22px';
			this.toggleFormatElement.style.top = '8px';
			this.fullscreenElement.style.top = '8px';
		}
		
		/**
		 * Adds compact UI toggle.
		 */
		if (urlParams['embed'] != '1')
		{
			this.toggleElement = document.createElement('a');
			this.toggleElement.setAttribute('href', 'javascript:void(0);');
			this.toggleElement.setAttribute('title', mxResources.get('collapseExpand'));
			this.toggleElement.className = 'geButton';
			this.toggleElement.style.position = 'absolute';
			this.toggleElement.style.display = 'inline-block';
			this.toggleElement.style.width = '16px';
			this.toggleElement.style.height = '16px';
			this.toggleElement.style.color = '#666';
			this.toggleElement.style.top = '5px';
			this.toggleElement.style.right = '10px';
			this.toggleElement.style.padding = '2px';
			this.toggleElement.style.fontSize = '14px';
			this.toggleElement.style.textDecoration = 'none';
			this.toggleElement.style.backgroundImage = 'url(\'' + this.chevronUpImage + '\')';
				
			this.toggleElement.style.backgroundPosition = '50% 50%';
			this.toggleElement.style.backgroundRepeat = 'no-repeat';
			
			// Toggles compact mode
			mxEvent.addListener(this.toggleElement, 'click', mxUtils.bind(this, function(evt)
			{
				this.toggleCompactMode();
				mxEvent.consume(evt);
			}));
		
			if (uiTheme != 'atlas')
			{
				this.toolbarContainer.appendChild(this.toggleElement);
			}
			
			// Enable compact mode for small screens
			if (screen.height <= 740 && typeof this.toggleElement.click !== 'undefined')
			{
				window.setTimeout(mxUtils.bind(this, function()
				{
					this.toggleElement.click();
				}), 0);
			}
		}
	}
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
App.prototype.toggleCompactMode = function(forceHide)
{
	if (!forceHide && this.appIcon.style.display == 'none')
	{
		this.menubar.container.style.position = 'absolute';
		this.menubar.container.style.paddingLeft = '52px';
		this.menubar.container.style.paddingTop = '';
		this.menubar.container.style.paddingBottom = '';
		this.menubar.container.style.top = '29px';
		this.toolbar.container.style.paddingLeft = '56px';
		this.buttonContainer.style.visibility = 'visible';
		this.appIcon.style.display = 'block';
		this.fnameWrapper.style.display = 'block';
		this.fnameWrapper.style.visibility = 'visible';
		this.menubarHeight = App.prototype.menubarHeight;
		this.refresh();
		this.toggleElement.style.backgroundImage = 'url(\'' + this.chevronUpImage + '\')';
	}
	else
	{
		this.menubar.container.style.position = 'relative';
		this.menubar.container.style.paddingLeft = '4px';
		this.menubar.container.style.paddingTop = '0px';
		this.menubar.container.style.paddingBottom = '0px';
		this.menubar.container.style.top = '0px';
		this.toolbar.container.style.paddingLeft = '4px';
		this.buttonContainer.style.visibility = 'hidden';
		this.appIcon.style.display = 'none';
		this.fnameWrapper.style.display = 'none';
		this.fnameWrapper.style.visibility = 'hidden';
		this.menubarHeight = EditorUi.prototype.menubarHeight;
		this.refresh();
		this.toggleElement.style.backgroundImage = 'url(\'' + this.chevronDownImage + '\')';
	}
};

/**
 * Adds the listener for automatically saving the diagram for local changes.
 */
App.prototype.updateUserElement = function()
{
	if ((this.drive == null || this.drive.getUser() == null) &&
		(this.oneDrive == null || this.oneDrive.getUser() == null) &&
		(this.dropbox == null || this.dropbox.getUser() == null) &&
		(this.gitHub == null || this.gitHub.getUser() == null))
	{
		if (this.userElement != null)
		{
			this.userElement.parentNode.removeChild(this.userElement);
			this.userElement = null;
		}
	}
	else
	{
		if (this.userElement == null)
		{
			this.userElement = document.createElement('a');
			this.userElement.setAttribute('href', 'javascript:void(0);');
			this.userElement.className = 'geItem';
			this.userElement.style.position = 'absolute';
			this.userElement.style.fontSize = '8pt';
			this.userElement.style.top = '4px';
			this.userElement.style.right = '30px';
			this.userElement.style.color = '#666';
			this.userElement.style.margin = '4px';
			this.userElement.style.padding = '2px';
			this.userElement.style.paddingRight = '16px';
			this.userElement.style.verticalAlign = 'middle';
			this.userElement.style.backgroundImage =  'url(' + IMAGE_PATH + '/expanded.gif)';
			this.userElement.style.backgroundPosition = '100% 60%';
			this.userElement.style.backgroundRepeat = 'no-repeat';
			
			this.menubarContainer.appendChild(this.userElement);

			mxEvent.addListener(this.userElement, 'click', mxUtils.bind(this, function(evt)
			{
				if (this.userPanel == null)
				{
					var div = document.createElement('div');
					div.className = 'geDialog';
					div.style.position = 'absolute';
					div.style.top = (this.userElement.clientTop + this.userElement.clientHeight + 6) + 'px';
					div.style.right = '36px';
					div.style.padding = '0px';

					this.userPanel = div;
				}
				
				if (this.userPanel.parentNode != null)
				{
					this.userPanel.parentNode.removeChild(this.userPanel);
				}
				else
				{
					var connected = false;
					this.userPanel.innerHTML = '';
					
					var img = document.createElement('img');

					img.setAttribute('src', Dialog.prototype.closeImage);
					img.setAttribute('title', mxResources.get('close'));
					img.className = 'geDialogClose';
					img.style.top = '8px';
					img.style.right = '8px';
					
					mxEvent.addListener(img, 'click', mxUtils.bind(this, function()
					{
						if (this.userPanel.parentNode != null)
						{
							this.userPanel.parentNode.removeChild(this.userPanel);
						}
					}));
					
					this.userPanel.appendChild(img);
										
					if (this.drive != null)
					{
						var driveUser = this.drive.getUser();
						
						if (driveUser != null)
						{
							connected = true;
							this.userPanel.innerHTML += '<table title="User ID: ' + driveUser.id +
								'" style="font-size:10pt;padding:20px 20px 10px 10px;">' +
								'<tr><td valign="top">' +
								((driveUser.pictureUrl != null) ?
									'<img style="margin-right:10px;border-radius:50%;" src="' + driveUser.pictureUrl + '"/>' :
									'<img style="margin-right:4px;margin-top:2px;" src="' + this.defaultUserPicture + '"/>') +
								'</td><td valign="top" style="white-space:nowrap;' +
								((driveUser.pictureUrl != null) ? 'padding-top:14px;' : '') +
								'"><b>' + mxUtils.htmlEntities(driveUser.displayName) + '</b><br>' +
								'<small>' + mxUtils.htmlEntities(driveUser.email) + '</small></tr></table>';
							var div = document.createElement('div');
							div.style.textAlign = 'center';
							div.style.padding = '12px';
							div.style.background = 'whiteSmoke';
							div.style.borderTop = '1px solid #e0e0e0';
							div.style.whiteSpace = 'nowrap';

							// LATER: Cannot change user while file is open since close will not work with new
							// credentials and closing the file using fileLoaded(null) will show splash dialog.
							div.appendChild(mxUtils.button(mxResources.get('signOut'), mxUtils.bind(this, function()
							{
								var file = this.getCurrentFile();

								if (file != null && file.constructor == DriveFile)
								{
									this.confirm(mxResources.get('areYouSure'), mxUtils.bind(this, function()
									{
										this.spinner.spin(document.body, mxResources.get('signOut'));
										
										this.diagramContainer.style.display = 'none';
										this.formatContainer.style.display = 'none';
										this.hsplit.style.display = 'none';
										this.sidebarContainer.style.display = 'none';
										this.sidebarFooterContainer.style.display = 'none';
										
										if (this.tabContainer != null)
										{
											this.tabContainer.style.display = 'none';
										}
											
										file.close();
	
										// LATER: Use callback to wait for thumbnail update
										window.setTimeout(mxUtils.bind(this, function()
										{
											// Workaround to disable the splash screen before reload
											this.showDialog = function() {};
											window.location.hash = '';
											this.drive.clearUserId();
											gapi.auth.signOut();
											
											// Reload page to reset client auth
											window.location.reload();
										}), (file != null && file.constructor == DriveFile) ? 2000 : 0);
									}));
								}
								else
								{
									this.drive.clearUserId();
									this.drive.setUser(null);
									gapi.auth.signOut();
								}
							})));
							
							this.userPanel.appendChild(div);
						}
					}
					
					var addUser = mxUtils.bind(this, function(user, logo, logout)
					{
						if (user != null)
						{
							if (connected)
							{
								this.userPanel.appendChild(document.createElement('hr'));
							}
							
							connected = true;
							this.userPanel.innerHTML += '<table style="font-size:10pt;padding:20px 20px 10px 10px;"><tr><td valign="top">' +
								((logo != null) ? '<img style="margin-right:10px;" src="' + logo + '" width="40" height="40"/></td>' : '') +
								'<td valign="middle" style="white-space:nowrap;"><b>' + mxUtils.htmlEntities(user.displayName) + '</b>' +
								((user.email != null) ? '<br><font color="gray">' + mxUtils.htmlEntities(user.email) + '</font></td>' : '') +
								'</tr></table>';
							var div = document.createElement('div');
							div.style.textAlign = 'center';
							div.style.padding = '12px';
							div.style.background = 'whiteSmoke';
							div.style.borderTop = '1px solid #e0e0e0';
							div.style.whiteSpace = 'nowrap';
							
							if (logout != null)
							{
								div.appendChild(mxUtils.button(mxResources.get('signOut'), logout));
							}
							
							this.userPanel.appendChild(div);
						}
					});
					
					if (this.dropbox != null)
					{
						addUser(this.dropbox.getUser(), IMAGE_PATH + '/dropbox-logo.svg', mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();

							if (file != null && file.constructor == DropboxFile)
							{
								var doLogout = mxUtils.bind(this, function()
								{
									this.dropbox.logout();
									window.location.hash = '';
								});
								
								if (!file.isModified())
								{
									doLogout();
								}
								else
								{
									this.confirm(mxResources.get('allChangesLost'), null, doLogout,
										mxResources.get('cancel'), mxResources.get('discardChanges'));
								}
							}
							else
							{
								this.dropbox.logout();
							}
						}));
					}

					if (this.oneDrive != null)
					{
						addUser(this.oneDrive.getUser(), IMAGE_PATH + '/onedrive-logo.svg', mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();

							if (file != null && file.constructor == OneDriveFile)
							{
								var doLogout = mxUtils.bind(this, function()
								{
									this.oneDrive.logout();
									window.location.hash = '';
								});
								
								if (!file.isModified())
								{
									doLogout();
								}
								else
								{
									this.confirm(mxResources.get('allChangesLost'), null, doLogout,
										mxResources.get('cancel'), mxResources.get('discardChanges'));
								}
							}
							else
							{
								this.oneDrive.logout();
							}
						}));
					}

					if (this.gitHub != null)
					{
						addUser(this.gitHub.getUser(), IMAGE_PATH + '/github-logo.svg', mxUtils.bind(this, function()
						{
							var file = this.getCurrentFile();

							if (file != null && file.constructor == GitHubFile)
							{
								var doLogout = mxUtils.bind(this, function()
								{
									this.gitHub.logout();
									window.location.hash = '';
								});
								
								if (!file.isModified())
								{
									doLogout();
								}
								else
								{
									this.confirm(mxResources.get('allChangesLost'), null, doLogout,
										mxResources.get('cancel'), mxResources.get('discardChanges'));
								}
							}
							else
							{
								this.gitHub.logout();
							}
						}));
					}
					
					if (!connected)
					{
						var div = document.createElement('div');
						div.style.textAlign = 'center';
						div.style.padding = '20px 20px 10px 10px';
						div.innerHTML = mxResources.get('notConnected');
						
						this.userPanel.appendChild(div);
					}

					document.body.appendChild(this.userPanel);
				}
				
				mxEvent.consume(evt);
			}));
			
			mxEvent.addListener(document.body, 'click', mxUtils.bind(this, function(evt)
			{
				if (!mxEvent.isConsumed(evt) && this.userPanel != null && this.userPanel.parentNode != null)
				{
					this.userPanel.parentNode.removeChild(this.userPanel);
				}
			}));
		}
		
		var user = null;
		
		if (this.drive != null && this.drive.getUser() != null)
		{
			user = this.drive.getUser();
		}
		else if (this.oneDrive != null && this.oneDrive.getUser() != null)
		{
			user = this.oneDrive.getUser();
		}
		else if (this.dropbox != null && this.dropbox.getUser() != null)
		{
			user = this.dropbox.getUser();
		}
		else if (this.gitHub != null && this.gitHub.getUser() != null)
		{
			user = this.gitHub.getUser();
		}
		
		if (user != null)
		{
			this.userElement.innerHTML = '';
			mxUtils.write(this.userElement, user.displayName);
			this.userElement.style.display = 'block';
		}
		else
		{
			this.userElement.style.display = 'none';
		}
	}
};

/**
 * Override depends on mxSettings which is not defined in the minified viewer.
 */
var editorResetGraph = Editor.prototype.resetGraph;	
Editor.prototype.resetGraph = function()
{
	editorResetGraph.apply(this, arguments);
	
	// Overrides default with persisted value
	this.graph.pageFormat = mxSettings.getPageFormat();
};

/**
 * Copyright (c) 2006-2017, JGraph Ltd
 * Copyright (c) 2006-2017, Gaudenz Alder
 */
(function()
{
	// Adds scrollbars for menus that exceed the page height
	var mxPopupMenuShowMenu = mxPopupMenu.prototype.showMenu;
	mxPopupMenu.prototype.showMenu = function()
	{
		mxPopupMenuShowMenu.apply(this, arguments);
		
		this.div.style.overflowY = 'auto';
		this.div.style.overflowX = 'hidden';
		var h0 = Math.max(document.body.clientHeight, document.documentElement.clientHeight);
		this.div.style.maxHeight = (h0 - 10) + 'px';
	};
	
	Menus.prototype.addLinkToItem = function(item, href)
	{
		if (item != null)
		{
			var link = document.createElement('span');
			link.setAttribute('title', mxResources.get('help'));
			link.style.cssText = 'color:blue;text-decoration:underline;margin-left:12px;cursor:help;';
			
			var icon = document.createElement('img');
			icon.setAttribute('border', '0');
			icon.setAttribute('valign', 'bottom');
			icon.setAttribute('src', Editor.helpImage);
			link.appendChild(icon);
			
			mxEvent.addGestureListeners(link, mxUtils.bind(this, function(evt)
			{
				this.editorUi.menubar.hideMenu();
				window.open(href);
				mxEvent.consume(evt);
			}));
			
			item.firstChild.nextSibling.appendChild(link);
		}
	};
	
	var menusInit = Menus.prototype.init;
	Menus.prototype.init = function()
	{
		menusInit.apply(this, arguments);
		var editorUi = this.editorUi;
		var graph = editorUi.editor.graph;
		var isGraphEnabled = mxUtils.bind(graph, graph.isEnabled);
		var googleEnabled = ((urlParams['embed'] != '1' && urlParams['gapi'] != '0') ||
				(urlParams['embed'] == '1' && urlParams['gapi'] == '1')) && mxClient.IS_SVG &&
				isLocalStorage && (document.documentMode == null || document.documentMode >= 10);
		var dropboxEnabled = ((urlParams['embed'] != '1' && urlParams['db'] != '0') || (urlParams['embed'] == '1' && urlParams['db'] == '1')) &&
			mxClient.IS_SVG && (document.documentMode == null || document.documentMode > 9);
		var oneDriveEnabled = (window.location.hostname == 'www.draw.io' || window.location.hostname == 'test.draw.io' ||
				window.location.hostname == 'drive.draw.io' || window.location.hostname == 'legacy.draw.io') &&
				(((urlParams['embed'] != '1' && urlParams['od'] != '0') || (urlParams['embed'] == '1' &&
				urlParams['od'] == '1')) && !navigator.userAgent.match(/(iPad|iPhone|iPod)/g) &&
				(navigator.userAgent.indexOf('MSIE') < 0 || document.documentMode >= 10));

		if (!editorUi.isOffline())
		{
			var img = new Image();
			img.src = IMAGE_PATH + '/help.png';
		}
		
		editorUi.actions.addAction('new...', function()
		{
			var compact = editorUi.isOffline();
			var dlg = new NewDialog(editorUi, compact);

			editorUi.showDialog(dlg.container, (compact) ? 350 : 620, (compact) ? 70 : 440, true, true, function(cancel)
			{
				if (cancel && editorUi.getCurrentFile() == null)
				{
					editorUi.showSplash();
				}
			});
			
			dlg.init();
		});
		
		editorUi.actions.get('print').funct = function()
		{
			editorUi.showDialog(new PrintDialog(editorUi).container, 360,
				(editorUi.pages != null && editorUi.pages.length > 1) ?
				420 : 360, true, true);
		};

		// Export PDF action for chrome OS (same as print with different dialog title)
		editorUi.actions.addAction('exportPdf', function()
		{
			editorUi.showDialog(new PrintDialog(editorUi, mxResources.get('formatPdf')).container, 360,
				(editorUi.pages != null && editorUi.pages.length > 1) ?
				420 : 360, true, true);
		});
		
		editorUi.actions.addAction('open...', function()
		{
			editorUi.pickFile();
		});
		
		editorUi.actions.addAction('close', function()
		{
			editorUi.fileLoaded(null);
		});
		
		editorUi.actions.addAction('editShape...', mxUtils.bind(this, function()
		{
			var cells = graph.getSelectionCells();
			
			if (graph.getSelectionCount() == 1)
			{
				var cell = graph.getSelectionCell();
				var state = graph.view.getState(cell);
				
				if (state != null && state.shape != null && state.shape.stencil != null)
				{
			    	var dlg = new EditShapeDialog(editorUi, cell, mxResources.get('editShape') + ':', 630, 400);
					editorUi.showDialog(dlg.container, 640, 480, true, false);
					dlg.init();
				}
			}
		}));
		
		editorUi.actions.addAction('revisionHistory...', function()
		{
			var file = editorUi.getCurrentFile();
			
			if (file == null || (file.constructor != DriveFile && file.constructor != DropboxFile) ||
				(editorUi.drive == null && file.constructor == DriveFile) ||
				(editorUi.dropbox == null && file.constructor == DropboxFile))
			{
				editorUi.showError(mxResources.get('error'), mxResources.get('notAvailable'), mxResources.get('ok'));
			}
			else if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
			{
				if (file.constructor == DropboxFile)
				{
					// Limit is maximum number of entries to return
					var promise = editorUi.dropbox.client.filesListRevisions({path: file.stat.path_lower, limit: 100});
					promise.then(mxUtils.bind(this, function(response)
					{
						editorUi.spinner.stop();
						
						try
						{
							var revs = [];
							
							for (var i = response.entries.length - 1; i >= 0; i--)
							{
								(function(stat)
								{
									revs.push({modifiedDate: stat.client_modified, fileSize: stat.size, getXml: function(success, error)
									{
										editorUi.dropbox.readFile({path: file.stat.path_lower, rev: stat.rev}, success, error);
									}, getUrl: function()
									{
										return editorUi.getUrl(window.location.pathname + '?rev=' + stat.rev + '&chrome=0&edit=_blank') + window.location.hash;
									}});
								})(response.entries[i]);
							}
							
							var dlg = new RevisionDialog(editorUi, revs);
							editorUi.showDialog(dlg.container, 640, 480, true, true);
							dlg.init();
						}
						catch (e)
						{
							editorUi.handleError(e);
						}
					}));
					// Workaround for IE8/9 support with catch function
					promise['catch'](function(err)
					{
						editorUi.spinner.stop();
						editorUi.handleError(err);
					});
				}
				// Google Drive File
				else
				{
					editorUi.drive.executeRequest(gapi.client.drive.revisions.list({'fileId': file.getId()}), function(resp)
					{
						editorUi.spinner.stop();
						
						for (var i = 0; i < resp.items.length; i++)
						{
							(function(item)
							{
								item.getXml = function(success, error)
								{
									// Workaround for vanished head revision is to use current head revision from descriptor
									editorUi.drive.executeRequest(gapi.client.drive.revisions.get({'fileId': file.getId(),
										'revisionId': (resp.items[resp.items.length - 1] === item) ?
										file.desc.headRevisionId : item.id}), function(resp)
									{
										editorUi.drive.getXmlFile(resp, null, function(file2)
							   			{
											success(file2.getData());
							   			}, function(resp)
							   			{
							   				error(resp);
							   			});
									}, function(resp)
									{
										error(resp);
									});
								};
								
								item.getUrl = function()
								{
									return editorUi.getUrl(window.location.pathname + '?rev=' + item.id + '&chrome=0&edit=_blank') + window.location.hash;
								};
							})(resp.items[i]);
						}
	
						var dlg = new RevisionDialog(editorUi, resp.items);
						editorUi.showDialog(dlg.container, 640, 480, true, true);
						dlg.init();
					}, function(resp)
					{
						editorUi.spinner.stop();
						editorUi.handleError(resp);
					});
				}
			}
		});
		
		editorUi.actions.addAction('createRevision', function()
		{
			editorUi.actions.get('save').funct();
		}, null, null, 'Ctrl+S');

		editorUi.actions.addAction('upload...', function()
		{
			var file = editorUi.getCurrentFile();
			
			if (file != null)
			{
				// Data is pulled from global variable after tab loads
				// LATER: Change to use message passing to deal with potential cross-domain
				window.drawdata = editorUi.getFileData();
				var filename = (file.getTitle() != null) ? file.getTitle() : editorUi.defaultFilename;
				window.open(window.location.protocol + '//' + window.location.host + '/?create=drawdata&' +
						((editorUi.mode == App.MODE_DROPBOX) ? 'mode=dropbox&' : '') +
						'title=' + encodeURIComponent(filename));
			}
		});

		if (typeof(MathJax) !== 'undefined')
		{
			var action = editorUi.actions.addAction('mathematicalTypesetting', function()
			{
				editorUi.setMathEnabled(!editorUi.isMathEnabled());
			});
			
			action.setToggleAction(true);
			action.setSelectedCallback(function() { return editorUi.isMathEnabled(); });
			action.isEnabled = isGraphEnabled;
		}
		
		if (isLocalStorage)
		{
			var action = editorUi.actions.addAction('showStartScreen', function()
			{
				mxSettings.setShowStartScreen(!mxSettings.getShowStartScreen());
				mxSettings.save();
			});
			
			action.setToggleAction(true);
			action.setSelectedCallback(function() { return mxSettings.getShowStartScreen(); });
		}

		var autosaveAction = editorUi.actions.addAction('autosave', function()
		{
			editorUi.editor.setAutosave(!editorUi.editor.autosave);
		});
		
		autosaveAction.setToggleAction(true);
		autosaveAction.setSelectedCallback(function()
		{
			return autosaveAction.isEnabled() && editorUi.editor.autosave;
		});

		editorUi.actions.addAction('editGeometry...', function()
		{
			var cells = graph.getSelectionCells();
			var vertices = [];
			
			for (var i = 0; i < cells.length; i++)
			{
				if (graph.getModel().isVertex(cells[i]))
				{
					vertices.push(cells[i]);
				}
			}
			
			if (vertices.length > 0)
			{
				var dlg = new EditGeometryDialog(editorUi, vertices);
				editorUi.showDialog(dlg.container, 180, 180, true, true);
				dlg.init();
			}
		}, null, null, 'Ctrl+Shift+M');

		var copiedStyles = ['rounded', 'shadow', 'dashed', 'dashPattern', 'fontFamily', 'fontSize', 'fontColor', 'fontStyle',
			 				'align', 'verticalAlign', 'strokeColor', 'strokeWidth', 'fillColor', 'gradientColor', 'swimlaneFillColor',
		                    'textOpacity', 'gradientDirection', 'glass', 'labelBackgroundColor', 'labelBorderColor', 'opacity',
		                    'spacing', 'spacingTop', 'spacingLeft', 'spacingBottom', 'spacingRight', 'endFill', 'endArrow',
		                    'endSize', 'startStill', 'startArrow', 'startSize', 'arcSize'];
		
		editorUi.actions.addAction('copyStyle', function()
		{
			var state = graph.view.getState(graph.getSelectionCell());
			
			if (graph.isEnabled() && state != null)
			{
				editorUi.copiedStyle = mxUtils.clone(state.style);
				
				// Handles special case for value "none"
				var cellStyle = graph.getModel().getStyle(state.cell);
				var tokens = (cellStyle != null) ? cellStyle.split(';') : [];
				
				for (var j = 0; j < tokens.length; j++)
				{
					var tmp = tokens[j];
			 		var pos = tmp.indexOf('=');
			 					 		
			 		if (pos >= 0)
			 		{
			 			var key = tmp.substring(0, pos);
			 			var value = tmp.substring(pos + 1);
			 			
			 			if (editorUi.copiedStyle[key] == null && value == 'none')
			 			{
			 				editorUi.copiedStyle[key] = 'none';
			 			}
			 		}
				}
			}
		}, null, null, 'Ctrl+Shift+C');

		editorUi.actions.addAction('pasteStyle', function()
		{
			if (graph.isEnabled() && !graph.isSelectionEmpty() && editorUi.copiedStyle != null)
			{
				graph.getModel().beginUpdate();
				
				try
				{
					var cells = graph.getSelectionCells();
					
					for (var i = 0; i < cells.length; i++)
					{
						var state = graph.view.getState(cells[i]);
						
						for (var j = 0; j < copiedStyles.length; j++)
						{
							var key = copiedStyles[j];
							var value = editorUi.copiedStyle[key];
							
							if (state.style[key] != value)
							{
								graph.setCellStyles(key, value, [cells[i]]);
							}
						}
					}
				}
				finally
				{
					graph.getModel().endUpdate();
				}
			}
		}, null, null, 'Ctrl+Shift+V');
		
		editorUi.actions.put('pageBackgroundImage', new Action(mxResources.get('backgroundImage') + '...', function()
		{
			if (!editorUi.isOffline())
			{
				var apply = function(image)
				{
					editorUi.setBackgroundImage(image);
				};
	
				var dlg = new BackgroundImageDialog(editorUi, apply);
				editorUi.showDialog(dlg.container, 320, 170, true, true);
				dlg.init();
			}
		}));
		
		action = editorUi.actions.put('shadowVisible', new Action(mxResources.get('shadow'), function()
		{
			graph.setShadowVisible(!graph.shadowVisible);
		}));
		action.setToggleAction(true);
		action.setSelectedCallback(function() { return graph.shadowVisible; });

		editorUi.actions.put('about', new Action(mxResources.get('aboutDrawio') + '...', function()
		{
			editorUi.showDialog(new AboutDialog(editorUi).container, 220, 300, true, true);
		}, null, null, 'F1'));
		
		editorUi.actions.addAction('userManual...', function()
		{
			window.open('https://support.draw.io/display/DO/Draw.io+Online+User+Manual');
		});

		editorUi.actions.addAction('support...', function()
		{
			window.open('https://support.draw.io/display/DO/draw.io+Online+Support');
		});

		editorUi.actions.addAction('exportOptionsDisabled...', function()
		{
			editorUi.handleError({message: mxResources.get('exportOptionsDisabledDetails')},
				mxResources.get('exportOptionsDisabled'));
		});

		editorUi.actions.addAction('keyboardShortcuts...', function()
		{
			if (mxClient.IS_CHROMEAPP)
			{
				window.open('https://www.draw.io/shortcuts.svg');
			}
			else if (mxClient.IS_SVG)
			{
				window.open('shortcuts.svg');
			}
			else
			{
				window.open('https://www.draw.io/?lightbox=1#Uhttps%3A%2F%2Fwww.draw.io%2Fshortcuts.svg');
			}
		});

		editorUi.actions.addAction('feedback...', function()
		{
			var dlg = new FeedbackDialog(editorUi);
			editorUi.showDialog(dlg.container, 610, 360, true, true);
			dlg.init();
		});

		editorUi.actions.addAction('quickStart...', function()
		{
			window.open('https://www.youtube.com/watch?v=8OaMWa4R1SE&t=1');
		});
		
		action = editorUi.actions.addAction('tags...', mxUtils.bind(this, function()
		{
			if (this.tagsWindow == null)
			{
				this.tagsWindow = new TagsWindow(editorUi, document.body.offsetWidth - 380, 230, 280, 120);
				this.tagsWindow.window.addListener('show', function()
				{
					editorUi.fireEvent(new mxEventObject('tags'));
				});
				this.tagsWindow.window.addListener('hide', function()
				{
					editorUi.fireEvent(new mxEventObject('tags'));
				});
				this.tagsWindow.window.setVisible(true);
				editorUi.fireEvent(new mxEventObject('tags'));
			}
			else
			{
				this.tagsWindow.window.setVisible(!this.tagsWindow.window.isVisible());
			}
		}));
		action.setToggleAction(true);
		action.setSelectedCallback(mxUtils.bind(this, function() { return this.tagsWindow != null && this.tagsWindow.window.isVisible(); }));
		
		action = editorUi.actions.addAction('find...', mxUtils.bind(this, function()
		{
			if (this.findWindow == null)
			{
				this.findWindow = new FindWindow(editorUi, document.body.offsetWidth - 300, 110, 204, 140);
				this.findWindow.window.addListener('show', function()
				{
					editorUi.fireEvent(new mxEventObject('find'));
				});
				this.findWindow.window.addListener('hide', function()
				{
					editorUi.fireEvent(new mxEventObject('find'));
				});
				this.findWindow.window.setVisible(true);
				editorUi.fireEvent(new mxEventObject('find'));
			}
			else
			{
				this.findWindow.window.setVisible(!this.findWindow.window.isVisible());
			}
		}));
		action.setToggleAction(true);
		action.setSelectedCallback(mxUtils.bind(this, function() { return this.findWindow != null && this.findWindow.window.isVisible(); }));

		// Adds language menu to options only if localStorage is available for
		// storing the choice. We do not want to use cookies for older browsers.
		// Note that the URL param lang=XX is available for setting the language
		// in older browsers. URL param has precedence over the saved setting.
		if (mxClient.IS_CHROMEAPP || (isLocalStorage && urlParams['offline'] != '1'))
		{
			this.put('language', new Menu(mxUtils.bind(this, function(menu, parent)
			{
				var addLangItem = mxUtils.bind(this, function (id)
				{
					var lang = (id == '') ? mxResources.get('automatic') : mxLanguageMap[id];
					var item = null;
					
					if (lang != '')
					{
						item = menu.addItem(lang, null, mxUtils.bind(this, function()
						{
							mxSettings.setLanguage(id);
							mxSettings.save();
							
							// Shows dialog in new language
							mxClient.language = id;
							mxResources.loadDefaultBundle = false;
							mxResources.add(RESOURCE_BASE);
							
							editorUi.alert(mxResources.get('restartForChangeRequired'));
						}), parent);
						
						if (id == mxLanguage || (id == '' && mxLanguage == null))
						{
							menu.addCheckmark(item, Editor.checkmarkImage);
						}
					}
					
					return item;
				});
				
				var item = addLangItem('');
				menu.addSeparator(parent);

				// LATER: Sort menu by language name
				for(var langId in mxLanguageMap) 
				{
					addLangItem(langId);
				}
			})));

			// Extends the menubar with the language menu
			if (uiTheme != 'atlas')
			{
				var menusCreateMenuBar = Menus.prototype.createMenubar;
				Menus.prototype.createMenubar = function(container)
				{
					var menubar = menusCreateMenuBar.apply(this, arguments);
					
					if (menubar != null)
					{
						var langMenu = this.get('language');
						
						if (langMenu != null)
						{
							var elt = menubar.addMenu('', langMenu.funct);
							elt.setAttribute('title', mxResources.get('language'));
							elt.style.width = '16px';
							elt.style.paddingTop = '2px';
							elt.style.paddingLeft = '4px';
							elt.innerHTML = '<div class="geIcon geSprite geSprite-globe"/>';
							elt.style.zIndex = '1';
							elt.style.position = 'absolute';
							elt.style.top = '2px';
							elt.style.right = '17px';
							elt.style.display = 'block';
							
							if (!mxClient.IS_VML)
							{
								mxUtils.setOpacity(elt, 60);
							}
							
							document.body.appendChild(elt);
						}
					}
	
					return menubar;
				};
			}
		}
		
		this.put('help', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			if (!mxClient.IS_CHROMEAPP && editorUi.isOffline())
			{
				this.addMenuItems(menu, ['about']);
			}
			else
			{
				// No translation for menu item since help is english only
				var item = menu.addItem('Search', null, null, parent, null, null, false);
				
				var form = document.createElement('div');
				form.style.display = 'inline';
				form.innerHTML = ':<form style="display:inline;margin-left:8px;"' +
					'target="_blank" method="get" action="https://desk.draw.io/support/search/solutions">' +
					'<input type="text" name="term" size="25"></form>';
				item.firstChild.nextSibling.appendChild(form);
				item.style.backgroundColor = 'whiteSmoke';
				item.style.cursor = 'default';
				
				var realForm = form.getElementsByTagName('form')[0]
				var input = form.getElementsByTagName('input')[0];
				
				if (input != null && realForm != null)
				{
					mxEvent.addListener(realForm, 'submit', function()
					{
						// Logs search terms for improving search results
						if (editorUi.enableLogging)
						{
				        	try
				        	{
								var img = new Image();
								var logDomain = window.DRAWIO_LOG_URL != null ? window.DRAWIO_LOG_URL : '';
								img.src = logDomain + '/log?severity=CONFIG&msg=helpsearch:' + encodeURIComponent(input.value) + '&v=' + encodeURIComponent(EditorUi.VERSION);
				        	}
				        	catch (e)
				        	{
				        		// ignore
				        	}
						}
						
						// Workaround for blocked submit on iOS/IE11
						window.setTimeout(function()
						{
							editorUi.menubar.hideMenu();
						}, 0);
					});
					
					mxEvent.addGestureListeners(item, function(evt)
					{
						if (document.activeElement != input)
						{
							input.focus();
						}
						
						mxEvent.consume(evt);
					}, function(evt)
					{
						mxEvent.consume(evt);
					}, function(evt)
					{
						mxEvent.consume(evt);
					});

					// Sets initial focus on input element
					window.setTimeout(function()
					{
						input.focus();
					}, 0);
				}

				this.addMenuItems(menu, ['-', 'quickStart', 'userManual', 'keyboardShortcuts', '-']);
				
				if (!mxClient.IS_CHROMEAPP)
				{
					this.addMenuItems(menu, ['feedback']);
				}

				this.addMenuItems(menu, ['support', '-', 'about']);
			}

			if (urlParams['test'] == '1')
			{
				// For showing the bounding box
				mxResources.parse('showBoundingBox=Show bounding box');
				
				this.editorUi.actions.addAction('showBoundingBox', mxUtils.bind(this, function()
				{
					var b = graph.getGraphBounds();
					var tr = graph.view.translate;
					var s = graph.view.scale;
					graph.insertVertex(parent, null, '', b.x / s - tr.x, b.y / s - tr.y, b.width / s, b.height / s, 'fillColor=none;strokeColor=red;');
				}));

				this.addMenuItems(menu, ['-', 'showBoundingBox'], parent);

				// For testing local XML export
				mxResources.parse('testXmlImageExport=XML Image Export');
				
				this.editorUi.actions.addAction('testXmlImageExport', mxUtils.bind(this, function()
				{
					var bg = '#ffffff';
					var scale = 1;
					var b = 1;
					
					var imgExport = new mxImageExport();
					var bounds = graph.getGraphBounds();
					var vs = graph.view.scale;
					
		        	// New image export
					var xmlDoc = mxUtils.createXmlDocument();
					var root = xmlDoc.createElement('output');
					xmlDoc.appendChild(root);
					
				    // Renders graph. Offset will be multiplied with state's scale when painting state.
					var xmlCanvas = new mxXmlCanvas2D(root);
					xmlCanvas.translate(Math.floor((b / scale - bounds.x) / vs), Math.floor((b / scale - bounds.y) / vs));
					xmlCanvas.scale(scale / vs);
					
					var stateCounter = 0;
					
					var canvasSave = xmlCanvas.save;
					xmlCanvas.save = function()
					{
						stateCounter++;
						canvasSave.apply(this, arguments);
					};
					
					var canvasRestore = xmlCanvas.restore;
					xmlCanvas.restore = function()
					{
						stateCounter--;
						canvasRestore.apply(this, arguments);
					};
					
					var exportDrawShape = imgExport.drawShape;
					imgExport.drawShape = function(state)
					{
						mxLog.debug('entering shape', state, stateCounter);
						exportDrawShape.apply(this, arguments);
						mxLog.debug('leaving shape', state, stateCounter);
					};
					
				    imgExport.drawState(graph.getView().getState(graph.model.root), xmlCanvas);
				    
					// Puts request data together
					var w = Math.ceil(bounds.width * scale / vs + 2 * b);
					var h = Math.ceil(bounds.height * scale / vs + 2 * b);
					
					mxLog.show();
					mxLog.debug(mxUtils.getXml(root));
					mxLog.debug('stateCounter', stateCounter);
				}));
					
				this.addMenuItems(menu, ['testXmlImageExport'], parent);

				mxResources.parse('testShowRtModel=Show RT model');
				mxResources.parse('testDebugRtModel=Debug RT model');
				mxResources.parse('testDownloadRtModel=Download RT model');
				
				this.editorUi.actions.addAction('testShowRtModel', mxUtils.bind(this, function()
				{
					if (this.editorUi.getCurrentFile() != null && this.editorUi.getCurrentFile().realtime != null)
					{
						console.log('bytesUsed', this.editorUi.getCurrentFile().realtime.rtModel.bytesUsed);
						console.log('root', this.editorUi.getCurrentFile().realtime.dumpRoot());
						this.editorUi.getCurrentFile().realtime.check();
					}
				}));
				
				this.editorUi.actions.addAction('testDebugRtModel', mxUtils.bind(this, function()
				{
					gapi.drive.realtime.debug();
				}));
				
				this.editorUi.actions.addAction('testDownloadRtModel', mxUtils.bind(this, function()
				{
					var file = this.editorUi.getCurrentFile();
					
					if (file != null && file.realtime != null &&
						editorUi.spinner.spin(document.body, mxResources.get('export')))
					{
						// LATER: Download full model dump with history
						var req = new mxXmlRequest('https://www.googleapis.com/drive/v2/files/' +
								file.getHash().substring(1) + '/realtime', null, 'GET');

						// Adds auth token
						req.setRequestHeaders = function(request)
						{
							mxXmlRequest.prototype.setRequestHeaders.apply(this, arguments);
							var token = gapi.auth.getToken().access_token;
							request.setRequestHeader('authorization', 'Bearer ' + token);	
						};
						
						req.send(function(req)
						{
							editorUi.spinner.stop();
							
							if (req.getStatus() >= 200 && req.getStatus() <= 299)
							{
								editorUi.saveLocalFile(req.getText(), 'realtime.txt', 'text/plain');
							}
						});
					}
				}));

				if (this.editorUi.getCurrentFile() != null && this.editorUi.getCurrentFile().realtime != null)
				{
					this.addMenuItems(menu, ['-', 'testShowRtModel', 'testDebugRtModel', 'testDownloadRtModel'], parent);
				}
				
				mxResources.parse('testShowConsole=Show Console');
				this.editorUi.actions.addAction('testShowConsole', function()
				{
					if (!mxLog.isVisible())
					{
						mxLog.show();
					}
					else
					{
						mxLog.window.fit();
					}
					
					mxLog.window.div.style.zIndex = mxPopupMenu.prototype.zIndex - 1;
				});
				this.addMenuItems(menu, ['-', 'testShowConsole']);
			}
		})));

		editorUi.actions.addAction('shapes...', function()
		{
			if (mxClient.IS_CHROMEAPP || !editorUi.isOffline())
			{
				editorUi.showDialog(new MoreShapesDialog(editorUi, true).container, 640, (isLocalStorage) ?
						((mxClient.IS_IOS) ? 480 : 460) : 440, true, true);
			}
			else
			{
				editorUi.showDialog(new MoreShapesDialog(editorUi, false).container, 360, (isLocalStorage) ?
						((mxClient.IS_IOS) ? 300 : 280) : 260, true, true);
			}
		});

		editorUi.actions.addAction('createShape...', function()
		{
			var file = editorUi.getCurrentFile();
			
			if (urlParams['embed'] == '1' || (file != null && file.isEditable()))
			{
				var cell = new mxCell('', new mxGeometry(0, 0, 120, 120), editorUi.defaultCustomShapeStyle);
				cell.vertex = true;
				
		    	var dlg = new EditShapeDialog(editorUi, cell, mxResources.get('editShape') + ':', 630, 400);
				editorUi.showDialog(dlg.container, 640, 480, true, false);
				dlg.init();
			}
		});
		
		editorUi.actions.put('embedHtml', new Action(mxResources.get('html') + '...', function()
		{
			if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
			{
				editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
				{
					editorUi.spinner.stop();
					
					editorUi.showHtmlDialog(mxResources.get('create'), 'https://desk.draw.io/support/solutions/articles/16000042542',
						url, function(publicUrl, zoomEnabled, initialZoom, linkTarget, linkColor, fit, allPages, layers, lightbox, edit)
					{
						editorUi.createHtml(publicUrl, zoomEnabled, initialZoom, linkTarget, linkColor,
							fit, allPages, layers, lightbox, edit, mxUtils.bind(this, function(html, scriptTag)
							{
								var dlg = new EmbedDialog(editorUi, html + '\n' + scriptTag, null, null, function()
								{
									var wnd = window.open();
									var doc = wnd.document;
							
									if (document.compatMode === 'CSS1Compat')
									{
										doc.writeln('<!DOCTYPE html>');
									}
									
									doc.writeln('<html>');
									doc.writeln('<head><title>' + encodeURIComponent(mxResources.get('preview')) +
										'</title><meta charset="utf-8"></head>');
									doc.writeln('<body>');
									doc.writeln(html);
									
									var direct = mxClient.IS_IE || mxClient.IS_EDGE || document.documentMode != null;
									
									if (direct)
									{
										doc.writeln(scriptTag);
									}
									
									doc.writeln('</body>');
									doc.writeln('</html>');
									doc.close();
									
									// Adds script tag after closing page and delay to fix timing issues
									if (!direct)
									{
										var info = wnd.document.createElement('div');
										info.marginLeft = '26px';
										info.marginTop = '26px';
										mxUtils.write(info, mxResources.get('updatingDocument'));

										var img = wnd.document.createElement('img');
										img.setAttribute('src', window.location.protocol + '//' + window.location.hostname +
											'/' + IMAGE_PATH + '/spin.gif');
										img.style.marginLeft = '6px';
										info.appendChild(img);
										
										wnd.document.body.insertBefore(info, wnd.document.body.firstChild);
										
										window.setTimeout(function()
										{
											var script = document.createElement('script');
											script.type = 'text/javascript';
											script.src = /<script.*?src="(.*?)"/.exec(scriptTag)[1];
											doc.body.appendChild(script);
											
											info.parentNode.removeChild(info);
										}, 20);
									}
								});
								editorUi.showDialog(dlg.container, 440, 240, true, true);
								dlg.init();
							}));
					});
				});
			}
		}));
		
		editorUi.actions.put('liveImage', new Action('Live image...', function()
		{
			if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
			{
				editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
				{
					editorUi.spinner.stop();
					
					if (url != null)
					{
						var encUrl = encodeURIComponent(url);
						var dlg = new EmbedDialog(editorUi, EXPORT_URL + '?format=png&url=' + encUrl, 0);
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					}
					else
					{
						editorUi.handleError({message: mxResources.get('invalidPublicUrl')});
					}
				});
			}
		}));
		
		editorUi.actions.put('embedImage', new Action(mxResources.get('image') + '...', function()
		{
			editorUi.showEmbedImageDialog(function(fit, shadow, retina, lightbox, edit, layers)
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
				{
					editorUi.createEmbedImage(fit, shadow, retina, lightbox, edit, layers, function(result)
					{
						editorUi.spinner.stop();
						var dlg = new EmbedDialog(editorUi, result);
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					}, function(err)
					{
						editorUi.spinner.stop();
						editorUi.handleError(err);
					});
				}
			}, mxResources.get('image'), mxResources.get('retina'), editorUi.isExportToCanvas());
		}));

		editorUi.actions.put('embedSvg', new Action(mxResources.get('formatSvg') + '...', function()
		{
			editorUi.showEmbedImageDialog(function(fit, shadow, image, lightbox, edit, layers)
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
				{
					editorUi.createEmbedSvg(fit, shadow, image, lightbox, edit, layers, function(result)
					{
						editorUi.spinner.stop();
						
						var dlg = new EmbedDialog(editorUi, result);
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					}, function(err)
					{
						editorUi.spinner.stop();
						editorUi.handleError(err);
					});
				}
			}, mxResources.get('formatSvg'), mxResources.get('image'),
				true, 'https://desk.draw.io/support/solutions/articles/16000042548');
		}));
		
		editorUi.actions.put('embedIframe', new Action(mxResources.get('iframe') + '...', function()
		{
			var bounds = graph.getGraphBounds();
			
			editorUi.showPublishLinkDialog(mxResources.get('iframe'), null, '100%',
				(Math.ceil((bounds.y + bounds.height - graph.view.translate.y) / graph.view.scale) + 2),
				function(linkTarget, linkColor, allPages, lightbox, edit, layers, width, height)
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
				{
					editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
					{
						editorUi.spinner.stop();
						
						var dlg = new EmbedDialog(editorUi, '<iframe frameborder="0" style="width:' + width +
							';height:' + height + ';" src="' + editorUi.createLink(linkTarget, linkColor,
							allPages, lightbox, edit, layers, url) + '"></iframe>');
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					});
				}
			}, true);
		}));
		
		editorUi.actions.put('publishLink', new Action(mxResources.get('link') + '...', function()
		{
			editorUi.showPublishLinkDialog(null, null, null, null,
				function(linkTarget, linkColor, allPages, lightbox, edit, layers)
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
				{
					editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
					{
						editorUi.spinner.stop();
						var dlg = new EmbedDialog(editorUi, editorUi.createLink(linkTarget,
							linkColor, allPages, lightbox, edit, layers, url));
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					});
				}
			});
		}));

		editorUi.actions.addAction('googleDocs...', function()
		{
			window.open('http://docsaddon.draw.io');
		});

		editorUi.actions.addAction('googleSites...', function()
		{
			if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
			{
				editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
				{
					editorUi.spinner.stop();
					var dlg = new GoogleSitesDialog(editorUi, url);
					editorUi.showDialog(dlg.container, 420, 256, true, true);
					dlg.init();
				});
			}
		});

		// Adds plugins menu item in file menu only if localStorage is available for
		// storing the plugins.
		if (isLocalStorage || mxClient.IS_CHROMEAPP)
		{
			var action = editorUi.actions.addAction('scratchpad', function()
			{
				editorUi.toggleScratchpad();
			});
			
			action.setToggleAction(true);
			action.setSelectedCallback(function() { return editorUi.scratchpad != null; });

			editorUi.actions.addAction('plugins...', function()
			{
				editorUi.showDialog(new PluginsDialog(editorUi).container, 360, 156, true, false);
			});
		}
		
		var action = editorUi.actions.addAction('search', function()
		{
			var visible = editorUi.sidebar.isEntryVisible('search');
			editorUi.sidebar.showPalette('search', !visible);
			
			if (isLocalStorage)
			{
				mxSettings.settings.search = !visible;
				mxSettings.save();
			}
		});
		
		action.setToggleAction(true);
		action.setSelectedCallback(function() { return editorUi.sidebar.isEntryVisible('search'); });
		
		if (urlParams['embed'] == '1')
		{
			editorUi.actions.get('save').funct = function(exit)
			{
				if (graph.isEditing())
				{
					graph.stopEditing();
				}
				
				var data = (urlParams['pages'] != '0' || (editorUi.pages != null && editorUi.pages.length > 1)) ?
					editorUi.getFileData(true) : mxUtils.getXml(editorUi.editor.getGraphXml());
				
				if (urlParams['proto'] == 'json')
				{
					var msg = editorUi.createLoadMessage('save');
					msg.xml = data;
					
					if (exit)
					{
						msg.exit = true;
					}
					
					data = JSON.stringify(msg);
				}
				
				var parent = window.opener || window.parent;
				parent.postMessage(data, '*');
				
				if (urlParams['modified'] != '0' && urlParams['keepmodified'] != '1')
				{
					editorUi.editor.modified = false;
					editorUi.editor.setStatus('');
				}
			};
	
			editorUi.actions.addAction('saveAndExit', function()
			{
				editorUi.actions.get('save').funct(true);
			});
			
			editorUi.actions.addAction('exit', function()
			{
				var fn = function()
				{
					var msg = (urlParams['proto'] == 'json') ? JSON.stringify({event: 'exit',
						modified: editorUi.editor.modified}) : '';
					var parent = window.opener || window.parent;
					parent.postMessage(msg, '*');
				}
				
				if (!editorUi.editor.modified)
				{
					fn();
				}
				else
				{
					editorUi.confirm(mxResources.get('allChangesLost'), null, fn,
						mxResources.get('cancel'), mxResources.get('discardChanges'));
				}
			});
		}
		
		this.put('exportAs', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			if (editorUi.isExportToCanvas())
			{
				menu.addItem(mxResources.get('formatPng') + '...', null, mxUtils.bind(this, function()
				{
					// TODO: Enable include option if CRC is fixed
					editorUi.showExportDialog(mxResources.get('image'), false, mxResources.get('export'),
						'https://support.draw.io/display/DO/Exporting+Files',
						mxUtils.bind(this, function(scale, transparentBackground, ignoreSelection,
							addShadow, editable, embedImages, border, cropImage, currentPage)
						{
							var val = parseInt(scale);
							
							if (!isNaN(val) && val > 0)
							{
							   	this.editorUi.exportImage(val / 100, transparentBackground, ignoreSelection,
							   		addShadow, editable, border, !cropImage, currentPage);
							}
						}), true, false);
				}), parent);
				
				if (editorUi.jpgSupported)
				{
					menu.addItem(mxResources.get('formatJpg') + '...', null, mxUtils.bind(this, function()
					{
						editorUi.showExportJpgDialog('https://support.draw.io/display/DO/Exporting+Files',
							mxUtils.bind(this, function(scale, ignoreSelection, addShadow, border, cropImage)
							{
								var val = parseInt(scale);
								
								if (!isNaN(val) && val > 0)
								{
								   	this.editorUi.exportImage(val / 100, false, ignoreSelection,
								   		addShadow, false, border, !cropImage, false, 'jpeg');
								}
							}), true);
					}), parent);
				}
			}
			
			// Disabled for standalone mode in iOS because new tab cannot be closed
			else if (!editorUi.isOffline() && (!mxClient.IS_IOS || !navigator.standalone))
			{
				menu.addItem(mxResources.get('formatPng') + '...', null, mxUtils.bind(this, function()
				{
					editorUi.showRemoteExportDialog(mxResources.get('export'), null, mxUtils.bind(this, function(ignoreSelection, editable)
					{
						this.editorUi.downloadFile((editable) ? 'xmlpng' : 'png', null, null, ignoreSelection);
					}));
				}), parent);
				
				menu.addItem(mxResources.get('formatJpg') + '...', null, mxUtils.bind(this, function()
				{
					editorUi.showRemoteExportDialog(mxResources.get('export'), null, mxUtils.bind(this, function(ignoreSelection, editable)
					{
						this.editorUi.downloadFile('jpeg', null, null, ignoreSelection);
					}), true);
				}), parent);
			}
			
			menu.addItem(mxResources.get('formatSvg') + '...', null, mxUtils.bind(this, function()
			{
				editorUi.showExportDialog(mxResources.get('formatSvg'), true, mxResources.get('export'),
					'https://support.draw.io/display/DO/Exporting+Files',
					mxUtils.bind(this, function(scale, transparentBackground, ignoreSelection,
						addShadow, editable, embedImages, border, cropImage, currentPage)
					{
						var val = parseInt(scale);
						
						if (!isNaN(val) && val > 0)
						{
						   	this.editorUi.exportSvg(val / 100, transparentBackground, ignoreSelection,
						   		addShadow, editable, embedImages, border, !cropImage, currentPage);
						}
					}), true);
			}), parent);

			menu.addSeparator(parent);

			// Redirects export to PDF to print in Chrome App
			if (editorUi.printPdfExport)
			{
				menu.addItem(mxResources.get('formatPdf') + '...', null, this.editorUi.actions.get('exportPdf').funct, parent);
			}
			// Disabled for standalone mode in iOS because new tab cannot be closed
			else if (!editorUi.isOffline() && (!mxClient.IS_IOS || !navigator.standalone))
			{
				menu.addItem(mxResources.get('formatPdf') + '...', null, mxUtils.bind(this, function()
				{
					var div = document.createElement('div');
					div.style.whiteSpace = 'nowrap';
					
					var hd = document.createElement('h3');
					mxUtils.write(hd, mxResources.get('formatPdf'));
					hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:4px';
					div.appendChild(hd);
					
					var selection = editorUi.addCheckbox(div, mxResources.get('selectionOnly'),
						false, graph.isSelectionEmpty());
					var crop = editorUi.addCheckbox(div, mxResources.get('crop'),
						!graph.pageVisible || !editorUi.pdfPageExport,
						!editorUi.pdfPageExport);
					crop.style.marginBottom = '16px';
					
					// Crop is only enabled if selection only is selected
					if (!editorUi.pdfPageExport)
					{
						mxEvent.addListener(selection, 'change', function()
						{
							if (selection.checked)
							{
								crop.removeAttribute('disabled');
							}
							else
							{
								crop.setAttribute('disabled', 'disabled');
							}
						});	
					}
					
					var dlg = new CustomDialog(editorUi, div, mxUtils.bind(this, function()
					{
						this.editorUi.downloadFile('pdf', null, null, !selection.checked, null, !crop.checked);
					}), null, mxResources.get('export'));
					this.editorUi.showDialog(dlg.container, 300, 146, true, true);
				}), parent);
			}

			menu.addItem(mxResources.get('formatHtmlEmbedded') + '...', null, mxUtils.bind(this, function()
			{
				if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
				{
					editorUi.getPublicUrl(editorUi.getCurrentFile(), function(url)
					{
						editorUi.spinner.stop();
						
						editorUi.showHtmlDialog(mxResources.get('export'), null, url, function(publicUrl, zoomEnabled,
							initialZoom, linkTarget, linkColor, fit, allPages, layers, lightbox, edit)
						{
							editorUi.createHtml(publicUrl, zoomEnabled, initialZoom, linkTarget, linkColor,
								fit, allPages, layers, lightbox, edit, mxUtils.bind(this, function(html, scriptTag)
								{
									var basename = editorUi.getBaseFilename();
									var result = '<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->\n' +
										'<!DOCTYPE html>\n<html>\n<head>\n<title>' + mxUtils.htmlEntities(basename) + '</title>\n' +
										'<meta charset="utf-8"/>\n</head>\n<body>' + html + '\n' + scriptTag + '\n</body>\n</html>';
									editorUi.saveData(basename + '.html', 'html', result, 'text/html');
								}));
						});
					});
				}
				
				//this.editorUi.downloadFile('html');
			}), parent);

			menu.addSeparator(parent);

			menu.addItem(mxResources.get('formatXml') + '...', null, mxUtils.bind(this, function()
			{
				var div = document.createElement('div');
				div.style.whiteSpace = 'nowrap';
				var noPages = editorUi.pages == null || editorUi.pages.length <= 1;
				
				var hd = document.createElement('h3');
				mxUtils.write(hd, mxResources.get('formatXml'));
				hd.style.cssText = 'width:100%;text-align:center;margin-top:0px;margin-bottom:4px';
				div.appendChild(hd);
				
				var selection = editorUi.addCheckbox(div, mxResources.get('selectionOnly'),
					false, graph.isSelectionEmpty());
				var pages = editorUi.addCheckbox(div, mxResources.get((noPages) ? 'compressed' : 'allPages'), true);
				pages.style.marginBottom = '16px';
				
				mxEvent.addListener(selection, 'change', function()
				{
					if (selection.checked)
					{
						pages.setAttribute('disabled', 'disabled');
					}
					else
					{
						pages.removeAttribute('disabled');
					}
				});
				
				var dlg = new CustomDialog(editorUi, div, mxUtils.bind(this, function()
				{
					editorUi.downloadFile('xml', (noPages) ? !pages.checked : null, null,
						!selection.checked, (!noPages) ? !pages.checked : null);
				}), null, mxResources.get('export'));
				this.editorUi.showDialog(dlg.container, 300, 146, true, true);
			}), parent);

			// Disables menu item for all external hosted integrations
			if (/.*\.draw\.io$/.test(window.location.hostname))
			{
				menu.addItem(mxResources.get('url') + '...', null, mxUtils.bind(this, function()
				{
					editorUi.showPublishLinkDialog(mxResources.get('url'), true, null, null,
						function(linkTarget, linkColor, allPages, lightbox, edit, layers)
					{
						var dlg = new EmbedDialog(editorUi, editorUi.createLink(
							linkTarget, linkColor, allPages, lightbox, edit, layers, null, true));
						editorUi.showDialog(dlg.container, 440, 240, true, true);
						dlg.init();
					});
				}), parent);
			}
			
			if (!editorUi.isOffline())
			{
				menu.addSeparator(parent);
				this.addMenuItem(menu, 'export', parent).firstChild.nextSibling.innerHTML = mxResources.get('advanced') + '...';
			}
		})));

		this.editorUi.actions.addAction('chatWindowTitle...', mxUtils.bind(this.editorUi, this.editorUi.toggleChat));
		
		this.put('importFrom', new Menu(function(menu, parent)
		{
			function importFile(device)
			{
				if (device && Graph.fileSupport && !mxClient.IS_IE && !mxClient.IS_IE11)
				{
					var input = document.createElement('input');
					input.setAttribute('type', 'file');
					
					mxEvent.addListener(input, 'change', function()
					{
						if (input.files != null)
						{
							// Using null for position will disable crop of input file
							editorUi.importFiles(input.files, null, null, editorUi.maxImageSize);
						}
					});

					input.click();
				}
				else
				{
					window.openNew = false;
					window.openKey = 'import';
					
					var prevValue = Editor.useLocalStorage;
					Editor.useLocalStorage = !device;
	
					// Closes dialog after open
					window.openFile = new OpenFile(function(cancel)
					{
						editorUi.hideDialog(cancel);
					});
					
					window.openFile.setConsumer(function(xml, filename)
					{
						graph.setSelectionCells(editorUi.importXml(xml));
					});
	
					// Removes openFile if dialog is closed
					editorUi.showDialog(new OpenDialog(editorUi).container, 360, 220, true, true, function()
					{
						window.openFile = null;
					});
					
					// Extends dialog close to show splash screen
					var dlg = editorUi.dialog;
					var dlgClose = dlg.close;
					
					editorUi.dialog.close = function(cancel)
					{
						Editor.useLocalStorage = prevValue;
						dlgClose.apply(dlg, arguments);
						
						if (cancel && editorUi.getCurrentFile() == null && urlParams['embed'] != '1')
						{
							editorUi.showSplash();
						}
					};
				}
			};
			
			var doImportFile = mxUtils.bind(this, function(data, mime, filename)
			{
				// Gets insert location
				var view = graph.view;
				var bds = graph.getGraphBounds();
				var x = graph.snap(Math.ceil(Math.max(0, bds.x / view.scale - view.translate.x) + 4 * graph.gridSize));
				var y = graph.snap(Math.ceil(Math.max(0, (bds.y + bds.height) / view.scale - view.translate.y) + 4 * graph.gridSize));

				if (data.substring(0, 11) == 'data:image/')
				{
					editorUi.loadImage(data, mxUtils.bind(this, function(img)
	    			{
	    				editorUi.resizeImage(img, data, mxUtils.bind(this, function(data2, w2, h2)
	    				{
		    				var s = Math.min(1, Math.min(editorUi.maxImageSize / w2, editorUi.maxImageSize / h2));

							editorUi.importFile(data, mime, x, y, Math.round(w2 * s), Math.round(h2 * s), filename, function(cells)
							{
								editorUi.spinner.stop();
								graph.setSelectionCells(cells);
								graph.scrollCellToVisible(graph.getSelectionCell());
							});
	    				}), true);
	    			}), mxUtils.bind(this, function()
	    			{
	    				editorUi.handleError({message: mxResources.get('cannotOpenFile')});
	    			}));
				}
				else
				{
					editorUi.importFile(data, mime, x, y, 0, 0, filename, function(cells)
					{
						editorUi.spinner.stop();
						graph.setSelectionCells(cells);
						graph.scrollCellToVisible(graph.getSelectionCell());
					});
				}
			});
			
			var getMimeType = mxUtils.bind(this, function(filename)
			{
				var mime = 'text/xml';
				
				if (/\.png$/i.test(filename))
				{
					mime = 'image/png';
				}
				else if (/\.jpe?g$/i.test(filename))
				{
					mime = 'image/jpg';
				}
				else if (/\.gif$/i.test(filename))
				{
					mime = 'image/gif';
				}
				
				return mime;
			});
			
			function pickFileFromService(service)
			{
				// Drive requires special arguments for libraries and bypassing realtime
				service.pickFile(function(id)
				{
					if (editorUi.spinner.spin(document.body, mxResources.get('loading')))
					{
						// NOTE The third argument in getFile says denyConvert to match
						// the existing signature in the original DriveClient which has
						// as slightly different semantic, but works the same way.
						service.getFile(id, function(file)
						{
							var mime = getMimeType(file.getTitle());
							
							// Imports SVG as images
							if (/\.svg$/i.test(file.getTitle()) && !editorUi.editor.isDataSvg(file.getData()))
							{
								file.setData(editorUi.createSvgDataUri(file.getData()));
								mime = 'image/svg+xml';
							}
							
							doImportFile(file.getData(), mime, file.getTitle());
						},
						function(resp)
						{
							editorUi.handleError(resp, (resp != null) ? mxResources.get('errorLoadingFile') : null);
						}, service == editorUi.drive);
					}
				}, true);
			};
		
			if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined')
			{
				if (editorUi.drive != null)
				{
					// Requires special arguments for libraries and realtime
					menu.addItem(mxResources.get('googleDrive') + '...', null, function()
					{
						pickFileFromService(editorUi.drive);
					}, parent);
				}
				else if (googleEnabled)
				{
					menu.addItem(mxResources.get('googleDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
					{
						// do nothing
					}, parent, null, false);
				}
			}
			
			if (editorUi.gitHub != null)
			{
				menu.addItem(mxResources.get('github') + '...', null, function()
				{
					pickFileFromService(editorUi.gitHub);
				}, parent);
			}

			if (editorUi.dropbox != null)
			{
				menu.addItem(mxResources.get('dropbox') + '...', null, function()
				{
					pickFileFromService(editorUi.dropbox);
				}, parent);
			}
			else if (dropboxEnabled)
			{
				menu.addItem(mxResources.get('dropbox') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			if (editorUi.oneDrive != null)
			{
				menu.addItem(mxResources.get('oneDrive') + '...', null, function()
				{
					pickFileFromService(editorUi.oneDrive);
				}, parent);
			}
			else if (oneDriveEnabled)
			{
				menu.addItem(mxResources.get('oneDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			menu.addSeparator(parent);

			if (isLocalStorage && urlParams['browser'] != '0')
			{
				menu.addItem(mxResources.get('browser') + '...', null, function()
				{
					importFile(false);
				}, parent);
			}

			if (!mxClient.IS_IOS)
			{
				menu.addItem(mxResources.get('device') + '...', null, function()
				{
					importFile(true);
				}, parent);
			}

			if (!editorUi.isOffline())
			{
				menu.addSeparator(parent);
				
				menu.addItem(mxResources.get('url') + '...', null, function()
				{
					var dlg = new FilenameDialog(editorUi, '', mxResources.get('import'), function(fileUrl)
					{
						if (fileUrl != null && fileUrl.length > 0 && editorUi.spinner.spin(document.body, mxResources.get('loading')))
						{
							var mime = (/(\.png)($|\?)/i.test(fileUrl)) ? 'image/png' : 'text/xml';
							
							// Uses proxy to avoid CORS issues
							editorUi.loadUrl(PROXY_URL + '?url=' + encodeURIComponent(fileUrl), function(data)
							{
								doImportFile(data, mime, fileUrl);
							},
							function ()
							{
								editorUi.spinner.stop();
								editorUi.handleError(null, mxResources.get('errorLoadingFile'));
							}, mime == 'image/png');
						}
					}, mxResources.get('url'));
					editorUi.showDialog(dlg.container, 300, 80, true, true);
					dlg.init();
				}, parent);
			}
			
			menu.addItem(mxResources.get('csv') + '...', null, function()
			{
				editorUi.showImportCsvDialog();
			}, parent);
		})).isEnabled = isGraphEnabled;

		this.put('theme', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			var item = menu.addItem(mxResources.get('kennedy'), null, function()
			{
				mxSettings.setUi('');
				mxSettings.save();
				editorUi.alert(mxResources.get('restartForChangeRequired'));
			}, parent);

			if (uiTheme != 'atlas')
			{
				menu.addCheckmark(item, Editor.checkmarkImage);
			}
			
			item = menu.addItem(mxResources.get('atlas'), null, function()
			{
				mxSettings.setUi('atlas');
				mxSettings.save();
				editorUi.alert(mxResources.get('restartForChangeRequired'));
			}, parent);
			
			if (uiTheme == 'atlas')
			{
				menu.addCheckmark(item, Editor.checkmarkImage);
			}
		})));

		this.editorUi.actions.addAction('rename...', mxUtils.bind(this, function()
		{
			var file = this.editorUi.getCurrentFile();
			
			if (file != null)
			{
				var filename = (file.getTitle() != null) ? file.getTitle() : this.editorUi.defaultFilename;
				
				var dlg = new FilenameDialog(this.editorUi, filename, mxResources.get('rename'), mxUtils.bind(this, function(title)
				{
					if (title != null && title.length > 0 && file != null && this.editorUi.spinner.spin(document.body, mxResources.get('renaming')))
					{
						// Delete old file, save new file in dropbox if autosize is enabled
						file.rename(title, mxUtils.bind(this, function(resp)
						{
							this.editorUi.spinner.stop();
						}),
						mxUtils.bind(this, function(resp)
						{
							this.editorUi.handleError(resp, (resp != null) ? mxResources.get('errorRenamingFile') : null);
						}));
					}
				}), (file.constructor == DriveFile || file.constructor == StorageFile) ?
					mxResources.get('diagramName') : null, function(name)
				{
					if (name != null && name.length > 0)
					{
						return true;
					}
					
					editorUi.showError(mxResources.get('error'), mxResources.get('invalidName'), mxResources.get('ok'));
					
					return false;
				});
				this.editorUi.showDialog(dlg.container, 300, 80, true, true);
				dlg.init();
			}
		})).isEnabled = isGraphEnabled;
		
		editorUi.actions.addAction('makeCopy...', mxUtils.bind(this, function()
		{
			var file = editorUi.getCurrentFile();
			
			if (file != null)
			{
				var title = (file.getTitle() != null) ? file.getTitle() : editorUi.defaultFilename;
				
				// Handles extension
				var extension = '';
				var dot = title.lastIndexOf('.');
				
				if (dot >= 0)
				{
					extension = title.substring(dot);
					title = title.substring(0, dot);
				}
				
				title = mxResources.get('copyOf', [title]) + extension;
				
				if (file.constructor == DriveFile)
				{
					var dlg = new CreateDialog(editorUi, title, mxUtils.bind(this, function(newTitle, mode)
					{
						// Mode is "download" if Create button is pressed, means use Google Drive
						if (mode == 'download')
						{
							mode = App.MODE_GOOGLE;
						}
						
						if (newTitle != null && newTitle.length > 0)
						{
							if (mode == App.MODE_GOOGLE)
							{
								if (editorUi.spinner.spin(document.body, mxResources.get('saving')))
								{
									// Makes sure the latest XML is in the file
									file.save(false, mxUtils.bind(this, function()
									{
										// Saveas does not update the file descriptor in Google Drive
										file.saveAs(newTitle, mxUtils.bind(this, function(resp)
										{
											editorUi.spinner.stop();
											var url = editorUi.getUrl();
											window.openWindow(url + '#G' + resp.id, null, mxUtils.bind(this, function()
											{
												window.location.hash = 'G' + resp.id;
											}));
										}), mxUtils.bind(this, function(resp)
										{
											editorUi.handleError(resp);
										}));
									}), mxUtils.bind(this, function(resp)
									{
										editorUi.handleError(resp);
									}));
								}
							}
							else
							{
								this.editorUi.createFile(newTitle, this.editorUi.getFileData(true), null, mode);
							}
						}
					}), mxUtils.bind(this, function()
					{
						editorUi.hideDialog();
					}), mxResources.get('makeCopy'), mxResources.get('create'), null,
						null, null, null, true);
					editorUi.showDialog(dlg.container, 420, 380, true, true);
					dlg.init();
				}
				else
				{
					// Creates a copy with no predefined storage
					editorUi.editor.editAsNew(editorUi.getEditBlankXml(), title);
				}
			}
		}));
		
		editorUi.actions.addAction('moveToFolder...', mxUtils.bind(this, function()
		{
			var file = editorUi.getCurrentFile();
			
			if (file.getMode() == App.MODE_GOOGLE || file.getMode() == App.MODE_ONEDRIVE)
			{
				editorUi.pickFolder(file.getMode(), mxUtils.bind(this, function(folderId)
				{
	            	if (editorUi.spinner.spin(document.body, mxResources.get('moving')))
	            	{
	            	    file.move(folderId, mxUtils.bind(this, function(resp)
	            		{
	            	    	editorUi.spinner.stop();
	        			}), mxUtils.bind(this, function(resp)
	        			{
	        				editorUi.handleError(resp);
	        			}));
	            	}
				}));
			}
		}));
		
		this.put('publish', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			this.addMenuItems(menu, ['publishLink'], parent);
		})));

		editorUi.actions.put('offline', new Action(mxResources.get('offline') + '...', function()
		{
		    window.open('http://www.draw.io/app')
		}));
		
		editorUi.actions.put('chromeApp', new Action(mxResources.get('chromeApp') + '...', function()
		{
			window.open('https://chrome.google.com/webstore/detail/drawio-desktop/pebppomjfocnoigkeepgbmcifnnlndla')
		}));

		this.editorUi.actions.addAction('share...', mxUtils.bind(this, function()
		{
			var file = this.editorUi.getCurrentFile();
			
			if (file != null)
			{
				this.editorUi.drive.showPermissions(file.getId());
			}
		}));

		this.put('embed', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			if (urlParams['test'] == '1')
			{
				this.addMenuItems(menu, ['liveImage', '-'], parent);
			}
			
			this.addMenuItems(menu, ['embedImage', 'embedSvg', '-', 'embedHtml'], parent);
			
			if (!navigator.standalone && !editorUi.isOffline())
			{
				this.addMenuItems(menu, ['embedIframe'], parent);
			}

			if (!editorUi.isOffline())
			{
				this.addMenuItems(menu, ['-', 'googleSites', 'googleDocs'], parent);
			}
		})));

		// Overrides arrange menu to add insert submenu
		this.put('arrange', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			this.addMenuItems(menu, ['toFront', 'toBack', '-'], parent);
			this.addSubmenu('direction', menu, parent);
			this.addMenuItems(menu, ['turn', '-'], parent);
			this.addSubmenu('align', menu, parent);
			this.addSubmenu('distribute', menu, parent);
			menu.addSeparator(parent);
			this.addSubmenu('navigation', menu, parent);
			this.addSubmenu('layout', menu, parent);
			this.addMenuItems(menu, ['-', 'group', 'ungroup', 'removeFromGroup', '-', 'editGeometry', 'clearWaypoints', 'autosize'], parent);
		})));
		
		var methods = ['horizontalFlow', 'verticalFlow', '-', 'horizontalTree', 'verticalTree', '-', 'organic', 'circle', '-', 'fromText'];

		var addInsertItem = function(menu, parent, title, method)
		{
			menu.addItem(title, null, mxUtils.bind(this, function()
			{
				if (method == 'fromText')
				{
					var dlg = new ParseDialog(editorUi, title);
					editorUi.showDialog(dlg.container, 620, 420, true, false);
					editorUi.dialog.container.style.overflow = 'auto';
					dlg.init();
				}
				else
				{
					var dlg = new CreateGraphDialog(editorUi, title, method);
					editorUi.showDialog(dlg.container, 620, 420, true, false);
					// Executed after dialog is added to dom
					dlg.init();
				}
			}), parent);
		};
		
		editorUi.actions.addAction('insertText', function()
		{
			if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent()))
			{
				var pt = (graph.isMouseInsertPoint()) ? graph.getInsertPoint() : graph.getFreeInsertPoint();
				var cell = new mxCell('Text', new mxGeometry(pt.x, pt.y, 40, 20),
			    	'text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];');
				cell.vertex = true;
	    	    graph.startEditingAtCell(graph.addCell(cell));
			}
		}, null, null, 'Ctrl+Shift+X').isEnabled = isGraphEnabled;
		
		editorUi.actions.addAction('insertRectangle', function()
		{
			if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent()))
			{
				var pt = (graph.isMouseInsertPoint()) ? graph.getInsertPoint() : graph.getFreeInsertPoint();
				var cell = new mxCell('', new mxGeometry(pt.x, pt.y, 120, 60), 'whiteSpace=wrap;html=1;');
				cell.vertex = true;
	    	    graph.setSelectionCell(graph.addCell(cell));
	    	    graph.scrollCellToVisible(graph.getSelectionCell());
			}
		}, null, null, 'Ctrl+K').isEnabled = isGraphEnabled;
		
		editorUi.actions.addAction('insertEllipse', function()
		{
			if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent()))
			{
				var pt = (graph.isMouseInsertPoint()) ? graph.getInsertPoint() : graph.getFreeInsertPoint();
				var cell = new mxCell('', new mxGeometry(pt.x, pt.y, 80, 80), 'ellipse;whiteSpace=wrap;html=1;');
				cell.vertex = true;
	    	    graph.setSelectionCell(graph.addCell(cell));
	    	    graph.scrollCellToVisible(graph.getSelectionCell());
			}
		}, null, null, 'Ctrl+Shift+K').isEnabled = isGraphEnabled;
		
		this.put('insert', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			this.addMenuItems(menu, ['insertText', 'insertRectangle', 'insertEllipse', '-', 'insertLink', 'insertImage'], parent);
			menu.addSeparator(parent);
			
			for (var i = 0; i < methods.length; i++)
			{
				if (methods[i] == '-')
				{
					menu.addSeparator(parent);
				}
				else
				{
					addInsertItem(menu, parent, mxResources.get(methods[i]) + '...', methods[i]);
				}
			}
		})));

		this.put('openRecent', new Menu(function(menu, parent)
		{
			var recent = editorUi.getRecent();

			if (recent != null)
			{
				for (var i = 0; i < recent.length; i++)
				{
					(function(entry)
					{
						var modeKey = entry.mode;
						
						// Google and oneDrive use different keys
						if (modeKey == App.MODE_GOOGLE)
						{
							modeKey = 'googleDrive';
						}
						else if (modeKey == App.MODE_ONEDRIVE)
						{
							modeKey = 'oneDrive';
						}
						
						menu.addItem(entry.title + ' (' + mxResources.get(modeKey) + ')', null, function()
						{
							editorUi.loadFile(entry.id);
						}, parent);
					})(recent[i]);
				}

				menu.addSeparator(parent);
			}

			menu.addItem(mxResources.get('reset'), null, function()
			{
				editorUi.resetRecent();
			}, parent);
		}));
		
		this.put('openFrom', new Menu(function(menu, parent)
		{
			if (editorUi.drive != null)
			{
				menu.addItem(mxResources.get('googleDrive') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_GOOGLE);
				}, parent);
			}
			else if (googleEnabled)
			{
				menu.addItem(mxResources.get('googleDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}

			if (editorUi.gitHub != null)
			{
				menu.addItem(mxResources.get('github') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_GITHUB);
				}, parent);
			}
			
			if (editorUi.dropbox != null)
			{
				menu.addItem(mxResources.get('dropbox') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_DROPBOX);
				}, parent);
			}
			else if (dropboxEnabled)
			{
				menu.addItem(mxResources.get('dropbox') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			if (editorUi.oneDrive != null)
			{
				menu.addItem(mxResources.get('oneDrive') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_ONEDRIVE);
				}, parent);
			}
			else if (oneDriveEnabled)
			{
				menu.addItem(mxResources.get('oneDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			menu.addSeparator(parent);

			if (isLocalStorage && urlParams['browser'] != '0')
			{
				menu.addItem(mxResources.get('browser') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_BROWSER);
				}, parent);
			}
			
			if (!mxClient.IS_IOS)
			{
				menu.addItem(mxResources.get('device') + '...', null, function()
				{
					editorUi.pickFile(App.MODE_DEVICE);
				}, parent);
			}

			if (!editorUi.isOffline())
			{
				menu.addSeparator(parent);
				
				menu.addItem(mxResources.get('url') + '...', null, function()
				{
					var dlg = new FilenameDialog(editorUi, '', mxResources.get('open'), function(fileUrl)
					{
						if (fileUrl != null && fileUrl.length > 0)
						{
							if (editorUi.getCurrentFile() == null)
							{
								window.location.hash = '#U' + encodeURIComponent(fileUrl);
							}
							else
							{
								window.openWindow(((mxClient.IS_CHROMEAPP) ?
									'https://www.draw.io/' : 'https://' + location.host + '/') +
									window.location.search + '#U' + encodeURIComponent(fileUrl));
							}
						}
					}, mxResources.get('url'));
					editorUi.showDialog(dlg.container, 300, 80, true, true);
					dlg.init();
				}, parent);
			}
		}));
		
		this.put('newLibrary', new Menu(function(menu, parent)
		{
			if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined')
			{
				if (editorUi.drive != null)
				{
					menu.addItem(mxResources.get('googleDrive') + '...', null, function()
					{
						editorUi.showLibraryDialog(null, null, null, null, App.MODE_GOOGLE);
					}, parent);
				}
				else if (googleEnabled)
				{
					menu.addItem(mxResources.get('googleDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
					{
						// do nothing
					}, parent, null, false);
				}
			}
			
			if (editorUi.gitHub != null)
			{
				menu.addItem(mxResources.get('github') + '...', null, function()
				{
					editorUi.showLibraryDialog(null, null, null, null, App.MODE_GITHUB);
				}, parent);
			}
			
			if (editorUi.dropbox != null)
			{
				menu.addItem(mxResources.get('dropbox') + '...', null, function()
				{
					editorUi.showLibraryDialog(null, null, null, null, App.MODE_DROPBOX);
				}, parent);
			}
			else if (dropboxEnabled)
			{
				menu.addItem(mxResources.get('dropbox') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			if (editorUi.oneDrive != null)
			{
				menu.addItem(mxResources.get('oneDrive') + '...', null, function()
				{
					editorUi.showLibraryDialog(null, null, null, null, App.MODE_ONEDRIVE);
				}, parent);
			}
			else if (oneDriveEnabled)
			{
				menu.addItem(mxResources.get('oneDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			menu.addSeparator(parent);

			if (isLocalStorage && urlParams['browser'] != '0')
			{
				menu.addItem(mxResources.get('browser') + '...', null, function()
				{
					editorUi.showLibraryDialog(null, null, null, null, App.MODE_BROWSER);
				}, parent);
			}
			
			if (!mxClient.IS_IOS)
			{
				menu.addItem(mxResources.get('device') + '...', null, function()
				{
					editorUi.showLibraryDialog(null, null, null, null, App.MODE_DEVICE);
				}, parent);
			}
		}));
		
		this.put('openLibraryFrom', new Menu(function(menu, parent)
		{
			if (typeof(google) != 'undefined' && typeof(google.picker) != 'undefined')
			{
				if (editorUi.drive != null)
				{
					menu.addItem(mxResources.get('googleDrive') + '...', null, function()
					{
						editorUi.pickLibrary(App.MODE_GOOGLE);
					}, parent);
				}
				else if (googleEnabled)
				{
					menu.addItem(mxResources.get('googleDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
					{
						// do nothing
					}, parent, null, false);
				}
			}
			
			if (editorUi.gitHub != null)
			{
				menu.addItem(mxResources.get('github') + '...', null, function()
				{
					editorUi.pickLibrary(App.MODE_GITHUB);
				}, parent);
			}
			
			if (editorUi.dropbox != null)
			{
				menu.addItem(mxResources.get('dropbox') + '...', null, function()
				{
					editorUi.pickLibrary(App.MODE_DROPBOX);
				}, parent);
			}
			else if (dropboxEnabled)
			{
				menu.addItem(mxResources.get('dropbox') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			if (editorUi.oneDrive != null)
			{
				menu.addItem(mxResources.get('oneDrive') + '...', null, function()
				{
					editorUi.pickLibrary(App.MODE_ONEDRIVE);
				}, parent);
			}
			else if (oneDriveEnabled)
			{
				menu.addItem(mxResources.get('oneDrive') + ' (' + mxResources.get('loading') + '...)', null, function()
				{
					// do nothing
				}, parent, null, false);
			}
			
			menu.addSeparator(parent);

			if (isLocalStorage && urlParams['browser'] != '0')
			{
				menu.addItem(mxResources.get('browser') + '...', null, function()
				{
					editorUi.pickLibrary(App.MODE_BROWSER);
				}, parent);
			}
			
			if (!mxClient.IS_IOS)
			{
				menu.addItem(mxResources.get('device') + '...', null, function()
				{
					editorUi.pickLibrary(App.MODE_DEVICE);
				}, parent);
			}

			if (!editorUi.isOffline())
			{
				menu.addSeparator(parent);
				
				menu.addItem(mxResources.get('url') + '...', null, function()
				{
					var dlg = new FilenameDialog(editorUi, '', mxResources.get('open'), function(fileUrl)
					{
						if (fileUrl != null && fileUrl.length > 0 && editorUi.spinner.spin(document.body, mxResources.get('loading')))
						{
							var realUrl = fileUrl;
							
							if (!editorUi.isCorsEnabledForUrl(fileUrl))
							{
								realUrl = PROXY_URL + '?url=' + encodeURIComponent(fileUrl);
							}
							
							// Uses proxy to avoid CORS issues
							mxUtils.get(realUrl, function(req)
							{
								if (req.getStatus() >= 200 && req.getStatus() <= 299)
								{
									editorUi.spinner.stop();
									
									try
									{
										editorUi.loadLibrary(new UrlLibrary(this, req.getText(), fileUrl));
									}
									catch (e)
									{
										editorUi.handleError(e, mxResources.get('errorLoadingFile'));
									}
								}
								else
								{
									editorUi.spinner.stop();
									editorUi.handleError(null, mxResources.get('errorLoadingFile'));
								}
							}, function()
							{
								editorUi.spinner.stop();
								editorUi.handleError(null, mxResources.get('errorLoadingFile'));
							});
						}
					}, mxResources.get('url'));
					editorUi.showDialog(dlg.container, 300, 80, true, true);
					dlg.init();
				}, parent);
			}
		}));
		
		// Overrides edit menu to add find
		this.put('edit', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			this.addMenuItems(menu, ['undo', 'redo', '-', 'cut', 'copy', 'paste', 'delete', '-', 'duplicate', '-',
									 'find', '-',
			                         'editData', 'editTooltip', 'editStyle', '-', 'edit', '-', 'editLink', 'openLink', '-',
			                         'selectVertices', 'selectEdges', 'selectAll', 'selectNone', '-', 'lockUnlock']);
		})));
		
		// Overrides view menu to add search and scratchpad
		this.put('view', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			this.addMenuItems(menu, ((this.editorUi.format != null) ? ['formatPanel'] : []).
				concat(['outline', 'layers', '-']));
			this.addMenuItems(menu, ['-', 'search'], parent);
			
			if (isLocalStorage || mxClient.IS_CHROMEAPP)
			{
				var item = this.addMenuItem(menu, 'scratchpad', parent);
				
				if (!editorUi.isOffline() || mxClient.IS_CHROMEAPP)
				{
					this.addLinkToItem(item, 'https://desk.draw.io/support/solutions/articles/16000042367');
				}
			}
			
			this.addMenuItems(menu, ['shapes', '-', 'pageView', 'pageScale', '-',
			                         'scrollbars', 'tooltips', '-',
			                         'grid', 'guides'], parent);
			
			if (mxClient.IS_SVG && (document.documentMode == null || document.documentMode > 9))
			{
				this.addMenuItem(menu, 'shadowVisible', parent);
			}
			
			this.addMenuItems(menu, ['-', 'connectionArrows', 'connectionPoints', '-',
			                         'resetView', 'zoomIn', 'zoomOut'], parent);
		})));
		
		this.put('extras', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			if (urlParams['embed'] != '1')
			{
				this.addSubmenu('theme', menu, parent);
				menu.addSeparator(parent);
			}
			
			this.addSubmenu('insert', menu, parent);
			menu.addSeparator(parent);
			this.addMenuItems(menu, ['copyConnect', 'collapseExpand', '-'], parent);

			if (typeof(MathJax) !== 'undefined')
			{
				var item = this.addMenuItem(menu, 'mathematicalTypesetting', parent);
				this.addLinkToItem(item, 'https://desk.draw.io/support/solutions/articles/16000032875');
			}

			this.addMenuItems(menu, ['autosave', '-', 'createShape', 'editDiagram'], parent);

			menu.addSeparator(parent);
			
			if (urlParams['embed'] != '1' && isLocalStorage)
			{
				this.addMenuItems(menu, ['showStartScreen'], parent);
			}

			if (!editorUi.isOfflineApp() && urlParams['embed'] != '1')
			{
				this.addMenuItems(menu, ['plugins', '-'], parent);
				
				var item = this.addMenuItem(menu, 'tags', parent);
				
				if (!editorUi.isOffline() || mxClient.IS_CHROMEAPP)
				{
					this.addLinkToItem(item, 'https://desk.draw.io/support/solutions/articles/16000046966');
				}
				
				this.addMenuItems(menu, ['-', 'offline'], parent);
			}
			else
			{
				menu.addSeparator(parent);
			}
			
			if (!editorUi.isOffline() && !navigator.standalone && urlParams['embed'] != '1')
			{
				this.addMenuItems(menu, ['chromeApp'], parent);
			}
		})));

		this.put('file', new Menu(mxUtils.bind(this, function(menu, parent)
		{
			if (urlParams['embed'] == '1')
			{
				this.addSubmenu('importFrom', menu, parent);
				this.addSubmenu('exportAs', menu, parent);
				this.addSubmenu('embed', menu, parent);

				if (urlParams['libraries'] == '1')
				{
					this.addMenuItems(menu, ['-'], parent);
					this.addSubmenu('newLibrary', menu, parent);
					this.addSubmenu('openLibraryFrom', menu, parent);
				}
				
				this.addMenuItems(menu, ['-', 'pageSetup', 'print', '-', 'save'], parent);
				
				if (urlParams['saveAndExit'] == '1')
				{
					this.addMenuItems(menu, ['saveAndExit'], parent);
				}
				
				this.addMenuItems(menu, ['exit'], parent);
			}
			else
			{
				var file = this.editorUi.getCurrentFile();
				
				if (file != null && file.constructor == DriveFile)
				{
					if (file.isRestricted())
					{
						this.addMenuItems(menu, ['exportOptionsDisabled'], parent);
					}
					
					if (file.realtime == null)
					{
						this.addMenuItems(menu, ['save', 'share', '-'], parent);
					}
					else
					{
						if (!file.isAutosave())
						{
							this.addMenuItems(menu, ['save'], parent);
						}
						
						this.addMenuItems(menu, ['share', 'chatWindowTitle', '-'], parent);
					}
				}
				else
				{
					this.addMenuItems(menu, ['new'], parent);
				}
				
				this.addSubmenu('openFrom', menu, parent);

				if (isLocalStorage)
				{
					this.addSubmenu('openRecent', menu, parent);
				}
				
				if (file != null && file.constructor == DriveFile)
				{
					this.addMenuItems(menu, ['new', '-', 'rename', 'makeCopy', 'moveToFolder'], parent);
				}
				else
				{
					this.addMenuItems(menu, ['-', 'save', 'saveAs', '-', 'rename'], parent);
					
					if (editorUi.isOfflineApp())
					{
						if (!editorUi.isOffline())
						{
							this.addMenuItems(menu, ['upload'], parent);
						}
					}
					else
					{
						this.addMenuItems(menu, ['makeCopy'], parent);
						
						if (file != null && file.constructor == OneDriveFile)
						{
							this.addMenuItems(menu, ['moveToFolder'], parent);
						}
					}
				}
				
				menu.addSeparator(parent);
				this.addSubmenu('importFrom', menu, parent);
				this.addSubmenu('exportAs', menu, parent);
				menu.addSeparator(parent);
				this.addSubmenu('embed', menu, parent);
				this.addSubmenu('publish', menu, parent);
				menu.addSeparator(parent);
				this.addSubmenu('newLibrary', menu, parent);
				this.addSubmenu('openLibraryFrom', menu, parent);
				
				if (file != null && (file.constructor == DriveFile || file.constructor == DropboxFile))
				{
					this.addMenuItems(menu, ['-', 'revisionHistory'], parent);
				}
				
				if (file != null && file.constructor == DriveFile)
				{
					this.addMenuItems(menu, ['createRevision'], parent);
				}

				this.addMenuItems(menu, ['-', 'pageSetup'], parent);
				
				// Cannot use print in standalone mode on iOS as we cannot open new windows
				if (!mxClient.IS_IOS || !navigator.standalone)
				{
					this.addMenuItems(menu, ['print'], parent);
				}
				
				this.addMenuItems(menu, ['-', 'close']);
			}
		})));
	};
})();

