Draw.loadPlugin(function(b){b.sidebar.addPalette("esolia","eSolia",true,function(c){c.appendChild(b.sidebar.createVertexTemplate("shape=image;image=http://download.esolia.net.s3.amazonaws.com/img/eSolia-Logo-Color.svg;resizable=0;movable=0;rotatable=0",100,100));c.appendChild(b.sidebar.createVertexTemplate("text;spacingTop=-5;fontFamily=Courier New;fontSize=8;fontColor=#999999;resizable=0;movable=0;rotatable=0",100,100));c.appendChild(b.sidebar.createVertexTemplate("rounded=1;whiteSpace=wrap;gradientColor=none;fillColor=#004C99;shadow=1;strokeColor=#FFFFFF;align=center;fontColor=#FFFFFF;strokeWidth=3;fontFamily=Courier New;verticalAlign=middle",100,100));c.appendChild(b.sidebar.createVertexTemplate("curved=1;strokeColor=#004C99;endArrow=oval;endFill=0;strokeWidth=3;shadow=1;dashed=1",100,100))});var d=b.sidebar.container;d.firstChild.click();d.insertBefore(d.lastChild,d.firstChild);d.insertBefore(d.lastChild,d.firstChild);b.footerContainer.innerHTML='<img width=50px height=17px align="right" style="margin-top:14px;margin-right:12px;" src="http://download.esolia.net.s3.amazonaws.com/img/eSolia-Logo-Color.svg"/>';var a=b.editor.graph.getLabel;b.editor.graph.getLabel=function(e){var c=a.apply(this,arguments);if(c!=null){var g=new Date().toLocaleString();var h=b.getCurrentFile();var f=(h!=null&&h.getTitle()!=null)?h.getTitle():"";c=c.replace("%today%",g).replace("%filename%",f)}return c}});