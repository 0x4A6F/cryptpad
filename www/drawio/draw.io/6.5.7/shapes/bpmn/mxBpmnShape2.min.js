function mxBpmnShape(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxBpmnShape,mxShape);mxBpmnShape.prototype.eventTypeEnum={START_STANDARD:"standard",EVENT_SP_INT:"eventInt",EVENT_SP_NONINT:"eventNonint",CATCHING:"catching",BOUND_INT:"boundInt",BOUND_NONINT:"boundNonint",THROWING:"throwing",END:"end",NONE:"none",GATEWAY:"gateway"};mxBpmnShape.prototype.eventEnum={GENERAL:"general",MESSAGE:"message",TIMER:"timer",ESCALATION:"escalation",CONDITIONAL:"conditional",LINK:"link",ERROR:"error",CANCEL:"cancel",COMPENSATION:"compensation",SIGNAL:"signal",MULTIPLE:"multiple",PAR_MULTI:"parallelMultiple",TERMINATE:"terminate",GW_EXCLUSIVE:"exclusiveGw",GW_PARALLEL:"parallelGw",GW_COMPLEX:"complexGw"};mxBpmnShape.prototype.miscEnum={OUTLINE:"outline",BACKGROUND:"background",SYMBOL:"symbol",GATEWAY:"gateway"};mxBpmnShape.prototype.paintVertexShape=function(g,a,f,b,e){this.redrawPath(g,a,f,b,e,mxBpmnShape.prototype.miscEnum.BACKGROUND);var d=mxUtils.getValue(this.style,mxBpmnShape.prototype.miscEnum.BACKGROUND,mxBpmnShape.prototype.eventTypeEnum.NONE);if(d===mxBpmnShape.prototype.eventTypeEnum.GATEWAY){g.setShadow(false)}this.redrawPath(g,a,f,b,e,mxBpmnShape.prototype.miscEnum.OUTLINE);this.redrawPath(g,a,f,b,e,mxBpmnShape.prototype.miscEnum.SYMBOL)};mxBpmnShape.prototype.redrawPath=function(j,l,k,m,e,g){var d=mxUtils.getValue(this.style,mxBpmnShape.prototype.miscEnum.BACKGROUND,mxBpmnShape.prototype.eventTypeEnum.NONE);if(g==mxBpmnShape.prototype.miscEnum.BACKGROUND){if(d!=null){var i=this.backgrounds[d];if(i!=null){j.translate(l,k);i.call(this,j,l,k,m,e,g)}}}else{if(g==mxBpmnShape.prototype.miscEnum.OUTLINE){if(d===mxBpmnShape.prototype.eventTypeEnum.GATEWAY){j.translate(m/4,e/4);e/=2;m/=2;this.constraints=[new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(0.25,0.25),false),new mxConnectionConstraint(new mxPoint(0.25,0.75),false),new mxConnectionConstraint(new mxPoint(0.75,0.25),false),new mxConnectionConstraint(new mxPoint(0.75,0.75),false)]}else{this.constraints=[new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(0.145,0.145),false),new mxConnectionConstraint(new mxPoint(0.145,0.855),false),new mxConnectionConstraint(new mxPoint(0.855,0.145),false),new mxConnectionConstraint(new mxPoint(0.855,0.855),false)]}var b=mxUtils.getValue(this.style,mxBpmnShape.prototype.miscEnum.OUTLINE,mxBpmnShape.prototype.eventTypeEnum.NONE);if(b!=null){var i=this.outlines[b];if(i!=null){i.call(this,j,l,k,m,e,d===mxBpmnShape.prototype.eventTypeEnum.GATEWAY)}}}else{if(g==mxBpmnShape.prototype.miscEnum.SYMBOL){if(d===mxBpmnShape.prototype.eventTypeEnum.GATEWAY){e/=2;m/=2}var p=mxUtils.getValue(this.style,mxBpmnShape.prototype.miscEnum.SYMBOL,null);if(p!=null){var i=this.symbols[p];if(i!=null){var n=j.state.strokeColor;var a=j.state.fillColor;var b=mxUtils.getValue(this.style,mxBpmnShape.prototype.miscEnum.OUTLINE,mxBpmnShape.prototype.eventTypeEnum.NONE);if(p===mxBpmnShape.prototype.eventEnum.MESSAGE){j.translate(m*0.15,e*0.3);m=m*0.7;e=e*0.4}else{if(p===mxBpmnShape.prototype.eventEnum.TIMER){j.translate(m*0.11,e*0.11);m=m*0.78;e=e*0.78}else{if(p===mxBpmnShape.prototype.eventEnum.ESCALATION){j.translate(m*0.19,e*0.15);m=m*0.62;e=e*0.57}else{if(p===mxBpmnShape.prototype.eventEnum.CONDITIONAL){j.translate(m*0.3,e*0.16);m=m*0.4;e=e*0.68}else{if(p===mxBpmnShape.prototype.eventEnum.LINK){j.translate(m*0.27,e*0.33);m=m*0.46;e=e*0.34}else{if(p===mxBpmnShape.prototype.eventEnum.ERROR){j.translate(m*0.212,e*0.243);m=m*0.58;e=e*0.507}else{if(p===mxBpmnShape.prototype.eventEnum.CANCEL){j.translate(m*0.22,e*0.22);m=m*0.56;e=e*0.56}else{if(p===mxBpmnShape.prototype.eventEnum.COMPENSATION){j.translate(m*0.28,e*0.35);m=m*0.44;e=e*0.3}else{if(p===mxBpmnShape.prototype.eventEnum.SIGNAL){j.translate(m*0.19,e*0.15);m=m*0.62;e=e*0.57}else{if(p===mxBpmnShape.prototype.eventEnum.MULTIPLE){j.translate(m*0.2,e*0.19);m=m*0.6;e=e*0.565}else{if(p===mxBpmnShape.prototype.eventEnum.PAR_MULTI){j.translate(m*0.2,e*0.2);m=m*0.6;e=e*0.6}else{if(p===mxBpmnShape.prototype.eventEnum.TERMINATE){j.translate(m*0.05,e*0.05);m=m*0.9;e=e*0.9}else{if(p===mxBpmnShape.prototype.eventEnum.GW_EXCLUSIVE){j.translate(m*0.12,0);m=m*0.76}else{if(p===mxBpmnShape.prototype.eventEnum.GW_PARALLEL){}else{if(p===mxBpmnShape.prototype.eventEnum.GW_COMPLEX){}}}}}}}}}}}}}}}if(b===mxBpmnShape.prototype.eventTypeEnum.THROWING||b===mxBpmnShape.prototype.eventTypeEnum.END){j.setStrokeColor(a);j.setFillColor(n)}i.call(this,j,l,k,m,e,g);if(b===mxBpmnShape.prototype.eventTypeEnum.THROWING||b===mxBpmnShape.prototype.eventTypeEnum.END){j.setStrokeColor(n);j.setFillColor(a)}}}}}}};mxBpmnShape.prototype.backgrounds={none:function(f,a,e,b,d){},gateway:function(f,a,e,b,d){f.begin();f.moveTo(b/2,0);f.lineTo(b,d/2);f.lineTo(b/2,d);f.lineTo(0,d/2);f.close();f.fillAndStroke()}};mxBpmnShape.prototype.outlines={none:function(g,a,f,d,e,b){if(!b){g.setShadow(false)}},standard:function(g,a,f,d,e,b){g.ellipse(0,0,d,e);g.fillAndStroke();if(!b){g.setShadow(false)}},eventInt:function(g,a,f,d,e,b){g.ellipse(0,0,d,e);g.fillAndStroke();if(!b){g.setShadow(false)}},eventNonint:function(i,b,g,e,f,d){var a=i.state.dashed;i.setDashed(true);i.ellipse(0,0,e,f);i.fillAndStroke();i.setDashed(a);if(!d){i.setShadow(false)}},catching:function(i,a,g,d,f,b){i.ellipse(0,0,d,f);i.fillAndStroke();if(!b){i.setShadow(false)}var e=2;i.ellipse(e,e,d-2*e,f-2*e);i.stroke()},boundInt:function(i,a,g,d,f,b){i.ellipse(0,0,d,f);i.fillAndStroke();if(!b){i.setShadow(false)}var e=2;i.ellipse(e,e,d-2*e,f-2*e);i.stroke()},boundNonint:function(j,b,i,e,g,d){var a=j.state.dashed;j.setDashed(true);j.ellipse(0,0,e,g);j.fillAndStroke();if(!d){j.setShadow(false)}var f=2;j.ellipse(f,f,e-2*f,g-2*f);j.stroke();j.setDashed(a)},throwing:function(i,a,g,d,f,b){i.ellipse(0,0,d,f);i.fillAndStroke();if(!b){i.setShadow(false)}var e=2;i.ellipse(d*0.02+e,f*0.02+e,d*0.96-2*e,f*0.96-2*e);i.stroke()},end:function(i,b,g,e,f,d){var a=i.state.strokeWidth;i.setStrokeWidth(a*3);i.ellipse(0,0,e,f);i.fillAndStroke();i.setStrokeWidth(a);if(!d){i.setShadow(false)}}};mxBpmnShape.prototype.symbols={general:function(f,a,e,b,d){},message:function(f,a,e,b,d){f.rect(0,0,b,d);f.fillAndStroke();f.begin();f.moveTo(0,0);f.lineTo(b*0.5,d*0.5);f.lineTo(b,0);f.stroke()},timer:function(f,a,e,b,d){f.ellipse(0,0,b,d);f.fillAndStroke();f.begin();f.moveTo(b*0.5,0);f.lineTo(b*0.5,d*0.0642);f.moveTo(b*0.7484,d*0.0654);f.lineTo(b*0.7126,d*0.1281);f.moveTo(b*0.93,d*0.2471);f.lineTo(b*0.8673,d*0.2854);f.moveTo(b,d*0.5);f.lineTo(b*0.9338,d*0.5);f.moveTo(b*0.93,d*0.7509);f.lineTo(b*0.8673,d*0.7126);f.moveTo(b*0.7484,d*0.9326);f.lineTo(b*0.7126,d*0.8699);f.moveTo(b*0.5,d*0.9338);f.lineTo(b*0.5,d);f.moveTo(b*0.2496,d*0.9325);f.lineTo(b*0.2854,d*0.8699);f.moveTo(b*0.068,d*0.7509);f.lineTo(b*0.1307,d*0.7126);f.moveTo(0,d*0.5);f.lineTo(b*0.0642,d*0.5);f.moveTo(b*0.068,d*0.2471);f.lineTo(b*0.1307,d*0.2854);f.moveTo(b*0.2496,d*0.0654);f.lineTo(b*0.2854,d*0.1281);f.moveTo(b*0.5246,d*0.0706);f.lineTo(b*0.5,d*0.5);f.lineTo(b*0.7804,d*0.5118);f.stroke()},escalation:function(f,a,e,b,d){f.begin();f.moveTo(0,d);f.lineTo(b*0.5,0);f.lineTo(b,d);f.lineTo(b*0.5,d*0.5);f.close();f.fillAndStroke()},conditional:function(f,a,e,b,d){f.rect(0,0,b,d);f.fillAndStroke();f.begin();f.moveTo(0,d*0.1027);f.lineTo(b*0.798,d*0.1027);f.moveTo(0,d*0.3669);f.lineTo(b*0.798,d*0.3669);f.moveTo(0,d*0.6311);f.lineTo(b*0.798,d*0.6311);f.moveTo(0,d*0.8953);f.lineTo(b*0.798,d*0.8953);f.stroke()},link:function(f,a,e,b,d){f.begin();f.moveTo(0,d*0.76);f.lineTo(0,d*0.24);f.lineTo(b*0.63,d*0.24);f.lineTo(b*0.63,0);f.lineTo(b,d*0.5);f.lineTo(b*0.63,d);f.lineTo(b*0.63,d*0.76);f.close();f.fillAndStroke()},error:function(f,a,e,b,d){f.begin();f.moveTo(0,d);f.lineTo(b*0.3287,d*0.123);f.lineTo(b*0.6194,d*0.6342);f.lineTo(b,0);f.lineTo(b*0.6625,d*0.939);f.lineTo(b*0.3717,d*0.5064);f.close();f.fillAndStroke()},cancel:function(f,a,e,b,d){f.begin();f.moveTo(b*0.1051,0);f.lineTo(b*0.5,d*0.3738);f.lineTo(b*0.8909,0);f.lineTo(b,d*0.1054);f.lineTo(b*0.623,d*0.5);f.lineTo(b,d*0.8926);f.lineTo(b*0.8909,d);f.lineTo(b*0.5,d*0.6242);f.lineTo(b*0.1051,d);f.lineTo(0,d*0.8926);f.lineTo(b*0.373,d*0.5);f.lineTo(0,d*0.1054);f.close();f.fillAndStroke()},compensation:function(f,a,e,b,d){f.begin();f.moveTo(0,d*0.5);f.lineTo(b*0.5,0);f.lineTo(b*0.5,d);f.close();f.stroke();f.moveTo(b*0.5,d*0.5);f.lineTo(b,0);f.lineTo(b,d);f.close();f.fillAndStroke()},signal:function(f,a,e,b,d){f.begin();f.moveTo(0,d);f.lineTo(b*0.5,0);f.lineTo(b,d);f.close();f.fillAndStroke()},multiple:function(f,a,e,b,d){f.begin();f.moveTo(0,d*0.39);f.lineTo(b*0.5,0);f.lineTo(b,d*0.39);f.lineTo(b*0.815,d);f.lineTo(b*0.185,d);f.close();f.fillAndStroke()},parallelMultiple:function(f,a,e,b,d){f.begin();f.moveTo(b*0.38,0);f.lineTo(b*0.62,0);f.lineTo(b*0.62,d*0.38);f.lineTo(b,d*0.38);f.lineTo(b,d*0.62);f.lineTo(b*0.62,d*0.62);f.lineTo(b*0.62,d);f.lineTo(b*0.38,d);f.lineTo(b*0.38,d*0.62);f.lineTo(0,d*0.62);f.lineTo(0,d*0.38);f.lineTo(b*0.38,d*0.38);f.close();f.fillAndStroke()},terminate:function(f,a,e,b,d){f.ellipse(0,0,b,d);f.fillAndStroke()},exclusiveGw:function(i,a,g,b,d){var e=i.state.strokeColor;var f=i.state.fillColor;i.setStrokeColor(f);i.setFillColor(e);i.begin();i.moveTo(b*0.105,0);i.lineTo(b*0.5,d*0.38);i.lineTo(b*0.895,d*0);i.lineTo(b,d*0.11);i.lineTo(b*0.6172,d*0.5);i.lineTo(b,d*0.89);i.lineTo(b*0.895,d);i.lineTo(b*0.5,d*0.62);i.lineTo(b*0.105,d);i.lineTo(0,d*0.89);i.lineTo(b*0.3808,d*0.5);i.lineTo(0,d*0.11);i.close();i.fillAndStroke();i.setStrokeColor(e);i.setFillColor(f)},parallelGw:function(i,a,g,b,d){var e=i.state.strokeColor;var f=i.state.fillColor;i.setStrokeColor(f);i.setFillColor(e);i.begin();i.moveTo(b*0.38,0);i.lineTo(b*0.62,0);i.lineTo(b*0.62,d*0.38);i.lineTo(b,d*0.38);i.lineTo(b,d*0.62);i.lineTo(b*0.62,d*0.62);i.lineTo(b*0.62,d);i.lineTo(b*0.38,d);i.lineTo(b*0.38,d*0.62);i.lineTo(0,d*0.62);i.lineTo(0,d*0.38);i.lineTo(b*0.38,d*0.38);i.close();i.fillAndStroke();i.setStrokeColor(e);i.setFillColor(f)},complexGw:function(i,a,g,b,d){var e=i.state.strokeColor;var f=i.state.fillColor;i.setStrokeColor(f);i.setFillColor(e);i.begin();i.moveTo(0,d*0.44);i.lineTo(b*0.36,d*0.44);i.lineTo(b*0.1,d*0.18);i.lineTo(b*0.18,d*0.1);i.lineTo(b*0.44,d*0.36);i.lineTo(b*0.44,0);i.lineTo(b*0.56,0);i.lineTo(b*0.56,d*0.36);i.lineTo(b*0.82,d*0.1);i.lineTo(b*0.9,d*0.18);i.lineTo(b*0.64,d*0.44);i.lineTo(b,d*0.44);i.lineTo(b,d*0.56);i.lineTo(b*0.64,d*0.56);i.lineTo(b*0.9,d*0.82);i.lineTo(b*0.82,d*0.9);i.lineTo(b*0.56,d*0.64);i.lineTo(b*0.56,d);i.lineTo(b*0.44,d);i.lineTo(b*0.44,d*0.64);i.lineTo(b*0.18,d*0.9);i.lineTo(b*0.1,d*0.82);i.lineTo(b*0.36,d*0.56);i.lineTo(0,d*0.56);i.close();i.fillAndStroke();i.setStrokeColor(e);i.setFillColor(f)}};mxCellRenderer.prototype.defaultShapes["mxgraph.bpmn.shape"]=mxBpmnShape;