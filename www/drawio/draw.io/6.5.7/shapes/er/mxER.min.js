function mxShapeEREntity(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeEREntity,mxShape);mxShapeEREntity.prototype.paintVertexShape=function(e,g,f,j,b){var i=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"textColor","#666666");var k=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");e.translate(g,f);var a=10;j=Math.max(j,2*a);b=Math.max(b,2*a);this.background(e,g,f,j,b,a,d);e.setShadow(false);this.mainText(e,g,f,j,b,i,k,d)};mxShapeEREntity.prototype.background=function(f,j,i,k,d,b,e){var g=mxUtils.getValue(this.style,"buttonStyle","round").toString();if(g==="round"){f.begin();f.moveTo(0,b);f.arcTo(b,b,0,0,1,b,0);f.lineTo(k-b,0);f.arcTo(b,b,0,0,1,k,b);f.lineTo(k,d-b);f.arcTo(b,b,0,0,1,k-b,d);f.lineTo(b,d);f.arcTo(b,b,0,0,1,0,d-b);f.close();f.fillAndStroke()}else{if(g==="rect"){f.begin();f.moveTo(0,0);f.lineTo(k,0);f.lineTo(k,d);f.lineTo(0,d);f.close();f.fillAndStroke()}else{if(g==="dblFrame"){var a=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#ffffff");f.setFillColor(a);f.begin();f.moveTo(0,0);f.lineTo(k,0);f.lineTo(k,d);f.lineTo(0,d);f.close();f.fillAndStroke();b=Math.min(k,d);f.begin();f.moveTo(b*0.1,b*0.1);f.lineTo(k-b*0.1,b*0.1);f.lineTo(k-b*0.1,d-b*0.1);f.lineTo(b*0.1,d-b*0.1);f.close();f.stroke()}}}};mxShapeEREntity.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,d*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.entity"]=mxShapeEREntity;mxShapeEREntity.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeEREntityExt(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeEREntityExt,mxShape);mxShapeEREntityExt.prototype.paintVertexShape=function(l,n,m,p,j){var o=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"subText","+ attribute 1,+ attribute 2,+ attribute 3").toString().split(",");var s=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,"#666666");var r=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");var g=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#008cff");var a=mxUtils.getValue(this.style,"fillColor2","#ffffff");var b=0;l.translate(n,m);var f=10;var q=r*1.25;for(var e=0;e<d.length;e++){var k=mxUtils.getSizeForString(d[e],r,mxConstants.DEFAULT_FONTFAMILY).width;if(k>b){b=k}}p=Math.max(p,2*f,b+f);j=Math.max(j,2*f,(d.length+1)*q);this.background(l,n,m,p,j,f);l.setShadow(false);this.shapes(l,n,m,p,j,r,g,a,f,q);this.mainText(l,n,m,p,j,o,r,a);this.attrText(l,n,m,p,j,d,r,s,q,f)};mxShapeEREntityExt.prototype.background=function(i,a,g,b,e,d){var f=mxUtils.getValue(this.style,"buttonStyle","round").toString();i.begin();if(f==="round"){i.moveTo(0,d);i.arcTo(d,d,0,0,1,d,0);i.lineTo(b-d,0);i.arcTo(d,d,0,0,1,b,d);i.lineTo(b,e-d);i.arcTo(d,d,0,0,1,b-d,e);i.lineTo(d,e);i.arcTo(d,d,0,0,1,0,e-d)}else{if(f==="rect"){i.moveTo(0,0);i.lineTo(b,0);i.lineTo(b,e);i.lineTo(0,e)}}i.close();i.fillAndStroke()};mxShapeEREntityExt.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,f*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxShapeEREntityExt.prototype.shapes=function(g,j,i,k,e,m,d,a,b,l){var f=mxUtils.getValue(this.style,"buttonStyle","round").toString();if(f==="round"){g.begin();g.moveTo(0,b);g.arcTo(b,b,0,0,1,b,0);g.lineTo(k-b,0);g.arcTo(b,b,0,0,1,k,b);g.lineTo(k,l);g.lineTo(0,l);g.close();g.fill();g.setFillColor(a);g.begin();g.moveTo(k,l);g.lineTo(k,e-b);g.arcTo(b,b,0,0,1,k-b,e);g.lineTo(b,e);g.arcTo(b,b,0,0,1,0,e-b);g.lineTo(0,l);g.close();g.fill()}else{if(f==="rect"){g.begin();g.moveTo(0,0);g.lineTo(k,0);g.lineTo(k,l);g.lineTo(0,l);g.close();g.fill();g.setFillColor(a);g.begin();g.moveTo(0,l);g.lineTo(k,l);g.lineTo(k,e);g.lineTo(0,e);g.close();g.fill()}}g.begin();if(f==="round"){g.moveTo(0,b);g.arcTo(b,b,0,0,1,b,0);g.lineTo(k-b,0);g.arcTo(b,b,0,0,1,k,b);g.lineTo(k,e-b);g.arcTo(b,b,0,0,1,k-b,e);g.lineTo(b,e);g.arcTo(b,b,0,0,1,0,e-b)}else{if(f==="rect"){g.moveTo(0,0);g.lineTo(k,0);g.lineTo(k,e);g.lineTo(0,e)}}g.close();g.stroke()};mxShapeEREntityExt.prototype.attrText=function(g,k,j,l,e,a,n,f,m,d){for(var b=0;b<a.length;b++){g.begin();g.setFontSize(n);g.setFontColor(f);g.text(d*0.5,(b+1.5)*m,0,0,a[b],mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)}};mxCellRenderer.prototype.defaultShapes["mxgraph.er.entityExt"]=mxShapeEREntityExt;mxShapeEREntityExt.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERAttribute(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERAttribute,mxShape);mxShapeERAttribute.prototype.paintVertexShape=function(e,g,f,j,b){var i=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"textColor","#666666");var k=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");e.translate(g,f);var a=10;j=Math.max(j,2*a);b=Math.max(b,2*a);this.background(e,g,f,j,b,a,d);e.setShadow(false);this.mainText(e,g,f,j,b,i,k,d)};mxShapeERAttribute.prototype.background=function(f,j,i,k,d,b,e){var g=mxUtils.getValue(this.style,"buttonStyle","simple").toString();if(g==="simple"){f.begin();f.ellipse(0,0,k,d);f.fillAndStroke()}else{if(g==="dblFrame"){var a=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#666666");f.setFillColor(a);f.begin();f.ellipse(0,0,k,d);f.fillAndStroke();b=Math.min(k,d);f.begin();f.ellipse(b*0.1,b*0.1,k-b*0.2,d-b*0.2);f.stroke()}}};mxShapeERAttribute.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,d*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.attribute"]=mxShapeERAttribute;mxShapeERAttribute.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.144,0.144),false),new mxConnectionConstraint(new mxPoint(0.856,0.144),false),new mxConnectionConstraint(new mxPoint(0.856,0.856),false),new mxConnectionConstraint(new mxPoint(0.144,0.856),false),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.5,1),true)];function mxShapeERHas(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERHas,mxShape);mxShapeERHas.prototype.paintVertexShape=function(e,g,f,j,b){var i=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"textColor","#666666");var k=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");e.translate(g,f);var a=10;j=Math.max(j,2*a);b=Math.max(b,2*a);this.background(e,g,f,j,b,a,d);e.setShadow(false);this.mainText(e,g,f,j,b,i,k,d)};mxShapeERHas.prototype.background=function(f,j,i,k,d,b,e){var g=mxUtils.getValue(this.style,"buttonStyle","rhombus").toString();if(g==="rhombus"){f.begin();f.moveTo(0,d*0.5);f.lineTo(k*0.5,0);f.lineTo(k,d*0.5);f.lineTo(k*0.5,d);f.close();f.fillAndStroke()}else{if(g==="dblFrame"){var a=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#666666");f.setFillColor(a);f.begin();f.moveTo(0,d*0.5);f.lineTo(k*0.5,0);f.lineTo(k,d*0.5);f.lineTo(k*0.5,d);f.close();f.fillAndStroke();f.begin();f.moveTo(k*0.1,d*0.5);f.lineTo(k*0.5,d*0.1);f.lineTo(k*0.9,d*0.5);f.lineTo(k*0.5,d*0.9);f.close();f.stroke()}}};mxShapeERHas.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,d*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.has"]=mxShapeERHas;mxShapeERHas.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(0.25,0.25),false),new mxConnectionConstraint(new mxPoint(0.25,0.75),false),new mxConnectionConstraint(new mxPoint(0.75,0.25),false),new mxConnectionConstraint(new mxPoint(0.75,0.75),false)];function mxShapeERCloud(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERCloud,mxShape);mxShapeERCloud.prototype.paintVertexShape=function(e,g,f,j,b){var i=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"textColor","#666666");var k=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");e.translate(g,f);var a=10;j=Math.max(j,2*a);b=Math.max(b,2*a);this.background(e,g,f,j,b,a,d);e.setShadow(false);this.mainText(e,g,f,j,b,i,k,d)};mxShapeERCloud.prototype.background=function(i,a,g,b,e,d,f){i.begin();i.moveTo(0.25*b,0.25*e);i.curveTo(0.05*b,0.25*e,0,0.5*e,0.16*b,0.55*e);i.curveTo(0,0.66*e,0.18*b,0.9*e,0.31*b,0.8*e);i.curveTo(0.4*b,e,0.7*b,e,0.8*b,0.8*e);i.curveTo(b,0.8*e,b,0.6*e,0.875*b,0.5*e);i.curveTo(b,0.3*e,0.8*b,0.1*e,0.625*b,0.2*e);i.curveTo(0.5*b,0.05*e,0.3*b,0.05*e,0.25*b,0.25*e);i.fillAndStroke()};mxShapeERCloud.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,d*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.cloud"]=mxShapeERCloud;mxShapeERCloud.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.08,0.5),false),new mxConnectionConstraint(new mxPoint(0.9,0.5),false),new mxConnectionConstraint(new mxPoint(0.5,0.1),false),new mxConnectionConstraint(new mxPoint(0.5,0.92),false),new mxConnectionConstraint(new mxPoint(0.24,0.24),false),new mxConnectionConstraint(new mxPoint(0.22,0.8),false),new mxConnectionConstraint(new mxPoint(0.81,0.2),false),new mxConnectionConstraint(new mxPoint(0.78,0.78),false)];function mxShapeERHierarchy(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERHierarchy,mxShape);mxShapeERHierarchy.prototype.paintVertexShape=function(f,i,g,k,d){var j=mxUtils.getValue(this.style,"buttonText","main").toString().split(",");var a=mxUtils.getValue(this.style,"subText","sub").toString().split(",");var e=mxUtils.getValue(this.style,"textColor","#666666");var l=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");f.translate(i,g);var b=10;k=Math.max(k,2*b);d=Math.max(d,2*b);this.background(f,i,g,k,d,b,e);f.setShadow(false);this.shapeText(f,i,g,k,d,j,a,l,e)};mxShapeERHierarchy.prototype.background=function(g,l,k,m,d,b,e){var i=mxUtils.getValue(this.style,"buttonStyle","round").toString();if(i==="round"){g.begin();g.moveTo(0,b);g.arcTo(b,b,0,0,1,b,0);g.lineTo(m-b,0);g.arcTo(b,b,0,0,1,m,b);g.lineTo(m,d-b);g.arcTo(b,b,0,0,1,m-b,d);g.lineTo(b,d);g.arcTo(b,b,0,0,1,0,d-b);g.close();g.fillAndStroke()}else{if(i==="rect"){g.begin();g.moveTo(0,0);g.lineTo(m,0);g.lineTo(m,d);g.lineTo(0,d);g.close();g.fillAndStroke()}else{if(i==="dblFrame"){var a=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#666666");g.setFillColor(a);g.begin();g.moveTo(0,0);g.lineTo(m,0);g.lineTo(m,d);g.lineTo(0,d);g.close();g.fillAndStroke();b=Math.min(m,d);g.begin();g.moveTo(b*0.1,b*0.1);g.lineTo(m-b*0.1,b*0.1);g.lineTo(m-b*0.1,d-b*0.1);g.lineTo(b*0.1,d-b*0.1);g.close();g.stroke()}}}var j=0;var f=0;if(i==="round"){j=m*0.5;f=b;g.translate(j,f);m=m*0.5-b;d=d-2*b;g.begin();g.moveTo(0,b);g.arcTo(b,b,0,0,1,b,0);g.lineTo(m-b,0);g.arcTo(b,b,0,0,1,m,b);g.lineTo(m,d-b);g.arcTo(b,b,0,0,1,m-b,d);g.lineTo(b,d);g.arcTo(b,b,0,0,1,0,d-b);g.close();g.fillAndStroke()}else{if(i==="rect"){j=m*0.5;f=b;g.translate(j,f);m=m*0.5-b;d=d-2*b;g.begin();g.moveTo(0,0);g.lineTo(m,0);g.lineTo(m,d);g.lineTo(0,d);g.close();g.fillAndStroke()}else{if(i==="dblFrame"){j=m*0.5;f=b*0.15;g.translate(j,f);m=m*0.5-b*0.15;d=d-b*0.3;var a=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,"#666666");g.setFillColor(a);g.begin();g.moveTo(0,0);g.lineTo(m,0);g.lineTo(m,d);g.lineTo(0,d);g.close();g.fillAndStroke();b=Math.min(m,d);g.begin();g.moveTo(b*0.1,b*0.1);g.lineTo(m-b*0.1,b*0.1);g.lineTo(m-b*0.1,d-b*0.1);g.lineTo(b*0.1,d-b*0.1);g.close();g.stroke()}}}g.translate(-j,-f)};mxShapeERHierarchy.prototype.shapeText=function(f,i,g,j,d,k,a,l,e,b){f.begin();f.setFontSize(l);f.setFontColor(e);f.text(j*0.25,(d-l)*0.5,0,0,k[0],mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);f.text(j*0.25,(d+l)*0.5,0,0,k[1],mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);f.text(j*0.7,(d-l)*0.5,0,0,a[0],mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);f.text(j*0.7,(d+l)*0.5,0,0,a[1],mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.hierarchy"]=mxShapeERHierarchy;mxShapeERHierarchy.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERNote(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERNote,mxShape);mxShapeERNote.prototype.paintVertexShape=function(e,g,f,j,a){var i=mxUtils.getValue(this.style,"buttonText","Entity");var d=mxUtils.getValue(this.style,"textColor","#666666");var l=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");var b=mxUtils.getValue(this.style,"fillColor2","#ffffff");e.translate(g,f);var k=20;j=Math.max(j,k*2);a=Math.max(a,k*2);this.background(e,g,f,j,a,k);e.setShadow(false);this.flipShape(e,g,f,j,a,k,b);this.mainText(e,g,f,j,a,i,l,d)};mxShapeERNote.prototype.background=function(g,b,f,d,e,a){g.begin();g.moveTo(0,0);g.lineTo(d-a,0);g.lineTo(d,a);g.lineTo(d,e);g.lineTo(0,e);g.close();g.fillAndStroke()};mxShapeERNote.prototype.flipShape=function(i,b,g,d,f,a,e){i.setLineJoin("round");i.setFillColor(e);i.begin();i.moveTo(d-a,0);i.lineTo(d,a);i.lineTo(d-a,a);i.close();i.fillAndStroke()};mxShapeERNote.prototype.mainText=function(j,a,i,b,d,g,f,e){j.begin();j.setFontSize(f);j.setFontColor(e);j.text(b*0.5,d*0.5,0,0,g,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.note"]=mxShapeERNote;mxShapeERNote.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),true),new mxConnectionConstraint(new mxPoint(0,1),true),new mxConnectionConstraint(new mxPoint(1,1),true),new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERChen(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERChen,mxShape);mxShapeERChen.prototype.paintVertexShape=function(j,b,i,d,e){var f=mxUtils.getValue(this.style,"textColor","#666666");var g=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");j.translate(b,i);var a=20;d=Math.max(d,a*2);e=Math.max(e,a*2);this.background(j,b,i,d,e);j.setShadow(false);this.foreground(j,b,i,d,e,g,f)};mxShapeERChen.prototype.background=function(f,a,e,b,d){f.begin();f.moveTo(0,0);f.lineTo(b,0);f.lineTo(b,d);f.lineTo(0,d);f.close();f.fillAndStroke()};mxShapeERChen.prototype.foreground=function(i,a,g,b,d,f,e){i.begin();i.moveTo(0,d*0.25);i.lineTo(b,d*0.25);i.moveTo(0,d*0.5);i.lineTo(b,d*0.5);i.moveTo(0,d*0.75);i.lineTo(b,d*0.75);i.moveTo(b*0.25,d*0.5);i.lineTo(b*0.25,d);i.moveTo(b*0.5,d*0.25);i.lineTo(b*0.5,d);i.moveTo(b*0.75,d*0.5);i.lineTo(b*0.75,d);i.stroke();i.begin();i.setFontSize(f);i.setFontColor(e);i.text(b*0.5,d*0.125,0,0,"ERD Peter Chen's Notation",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.setFontSize(f*0.85);i.text(b*0.25,d*0.375,0,0,"Cardinality",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.75,d*0.375,0,0,"Optionality",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.setFontSize(f*0.7);i.text(b*0.125,d*0.625,0,0,"1",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.375,d*0.625,0,0,"One",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.625,d*0.625,0,0,"0",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.875,d*0.625,0,0,"Optional",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.125,d*0.875,0,0,"N",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.375,d*0.875,0,0,"Many",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.625,d*0.875,0,0,"1",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);i.text(b*0.875,d*0.875,0,0,"Mandatory",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0)};mxCellRenderer.prototype.defaultShapes["mxgraph.er.chens"]=mxShapeERChen;mxShapeERChen.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),true),new mxConnectionConstraint(new mxPoint(1,0),true),new mxConnectionConstraint(new mxPoint(0,1),true),new mxConnectionConstraint(new mxPoint(1,1),true),new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERBachman(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERBachman,mxShape);mxShapeERBachman.prototype.paintVertexShape=function(i,a,g,b,d){var e=mxUtils.getValue(this.style,"textColor","#666666");var f=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");i.translate(a,g);this.background(i,a,g,b,d);i.setShadow(false);this.foreground(i,a,g,b,d,f,e)};mxShapeERBachman.prototype.background=function(f,a,e,b,d){f.begin();f.moveTo(0,0);f.lineTo(b,0);f.lineTo(b,d);f.lineTo(0,d);f.close();f.fillAndStroke()};mxShapeERBachman.prototype.foreground=function(e,g,f,i,a,k,d){e.begin();e.moveTo(0,a*0.125);e.lineTo(i,a*0.125);e.moveTo(0,a*0.25);e.lineTo(i,a*0.25);e.moveTo(0,a*0.375);e.lineTo(i,a*0.375);e.moveTo(0,a*0.5);e.lineTo(i,a*0.5);e.moveTo(0,a*0.625);e.lineTo(i,a*0.625);e.moveTo(0,a*0.75);e.lineTo(i,a*0.75);e.moveTo(0,a*0.875);e.lineTo(i,a*0.875);e.moveTo(i*0.5,a*0.125);e.lineTo(i*0.5,a);e.stroke();e.begin();e.setFontSize(k);e.setFontColor(d);e.text(i*0.5,a*0.0625,0,0,"ERD Bachman's Notation",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.setFontSize(k*0.85);e.text(i*0.52,a*0.1875,0,0,"Relationship",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.3125,0,0,"Cardinality (One)",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.4375,0,0,"Cardinality (Many)",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.5625,0,0,"Mandatory, One",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.6875,0,0,"Mandatory, Many",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.8125,0,0,"Optional, One",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);e.text(i*0.52,a*0.9375,0,0,"Optional, Many",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);var b=mxUtils.getSizeForString("has/forms",k,mxConstants.DEFAULT_FONTFAMILY).width;e.begin();e.moveTo(i*0.04,a*0.1875);e.lineTo(i*0.25-b*0.5,a*0.1875);e.moveTo(i*0.25+b*0.5,a*0.1875);e.lineTo(i*0.46,a*0.1875);e.text(i*0.25,a*0.1875,0,0,"has/forms",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,true,0,0);e.moveTo(i*0.04,a*0.3125);e.lineTo(i*0.46,a*0.3125);e.moveTo(i*0.04,a*0.4375);e.lineTo(i*0.46,a*0.4375);e.moveTo(i*0.46,a*0.405);e.lineTo(i*0.4,a*0.4375);e.lineTo(i*0.46,a*0.47);e.moveTo(i*0.04,a*0.5625);e.lineTo(i*0.46,a*0.5625);e.moveTo(i*0.38,a*0.53);e.lineTo(i*0.38,a*0.595);e.moveTo(i*0.04,a*0.6875);e.lineTo(i*0.46,a*0.6875);e.moveTo(i*0.46,a*0.655);e.lineTo(i*0.4,a*0.6875);e.lineTo(i*0.46,a*0.72);e.moveTo(i*0.38,a*0.655);e.lineTo(i*0.38,a*0.72);e.moveTo(i*0.04,a*0.8125);e.lineTo(i*0.46,a*0.8125);e.moveTo(i*0.04,a*0.9375);e.lineTo(i*0.46,a*0.9375);e.moveTo(i*0.46,a*0.905);e.lineTo(i*0.4,a*0.9375);e.lineTo(i*0.46,a*0.97);e.stroke();var j=a/15;e.begin();e.ellipse(i*0.46-j,a*0.8125-j*0.5,j,j);e.fillAndStroke();e.begin();e.ellipse(i*0.4-j,a*0.9375-j*0.5,j,j);e.fillAndStroke()};mxCellRenderer.prototype.defaultShapes["mxgraph.er.bachmans"]=mxShapeERBachman;mxShapeERBachman.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),true),new mxConnectionConstraint(new mxPoint(1,0),true),new mxConnectionConstraint(new mxPoint(0,1),true),new mxConnectionConstraint(new mxPoint(1,1),true),new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERInfEng(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERInfEng,mxShape);mxShapeERInfEng.prototype.paintVertexShape=function(i,a,g,b,d){var e=mxUtils.getValue(this.style,"textColor","#666666");var f=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,"17");i.translate(a,g);b=Math.max(b,d/1.5);d=Math.max(d,f*5);this.background(i,a,g,b,d);i.setShadow(false);this.foreground(i,a,g,b,d,f,e)};mxShapeERInfEng.prototype.background=function(f,a,e,b,d){f.begin();f.moveTo(0,0);f.lineTo(b,0);f.lineTo(b,d);f.lineTo(0,d);f.close();f.fillAndStroke()};mxShapeERInfEng.prototype.foreground=function(j,a,i,b,e,g,f){j.begin();j.moveTo(0,e*0.2);j.lineTo(b,e*0.2);j.moveTo(0,e*0.4);j.lineTo(b,e*0.4);j.moveTo(0,e*0.6);j.lineTo(b,e*0.6);j.moveTo(0,e*0.8);j.lineTo(b,e*0.8);j.moveTo(b*0.5,e*0.2);j.lineTo(b*0.5,e);j.stroke();j.begin();j.setFontSize(g);j.setFontColor(f);j.text(b*0.5,e*0.1,0,0,"ERD Information Engineering Notation",mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);j.setFontSize(g*0.85);j.text(b*0.52,e*0.3,0,0,"Zero or one",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);j.text(b*0.52,e*0.5,0,0,"One only",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);j.text(b*0.52,e*0.7,0,0,"Zero or more",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);j.text(b*0.52,e*0.9,0,0,"One or more",mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);var d=e/12;j.begin();j.moveTo(b*0.04,e*0.3);j.lineTo(b*0.46,e*0.3);j.moveTo(b*0.46-d,e*0.25);j.lineTo(b*0.46-d,e*0.35);j.moveTo(b*0.04,e*0.5);j.lineTo(b*0.46,e*0.5);j.moveTo(b*0.46-d*2,e*0.45);j.lineTo(b*0.46-d*2,e*0.55);j.moveTo(b*0.46-d*2.5,e*0.45);j.lineTo(b*0.46-d*2.5,e*0.55);j.moveTo(b*0.04,e*0.7);j.lineTo(b*0.46,e*0.7);j.moveTo(b*0.46,e*0.65);j.lineTo(b*0.46-d*2,e*0.7);j.lineTo(b*0.46,e*0.75);j.stroke();j.moveTo(b*0.04,e*0.9);j.lineTo(b*0.46,e*0.9);j.moveTo(b*0.46,e*0.85);j.lineTo(b*0.46-d*2,e*0.9);j.lineTo(b*0.46,e*0.95);j.moveTo(b*0.46-d*2.5,e*0.85);j.lineTo(b*0.46-d*2.5,e*0.95);j.stroke();j.begin();j.ellipse(b*0.46-d*3,e*0.3-d*0.5,d,d);j.fillAndStroke();j.begin();j.ellipse(b*0.46-d*3,e*0.7-d*0.5,d,d);j.fillAndStroke()};mxCellRenderer.prototype.defaultShapes["mxgraph.er.ie"]=mxShapeERInfEng;mxShapeERInfEng.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),true),new mxConnectionConstraint(new mxPoint(1,0),true),new mxConnectionConstraint(new mxPoint(0,1),true),new mxConnectionConstraint(new mxPoint(1,1),true),new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];mxMarker.addMarker("ERone",function(g,e,h,f,j,i,m,a,k,l){var d=j*(m+k+1);var b=i*(m+k+1);return function(){g.begin();g.moveTo(f.x-d/2-b/2,f.y-b/2+d/2);g.lineTo(f.x-d/2+b/2,f.y-b/2-d/2);g.stroke()}});mxMarker.addMarker("ERmandOne",function(g,e,h,f,j,i,m,a,k,l){var d=j*(m+k+1);var b=i*(m+k+1);return function(){g.begin();g.moveTo(f.x-d/2-b/2,f.y-b/2+d/2);g.lineTo(f.x-d/2+b/2,f.y-b/2-d/2);g.moveTo(f.x-d-b/2,f.y-b+d/2);g.lineTo(f.x-d+b/2,f.y-b-d/2);g.stroke()}});mxMarker.addMarker("ERmany",function(g,e,h,f,j,i,m,a,k,l){var d=j*(m+k+1);var b=i*(m+k+1);return function(){g.begin();g.moveTo(f.x+b/2,f.y-d/2);g.lineTo(f.x-d,f.y-b);g.lineTo(f.x-b/2,f.y+d/2);g.stroke()}});mxMarker.addMarker("ERoneToMany",function(g,e,h,f,j,i,m,a,k,l){var d=j*(m+k+1);var b=i*(m+k+1);return function(){g.begin();g.moveTo(f.x-d-b/2,f.y-b+d/2);g.lineTo(f.x-d+b/2,f.y-b-d/2);g.moveTo(f.x+b/2,f.y-d/2);g.lineTo(f.x-d,f.y-b);g.lineTo(f.x-b/2,f.y+d/2);g.stroke()}});mxMarker.addMarker("ERzeroToMany",function(h,f,i,g,l,j,o,b,m,n){var e=l*(o+m+1);var d=j*(o+m+1);var k=o/2;return function(){h.begin();h.ellipse(g.x-1.5*e-k,g.y-1.5*d-k,2*k,2*k);if(n){var a=mxUtils.getValue(f.style,mxConstants.STYLE_STROKECOLOR,"#666666");h.setFillColor("#ffffff");h.fillAndStroke();h.setFillColor(a)}else{h.stroke()}h.begin();h.moveTo(g.x+d/2,g.y-e/2);h.lineTo(g.x-e,g.y-d);h.lineTo(g.x-d/2,g.y+e/2);h.stroke()}});mxMarker.addMarker("ERzeroToOne",function(h,f,i,g,l,j,o,b,m,n){var e=l*(o+m+1);var d=j*(o+m+1);var k=o/2;return function(){h.begin();h.ellipse(g.x-1.5*e-k,g.y-1.5*d-k,2*k,2*k);if(n){var a=mxUtils.getValue(f.style,mxConstants.STYLE_STROKECOLOR,"#666666");h.setFillColor("#ffffff");h.fillAndStroke();h.setFillColor(a)}else{h.stroke()}h.begin();h.moveTo(g.x-e/2-d/2,g.y-d/2+e/2);h.lineTo(g.x-e/2+d/2,g.y-d/2-e/2);h.stroke()}});function mxShapeERRRect(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxShapeERRRect,mxShape);mxShapeERRRect.prototype.cst={RRECT:"mxgraph.er.rrect",R_SIZE:"rSize"};mxShapeERRRect.prototype.paintVertexShape=function(g,a,f,b,e){g.translate(a,f);var d=parseInt(mxUtils.getValue(this.style,mxShapeERRRect.prototype.cst.R_SIZE,"10"));g.roundrect(0,0,b,e,d);g.fillAndStroke()};mxCellRenderer.registerShape(mxShapeERRRect.prototype.cst.RRECT,mxShapeERRRect);mxShapeERRRect.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0.25,0),true),new mxConnectionConstraint(new mxPoint(0.5,0),true),new mxConnectionConstraint(new mxPoint(0.75,0),true),new mxConnectionConstraint(new mxPoint(0,0.25),true),new mxConnectionConstraint(new mxPoint(0,0.5),true),new mxConnectionConstraint(new mxPoint(0,0.75),true),new mxConnectionConstraint(new mxPoint(1,0.25),true),new mxConnectionConstraint(new mxPoint(1,0.5),true),new mxConnectionConstraint(new mxPoint(1,0.75),true),new mxConnectionConstraint(new mxPoint(0.25,1),true),new mxConnectionConstraint(new mxPoint(0.5,1),true),new mxConnectionConstraint(new mxPoint(0.75,1),true)];function mxShapeERAnchor(b,d,c,a){mxShape.call(this);this.bounds=b}mxUtils.extend(mxShapeERAnchor,mxShape);mxShapeERAnchor.prototype.cst={ANCHOR:"mxgraph.er.anchor"};mxShapeERAnchor.prototype.paintVertexShape=function(f,a,e,b,d){};mxCellRenderer.registerShape(mxShapeERAnchor.prototype.cst.ANCHOR,mxShapeERAnchor);