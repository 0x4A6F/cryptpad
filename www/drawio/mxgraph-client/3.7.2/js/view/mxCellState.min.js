function mxCellState(b,a,c){this.view=b;this.cell=a;this.style=c;this.origin=new mxPoint();this.absoluteOffset=new mxPoint()}mxCellState.prototype=new mxRectangle();mxCellState.prototype.constructor=mxCellState;mxCellState.prototype.view=null;mxCellState.prototype.cell=null;mxCellState.prototype.style=null;mxCellState.prototype.invalid=true;mxCellState.prototype.origin=null;mxCellState.prototype.absolutePoints=null;mxCellState.prototype.absoluteOffset=null;mxCellState.prototype.visibleSourceState=null;mxCellState.prototype.visibleTargetState=null;mxCellState.prototype.terminalDistance=0;mxCellState.prototype.length=0;mxCellState.prototype.segments=null;mxCellState.prototype.shape=null;mxCellState.prototype.text=null;mxCellState.prototype.unscaledWidth=null;mxCellState.prototype.getPerimeterBounds=function(b,c){b=b||0;c=(c!=null)?c:new mxRectangle(this.x,this.y,this.width,this.height);if(this.shape!=null&&this.shape.stencil!=null&&this.shape.stencil.aspect=="fixed"){var a=this.shape.stencil.computeAspect(this.style,c.x,c.y,c.width,c.height);c.x=a.x;c.y=a.y;c.width=this.shape.stencil.w0*a.width;c.height=this.shape.stencil.h0*a.height}if(b!=0){c.grow(b)}return c};mxCellState.prototype.setAbsoluteTerminalPoint=function(a,b){if(b){if(this.absolutePoints==null){this.absolutePoints=[]}if(this.absolutePoints.length==0){this.absolutePoints.push(a)}else{this.absolutePoints[0]=a}}else{if(this.absolutePoints==null){this.absolutePoints=[];this.absolutePoints.push(null);this.absolutePoints.push(a)}else{if(this.absolutePoints.length==1){this.absolutePoints.push(a)}else{this.absolutePoints[this.absolutePoints.length-1]=a}}}};mxCellState.prototype.setCursor=function(a){if(this.shape!=null){this.shape.setCursor(a)}if(this.text!=null){this.text.setCursor(a)}};mxCellState.prototype.getVisibleTerminal=function(b){var a=this.getVisibleTerminalState(b);return(a!=null)?a.cell:null};mxCellState.prototype.getVisibleTerminalState=function(a){return(a)?this.visibleSourceState:this.visibleTargetState};mxCellState.prototype.setVisibleTerminalState=function(a,b){if(b){this.visibleSourceState=a}else{this.visibleTargetState=a}};mxCellState.prototype.getCellBounds=function(){return this.cellBounds};mxCellState.prototype.getPaintBounds=function(){return this.paintBounds};mxCellState.prototype.updateCachedBounds=function(){var b=this.view.translate;var a=this.view.scale;this.cellBounds=new mxRectangle(this.x/a-b.x,this.y/a-b.y,this.width/a,this.height/a);this.paintBounds=mxRectangle.fromRectangle(this.cellBounds);if(this.shape!=null&&this.shape.isPaintBoundsInverted()){this.paintBounds.rotate90()}};mxCellState.prototype.setState=function(a){this.view=a.view;this.cell=a.cell;this.style=a.style;this.absolutePoints=a.absolutePoints;this.origin=a.origin;this.absoluteOffset=a.absoluteOffset;this.boundingBox=a.boundingBox;this.terminalDistance=a.terminalDistance;this.segments=a.segments;this.length=a.length;this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;this.unscaledWidth=a.unscaledWidth};mxCellState.prototype.clone=function(){var b=new mxCellState(this.view,this.cell,this.style);if(this.absolutePoints!=null){b.absolutePoints=[];for(var a=0;a<this.absolutePoints.length;a++){b.absolutePoints[a]=this.absolutePoints[a].clone()}}if(this.origin!=null){b.origin=this.origin.clone()}if(this.absoluteOffset!=null){b.absoluteOffset=this.absoluteOffset.clone()}if(this.boundingBox!=null){b.boundingBox=this.boundingBox.clone()}b.terminalDistance=this.terminalDistance;b.segments=this.segments;b.length=this.length;b.x=this.x;b.y=this.y;b.width=this.width;b.height=this.height;b.unscaledWidth=this.unscaledWidth;return b};mxCellState.prototype.destroy=function(){this.view.graph.cellRenderer.destroy(this)};