mxCodecRegistry.register(function(){var a=new mxObjectCodec(new mxGraphView());a.encode=function(c,b){return this.encodeCell(c,b,b.graph.getModel().getRoot())};a.encodeCell=function(e,k,b){var d=k.graph.getModel();var f=k.getState(b);var j=d.getParent(b);if(j==null||f!=null){var q=d.getChildCount(b);var s=k.graph.getCellGeometry(b);var t=null;if(j==d.getRoot()){t="layer"}else{if(j==null){t="graph"}else{if(d.isEdge(b)){t="edge"}else{if(q>0&&s!=null){t="group"}else{if(d.isVertex(b)){t="vertex"}}}}}if(t!=null){var o=e.document.createElement(t);var n=k.graph.getLabel(b);if(n!=null){o.setAttribute("label",k.graph.getLabel(b));if(k.graph.isHtmlLabel(b)){o.setAttribute("html",true)}}if(j==null){var h=k.getGraphBounds();if(h!=null){o.setAttribute("x",Math.round(h.x));o.setAttribute("y",Math.round(h.y));o.setAttribute("width",Math.round(h.width));o.setAttribute("height",Math.round(h.height))}o.setAttribute("scale",k.scale)}else{if(f!=null&&s!=null){for(var p in f.style){var m=f.style[p];if(typeof(m)=="function"&&typeof(m)=="object"){m=mxStyleRegistry.getName(m)}if(m!=null&&typeof(m)!="function"&&typeof(m)!="object"){o.setAttribute(p,m)}}var l=f.absolutePoints;if(l!=null&&l.length>0){var r=Math.round(l[0].x)+","+Math.round(l[0].y);for(var p=1;p<l.length;p++){r+=" "+Math.round(l[p].x)+","+Math.round(l[p].y)}o.setAttribute("points",r)}else{o.setAttribute("x",Math.round(f.x));o.setAttribute("y",Math.round(f.y));o.setAttribute("width",Math.round(f.width));o.setAttribute("height",Math.round(f.height))}var g=f.absoluteOffset;if(g!=null){if(g.x!=0){o.setAttribute("dx",Math.round(g.x))}if(g.y!=0){o.setAttribute("dy",Math.round(g.y))}}}}for(var p=0;p<q;p++){var c=this.encodeCell(e,k,d.getChildAt(b,p));if(c!=null){o.appendChild(c)}}}}return o};return a}());