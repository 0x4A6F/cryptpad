function mxCodec(a){this.document=a||mxUtils.createXmlDocument();this.objects=[]}mxCodec.prototype.document=null;mxCodec.prototype.objects=null;mxCodec.prototype.elements=null;mxCodec.prototype.encodeDefaults=false;mxCodec.prototype.putObject=function(b,a){this.objects[b]=a;return a};mxCodec.prototype.getObject=function(c){var b=null;if(c!=null){b=this.objects[c];if(b==null){b=this.lookup(c);if(b==null){var a=this.getElementById(c);if(a!=null){b=this.decode(a)}}}}return b};mxCodec.prototype.lookup=function(a){return null};mxCodec.prototype.getElementById=function(a){if(this.elements==null){if(this.document.documentElement==null){throw new Error("mxCodec constructor needs document parameter")}this.elements=new Object();this.addElement(this.document.documentElement)}return this.elements[a]};mxCodec.prototype.addElement=function(a){if(a.nodeType==mxConstants.NODETYPE_ELEMENT){var b=a.getAttribute("id");if(b!=null&&this.elements[b]==null){this.elements[b]=a}}a=a.firstChild;while(a!=null){this.addElement(a);a=a.nextSibling}};mxCodec.prototype.getId=function(a){var b=null;if(a!=null){b=this.reference(a);if(b==null&&a instanceof mxCell){b=a.getId();if(b==null){b=mxCellPath.create(a);if(b.length==0){b="root"}}}}return b};mxCodec.prototype.reference=function(a){return null};mxCodec.prototype.encode=function(c){var b=null;if(c!=null&&c.constructor!=null){var a=mxCodecRegistry.getCodec(c.constructor);if(a!=null){b=a.encode(this,c)}else{if(mxUtils.isNode(c)){b=mxUtils.importNode(this.document,c,true)}else{mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName(c.constructor))}}}return b};mxCodec.prototype.decode=function(d,a){var e=null;if(d!=null&&d.nodeType==mxConstants.NODETYPE_ELEMENT){var c=null;try{c=window[d.nodeName]}catch(b){}var f=mxCodecRegistry.getCodec(c);if(f!=null){e=f.decode(this,d,a)}else{e=d.cloneNode(true);e.removeAttribute("as")}}return e};mxCodec.prototype.encodeCell=function(b,e,a){e.appendChild(this.encode(b));if(a==null||a){var c=b.getChildCount();for(var d=0;d<c;d++){this.encodeCell(b.getChildAt(d),e)}}};mxCodec.prototype.isCellCodec=function(a){if(a!=null&&typeof(a.isCellCodec)=="function"){return a.isCellCodec()}return false};mxCodec.prototype.decodeCell=function(c,b){b=(b!=null)?b:true;var a=null;if(c!=null&&c.nodeType==mxConstants.NODETYPE_ELEMENT){var e=mxCodecRegistry.getCodec(c.nodeName);if(!this.isCellCodec(e)){var d=c.firstChild;while(d!=null&&!this.isCellCodec(e)){e=mxCodecRegistry.getCodec(d.nodeName);d=d.nextSibling}}if(!this.isCellCodec(e)){e=mxCodecRegistry.getCodec(mxCell)}a=e.decode(this,c);if(b){this.insertIntoGraph(a)}}return a};mxCodec.prototype.insertIntoGraph=function(a){var b=a.parent;var c=a.getTerminal(true);var d=a.getTerminal(false);a.setTerminal(null,false);a.setTerminal(null,true);a.parent=null;if(b!=null){b.insert(a)}if(c!=null){c.insertEdge(a,true)}if(d!=null){d.insertEdge(a,false)}};mxCodec.prototype.setAttribute=function(b,a,c){if(a!=null&&c!=null){b.setAttribute(a,c)}};