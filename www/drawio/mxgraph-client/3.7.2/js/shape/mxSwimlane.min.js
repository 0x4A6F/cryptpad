function mxSwimlane(b,d,c,a){mxShape.call(this);this.bounds=b;this.fill=d;this.stroke=c;this.strokewidth=(a!=null)?a:1}mxUtils.extend(mxSwimlane,mxShape);mxSwimlane.prototype.imageSize=16;mxSwimlane.prototype.getTitleSize=function(){return Math.max(0,mxUtils.getValue(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE))};mxSwimlane.prototype.getLabelBounds=function(j){var d=this.getTitleSize();var a=new mxRectangle(j.x,j.y,j.width,j.height);var c=this.isHorizontal();var i=mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0)==1;var b=mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0)==1;var e=(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH);var h=c==!e;var f=!h&&i!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);var k=h&&b!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);if(!e){var g=Math.min(a.height,d*this.scale);if(f||k){a.y+=a.height-g}a.height=g}else{var g=Math.min(a.width,d*this.scale);if(f||k){a.x+=a.width-g}a.width=g}return a};mxSwimlane.prototype.getGradientBounds=function(g,a,f,b,d){var e=this.getTitleSize();if(this.isHorizontal()){e=Math.min(e,d);return new mxRectangle(a,f,b,e)}else{e=Math.min(e,b);return new mxRectangle(a,f,e,d)}};mxSwimlane.prototype.getArcSize=function(a,b,d){var c=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.RECTANGLE_ROUNDING_FACTOR*100)/100;return d*c*3};mxSwimlane.prototype.isHorizontal=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)==1};mxSwimlane.prototype.paintVertexShape=function(g,j,i,k,e){var d=this.getTitleSize();var l=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE);var f=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1)==1;var b=0;if(this.isHorizontal()){d=Math.min(d,e)}else{d=Math.min(d,k)}g.translate(j,i);if(!this.isRounded){this.paintSwimlane(g,j,i,k,e,d,l,f)}else{b=this.getArcSize(k,e,d);this.paintRoundedSwimlane(g,j,i,k,e,d,b,l,f)}var m=mxUtils.getValue(this.style,mxConstants.STYLE_SEPARATORCOLOR,mxConstants.NONE);this.paintSeparator(g,j,i,k,e,d,m);if(this.image!=null){var a=this.getImageBounds(j,i,k,e);g.image(a.x-j,a.y-i,a.width,a.height,this.image,false,false,false)}if(this.glass){g.setShadow(false);this.paintGlassEffect(g,0,0,k,d,b)}};mxSwimlane.prototype.paintSwimlane=function(j,a,i,b,e,g,f,d){if(f!=mxConstants.NONE){j.save();j.setFillColor(f);j.rect(0,0,b,e);j.fillAndStroke();j.restore();j.setShadow(false)}j.begin();if(this.isHorizontal()){j.moveTo(0,g);j.lineTo(0,0);j.lineTo(b,0);j.lineTo(b,g);if(d||g>=e){j.close()}j.fillAndStroke();if(g<e&&f==mxConstants.NONE){j.pointerEvents=false;j.begin();j.moveTo(0,g);j.lineTo(0,e);j.lineTo(b,e);j.lineTo(b,g);j.stroke()}}else{j.moveTo(g,0);j.lineTo(0,0);j.lineTo(0,e);j.lineTo(g,e);if(d||g>=b){j.close()}j.fillAndStroke();if(g<b&&f==mxConstants.NONE){j.pointerEvents=false;j.begin();j.moveTo(g,0);j.lineTo(b,0);j.lineTo(b,e);j.lineTo(g,e);j.stroke()}}};mxSwimlane.prototype.paintRoundedSwimlane=function(f,i,g,j,d,b,a,k,e){a=Math.min(d-b,Math.min(b,a));if(k!=mxConstants.NONE){f.save();f.setFillColor(k);f.roundrect(0,0,j,d,a,a);f.fillAndStroke();f.restore();f.setShadow(false)}f.begin();if(this.isHorizontal()){f.moveTo(j,b);f.lineTo(j,a);f.quadTo(j,0,j-Math.min(j/2,a),0);f.lineTo(Math.min(j/2,a),0);f.quadTo(0,0,0,a);f.lineTo(0,b);if(e||b>=d){f.close()}f.fillAndStroke();if(b<d&&k==mxConstants.NONE){f.pointerEvents=false;f.begin();f.moveTo(0,b);f.lineTo(0,d-a);f.quadTo(0,d,Math.min(j/2,a),d);f.lineTo(j-Math.min(j/2,a),d);f.quadTo(j,d,j,d-a);f.lineTo(j,b);f.stroke()}}else{f.moveTo(b,0);f.lineTo(a,0);f.quadTo(0,0,0,Math.min(d/2,a));f.lineTo(0,d-Math.min(d/2,a));f.quadTo(0,d,a,d);f.lineTo(b,d);if(e||b>=j){f.close()}f.fillAndStroke();if(b<j&&k==mxConstants.NONE){f.pointerEvents=false;f.begin();f.moveTo(b,d);f.lineTo(j-a,d);f.quadTo(j,d,j,d-Math.min(d/2,a));f.lineTo(j,Math.min(d/2,a));f.quadTo(j,0,j-a,0);f.lineTo(b,0);f.stroke()}}};mxSwimlane.prototype.paintSeparator=function(i,a,g,b,e,f,d){if(d!=mxConstants.NONE){i.setStrokeColor(d);i.setDashed(true);i.begin();if(this.isHorizontal()){i.moveTo(b,f);i.lineTo(b,e)}else{i.moveTo(f,0);i.lineTo(b,0)}i.stroke();i.setDashed(false)}};mxSwimlane.prototype.getImageBounds=function(a,d,b,c){if(this.isHorizontal()){return new mxRectangle(a+b-this.imageSize,d,this.imageSize,this.imageSize)}else{return new mxRectangle(a,d,this.imageSize,this.imageSize)}};