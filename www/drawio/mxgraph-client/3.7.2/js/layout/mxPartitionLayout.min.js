function mxPartitionLayout(c,a,d,b){mxGraphLayout.call(this,c);this.horizontal=(a!=null)?a:true;this.spacing=d||0;this.border=b||0}mxPartitionLayout.prototype=new mxGraphLayout();mxPartitionLayout.prototype.constructor=mxPartitionLayout;mxPartitionLayout.prototype.horizontal=null;mxPartitionLayout.prototype.spacing=null;mxPartitionLayout.prototype.border=null;mxPartitionLayout.prototype.resizeVertices=true;mxPartitionLayout.prototype.isHorizontal=function(){return this.horizontal};mxPartitionLayout.prototype.moveCell=function(m,h,g){var f=this.graph.getModel();var k=f.getParent(m);if(m!=null&&k!=null){var e=0;var l=0;var c=f.getChildCount(k);for(e=0;e<c;e++){var b=f.getChildAt(k,e);var a=this.getVertexBounds(b);if(a!=null){var d=a.x+a.width/2;if(l<h&&d>h){break}l=d}}var j=k.getIndex(m);j=Math.max(0,e-((e>j)?1:0));f.add(k,m,j)}};mxPartitionLayout.prototype.execute=function(f){var r=this.isHorizontal();var b=this.graph.getModel();var m=b.getGeometry(f);if(this.graph.container!=null&&((m==null&&b.isLayer(f))||f==this.graph.getView().currentRoot)){var k=this.graph.container.offsetWidth-1;var h=this.graph.container.offsetHeight-1;m=new mxRectangle(0,0,k,h)}if(m!=null){var c=[];var p=b.getChildCount(f);for(var o=0;o<p;o++){var e=b.getChildAt(f,o);if(!this.isVertexIgnored(e)&&this.isVertexMovable(e)){c.push(e)}}var j=c.length;if(j>0){var q=this.border;var a=this.border;var d=(r)?m.height:m.width;d-=2*this.border;var g=(this.graph.isSwimlane(f))?this.graph.getStartSize(f):new mxRectangle();d-=(r)?g.height:g.width;q=q+g.width;a=a+g.height;var s=this.border+(j-1)*this.spacing;var l=(r)?((m.width-q-s)/j):((m.height-a-s)/j);if(l>0){b.beginUpdate();try{for(var o=0;o<j;o++){var e=c[o];var t=b.getGeometry(e);if(t!=null){t=t.clone();t.x=q;t.y=a;if(r){if(this.resizeVertices){t.width=l;t.height=d}q+=l+this.spacing}else{if(this.resizeVertices){t.height=l;t.width=d}a+=l+this.spacing}b.setGeometry(e,t)}}}finally{b.endUpdate()}}}}};