function mxPanningManager(a){this.thread=null;this.active=false;this.tdx=0;this.tdy=0;this.t0x=0;this.t0y=0;this.dx=0;this.dy=0;this.scrollbars=false;this.scrollLeft=0;this.scrollTop=0;this.mouseListener={mouseDown:function(c,d){},mouseMove:function(c,d){},mouseUp:mxUtils.bind(this,function(c,d){if(this.active){this.stop()}})};a.addMouseListener(this.mouseListener);mxEvent.addListener(document,"mouseup",mxUtils.bind(this,function(){if(this.active){this.stop()}}));var b=mxUtils.bind(this,function(){this.scrollbars=mxUtils.hasScrollbars(a.container);this.scrollLeft=a.container.scrollLeft;this.scrollTop=a.container.scrollTop;return window.setInterval(mxUtils.bind(this,function(){this.tdx-=this.dx;this.tdy-=this.dy;if(this.scrollbars){var d=-a.container.scrollLeft-Math.ceil(this.dx);var c=-a.container.scrollTop-Math.ceil(this.dy);a.panGraph(d,c);a.panDx=this.scrollLeft-a.container.scrollLeft;a.panDy=this.scrollTop-a.container.scrollTop;a.fireEvent(new mxEventObject(mxEvent.PAN))}else{a.panGraph(this.getDx(),this.getDy())}}),this.delay)});this.isActive=function(){return active};this.getDx=function(){return Math.round(this.tdx)};this.getDy=function(){return Math.round(this.tdy)};this.start=function(){this.t0x=a.view.translate.x;this.t0y=a.view.translate.y;this.active=true};this.panTo=function(d,i,e,f){if(!this.active){this.start()}this.scrollLeft=a.container.scrollLeft;this.scrollTop=a.container.scrollTop;e=(e!=null)?e:0;f=(f!=null)?f:0;var g=a.container;this.dx=d+e-g.scrollLeft-g.clientWidth;if(this.dx<0&&Math.abs(this.dx)<this.border){this.dx=this.border+this.dx}else{if(this.handleMouseOut){this.dx=Math.max(this.dx,0)}else{this.dx=0}}if(this.dx==0){this.dx=d-g.scrollLeft;if(this.dx>0&&this.dx<this.border){this.dx=this.dx-this.border}else{if(this.handleMouseOut){this.dx=Math.min(0,this.dx)}else{this.dx=0}}}this.dy=i+f-g.scrollTop-g.clientHeight;if(this.dy<0&&Math.abs(this.dy)<this.border){this.dy=this.border+this.dy}else{if(this.handleMouseOut){this.dy=Math.max(this.dy,0)}else{this.dy=0}}if(this.dy==0){this.dy=i-g.scrollTop;if(this.dy>0&&this.dy<this.border){this.dy=this.dy-this.border}else{if(this.handleMouseOut){this.dy=Math.min(0,this.dy)}else{this.dy=0}}}if(this.dx!=0||this.dy!=0){this.dx*=this.damper;this.dy*=this.damper;if(this.thread==null){this.thread=b()}}else{if(this.thread!=null){window.clearInterval(this.thread);this.thread=null}}};this.stop=function(){if(this.active){this.active=false;if(this.thread!=null){window.clearInterval(this.thread);this.thread=null}this.tdx=0;this.tdy=0;if(!this.scrollbars){var d=a.panDx;var c=a.panDy;if(d!=0||c!=0){a.panGraph(0,0);a.view.setTranslate(this.t0x+d/a.view.scale,this.t0y+c/a.view.scale)}}else{a.panDx=0;a.panDy=0;a.fireEvent(new mxEventObject(mxEvent.PAN))}}};this.destroy=function(){a.removeMouseListener(this.mouseListener)}}mxPanningManager.prototype.damper=1/6;mxPanningManager.prototype.delay=10;mxPanningManager.prototype.handleMouseOut=true;mxPanningManager.prototype.border=0;