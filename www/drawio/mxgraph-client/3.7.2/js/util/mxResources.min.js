var mxResources={resources:[],extension:mxResourceExtension,resourcesEncoded:false,loadDefaultBundle:true,loadSpecialBundle:true,isLanguageSupported:function(a){if(mxClient.languages!=null){return mxUtils.indexOf(mxClient.languages,a)>=0}return true},getDefaultBundle:function(b,a){if(mxResources.loadDefaultBundle||!mxResources.isLanguageSupported(a)){return b+mxResources.extension}else{return null}},getSpecialBundle:function(b,a){if(mxClient.languages==null||!this.isLanguageSupported(a)){var c=a.indexOf("-");if(c>0){a=a.substring(0,c)}}if(mxResources.loadSpecialBundle&&mxResources.isLanguageSupported(a)&&a!=mxClient.defaultLanguage){return b+"_"+a+mxResources.extension}else{return null}},add:function(g,b,i){b=(b!=null)?b:((mxClient.language!=null)?mxClient.language.toLowerCase():mxConstants.NONE);if(b!=mxConstants.NONE){var h=mxResources.getDefaultBundle(g,b);var a=mxResources.getSpecialBundle(g,b);var c=function(){if(a!=null){if(i){mxUtils.get(a,function(e){mxResources.parse(e.getText());i()},function(){i()})}else{try{var j=mxUtils.load(a);if(j.isReady()){mxResources.parse(j.getText())}}catch(k){}}}else{if(i!=null){i()}}};if(h!=null){if(i){mxUtils.get(h,function(e){mxResources.parse(e.getText());c()},function(){c()})}else{try{var d=mxUtils.load(h);if(d.isReady()){mxResources.parse(d.getText())}c()}catch(f){}}}else{c()}}},parse:function(g){if(g!=null){var b=g.split("\n");for(var e=0;e<b.length;e++){if(b[e].charAt(0)!="#"){var c=b[e].indexOf("=");if(c>0){var d=b[e].substring(0,c);var a=b[e].length;if(b[e].charCodeAt(a-1)==13){a--}var f=b[e].substring(c+1,a);if(this.resourcesEncoded){f=f.replace(/\\(?=u[a-fA-F\d]{4})/g,"%");mxResources.resources[d]=unescape(f)}else{mxResources.resources[d]=f}}}}}},get:function(b,d,a){var c=mxResources.resources[b];if(c==null){c=a}if(c!=null&&d!=null){c=mxResources.replacePlaceholders(c,d)}return c},replacePlaceholders:function(e,f){var a=[];var b=null;for(var d=0;d<e.length;d++){var g=e.charAt(d);if(g=="{"){b=""}else{if(b!=null&&g=="}"){b=parseInt(b)-1;if(b>=0&&b<f.length){a.push(f[b])}b=null}else{if(b!=null){b+=g}else{a.push(g)}}}}return a.join("")},loadResources:function(a){mxResources.add(mxClient.basePath+"/resources/editor",null,function(){mxResources.add(mxClient.basePath+"/resources/graph",null,a)})}};