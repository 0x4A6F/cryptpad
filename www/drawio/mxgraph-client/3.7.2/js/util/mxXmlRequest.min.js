function mxXmlRequest(b,d,f,c,e,a){this.url=b;this.params=d;this.method=f||"POST";this.async=(c!=null)?c:true;this.username=e;this.password=a}mxXmlRequest.prototype.url=null;mxXmlRequest.prototype.params=null;mxXmlRequest.prototype.method=null;mxXmlRequest.prototype.async=null;mxXmlRequest.prototype.binary=false;mxXmlRequest.prototype.withCredentials=false;mxXmlRequest.prototype.username=null;mxXmlRequest.prototype.password=null;mxXmlRequest.prototype.request=null;mxXmlRequest.prototype.decodeSimulateValues=false;mxXmlRequest.prototype.isBinary=function(){return this.binary};mxXmlRequest.prototype.setBinary=function(a){this.binary=a};mxXmlRequest.prototype.getText=function(){return this.request.responseText};mxXmlRequest.prototype.isReady=function(){return this.request.readyState==4};mxXmlRequest.prototype.getDocumentElement=function(){var a=this.getXml();if(a!=null){return a.documentElement}return null};mxXmlRequest.prototype.getXml=function(){var a=this.request.responseXML;if(document.documentMode>=9||a==null||a.documentElement==null){a=mxUtils.parseXml(this.request.responseText)}return a};mxXmlRequest.prototype.getText=function(){return this.request.responseText};mxXmlRequest.prototype.getStatus=function(){return this.request.status};mxXmlRequest.prototype.create=function(){if(window.XMLHttpRequest){return function(){var a=new XMLHttpRequest();if(this.isBinary()&&a.overrideMimeType){a.overrideMimeType("text/plain; charset=x-user-defined")}return a}}else{if(typeof(ActiveXObject)!="undefined"){return function(){return new ActiveXObject("Microsoft.XMLHTTP")}}}}();mxXmlRequest.prototype.send=function(d,b,c,a){this.request=this.create();if(this.request!=null){if(d!=null){this.request.onreadystatechange=mxUtils.bind(this,function(){if(this.isReady()){d(this);this.onreadystatechaange=null}})}this.request.open(this.method,this.url,this.async,this.username,this.password);this.setRequestHeaders(this.request,this.params);if(window.XMLHttpRequest&&this.withCredentials){this.request.withCredentials="true"}if(!mxClient.IS_QUIRKS&&(document.documentMode==null||document.documentMode>9)&&window.XMLHttpRequest&&c!=null&&a!=null){this.request.timeout=c;this.request.ontimeout=a}this.request.send(this.params)}};mxXmlRequest.prototype.setRequestHeaders=function(a,b){if(b!=null){a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}};mxXmlRequest.prototype.simulate=function(k,f){k=k||document;var d=null;if(k==document){d=window.onbeforeunload;window.onbeforeunload=null}var b=k.createElement("form");b.setAttribute("method",this.method);b.setAttribute("action",this.url);if(f!=null){b.setAttribute("target",f)}b.style.display="none";b.style.visibility="hidden";var c=(this.params.indexOf("&")>0)?this.params.split("&"):this.params.split();for(var e=0;e<c.length;e++){var g=c[e].indexOf("=");if(g>0){var a=c[e].substring(0,g);var j=c[e].substring(g+1);if(this.decodeSimulateValues){j=decodeURIComponent(j)}var h=k.createElement("textarea");h.setAttribute("wrap","off");h.setAttribute("name",a);mxUtils.write(h,j);b.appendChild(h)}}k.body.appendChild(b);b.submit();if(b.parentNode!=null){b.parentNode.removeChild(b)}if(d!=null){window.onbeforeunload=d}};