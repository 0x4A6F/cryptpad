var mxEvent={objects:[],addListener:function(){var a=function(d,c,b){if(d.mxListenerList==null){d.mxListenerList=[];mxEvent.objects.push(d)}var e={name:c,f:b};d.mxListenerList.push(e)};if(window.addEventListener){return function(d,c,b){d.addEventListener(c,b,false);a(d,c,b)}}else{return function(d,c,b){d.attachEvent("on"+c,b);a(d,c,b)}}}(),removeListener:function(){var a=function(f,d,c){if(f.mxListenerList!=null){var h=f.mxListenerList.length;for(var e=0;e<h;e++){var g=f.mxListenerList[e];if(g.f==c){f.mxListenerList.splice(e,1);break}}if(f.mxListenerList.length==0){f.mxListenerList=null;var b=mxUtils.indexOf(mxEvent.objects,f);if(b>=0){mxEvent.objects.splice(b,1)}}}};if(window.removeEventListener){return function(d,c,b){d.removeEventListener(c,b,false);a(d,c,b)}}else{return function(d,c,b){d.detachEvent("on"+c,b);a(d,c,b)}}}(),removeAllListeners:function(a){var c=a.mxListenerList;if(c!=null){while(c.length>0){var b=c[0];mxEvent.removeListener(a,b.name,b.f)}}},addGestureListeners:function(c,a,d,b){if(a!=null){mxEvent.addListener(c,(mxClient.IS_POINTER)?"pointerdown":"mousedown",a)}if(d!=null){mxEvent.addListener(c,(mxClient.IS_POINTER)?"pointermove":"mousemove",d)}if(b!=null){mxEvent.addListener(c,(mxClient.IS_POINTER)?"pointerup":"mouseup",b)}if(!mxClient.IS_POINTER&&mxClient.IS_TOUCH){if(a!=null){mxEvent.addListener(c,"touchstart",a)}if(d!=null){mxEvent.addListener(c,"touchmove",d)}if(b!=null){mxEvent.addListener(c,"touchend",b)}}},removeGestureListeners:function(c,a,d,b){if(a!=null){mxEvent.removeListener(c,(mxClient.IS_POINTER)?"pointerdown":"mousedown",a)}if(d!=null){mxEvent.removeListener(c,(mxClient.IS_POINTER)?"pointermove":"mousemove",d)}if(b!=null){mxEvent.removeListener(c,(mxClient.IS_POINTER)?"pointerup":"mouseup",b)}if(!mxClient.IS_POINTER&&mxClient.IS_TOUCH){if(a!=null){mxEvent.removeListener(c,"touchstart",a)}if(d!=null){mxEvent.removeListener(c,"touchmove",d)}if(b!=null){mxEvent.removeListener(c,"touchend",b)}}},redirectMouseEvents:function(e,g,f,h,b,a,d){var c=function(i){return(typeof(f)=="function")?f(i):f};mxEvent.addGestureListeners(e,function(i){if(h!=null){h(i)}else{if(!mxEvent.isConsumed(i)){g.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(i,c(i)))}}},function(i){if(b!=null){b(i)}else{if(!mxEvent.isConsumed(i)){g.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(i,c(i)))}}},function(i){if(a!=null){a(i)}else{if(!mxEvent.isConsumed(i)){g.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(i,c(i)))}}});mxEvent.addListener(e,"dblclick",function(i){if(d!=null){d(i)}else{if(!mxEvent.isConsumed(i)){var j=c(i);g.dblClick(i,(j!=null)?j.cell:null)}}})},release:function(d){if(d!=null){mxEvent.removeAllListeners(d);var c=d.childNodes;if(c!=null){var a=c.length;for(var b=0;b<a;b+=1){mxEvent.release(c[b])}}}},addMouseWheelListener:function(a){if(a!=null){var c=function(d){if(d==null){d=window.event}var e=0;if(mxClient.IS_FF){e=-d.detail/2}else{e=d.wheelDelta/120}if(e!=0){a(d,e>0)}};if(mxClient.IS_NS&&document.documentMode==null){var b=(mxClient.IS_SF||mxClient.IS_GC)?"mousewheel":"DOMMouseScroll";mxEvent.addListener(window,b,c)}else{mxEvent.addListener(document,"mousewheel",c)}}},disableContextMenu:function(){if(mxClient.IS_IE&&(typeof(document.documentMode)==="undefined"||document.documentMode<9)){return function(a){mxEvent.addListener(a,"contextmenu",function(){return false})}}else{return function(a){a.setAttribute("oncontextmenu","return false;")}}}(),getSource:function(a){return(a.srcElement!=null)?a.srcElement:a.target},isConsumed:function(a){return a.isConsumed!=null&&a.isConsumed},isTouchEvent:function(a){return(a.pointerType!=null)?(a.pointerType=="touch"||a.pointerType===a.MSPOINTER_TYPE_TOUCH):((a.mozInputSource!=null)?a.mozInputSource==5:a.type.indexOf("touch")==0)},isMultiTouchEvent:function(a){return(a.type!=null&&a.type.indexOf("touch")==0&&a.touches!=null&&a.touches.length>1)},isMouseEvent:function(a){return(a.pointerType!=null)?(a.pointerType=="mouse"||a.pointerType===a.MSPOINTER_TYPE_MOUSE):((a.mozInputSource!=null)?a.mozInputSource==1:a.type.indexOf("mouse")==0)},isLeftMouseButton:function(a){if("buttons" in a&&(a.type=="mousedown"||a.type=="mousemove")){return a.buttons==1}else{if("which" in a){return a.which===1}else{return a.button===1}}},isMiddleMouseButton:function(a){if("which" in a){return a.which===2}else{return a.button===4}},isRightMouseButton:function(a){if("which" in a){return a.which===3}else{return a.button===2}},isPopupTrigger:function(a){return mxEvent.isRightMouseButton(a)||(mxClient.IS_MAC&&mxEvent.isControlDown(a)&&!mxEvent.isShiftDown(a)&&!mxEvent.isMetaDown(a)&&!mxEvent.isAltDown(a))},isShiftDown:function(a){return(a!=null)?a.shiftKey:false},isAltDown:function(a){return(a!=null)?a.altKey:false},isControlDown:function(a){return(a!=null)?a.ctrlKey:false},isMetaDown:function(a){return(a!=null)?a.metaKey:false},getMainEvent:function(a){if((a.type=="touchstart"||a.type=="touchmove")&&a.touches!=null&&a.touches[0]!=null){a=a.touches[0]}else{if(a.type=="touchend"&&a.changedTouches!=null&&a.changedTouches[0]!=null){a=a.changedTouches[0]}}return a},getClientX:function(a){return mxEvent.getMainEvent(a).clientX},getClientY:function(a){return mxEvent.getMainEvent(a).clientY},consume:function(b,c,a){c=(c!=null)?c:true;a=(a!=null)?a:true;if(c){if(b.preventDefault){if(a){b.stopPropagation()}b.preventDefault()}else{if(a){b.cancelBubble=true}}}b.isConsumed=true;if(!b.preventDefault){b.returnValue=false}},LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-100000,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",BEGIN_UPDATE:"beginUpdate",START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",CELLS_TOGGLED:"cellsToggled",ORDER_CELLS:"orderCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",EDITING_STOPPED:"editingStopped",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset"};